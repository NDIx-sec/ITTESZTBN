var Dashboard=function(){"use strict";let a=!0;function d(){$("#dashboard .copy_rca i").removeClass("fa-copy").addClass("fa-sync fa-spin"),$("#dashboard .modal_close_button_copy_rca").addClass("disabled"),$("#dashboard .test_ftp").addClass("disabled"),$("#dashboard .test_db").addClass("disabled"),$("#dashboard .rca_copy_title").html("Please wait and don't close this window... Copying in progress!").css("color","lightgrey").removeClass("fadeOut").addClass("fadeIn");var a=$("form#copy_rca").serializeArray();$.post("api/",{do:"copyRCA",data:a},(function(a){$("#dashboard .modal_close_button_copy_rca").removeClass("disabled"),$("#dashboard .test_ftp").removeClass("disabled"),$("#dashboard .test_db").removeClass("disabled"),$("#dashboard .copy_rca i").removeClass("fa-sync fa-spin").addClass("fa-copy"),a?($("#dashboard .rca_copy_title").removeClass("fadeIn").addClass("fadeOut"),Modal.alert(Language.getItem("dashboard-rcacopy-ok"))):(Modal.alert(Language.getItem("dashboard-rcacopy-failed")),$("#dashboard .rca_copy_title").html("Error in copy RCA!").css("color","red"))}))}return $(document).on("change","#dashboard #showclient",(function(a){let d=$("#dashboard").find("#showclient").prop("checked");localState.showclient=d,$("#preview iframe").attr("src",d?"client.html":""),$("#preview").toggle(d)})),$(document).on("click","#dashboard .copyrca",(function(a){$("#dashboard .modal_copy_rca").removeClass("faster fadeOut").addClass("fadeIn").show()})),$(document).on("click","#dashboard .modal_close_button_copy_rca",(function(a){$("#dashboard .modal_copy_rca").removeClass("fadeIn").addClass("faster fadeOut").delay(500).queue((function(a){$("#dashboard .modal_copy_rca").hide(),$("#dashboard .modal_copy_rca").clearQueue(),$("#dashboard").find("form").find("input, textarea").val(""),$("#dashboard .copy_rca").addClass("disabled"),$("#dashboard .test_ftp").css("background-color","#515254"),$("#dashboard .test_db").css("background-color","#515254")}))})),$(document).on("click","#dashboard .test_ftp",(function(a){var d=$("form#copy_rca").serializeArray();$("#dashboard .test_ftp i").removeClass("fa-window-restore").addClass("fa-sync fa-spin"),$.post("api/",{do:"testFTPConnection",data:d},(function(a){$("#dashboard .test_ftp i").removeClass("fa-sync fa-spin").addClass("fa-window-restore"),$("#dashboard .test_ftp").attr("data-ftp",a).css("background-color",!0===a?"green":"red"),$("#dashboard .copy_rca").toggleClass("disabled",!("true"===$("#dashboard .test_db").attr("data-db")&&!0===a))}))})),$(document).on("click","#dashboard .test_db",(function(a){var d=$("form#copy_rca").serializeArray();$("#dashboard .test_db i").removeClass("fa-database").addClass("fa-sync fa-spin"),$.post("api/",{do:"testSQLConnection",data:d},(function(a){$("#dashboard .test_db i").removeClass("fa-sync fa-spin").addClass("fa-database"),$("#dashboard .test_db").attr("data-db",a).css("background-color",!0===a?"green":"red"),$("#dashboard .copy_rca").toggleClass("disabled",!("true"===$("#dashboard .test_ftp").attr("data-ftp")&&!0===a))}))})),$(document).on("click","#dashboard .copy_rca",(function(a){new RegExp(".rentit.hu|.eventcloud.hu").test($("#copy_rca").find("[name=ftp_host]").val())?d():($("#dashboard").find(".modal_password_title").text(""),$("#modal_form_password").find("[name=modal_password]").val(""),$("#dashboard").find(".modal_password").removeClass("faster fadeOut").addClass("fadeIn").show())})),$(document).on("click","#dashboard .test_password",(function(a){$("#dashboard").find(".modal_password_title").text(""),"openSesame"===$("#modal_form_password").find("[name=modal_password]").val()?($("#dashboard").find(".modal_password").removeClass("fadeIn").addClass("faster fadeOut").delay("500").queue((function(){$("#dashboard").find(".modal_password").clearQueue().hide()})),d()):$("#dashboard").find(".modal_password_title").text("Wrong password").removeClass("fadeOut").addClass("faster fadeIn").show()})),$(document).on("click","#dashboard .modal_password_close",(function(a){$("#dashboard").find(".modal_password").removeClass("fadeIn").addClass("faster fadeOut").delay(500).queue((function(){$("#dashboard").find(".modal_password").clearQueue().hide()}))})),{Init:function(){$("#dashboard .copy_rca").removeClass("disabled");var d=$("template#tplDashboardModules").contents(),e=$(document.createDocumentFragment());AppData.navigation.sort((function(a,d){return void 0!==a.sort_id&&void 0!==d.sort_id?parseInt(a.sort_id)>parseInt(d.sort_id)?1:-1:0})),$.each(AppData.navigation,(function(a,o){var t=d.clone(),s=AppData.modules.find((function(a){return a.id===o.module}));s&&(t.find("label").html(t.find("label").html()+s.name[localState.lang]+": "+o.name[localState.lang]),t.find(".dashcontent").attr("data-id",o.id),$.each(t.find("a"),(function(){var a=$(this);if(""!=o.target&&null!=o.target){var d=AppData.modules.filter((function(a){return a.id===o.module}));a.attr("href",a.attr("href").replace(new RegExp("%%modulemethod%%","gm"),"dashboardShow")),a.attr("href",a.attr("href").replace(new RegExp("%%moduletarget%%","gm"),String(o.module+"###"+o.target))),a.attr("href",a.attr("href").replace(new RegExp("%%closetarget%%","gm"),String(d[0].closetarget)))}else a.attr("href",a.attr("href").replace(new RegExp("%%modulemethod%%","gm"),"show")),a.attr("href",a.attr("href").replace(new RegExp("%%moduletarget%%","gm"),String(o.module))),a.attr("href",a.attr("href").replace(new RegExp("%%closetarget%%","gm"),String(o.module)))})),t.appendTo(e))})),$("#dashboardModules").html("<legend>Module Controls</legend>"),e.appendTo("#dashboardModules"),$("#dashboardModules").sortable({axis:"y",handle:"p.dashContainer",update:function(a,d){var e=[];$(".dashcontent").each((function(a){e.push({sort_id:a+1,id:$(this).attr("data-id")})})),$.post("api/",{do:"updateMenusSort",data:e},(function(a){Socket.Send("Navigation.BuildFromSource",!0),Menus.BuildFromSource()}))}}),a&&(a=!1,$("#preview iframe").attr("src",localState.showclient?"client.html":""),$("#preview").toggle(localState.showclient),$("#dashboard").find("#showclient").prop("checked",!!localState.showclient),$("#dashboard").find(".rca_version").html("v"+AppData.software.version))},openWindow:function(a){window.open(a)}}}();
let icongrid;function checkReady(){is_ready.config&&is_ready.html?(clearTimeout(waitForReady),sharedReady(),adminReady()):waitForReady=setTimeout((function(){checkReady()}),100)}function adminReady(){if(Layout.Init(),Modal.Init(),Settings.Init()){if(Dashboard.Init(),Translations.Init(),Navigation.Init(),Language.Init(),Modulsettings.Init(),Uploadsettings.Init(),Nativesettings.Init(),Urlsettings.Init(),Channels.Init(),Agenda.Init(),Users.Init(),Usergroups.Init(),Speaker.Init(),Useful.Init(),Docs.Init(),Surveys.Init(),Quiz.Init(),Presentations.Init(),Uploader.Init(),Uploads.Init(),Logs.Init(),Days.Init(),Issues.Init(),Notifications.Init(),Bookings.Init(),Weblinks.Init(),Weblinkgroups.Init(),Docsgroups.Init(),Backups.Init(),Messageboard.Init(),Quizgroups.Init(),Menus.Init(),Statistics.Init(),Broadcast.Init(),Gdpr.Init(),Translator.Init(),Registration.Init(),Gallery.Init(),Trueconf.Init(),Sponsors.Init(),Sponsorgroups.Init(),Speakerlinks.Init(),Ondemandvideos.Init(),Trueconfrooms.Init(),Unity3d.Init(),Emailtargetgroups.Init(),Emailmessages.Init(),Ondemandvideos.Init(),Videogroups.Init(),Channelgroups.Init(),Texts.Init(),Bookinggroups.Init(),Userfields.Init(),null!=AppData.adminrights){var t=$("#navbar .modules");t.empty();for(var a in AppData.adminrights){var n=AppData.adminrights[a],i=$("<a/>").attr("data-target",a),e=$("<i/>").addClass(n.icon),o=$("<span/>").html(n.title);e.appendTo(i),o.appendTo(i),i.appendTo(t)}var l=$("<a/>").addClass("logout");e=$("<i/>").addClass("fas fa-times"),o=$("<span/>").html("Logout");e.appendTo(l),o.appendTo(l),l.appendTo(t)}""==localState.layout&&(localState.layout="dashboard"),$("nav#navbar > .modules > a, .tab").filter('[data-target="'+localState.layout+'"]').click(),setFavicon(),$("body").find(".questioncircle_tooltip").parent().attr("title",Language.getItem("html_tooltip")),icongrid=new IconGrid,icongrid.Init({icons:AppData.icons})}}function createShareUrl(t,a,n){var i=window.location.href;if(i=i.replace("admin","client"),console.log(a),null!=a&&""!=a){var e=(null!=n?AppData[n]:AppData[t]).find((function(t){return t.id==a}));a=e?"&i="+a:""}else a="";t="?m="+t,console.log(t+a),i=i+"?share="+btoa(t+a),navigator.clipboard?navigator.clipboard.writeText(i).then((function(){Modal.alert(Language.getItem("share-url-copied")+"<br>"+i)}),(function(){Modal.alert(Language.getItem("cannot-copy-share-url")+"<br>"+i)})):Modal.alert(Language.getItem("cannot-copy-share-url")+"<br>"+i)}localState.layout=localState.layout||"dashboard",localState.toggleMenu=localState.toggleMenu||!1,localState.toggleTheme=localState.toggleTheme||!0,checkReady(),$.post("api/",{do:"getAdminHtml"},(function(t){$(".bodycontent").html(t.html),$(document.body).toggleClass("toggle",localState.toggleMenu).toggleClass("theme",localState.toggleTheme),$("main").appendTo("#main-wrapper"),is_ready.html=!0}));
var Layout=function(){"use strict";function a(a){document.querySelectorAll(a).forEach((function(a){if(a.hasAttribute("data-name")){var t=a.getAttribute("name").replace("[]","").split("[").pop().split("]")[0];Object.keys(AppData.select_fields).forEach((function(e){e==a.dataset.name&&Object.keys(AppData.select_fields[e]).forEach((function(n){a.hasAttribute("data-multilang")&&n==t&&Object.keys(AppData.select_fields[e][n]).forEach((function(t){var l=document.createElement("option");l.value=t,l.innerHTML=AppData.select_fields[e][n][t],a.appendChild(l)}))}))}))}}))}return{Init:function(){$("#preview").toggle(AppData.dashboard[0].showclient);var a='<span id="resolution">'+screen.width+"x"+screen.height+"</span> | <span>"+AppData.settings.statusline+"</span>";$("#appname").text(AppData.software.name),$("#version").text(a),$("nav#navbar > .modules > a").each((function(){var a=$(this),t=(a.data("target"),a.find("i").attr("class"),a.find("span").text());a.attr("title",t),a=t=null})),$("select").wrap('<span class="select"/>'),a=null},show:function(a){return-1!==["connecting","offline","updating"].indexOf(a)&&$(document.body).css({pointerEvents:"none",filter:"grayscale(1) brightness(0.8)"}),!1},hide:function(a){return-1!==["connecting","offline","updating"].indexOf(a)&&$(document.body).css({pointerEvents:"",filter:""}),!1},addTabs:function(a,t){let e,n=!1;if(AppData.adminrights.hasOwnProperty(a))n=a,e=a;else{let t=!1;for(let l in AppData.adminrights){for(let s in AppData.adminrights[l].tabs)if(AppData.adminrights[l].tabs[s]==a){e=l,n=AppData.adminrights[l].tabs[s],t=!0;break}if(t)break}}if(n){var l=$("<div/>").addClass("tab_main tab_"+n),s=$("<div/>").addClass("tab_container");l.append(s),t.forEach((function(a){if(AppData.adminrights[e].tabs.indexOf(a.target)>-1){let t=$("<div/>").addClass("tab").html(a.title);t.attr("data-target",a.target),a.active&&t.addClass("selected"),s.append(t)}})),$("#tabs").append(l)}},buildLanguageTabs:function(t,e,n){var l=$(t+" .translation_fields"),s=$(t+" .languageTabs");l.empty(),s.empty(),$.each(AppData.translations,(function(i,o){var r=$("<div/>").addClass("langtab").attr("data-lang",o.translation_id).html(o.translation_name);r.appendTo(s),$(r).on("click",(function(a){Layout.changeLang($(this),t,o.translation_id)}));var d=$(t+" #translationfieldsTemplate").contents().clone().remove(),c=$("<div/>").addClass("lang lang_"+o.translation_id).attr("data-lang",o.translation_id).hide();for(var i in d.appendTo(c),c.appendTo(l),e)if(null!=e[i].static&&1==e[i].static){(u=$("[class="+e[i].templateName+"]",$(t))).attr("class",e[i].name+"["+o.translation_id+"]"),null!=e[i].arrayname&&null!=n&&null!=n[e[i].arrayname]&&null!=n[e[i].arrayname][o.translation_id]&&u.html(n[e[i].arrayname][o.translation_id][e[i].name])}else{var u=$('[name="'+e[i].templateName+'"]',$(t));if(e[i].name){if(u.attr("name",e[i].name+"["+o.translation_id+"]"),u.is("select")&&null!=u.attr("data-name")){var p="";null!=u.attr("multiple")&&(p="[]",u.attr("name",e[i].name+"["+o.translation_id+"]"+p)),a('select[name="'+e[i].name+"["+o.translation_id+"]"+p+'"]')}if(null!=n&&null!=n[e[i].name]){var g=Language.getTranslation(n[e[i].name],o.translation_id);u.val(g)}}else{if(u.attr("name",o.translation_id),u.is("select")&&null!=u.attr("data-name")){p="";null!=u.attr("multiple")&&(p="[]",u.attr("name",o.translation_id+p)),a('select[name="'+o.translation_id+p+'"]')}if(null!=n){g=Language.getTranslation(n,o.translation_id);u.val(g)}}}})),s.children().first().addClass("selected"),l.children().first().show(),$("body").find(".questioncircle_tooltip").parent().attr("title",Language.getItem("html_tooltip"))},changeLang:function(a,t,e){$(t+" .languageTabs .langtab").removeClass("selected"),a.addClass("selected"),$(t+" .translation_fields div.lang").hide(),$(t+" .translation_fields .lang_"+e).show()}}}();$(document).on("click",".layout-swap, .layout-show, .layout-hide",(function(a){a.preventDefault();var t=$(this);let e;if(!t.data("target"))return!1;t.hasClass("layout-swap")?(Socket.Send("Layout.swap",t.data("target"),{channel:localState.pushChannel}),e="layout - swap"):t.hasClass("layout-show")?(Socket.Send("Layout.show",t.data("target"),{channel:localState.pushChannel}),e="layout - show"):t.hasClass("layout-hide")&&(Socket.Send("Layout.hide",t.data("target"),{channel:localState.pushChannel}),e="layout - hide"),writeDbLog(t.data("target").toUpperCase(),e,"admin_logs"),t=null})),$(document).on("click",".menu-switch",(function(){var a=$(document.body);a.toggleClass("toggle"),localState.toggleMenu=a.hasClass("toggle")})),$(document).on("click",".theme-switch",(function(){var a=$(document.body);a.toggleClass("theme"),localState.toggleTheme=a.hasClass("theme")})),$(document).on("click","nav#navbar > .modules > a, .tab",(function(){var a=$(this),t=a.data("target");writeDbLog("MENUOPEN",t,"admin_logs"),t&&(localState.layout=t,void 0!==a.children("span")[0]?document.title=a.children("span")[0].textContent+" | "+AppData.modulsettings.browsertitle[AppData.settings.lang]:document.title=a[0].innerHTML+" | "+AppData.modulsettings.browsertitle[AppData.settings.lang],a.hasClass("tab")?a.addClass("selected").siblings().removeClass("selected"):($(".tab_main").hide(),$(".tab_"+t).show(),a.addClass("active").siblings().removeClass("active"),$(".tab[data-target='"+t+"']").addClass("selected").siblings().removeClass("selected")),$("main#"+t).appendTo("#main-wrapper").show().siblings("main").hide()),a.hasClass("logout")&&Modal.confirm("Are sure to log out?",(function(){$.post("api/",{do:"logOut"})}))}));
/*!
   Copyright 2008-2020 SpryMedia Ltd.

 This source file is free software, available under the following license:
   MIT license - http://datatables.net/license

 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.

 For details please refer to: http://www.datatables.net
 DataTables 1.10.21
 ÂŠ2008-2020 SpryMedia Ltd - datatables.net/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,n){t instanceof String&&(t=String(t));for(var a=t.length,r=0;r<a;r++){var o=t[r];if(e.call(n,o,r,t))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,a){if(e){for(n=$jscomp.global,t=t.split("."),a=0;a<t.length-1;a++){var r=t[a];r in n||(n[r]={}),n=n[r]}(e=e(a=n[t=t[t.length-1]]))!=a&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",(function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}}),"es6","es3"),function(t){"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:t(jQuery,window,document)}((function(t,e,n,a){function r(e){var n,a,o={};t.each(e,(function(t,i){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(a=t.replace(n[0],n[2].toLowerCase()),o[a]=t,"o"===n[1]&&r(e[t]))})),e._hungarianMap=o}function o(e,n,i){var l;e._hungarianMap||r(e),t.each(n,(function(r,s){(l=e._hungarianMap[r])===a||!i&&n[l]!==a||("o"===l.charAt(0)?(n[l]||(n[l]={}),t.extend(!0,n[l],n[r]),o(e[l],n[l],i)):n[l]=n[r])}))}function i(t){var e=$t.defaults.oLanguage,n=e.sDecimal;if(n&&Wt(n),t){var a=t.sZeroRecords;!t.sEmptyTable&&a&&"No data available in table"===e.sEmptyTable&&Lt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&a&&"Loading..."===e.sLoadingRecords&&Lt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&n!==t&&Wt(t)}}function l(t){if(se(t,"ordering","bSort"),se(t,"orderMulti","bSortMulti"),se(t,"orderClasses","bSortClasses"),se(t,"orderCellsTop","bSortCellsTop"),se(t,"order","aaSorting"),se(t,"orderFixed","aaSortingFixed"),se(t,"paging","bPaginate"),se(t,"pagingType","sPaginationType"),se(t,"pageLength","iDisplayLength"),se(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;e<n;e++)t[e]&&o($t.models.oSearch,t[e])}function s(e){se(e,"orderable","bSortable"),se(e,"orderData","aDataSort"),se(e,"orderSequence","asSorting"),se(e,"orderDataType","sortDataType");var n=e.aDataSort;"number"!=typeof n||t.isArray(n)||(e.aDataSort=[n])}function u(n){if(!$t.__browser){var a={};$t.__browser=a;var r=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),i=o.children();a.barWidth=o[0].offsetWidth-o[0].clientWidth,a.bScrollOversize=100===i[0].offsetWidth&&100!==o[0].clientWidth,a.bScrollbarLeft=1!==Math.round(i.offset().left),a.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}t.extend(n.oBrowser,$t.__browser),n.oScroll.iBarWidth=$t.__browser.barWidth}function c(t,e,n,r,o,i){var l=!1;if(n!==a){var s=n;l=!0}for(;r!==o;)t.hasOwnProperty(r)&&(s=l?e(s,t[r],r,t):t[r],l=!0,r+=i);return s}function f(e,a){var r=$t.defaults.column,o=e.aoColumns.length;r=t.extend({},$t.models.oColumn,r,{nTh:a||n.createElement("th"),sTitle:r.sTitle?r.sTitle:a?a.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o}),e.aoColumns.push(r),(r=e.aoPreSearchCols)[o]=t.extend({},$t.models.oSearch,r[o]),d(e,o,t(a).data())}function d(e,n,r){n=e.aoColumns[n];var i=e.oClasses,l=t(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=l.attr("width")||null;var u=(l.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(n.sWidthOrig=u[1])}r!==a&&null!==r&&(s(r),o($t.defaults.column,r,!0),r.mDataProp===a||r.mData||(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&l.addClass(r.sClass),t.extend(n,r),Lt(n,r,"sWidth","sWidthOrig"),r.iDataSort!==a&&(n.aDataSort=[r.iDataSort]),Lt(n,r,"aDataSort"));var c=n.mData,f=C(c),d=n.mRender?C(n.mRender):null;r=function(t){return"string"==typeof t&&-1!==t.indexOf("@")},n._bAttrSrc=t.isPlainObject(c)&&(r(c.sort)||r(c.type)||r(c.filter)),n._setter=null,n.fnGetData=function(t,e,n){var r=f(t,e,a,n);return d&&e?d(r,e,t,n):r},n.fnSetData=function(t,e,n){return x(c)(t,e,n)},"number"!=typeof c&&(e._rowReadObject=!0),e.oFeatures.bSort||(n.bSortable=!1,l.addClass(i.sSortableNone)),e=-1!==t.inArray("asc",n.asSorting),r=-1!==t.inArray("desc",n.asSorting),n.bSortable&&(e||r)?e&&!r?(n.sSortingClass=i.sSortableAsc,n.sSortingClassJUI=i.sSortJUIAscAllowed):!e&&r?(n.sSortingClass=i.sSortableDesc,n.sSortingClassJUI=i.sSortJUIDescAllowed):(n.sSortingClass=i.sSortable,n.sSortingClassJUI=i.sSortJUI):(n.sSortingClass=i.sSortableNone,n.sSortingClassJUI="")}function h(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;gt(t);for(var n=0,a=e.length;n<a;n++)e[n].nTh.style.width=e[n].sWidth}""===(e=t.oScroll).sY&&""===e.sX||ht(t),Ht(t,null,"column-sizing",[t])}function p(t,e){return"number"==typeof(t=v(t,"bVisible"))[e]?t[e]:null}function g(e,n){return e=v(e,"bVisible"),-1!==(n=t.inArray(n,e))?n:null}function b(e){var n=0;return t.each(e.aoColumns,(function(e,a){a.bVisible&&"none"!==t(a.nTh).css("display")&&n++})),n}function v(e,n){var a=[];return t.map(e.aoColumns,(function(t,e){t[n]&&a.push(e)})),a}function m(t){var e,n,r,o=t.aoColumns,i=t.aoData,l=$t.ext.type.detect,s=0;for(e=o.length;s<e;s++){var u=o[s],c=[];if(!u.sType&&u._sManualType)u.sType=u._sManualType;else if(!u.sType){var f=0;for(n=l.length;f<n;f++){var d=0;for(r=i.length;d<r;d++){c[d]===a&&(c[d]=_(t,d,s,"type"));var h=l[f](c[d],t);if(!h&&f!==l.length-1)break;if("html"===h)break}if(h){u.sType=h;break}}u.sType||(u.sType="string")}}}function S(e,n,r,o){var i,l,s,u=e.aoColumns;if(n)for(i=n.length-1;0<=i;i--){var c=n[i],d=c.targets!==a?c.targets:c.aTargets;t.isArray(d)||(d=[d]);var h=0;for(l=d.length;h<l;h++)if("number"==typeof d[h]&&0<=d[h]){for(;u.length<=d[h];)f(e);o(d[h],c)}else if("number"==typeof d[h]&&0>d[h])o(u.length+d[h],c);else if("string"==typeof d[h]){var p=0;for(s=u.length;p<s;p++)("_all"==d[h]||t(u[p].nTh).hasClass(d[h]))&&o(p,c)}}if(r)for(i=0,e=r.length;i<e;i++)o(i,r[i])}function D(e,n,r,o){var i=e.aoData.length,l=t.extend(!0,{},$t.models.oRow,{src:r?"dom":"data",idx:i});l._aData=n,e.aoData.push(l);for(var s=e.aoColumns,u=0,c=s.length;u<c;u++)s[u].sType=null;return e.aiDisplayMaster.push(i),(n=e.rowIdFn(n))!==a&&(e.aIds[n]=l),!r&&e.oFeatures.bDeferRender||P(e,i,r,o),i}function y(e,n){var a;return n instanceof t||(n=t(n)),n.map((function(t,n){return a=L(e,n),D(e,a.data,n,a.cells)}))}function _(t,e,n,r){var o=t.iDraw,i=t.aoColumns[n],l=t.aoData[e]._aData,s=i.sDefaultContent,u=i.fnGetData(l,r,{settings:t,row:e,col:n});if(u===a)return t.iDrawError!=o&&null===s&&(jt(t,0,"Requested unknown parameter "+("function"==typeof i.mData?"{function}":"'"+i.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=o),s;if(u!==l&&null!==u||null===s||r===a){if("function"==typeof u)return u.call(l)}else u=s;return null===u&&"display"==r?"":u}function T(t,e,n,a){t.aoColumns[n].fnSetData(t.aoData[e]._aData,a,{settings:t,row:e,col:n})}function w(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],(function(t){return t.replace(/\\\./g,".")}))}function C(e){if(t.isPlainObject(e)){var n={};return t.each(e,(function(t,e){e&&(n[t]=C(e))})),function(t,e,r,o){var i=n[e]||n._;return i!==a?i(t,e,r,o):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,a,r){return e(t,n,a,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){return t[e]};var r=function(e,n,o){if(""!==o)for(var i=w(o),l=0,s=i.length;l<s;l++){o=i[l].match(ue);var u=i[l].match(ce);if(o){if(i[l]=i[l].replace(ue,""),""!==i[l]&&(e=e[i[l]]),u=[],i.splice(0,l+1),i=i.join("."),t.isArray(e))for(l=0,s=e.length;l<s;l++)u.push(r(e[l],n,i));e=""===(e=o[0].substring(1,o[0].length-1))?u:u.join(e);break}if(u)i[l]=i[l].replace(ce,""),e=e[i[l]]();else{if(null===e||e[i[l]]===a)return a;e=e[i[l]]}}return e};return function(t,n){return r(t,n,e)}}function x(e){if(t.isPlainObject(e))return x(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,a){e(t,"set",n,a)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){t[e]=n};var n=function(e,r,o){for(var i,l,s=(o=w(o))[o.length-1],u=0,c=o.length-1;u<c;u++){if(i=o[u].match(ue),l=o[u].match(ce),i){if(o[u]=o[u].replace(ue,""),e[o[u]]=[],(s=o.slice()).splice(0,u+1),i=s.join("."),t.isArray(r))for(l=0,c=r.length;l<c;l++)n(s={},r[l],i),e[o[u]].push(s);else e[o[u]]=r;return}l&&(o[u]=o[u].replace(ce,""),e=e[o[u]](r)),null!==e[o[u]]&&e[o[u]]!==a||(e[o[u]]={}),e=e[o[u]]}s.match(ce)?e[s.replace(ce,"")](r):e[s.replace(ue,"")]=r};return function(t,a){return n(t,a,e)}}function I(t){return ae(t.aoData,"_aData")}function A(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function F(t,e,n){for(var r=-1,o=0,i=t.length;o<i;o++)t[o]==e?r=o:t[o]>e&&t[o]--;-1!=r&&n===a&&t.splice(r,1)}function j(t,e,n,r){var o,i=t.aoData[e],l=function(n,a){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=_(t,e,a,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==i.src)){var s=i.anCells;if(s)if(r!==a)l(s[r],r);else for(n=0,o=s.length;n<o;n++)l(s[n],n)}else i._aData=L(t,i,r,r===a?a:i._aData).data;if(i._aSortData=null,i._aFilterData=null,l=t.aoColumns,r!==a)l[r].sType=null;else{for(n=0,o=l.length;n<o;n++)l[n].sType=null;R(t,i)}}function L(e,n,r,o){var i,l,s=[],u=n.firstChild,c=0,f=e.aoColumns,d=e._rowReadObject;o=o!==a?o:d?{}:[];var h=function(t,e){if("string"==typeof t){var n=t.indexOf("@");-1!==n&&(n=t.substring(n+1),x(t)(o,e.getAttribute(n)))}},p=function(e){r!==a&&r!==c||(i=f[c],l=t.trim(e.innerHTML),i&&i._bAttrSrc?(x(i.mData._)(o,l),h(i.mData.sort,e),h(i.mData.type,e),h(i.mData.filter,e)):d?(i._setter||(i._setter=x(i.mData)),i._setter(o,l)):o[c]=l),c++};if(u)for(;u;){var g=u.nodeName.toUpperCase();"TD"!=g&&"TH"!=g||(p(u),s.push(u)),u=u.nextSibling}else for(u=0,g=(s=n.anCells).length;u<g;u++)p(s[u]);return(n=n.firstChild?n:n.nTr)&&(n=n.getAttribute("id"))&&x(e.rowId)(o,n),{data:o,cells:s}}function P(e,a,r,o){var i,l,s=e.aoData[a],u=s._aData,c=[];if(null===s.nTr){var f=r||n.createElement("tr");s.nTr=f,s.anCells=c,f._DT_RowIndex=a,R(e,s);var d=0;for(i=e.aoColumns.length;d<i;d++){var h=e.aoColumns[d],p=(l=!r)?n.createElement(h.sCellType):o[d];p._DT_CellIndex={row:a,column:d},c.push(p),!l&&(r&&!h.mRender&&h.mData===d||t.isPlainObject(h.mData)&&h.mData._===d+".display")||(p.innerHTML=_(e,a,d,"display")),h.sClass&&(p.className+=" "+h.sClass),h.bVisible&&!r?f.appendChild(p):!h.bVisible&&r&&p.parentNode.removeChild(p),h.fnCreatedCell&&h.fnCreatedCell.call(e.oInstance,p,_(e,a,d),u,a,d)}Ht(e,"aoRowCreatedCallback",null,[f,u,a,c])}s.nTr.setAttribute("role","row")}function R(e,n){var a=n.nTr,r=n._aData;a&&((e=e.rowIdFn(r))&&(a.id=e),r.DT_RowClass&&(e=r.DT_RowClass.split(" "),n.__rowc=n.__rowc?le(n.__rowc.concat(e)):e,t(a).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&t(a).attr(r.DT_RowAttr),r.DT_RowData&&t(a).data(r.DT_RowData))}function N(e){var n,a,r=e.nTHead,o=e.nTFoot,i=0===t("th, td",r).length,l=e.oClasses,s=e.aoColumns;i&&(a=t("<tr/>").appendTo(r));var u=0;for(n=s.length;u<n;u++){var c=s[u],f=t(c.nTh).addClass(c.sClass);i&&f.appendTo(a),e.oFeatures.bSort&&(f.addClass(c.sSortingClass),!1!==c.bSortable&&(f.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),wt(e,c.nTh,u))),c.sTitle!=f[0].innerHTML&&f.html(c.sTitle),Mt(e,"header")(e,f,c,l)}if(i&&E(e.aoHeader,r),t(r).find(">tr").attr("role","row"),t(r).find(">tr>th, >tr>td").addClass(l.sHeaderTH),t(o).find(">tr>th, >tr>td").addClass(l.sFooterTH),null!==o)for(u=0,n=(e=e.aoFooter[0]).length;u<n;u++)(c=s[u]).nTf=e[u].cell,c.sClass&&t(c.nTf).addClass(c.sClass)}function H(e,n,r){var o,i,l=[],s=[],u=e.aoColumns.length;if(n){r===a&&(r=!1);var c=0;for(o=n.length;c<o;c++){for(l[c]=n[c].slice(),l[c].nTr=n[c].nTr,i=u-1;0<=i;i--)e.aoColumns[i].bVisible||r||l[c].splice(i,1);s.push([])}for(c=0,o=l.length;c<o;c++){if(e=l[c].nTr)for(;i=e.firstChild;)e.removeChild(i);for(i=0,n=l[c].length;i<n;i++){var f=u=1;if(s[c][i]===a){for(e.appendChild(l[c][i].cell),s[c][i]=1;l[c+u]!==a&&l[c][i].cell==l[c+u][i].cell;)s[c+u][i]=1,u++;for(;l[c][i+f]!==a&&l[c][i].cell==l[c][i+f].cell;){for(r=0;r<u;r++)s[c+r][i+f]=1;f++}t(l[c][i].cell).attr("rowspan",u).attr("colspan",f)}}}}}function O(e){var n=Ht(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,n))ft(e,!1);else{n=[];var r=0,o=e.asStripeClasses,i=o.length,l=e.oLanguage,s=e.iInitDisplayStart,u="ssp"==kt(e),c=e.aiDisplay;e.bDrawing=!0,s!==a&&-1!==s&&(e._iDisplayStart=u?s:s>=e.fnRecordsDisplay()?0:s,e.iInitDisplayStart=-1),s=e._iDisplayStart;var f=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ft(e,!1);else if(u){if(!e.bDestroying&&!U(e))return}else e.iDraw++;if(0!==c.length)for(l=u?e.aoData.length:f,u=u?0:s;u<l;u++){var d=c[u],h=e.aoData[d];null===h.nTr&&P(e,d);var p=h.nTr;if(0!==i){var g=o[r%i];h._sRowStripe!=g&&(t(p).removeClass(h._sRowStripe).addClass(g),h._sRowStripe=g)}Ht(e,"aoRowCallback",null,[p,h._aData,r,u,d]),n.push(p),r++}else r=l.sZeroRecords,1==e.iDraw&&"ajax"==kt(e)?r=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(r=l.sEmptyTable),n[0]=t("<tr/>",{class:i?o[0]:""}).append(t("<td />",{valign:"top",colSpan:b(e),class:e.oClasses.sRowEmpty}).html(r))[0];Ht(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],I(e),s,f,c]),Ht(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],I(e),s,f,c]),(o=t(e.nTBody)).children().detach(),o.append(t(n)),Ht(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function M(t,e){var n=t.oFeatures,a=n.bFilter;n.bSort&&yt(t),a?q(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,O(t),t._drawHold=!1}function k(e){var n=e.oClasses,a=t(e.nTable);a=t("<div/>").insertBefore(a);var r=e.oFeatures,o=t("<div/>",{id:e.sTableId+"_wrapper",class:n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=a[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var i,l,s,u,c,f,d=e.sDom.split(""),h=0;h<d.length;h++){if(i=null,"<"==(l=d[h])){if(s=t("<div/>")[0],"'"==(u=d[h+1])||'"'==u){for(c="",f=2;d[h+f]!=u;)c+=d[h+f],f++;"H"==c?c=n.sJUIHeader:"F"==c&&(c=n.sJUIFooter),-1!=c.indexOf(".")?(u=c.split("."),s.id=u[0].substr(1,u[0].length-1),s.className=u[1]):"#"==c.charAt(0)?s.id=c.substr(1,c.length-1):s.className=c,h+=f}o.append(s),o=t(s)}else if(">"==l)o=o.parent();else if("l"==l&&r.bPaginate&&r.bLengthChange)i=lt(e);else if("f"==l&&r.bFilter)i=J(e);else if("r"==l&&r.bProcessing)i=ct(e);else if("t"==l)i=dt(e);else if("i"==l&&r.bInfo)i=et(e);else if("p"==l&&r.bPaginate)i=st(e);else if(0!==$t.ext.feature.length)for(f=0,u=(s=$t.ext.feature).length;f<u;f++)if(l==s[f].cFeature){i=s[f].fnInit(e);break}i&&((s=e.aanFeatures)[l]||(s[l]=[]),s[l].push(i),o.append(i))}a.replaceWith(o),e.nHolding=null}function E(e,n){var a,r,o;n=t(n).children("tr"),e.splice(0,e.length);var i=0;for(o=n.length;i<o;i++)e.push([]);for(i=0,o=n.length;i<o;i++){var l=n[i];for(a=l.firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase()){var s=1*a.getAttribute("colspan"),u=1*a.getAttribute("rowspan");s=s&&0!==s&&1!==s?s:1,u=u&&0!==u&&1!==u?u:1;var c=0;for(r=e[i];r[c];)c++;var f=c,d=1===s;for(r=0;r<s;r++)for(c=0;c<u;c++)e[i+c][f+r]={cell:a,unique:d},e[i+c].nTr=l}a=a.nextSibling}}}function W(t,e,n){var a=[];n||(n=t.aoHeader,e&&E(n=[],e)),e=0;for(var r=n.length;e<r;e++)for(var o=0,i=n[e].length;o<i;o++)!n[e][o].unique||a[o]&&t.bSortCellsTop||(a[o]=n[e][o].cell);return a}function B(e,n,a){if(Ht(e,"aoServerParams","serverParams",[n]),n&&t.isArray(n)){var r={},o=/(.*?)\[\]$/;t.each(n,(function(t,e){(t=e.name.match(o))?(t=t[0],r[t]||(r[t]=[]),r[t].push(e.value)):r[e.name]=e.value})),n=r}var i=e.ajax,l=e.oInstance,s=function(t){Ht(e,null,"xhr",[e,t,e.jqXHR]),a(t)};if(t.isPlainObject(i)&&i.data){var u=i.data,c="function"==typeof u?u(n,e):u;n="function"==typeof u&&c?c:t.extend(!0,n,c),delete i.data}c={data:n,success:function(t){var n=t.error||t.sError;n&&jt(e,0,n),e.json=t,s(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,a,r){r=Ht(e,null,"xhr",[e,null,e.jqXHR]),-1===t.inArray(!0,r)&&("parsererror"==a?jt(e,0,"Invalid JSON response",1):4===n.readyState&&jt(e,0,"Ajax error",7)),ft(e,!1)}},e.oAjaxData=n,Ht(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,(function(t,e){return{name:e,value:t}})),s,e):e.sAjaxSource||"string"==typeof i?e.jqXHR=t.ajax(t.extend(c,{url:i||e.sAjaxSource})):"function"==typeof i?e.jqXHR=i.call(l,n,s,e):(e.jqXHR=t.ajax(t.extend(c,i)),i.data=u)}function U(t){return!t.bAjaxDataGet||(t.iDraw++,ft(t,!0),B(t,V(t),(function(e){X(t,e)})),!1)}function V(e){var n=e.aoColumns,a=n.length,r=e.oFeatures,o=e.oPreviousSearch,i=e.aoPreSearchCols,l=[],s=Dt(e),u=e._iDisplayStart,c=!1!==r.bPaginate?e._iDisplayLength:-1,f=function(t,e){l.push({name:t,value:e})};f("sEcho",e.iDraw),f("iColumns",a),f("sColumns",ae(n,"sName").join(",")),f("iDisplayStart",u),f("iDisplayLength",c);var d={draw:e.iDraw,columns:[],order:[],start:u,length:c,search:{value:o.sSearch,regex:o.bRegex}};for(u=0;u<a;u++){var h=n[u],p=i[u];c="function"==typeof h.mData?"function":h.mData,d.columns.push({data:c,name:h.sName,searchable:h.bSearchable,orderable:h.bSortable,search:{value:p.sSearch,regex:p.bRegex}}),f("mDataProp_"+u,c),r.bFilter&&(f("sSearch_"+u,p.sSearch),f("bRegex_"+u,p.bRegex),f("bSearchable_"+u,h.bSearchable)),r.bSort&&f("bSortable_"+u,h.bSortable)}return r.bFilter&&(f("sSearch",o.sSearch),f("bRegex",o.bRegex)),r.bSort&&(t.each(s,(function(t,e){d.order.push({column:e.col,dir:e.dir}),f("iSortCol_"+t,e.col),f("sSortDir_"+t,e.dir)})),f("iSortingCols",s.length)),null===(n=$t.ext.legacy.ajax)?e.sAjaxSource?l:d:n?l:d}function X(t,e){var n=function(t,n){return e[t]!==a?e[t]:e[n]},r=$(t,e),o=n("sEcho","draw"),i=n("iTotalRecords","recordsTotal");if(n=n("iTotalDisplayRecords","recordsFiltered"),o!==a){if(1*o<t.iDraw)return;t.iDraw=1*o}for(A(t),t._iRecordsTotal=parseInt(i,10),t._iRecordsDisplay=parseInt(n,10),o=0,i=r.length;o<i;o++)D(t,r[o]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,O(t),t._bInitComplete||ot(t,e),t.bAjaxDataGet=!0,ft(t,!1)}function $(e,n){return"data"===(e=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==a?e.ajax.dataSrc:e.sAjaxDataProp)?n.aaData||n[e]:""!==e?C(e)(n):n}function J(e){var a=e.oClasses,r=e.sTableId,o=e.oLanguage,i=e.oPreviousSearch,l=e.aanFeatures,s='<input type="search" class="'+a.sFilterInput+'"/>',u=o.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",s):u+s,a=t("<div/>",{id:l.f?null:r+"_filter",class:a.sFilter}).append(t("<label/>").append(u));var c=function(){var t=this.value?this.value:"";t!=i.sSearch&&(q(e,{sSearch:t,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),e._iDisplayStart=0,O(e))};l=null!==e.searchDelay?e.searchDelay:"ssp"===kt(e)?400:0;var f=t("input",a).val(i.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",l?ge(c,l):c).on("mouseup",(function(t){setTimeout((function(){c.call(f[0])}),10)})).on("keypress.DT",(function(t){if(13==t.keyCode)return!1})).attr("aria-controls",r);return t(e.nTable).on("search.dt.DT",(function(t,a){if(e===a)try{f[0]!==n.activeElement&&f.val(i.sSearch)}catch(t){}})),a[0]}function q(t,e,n){var r=t.oPreviousSearch,o=t.aoPreSearchCols,i=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive},l=function(t){return t.bEscapeRegex!==a?!t.bEscapeRegex:t.bRegex};if(m(t),"ssp"!=kt(t)){for(Y(t,e.sSearch,n,l(e),e.bSmart,e.bCaseInsensitive),i(e),e=0;e<o.length;e++)z(t,o[e].sSearch,e,l(o[e]),o[e].bSmart,o[e].bCaseInsensitive);G(t)}else i(e);t.bFiltered=!0,Ht(t,null,"search",[t])}function G(e){for(var n,a,r=$t.ext.search,o=e.aiDisplay,i=0,l=r.length;i<l;i++){for(var s=[],u=0,c=o.length;u<c;u++)a=o[u],n=e.aoData[a],r[i](e,n._aFilterData,a,n._aData,u)&&s.push(a);o.length=0,t.merge(o,s)}}function z(t,e,n,a,r,o){if(""!==e){var i=[],l=t.aiDisplay;for(a=Z(e,a,r,o),r=0;r<l.length;r++)e=t.aoData[l[r]]._aFilterData[n],a.test(e)&&i.push(l[r]);t.aiDisplay=i}}function Y(t,e,n,a,r,o){r=Z(e,a,r,o);var i=t.oPreviousSearch.sSearch,l=t.aiDisplayMaster;o=[],0!==$t.ext.search.length&&(n=!0);var s=K(t);if(0>=e.length)t.aiDisplay=l.slice();else{for((s||n||a||i.length>e.length||0!==e.indexOf(i)||t.bSorted)&&(t.aiDisplay=l.slice()),e=t.aiDisplay,n=0;n<e.length;n++)r.test(t.aoData[e[n]]._sFilterRow)&&o.push(e[n]);t.aiDisplay=o}}function Z(e,n,a,r){return e=n?e:fe(e),a&&(e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],(function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")})).join(")(?=.*?")+").*$"),new RegExp(e,r?"i":"")}function K(t){var e,n,a=t.aoColumns,r=$t.ext.type.search,o=!1,i=0;for(e=t.aoData.length;i<e;i++){var l=t.aoData[i];if(!l._aFilterData){var s=[],u=0;for(n=a.length;u<n;u++){if((o=a[u]).bSearchable){var c=_(t,i,u,"filter");r[o.sType]&&(c=r[o.sType](c)),null===c&&(c=""),"string"!=typeof c&&c.toString&&(c=c.toString())}else c="";c.indexOf&&-1!==c.indexOf("&")&&(de.innerHTML=c,c=he?de.textContent:de.innerText),c.replace&&(c=c.replace(/[\r\n\u2028]/g,"")),s.push(c)}l._aFilterData=s,l._sFilterRow=s.join("  "),o=!0}}return o}function Q(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function tt(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function et(e){var n=e.sTableId,a=e.aanFeatures.i,r=t("<div/>",{class:e.oClasses.sInfo,id:a?null:n+"_info"});return a||(e.aoDrawCallback.push({fn:nt,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),r[0]}function nt(e){var n=e.aanFeatures.i;if(0!==n.length){var a=e.oLanguage,r=e._iDisplayStart+1,o=e.fnDisplayEnd(),i=e.fnRecordsTotal(),l=e.fnRecordsDisplay(),s=l?a.sInfo:a.sInfoEmpty;l!==i&&(s+=" "+a.sInfoFiltered),s=at(e,s+=a.sInfoPostFix),null!==(a=a.fnInfoCallback)&&(s=a.call(e.oInstance,e,r,o,i,l,s)),t(n).html(s)}}function at(t,e){var n=t.fnFormatNumber,a=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),i=-1===r;return e.replace(/_START_/g,n.call(t,a)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,o)).replace(/_PAGE_/g,n.call(t,i?1:Math.ceil(a/r))).replace(/_PAGES_/g,n.call(t,i?1:Math.ceil(o/r)))}function rt(t){var e=t.iInitDisplayStart,n=t.aoColumns,a=t.oFeatures,r=t.bDeferLoading;if(t.bInitialised){k(t),N(t),H(t,t.aoHeader),H(t,t.aoFooter),ft(t,!0),a.bAutoWidth&&gt(t);var o=0;for(a=n.length;o<a;o++){var i=n[o];i.sWidth&&(i.nTh.style.width=St(i.sWidth))}Ht(t,null,"preInit",[t]),M(t),("ssp"!=(n=kt(t))||r)&&("ajax"==n?B(t,[],(function(n){var a=$(t,n);for(o=0;o<a.length;o++)D(t,a[o]);t.iInitDisplayStart=e,M(t),ft(t,!1),ot(t,n)})):(ft(t,!1),ot(t)))}else setTimeout((function(){rt(t)}),200)}function ot(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&h(t),Ht(t,null,"plugin-init",[t,e]),Ht(t,"aoInitComplete","init",[t,e])}function it(t,e){e=parseInt(e,10),t._iDisplayLength=e,Ot(t),Ht(t,null,"length",[t,e])}function lt(e){var n=e.oClasses,a=e.sTableId,r=e.aLengthMenu,o=t.isArray(r[0]),i=o?r[0]:r;r=o?r[1]:r,o=t("<select/>",{name:a+"_length","aria-controls":a,class:n.sLengthSelect});for(var l=0,s=i.length;l<s;l++)o[0][l]=new Option("number"==typeof r[l]?e.fnFormatNumber(r[l]):r[l],i[l]);var u=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(u[0].id=a+"_length"),u.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",o[0].outerHTML)),t("select",u).val(e._iDisplayLength).on("change.DT",(function(n){it(e,t(this).val()),O(e)})),t(e.nTable).on("length.dt.DT",(function(n,a,r){e===a&&t("select",u).val(r)})),u[0]}function st(e){var n=e.sPaginationType,a=$t.ext.pager[n],r="function"==typeof a,o=function(t){O(t)};n=t("<div/>").addClass(e.oClasses.sPaging+n)[0];var i=e.aanFeatures;return r||a.fnInit(e,n,o),i.p||(n.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(r){var e,n=t._iDisplayStart,l=t._iDisplayLength,s=t.fnRecordsDisplay(),u=-1===l;for(n=u?0:Math.ceil(n/l),l=u?1:Math.ceil(s/l),s=a(n,l),u=0,e=i.p.length;u<e;u++)Mt(t,"pageButton")(t,i.p[u],u,s,n,l)}else a.fnUpdate(t,o)},sName:"pagination"})),n}function ut(t,e,n){var a=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();return 0===o||-1===r?a=0:"number"==typeof e?(a=e*r)>o&&(a=0):"first"==e?a=0:"previous"==e?0>(a=0<=r?a-r:0)&&(a=0):"next"==e?a+r<o&&(a+=r):"last"==e?a=Math.floor((o-1)/r)*r:jt(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==a,t._iDisplayStart=a,e&&(Ht(t,null,"page",[t]),n&&O(t)),e}function ct(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ft(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),Ht(e,null,"processing",[e,n])}function dt(e){var n=t(e.nTable);n.attr("role","grid");var a=e.oScroll;if(""===a.sX&&""===a.sY)return e.nTable;var r=a.sX,o=a.sY,i=e.oClasses,l=n.children("caption"),s=l.length?l[0]._captionSide:null,u=t(n[0].cloneNode(!1)),c=t(n[0].cloneNode(!1)),f=n.children("tfoot");f.length||(f=null),u=t("<div/>",{class:i.sScrollWrapper}).append(t("<div/>",{class:i.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?St(r):null:"100%"}).append(t("<div/>",{class:i.sScrollHeadInner}).css({"box-sizing":"content-box",width:a.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===s?l:null).append(n.children("thead"))))).append(t("<div/>",{class:i.sScrollBody}).css({position:"relative",overflow:"auto",width:r?St(r):null}).append(n)),f&&u.append(t("<div/>",{class:i.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?St(r):null:"100%"}).append(t("<div/>",{class:i.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===s?l:null).append(n.children("tfoot")))));var d=(n=u.children())[0];i=n[1];var h=f?n[2]:null;return r&&t(i).on("scroll.DT",(function(t){t=this.scrollLeft,d.scrollLeft=t,f&&(h.scrollLeft=t)})),t(i).css("max-height",o),a.bCollapse||t(i).css("height",o),e.nScrollHead=d,e.nScrollBody=i,e.nScrollFoot=h,e.aoDrawCallback.push({fn:ht,sName:"scrolling"}),u[0]}function ht(e){var n=e.oScroll,r=n.sX,o=n.sXInner,i=n.sY;n=n.iBarWidth;var l=t(e.nScrollHead),s=l[0].style,u=l.children("div"),c=u[0].style,f=u.children("table");u=e.nScrollBody;var d,g=t(u),b=u.style,v=t(e.nScrollFoot).children("div"),m=v.children("table"),S=t(e.nTHead),D=t(e.nTable),y=D[0],_=y.style,T=e.nTFoot?t(e.nTFoot):null,w=e.oBrowser,C=w.bScrollOversize,x=ae(e.aoColumns,"nTh"),I=[],A=[],F=[],j=[],L=function(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},P=u.scrollHeight>u.clientHeight;if(e.scrollBarVis!==P&&e.scrollBarVis!==a)e.scrollBarVis=P,h(e);else{if(e.scrollBarVis=P,D.children("thead, tfoot").remove(),T){var R=T.clone().prependTo(D),N=T.find("tr");R=R.find("tr")}var H=S.clone().prependTo(D);S=S.find("tr"),P=H.find("tr"),H.find("th, td").removeAttr("tabindex"),r||(b.width="100%",l[0].style.width="100%"),t.each(W(e,H),(function(t,n){d=p(e,t),n.style.width=e.aoColumns[d].sWidth})),T&&pt((function(t){t.style.width=""}),R),l=D.outerWidth(),""===r?(_.width="100%",C&&(D.find("tbody").height()>u.offsetHeight||"scroll"==g.css("overflow-y"))&&(_.width=St(D.outerWidth()-n)),l=D.outerWidth()):""!==o&&(_.width=St(o),l=D.outerWidth()),pt(L,P),pt((function(e){F.push(e.innerHTML),I.push(St(t(e).css("width")))}),P),pt((function(e,n){-1!==t.inArray(e,x)&&(e.style.width=I[n])}),S),t(P).height(0),T&&(pt(L,R),pt((function(e){j.push(e.innerHTML),A.push(St(t(e).css("width")))}),R),pt((function(t,e){t.style.width=A[e]}),N),t(R).height(0)),pt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+F[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=I[e]}),P),T&&pt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+j[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=A[e]}),R),D.outerWidth()<l?(N=u.scrollHeight>u.offsetHeight||"scroll"==g.css("overflow-y")?l+n:l,C&&(u.scrollHeight>u.offsetHeight||"scroll"==g.css("overflow-y"))&&(_.width=St(N-n)),""!==r&&""===o||jt(e,1,"Possible column misalignment",6)):N="100%",b.width=St(N),s.width=St(N),T&&(e.nScrollFoot.style.width=St(N)),!i&&C&&(b.height=St(y.offsetHeight+n)),r=D.outerWidth(),f[0].style.width=St(r),c.width=St(r),o=D.height()>u.clientHeight||"scroll"==g.css("overflow-y"),c[i="padding"+(w.bScrollbarLeft?"Left":"Right")]=o?n+"px":"0px",T&&(m[0].style.width=St(r),v[0].style.width=St(r),v[0].style[i]=o?n+"px":"0px"),D.children("colgroup").insertBefore(D.children("thead")),g.trigger("scroll"),!e.bSorted&&!e.bFiltered||e._drawHold||(u.scrollTop=0)}}function pt(t,e,n){for(var a,r,o=0,i=0,l=e.length;i<l;){for(a=e[i].firstChild,r=n?n[i].firstChild:null;a;)1===a.nodeType&&(n?t(a,r,o):t(a,o),o++),a=a.nextSibling,r=n?r.nextSibling:null;i++}}function gt(n){var a,r=n.nTable,o=n.aoColumns,i=n.oScroll,l=i.sY,s=i.sX,u=i.sXInner,c=o.length,f=v(n,"bVisible"),d=t("th",n.nTHead),g=r.getAttribute("width"),m=r.parentNode,S=!1,D=n.oBrowser;for(i=D.bScrollOversize,(a=r.style.width)&&-1!==a.indexOf("%")&&(g=a),a=0;a<f.length;a++){var y=o[f[a]];null!==y.sWidth&&(y.sWidth=bt(y.sWidthOrig,m),S=!0)}if(i||!S&&!s&&!l&&c==b(n)&&c==d.length)for(a=0;a<c;a++)null!==(f=p(n,a))&&(o[f].sWidth=St(d.eq(a).width()));else{(c=t(r).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var _=t("<tr/>").appendTo(c.find("tbody"));for(c.find("thead, tfoot").remove(),c.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),c.find("tfoot th, tfoot td").css("width",""),d=W(n,c.find("thead")[0]),a=0;a<f.length;a++)y=o[f[a]],d[a].style.width=null!==y.sWidthOrig&&""!==y.sWidthOrig?St(y.sWidthOrig):"",y.sWidthOrig&&s&&t(d[a]).append(t("<div/>").css({width:y.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(a=0;a<f.length;a++)y=o[S=f[a]],t(vt(n,S)).clone(!1).append(y.sContentPadding).appendTo(_);for(t("[name]",c).removeAttr("name"),y=t("<div/>").css(s||l?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(c).appendTo(m),s&&u?c.width(u):s?(c.css("width","auto"),c.removeAttr("width"),c.width()<m.clientWidth&&g&&c.width(m.clientWidth)):l?c.width(m.clientWidth):g&&c.width(g),a=l=0;a<f.length;a++)u=(m=t(d[a])).outerWidth()-m.width(),l+=m=D.bBounding?Math.ceil(d[a].getBoundingClientRect().width):m.outerWidth(),o[f[a]].sWidth=St(m-u);r.style.width=St(l),y.remove()}g&&(r.style.width=St(g)),!g&&!s||n._reszEvt||(r=function(){t(e).on("resize.DT-"+n.sInstance,ge((function(){h(n)})))},i?setTimeout(r,1e3):r(),n._reszEvt=!0)}function bt(e,a){return e?(a=(e=t("<div/>").css("width",St(e)).appendTo(a||n.body))[0].offsetWidth,e.remove(),a):0}function vt(e,n){var a=mt(e,n);if(0>a)return null;var r=e.aoData[a];return r.nTr?r.anCells[n]:t("<td/>").html(_(e,a,n,"display"))[0]}function mt(t,e){for(var n,a=-1,r=-1,o=0,i=t.aoData.length;o<i;o++)(n=(n=(n=_(t,o,e,"display")+"").replace(pe,"")).replace(/&nbsp;/g," ")).length>a&&(a=n.length,r=o);return r}function St(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Dt(e){var n=[],r=e.aoColumns,o=e.aaSortingFixed,i=t.isPlainObject(o),l=[],s=function(e){e.length&&!t.isArray(e[0])?l.push(e):t.merge(l,e)};for(t.isArray(o)&&s(o),i&&o.pre&&s(o.pre),s(e.aaSorting),i&&o.post&&s(o.post),e=0;e<l.length;e++){var u=l[e][0];for(o=0,i=(s=r[u].aDataSort).length;o<i;o++){var c=s[o],f=r[c].sType||"string";l[e]._idx===a&&(l[e]._idx=t.inArray(l[e][1],r[c].asSorting)),n.push({src:u,col:c,dir:l[e][1],index:l[e]._idx,type:f,formatter:$t.ext.type.order[f+"-pre"]})}}return n}function yt(t){var e,n=[],a=$t.ext.type.order,r=t.aoData,o=0,i=t.aiDisplayMaster;m(t);var l=Dt(t),s=0;for(e=l.length;s<e;s++){var u=l[s];u.formatter&&o++,xt(t,u.col)}if("ssp"!=kt(t)&&0!==l.length){for(s=0,e=i.length;s<e;s++)n[i[s]]=s;o===l.length?i.sort((function(t,e){var a,o=l.length,i=r[t]._aSortData,s=r[e]._aSortData;for(a=0;a<o;a++){var u=l[a],c=i[u.col],f=s[u.col];if(0!==(c=c<f?-1:c>f?1:0))return"asc"===u.dir?c:-c}return(c=n[t])<(f=n[e])?-1:c>f?1:0})):i.sort((function(t,e){var o,i=l.length,s=r[t]._aSortData,u=r[e]._aSortData;for(o=0;o<i;o++){var c=l[o],f=s[c.col],d=u[c.col];if(0!==(f=(c=a[c.type+"-"+c.dir]||a["string-"+c.dir])(f,d)))return f}return(f=n[t])<(d=n[e])?-1:f>d?1:0}))}t.bSorted=!0}function _t(t){var e=t.aoColumns,n=Dt(t);t=t.oLanguage.oAria;for(var a=0,r=e.length;a<r;a++){var o=e[a],i=o.asSorting,l=o.sTitle.replace(/<.*?>/g,""),s=o.nTh;s.removeAttribute("aria-sort"),o.bSortable&&(0<n.length&&n[0].col==a?(s.setAttribute("aria-sort","asc"==n[0].dir?"ascending":"descending"),o=i[n[0].index+1]||i[0]):o=i[0],l+="asc"===o?t.sSortAscending:t.sSortDescending),s.setAttribute("aria-label",l)}}function Tt(e,n,r,o){var i=e.aaSorting,l=e.aoColumns[n].asSorting,s=function(e,n){var r=e._idx;return r===a&&(r=t.inArray(e[1],l)),r+1<l.length?r+1:n?null:0};"number"==typeof i[0]&&(i=e.aaSorting=[i]),r&&e.oFeatures.bSortMulti?-1!==(r=t.inArray(n,ae(i,"0")))?(null===(n=s(i[r],!0))&&1===i.length&&(n=0),null===n?i.splice(r,1):(i[r][1]=l[n],i[r]._idx=n)):(i.push([n,l[0],0]),i[i.length-1]._idx=0):i.length&&i[0][0]==n?(n=s(i[0]),i.length=1,i[0][1]=l[n],i[0]._idx=n):(i.length=0,i.push([n,l[0]]),i[0]._idx=0),M(e),"function"==typeof o&&o(e)}function wt(t,e,n,a){var r=t.aoColumns[n];Rt(e,{},(function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(ft(t,!0),setTimeout((function(){Tt(t,n,e.shiftKey,a),"ssp"!==kt(t)&&ft(t,!1)}),0)):Tt(t,n,e.shiftKey,a))}))}function Ct(e){var n,a=e.aLastSort,r=e.oClasses.sSortColumn,o=Dt(e),i=e.oFeatures;if(i.bSort&&i.bSortClasses){for(i=0,n=a.length;i<n;i++){var l=a[i].src;t(ae(e.aoData,"anCells",l)).removeClass(r+(2>i?i+1:3))}for(i=0,n=o.length;i<n;i++)l=o[i].src,t(ae(e.aoData,"anCells",l)).addClass(r+(2>i?i+1:3))}e.aLastSort=o}function xt(t,e){var n,a=t.aoColumns[e],r=$t.ext.order[a.sSortDataType];r&&(n=r.call(t.oInstance,t,e,g(t,e)));for(var o,i=$t.ext.type.order[a.sType+"-pre"],l=0,s=t.aoData.length;l<s;l++)(a=t.aoData[l])._aSortData||(a._aSortData=[]),(!a._aSortData[e]||r)&&(o=r?n[l]:_(t,l,e,"sort"),a._aSortData[e]=i?i(o):o)}function It(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:Q(e.oPreviousSearch),columns:t.map(e.aoColumns,(function(t,n){return{visible:t.bVisible,search:Q(e.aoPreSearchCols[n])}}))};Ht(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oSavedState=n,e.fnStateSaveCallback.call(e.oInstance,e,n)}}function At(e,n,r){var o,i,l=e.aoColumns;if(n=function(n){if(n&&n.time){var s=Ht(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1===t.inArray(!1,s)&&!(0<(s=e.iStateDuration)&&n.time<+new Date-1e3*s||n.columns&&l.length!==n.columns.length)){if(e.oLoadedState=t.extend(!0,{},n),n.start!==a&&(e._iDisplayStart=n.start,e.iInitDisplayStart=n.start),n.length!==a&&(e._iDisplayLength=n.length),n.order!==a&&(e.aaSorting=[],t.each(n.order,(function(t,n){e.aaSorting.push(n[0]>=l.length?[0,n[1]]:n)}))),n.search!==a&&t.extend(e.oPreviousSearch,tt(n.search)),n.columns)for(o=0,i=n.columns.length;o<i;o++)(s=n.columns[o]).visible!==a&&(l[o].bVisible=s.visible),s.search!==a&&t.extend(e.aoPreSearchCols[o],tt(s.search));Ht(e,"aoStateLoaded","stateLoaded",[e,n])}}r()},e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e,n);s!==a&&n(s)}else r()}function Ft(e){var n=$t.settings;return-1!==(e=t.inArray(e,ae(n,"nTable")))?n[e]:null}function jt(t,n,a,r){if(a="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+a,r&&(a+=". For more information about this error, please see http://datatables.net/tn/"+r),n)e.console&&console.log&&console.log(a);else if(n=(n=$t.ext).sErrMode||n.errMode,t&&Ht(t,null,"error",[t,r,a]),"alert"==n)alert(a);else{if("throw"==n)throw Error(a);"function"==typeof n&&n(t,r,a)}}function Lt(e,n,r,o){t.isArray(r)?t.each(r,(function(a,r){t.isArray(r)?Lt(e,n,r[0],r[1]):Lt(e,n,r)})):(o===a&&(o=r),n[r]!==a&&(e[o]=n[r]))}function Pt(e,n,a){var r;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];t.isPlainObject(o)?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],o)):a&&"data"!==r&&"aaData"!==r&&t.isArray(o)?e[r]=o.slice():e[r]=o}return e}function Rt(e,n,a){t(e).on("click.DT",n,(function(n){t(e).trigger("blur"),a(n)})).on("keypress.DT",n,(function(t){13===t.which&&(t.preventDefault(),a(t))})).on("selectstart.DT",(function(){return!1}))}function Nt(t,e,n,a){n&&t[e].push({fn:n,sName:a})}function Ht(e,n,a,r){var o=[];return n&&(o=t.map(e[n].slice().reverse(),(function(t,n){return t.fn.apply(e.oInstance,r)}))),null!==a&&(n=t.Event(a+".dt"),t(e.nTable).trigger(n,r),o.push(n.result)),o}function Ot(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),a=t._iDisplayLength;e>=n&&(e=n-a),e-=e%a,(-1===a||0>e)&&(e=0),t._iDisplayStart=e}function Mt(e,n){e=e.renderer;var a=$t.ext.renderer[n];return t.isPlainObject(e)&&e[n]?a[e[n]]||a._:"string"==typeof e&&a[e]||a._}function kt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Et(t,e){var n=je.numbers_length,a=Math.floor(n/2);return e<=n?t=oe(0,e):t<=a?((t=oe(0,n-2)).push("ellipsis"),t.push(e-1)):(t>=e-1-a?t=oe(e-(n-2),e):((t=oe(t-a+2,t+a-1)).push("ellipsis"),t.push(e-1)),t.splice(0,0,"ellipsis"),t.splice(0,0,0)),t.DT_el="span",t}function Wt(e){t.each({num:function(t){return Le(t,e)},"num-fmt":function(t){return Le(t,e,Zt)},"html-num":function(t){return Le(t,e,Gt)},"html-num-fmt":function(t){return Le(t,e,Gt,Zt)}},(function(t,n){Ut.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Ut.type.search[t+e]=Ut.type.search.html)}))}function Bt(t){return function(){var e=[Ft(this[$t.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return $t.ext.internal[t].apply(this,e)}}var Ut,Vt,Xt,$t=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new me(t?Ft(this[Ut.iApiIndex]):this)},this.fnAddData=function(e,n){var r=this.api(!0);return e=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e),(n===a||n)&&r.draw(),e.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],r=n.oScroll;t===a||t?e.draw(!1):(""!==r.sX||""!==r.sY)&&ht(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===a||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var r=this.api(!0),o=(t=r.rows(t)).settings()[0],i=o.aoData[t[0][0]];return t.remove(),e&&e.call(this,o,i),(n===a||n)&&r.draw(),i},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,r,o,i){o=this.api(!0),null===e||e===a?o.search(t,n,r,i):o.column(e).search(t,n,r,i),o.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==a){var r=t.nodeName?t.nodeName.toLowerCase():"";return e!==a||"td"==r||"th"==r?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==a?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){t=this.api(!0).page(t),(e===a||e)&&t.draw(!1)},this.fnSetColumnVis=function(t,e,n){t=this.api(!0).column(t).visible(e),(n===a||n)&&t.columns.adjust().draw()},this.fnSettings=function(){return Ft(this[Ut.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,r,o){var i=this.api(!0);return n===a||null===n?i.row(e).data(t):i.cell(e,n).data(t),(o===a||o)&&i.columns.adjust(),(r===a||r)&&i.draw(),0},this.fnVersionCheck=Ut.fnVersionCheck;var n=this,r=e===a,c=this.length;for(var h in r&&(e={}),this.oApi=this.internal=Ut.internal,$t.ext.internal)h&&(this[h]=Bt(h));return this.each((function(){var h,p={},g=1<c?Pt(p,e,!0):e,b=0;p=this.getAttribute("id");var v=!1,m=$t.defaults,_=t(this);if("table"!=this.nodeName.toLowerCase())jt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{l(m),s(m.column),o(m,m,!0),o(m.column,m.column,!0),o(m,t.extend(g,_.data()),!0);var T=$t.settings;for(b=0,h=T.length;b<h;b++){var w=T[b];if(w.nTable==this||w.nTHead&&w.nTHead.parentNode==this||w.nTFoot&&w.nTFoot.parentNode==this){var x=g.bRetrieve!==a?g.bRetrieve:m.bRetrieve;if(r||x)return w.oInstance;if(g.bDestroy!==a?g.bDestroy:m.bDestroy){w.oInstance.fnDestroy();break}return void jt(w,0,"Cannot reinitialise DataTable",3)}if(w.sTableId==this.id){T.splice(b,1);break}}null!==p&&""!==p||(this.id=p="DataTables_Table_"+$t.ext._unique++);var I=t.extend(!0,{},$t.models.oSettings,{sDestroyWidth:_[0].style.width,sInstance:p,sTableId:p});I.nTable=this,I.oApi=n.internal,I.oInit=g,T.push(I),I.oInstance=1===n.length?n:_.dataTable(),l(g),i(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=t.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Pt(t.extend(!0,{},m),g),Lt(I.oFeatures,g,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Lt(I,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Lt(I.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Lt(I.oLanguage,g,"fnInfoCallback"),Nt(I,"aoDrawCallback",g.fnDrawCallback,"user"),Nt(I,"aoServerParams",g.fnServerParams,"user"),Nt(I,"aoStateSaveParams",g.fnStateSaveParams,"user"),Nt(I,"aoStateLoadParams",g.fnStateLoadParams,"user"),Nt(I,"aoStateLoaded",g.fnStateLoaded,"user"),Nt(I,"aoRowCallback",g.fnRowCallback,"user"),Nt(I,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Nt(I,"aoHeaderCallback",g.fnHeaderCallback,"user"),Nt(I,"aoFooterCallback",g.fnFooterCallback,"user"),Nt(I,"aoInitComplete",g.fnInitComplete,"user"),Nt(I,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),I.rowIdFn=C(g.rowId),u(I);var A=I.oClasses;t.extend(A,$t.ext.classes,g.oClasses),_.addClass(A.sTable),I.iInitDisplayStart===a&&(I.iInitDisplayStart=g.iDisplayStart,I._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading&&(I.bDeferLoading=!0,p=t.isArray(g.iDeferLoading),I._iRecordsDisplay=p?g.iDeferLoading[0]:g.iDeferLoading,I._iRecordsTotal=p?g.iDeferLoading[1]:g.iDeferLoading);var F=I.oLanguage;t.extend(!0,F,g.oLanguage),F.sUrl&&(t.ajax({dataType:"json",url:F.sUrl,success:function(e){i(e),o(m.oLanguage,e),t.extend(!0,F,e),rt(I)},error:function(){rt(I)}}),v=!0),null===g.asStripeClasses&&(I.asStripeClasses=[A.sStripeOdd,A.sStripeEven]),p=I.asStripeClasses;var j=_.children("tbody").find("tr").eq(0);if(-1!==t.inArray(!0,t.map(p,(function(t,e){return j.hasClass(t)})))&&(t("tbody tr",this).removeClass(p.join(" ")),I.asDestroyStripes=p.slice()),p=[],0!==(T=this.getElementsByTagName("thead")).length&&(E(I.aoHeader,T[0]),p=W(I)),null===g.aoColumns)for(T=[],b=0,h=p.length;b<h;b++)T.push(null);else T=g.aoColumns;for(b=0,h=T.length;b<h;b++)f(I,p?p[b]:null);if(S(I,g.aoColumnDefs,T,(function(t,e){d(I,t,e)})),j.length){var L=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(j[0]).children("th, td").each((function(t,e){var n=I.aoColumns[t];if(n.mData===t){var r=L(e,"sort")||L(e,"order");e=L(e,"filter")||L(e,"search"),null===r&&null===e||(n.mData={_:t+".display",sort:null!==r?t+".@data-"+r:a,type:null!==r?t+".@data-"+r:a,filter:null!==e?t+".@data-"+e:a},d(I,t))}}))}var P=I.oFeatures;p=function(){if(g.aaSorting===a){var e=I.aaSorting;for(b=0,h=e.length;b<h;b++)e[b][1]=I.aoColumns[b].asSorting[0]}Ct(I),P.bSort&&Nt(I,"aoDrawCallback",(function(){if(I.bSorted){var e=Dt(I),n={};t.each(e,(function(t,e){n[e.src]=e.dir})),Ht(I,null,"order",[I,e,n]),_t(I)}})),Nt(I,"aoDrawCallback",(function(){(I.bSorted||"ssp"===kt(I)||P.bDeferRender)&&Ct(I)}),"sc"),e=_.children("caption").each((function(){this._captionSide=t(this).css("caption-side")}));var n=_.children("thead");if(0===n.length&&(n=t("<thead/>").appendTo(_)),I.nTHead=n[0],0===(n=_.children("tbody")).length&&(n=t("<tbody/>").appendTo(_)),I.nTBody=n[0],0===(n=_.children("tfoot")).length&&0<e.length&&(""!==I.oScroll.sX||""!==I.oScroll.sY)&&(n=t("<tfoot/>").appendTo(_)),0===n.length||0===n.children().length?_.addClass(A.sNoFooter):0<n.length&&(I.nTFoot=n[0],E(I.aoFooter,I.nTFoot)),g.aaData)for(b=0;b<g.aaData.length;b++)D(I,g.aaData[b]);else(I.bDeferLoading||"dom"==kt(I))&&y(I,t(I.nTBody).children("tr"));I.aiDisplay=I.aiDisplayMaster.slice(),I.bInitialised=!0,!1===v&&rt(I)},g.bStateSave?(P.bStateSave=!0,Nt(I,"aoDrawCallback",It,"state_save"),At(I,g,p)):p()}})),n=null,this},Jt={},qt=/[\r\n\u2028]/g,Gt=/<.*?>/g,zt=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Yt=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\|\$|\^|\-)/g,Zt=/[',$ÂŁâŹÂĽ%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,Kt=function(t){return!t||!0===t||"-"===t},Qt=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},te=function(t,e){return Jt[e]||(Jt[e]=new RegExp(fe(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Jt[e],"."):t},ee=function(t,e,n){var a="string"==typeof t;return!!Kt(t)||(e&&a&&(t=te(t,e)),n&&a&&(t=t.replace(Zt,"")),!isNaN(parseFloat(t))&&isFinite(t))},ne=function(t,e,n){return!!Kt(t)||((Kt(t)||"string"==typeof t)&&!!ee(t.replace(Gt,""),e,n)||null)},ae=function(t,e,n){var r=[],o=0,i=t.length;if(n!==a)for(;o<i;o++)t[o]&&t[o][e]&&r.push(t[o][e][n]);else for(;o<i;o++)t[o]&&r.push(t[o][e]);return r},re=function(t,e,n,r){var o=[],i=0,l=e.length;if(r!==a)for(;i<l;i++)t[e[i]][n]&&o.push(t[e[i]][n][r]);else for(;i<l;i++)o.push(t[e[i]][n]);return o},oe=function(t,e){var n=[];if(e===a){e=0;var r=t}else r=e,e=t;for(t=e;t<r;t++)n.push(t);return n},ie=function(t){for(var e=[],n=0,a=t.length;n<a;n++)t[n]&&e.push(t[n]);return e},le=function(t){t:{if(!(2>t.length))for(var e=t.slice().sort(),n=e[0],a=1,r=e.length;a<r;a++){if(e[a]===n){e=!1;break t}n=e[a]}e=!0}if(e)return t.slice();e=[],r=t.length;var o,i=0;a=0;t:for(;a<r;a++){for(n=t[a],o=0;o<i;o++)if(e[o]===n)continue t;e.push(n),i++}return e};$t.util={throttle:function(t,e){var n,r,o=e!==a?e:200;return function(){var e=this,i=+new Date,l=arguments;n&&i<n+o?(clearTimeout(r),r=setTimeout((function(){n=a,t.apply(e,l)}),o)):(n=i,t.apply(e,l))}},escapeRegex:function(t){return t.replace(Yt,"\\$1")}};var se=function(t,e,n){t[e]!==a&&(t[n]=t[e])},ue=/\[.*?\]$/,ce=/\(\)$/,fe=$t.util.escapeRegex,de=t("<div>")[0],he=de.textContent!==a,pe=/<.*?>/g,ge=$t.util.throttle,be=[],ve=Array.prototype,me=function(e,n){if(!(this instanceof me))return new me(e,n);var a=[],r=function(e){(e=function(e){var n,a=$t.settings,r=t.map(a,(function(t,e){return t.nTable}));if(!e)return[];if(e.nTable&&e.oApi)return[e];if(e.nodeName&&"table"===e.nodeName.toLowerCase()){var o=t.inArray(e,r);return-1!==o?[a[o]]:null}return e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map((function(e){return-1!==(o=t.inArray(this,r))?a[o]:null})).toArray():void 0)}(e))&&a.push.apply(a,e)};if(t.isArray(e))for(var o=0,i=e.length;o<i;o++)r(e[o]);else r(e);this.context=le(a),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},me.extend(this,this,be)};$t.Api=me,t.extend(me.prototype,{any:function(){return 0!==this.count()},concat:ve.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new me(e[t],this[t]):null},filter:function(t){var e=[];if(ve.filter)e=ve.filter.call(this,t,this);else for(var n=0,a=this.length;n<a;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new me(this.context,e)},flatten:function(){var t=[];return new me(this.context,t.concat.apply(t,this.toArray()))},join:ve.join,indexOf:ve.indexOf||function(t,e){e=e||0;for(var n=this.length;e<n;e++)if(this[e]===t)return e;return-1},iterator:function(t,e,n,r){var o,i,l,s=[],u=this.context,c=this.selector;"string"==typeof t&&(r=n,n=e,e=t,t=!1);var f=0;for(o=u.length;f<o;f++){var d=new me(u[f]);if("table"===e){var h=n.call(d,u[f],f);h!==a&&s.push(h)}else if("columns"===e||"rows"===e)(h=n.call(d,u[f],this[f],f))!==a&&s.push(h);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e){var p=this[f];"column-rows"===e&&(l=we(u[f],c.opts));var g=0;for(i=p.length;g<i;g++)h=p[g],(h="cell"===e?n.call(d,u[f],h.row,h.column,f,g):n.call(d,u[f],h,f,g,l))!==a&&s.push(h)}}return s.length||r?((e=(t=new me(u,t?s.concat.apply([],s):s)).selector).rows=c.rows,e.cols=c.cols,e.opts=c.opts,t):this},lastIndexOf:ve.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ve.map)e=ve.map.call(this,t,this);else for(var n=0,a=this.length;n<a;n++)e.push(t.call(this,this[n],n));return new me(this.context,e)},pluck:function(t){return this.map((function(e){return e[t]}))},pop:ve.pop,push:ve.push,reduce:ve.reduce||function(t,e){return c(this,t,e,0,this.length,1)},reduceRight:ve.reduceRight||function(t,e){return c(this,t,e,this.length-1,-1,-1)},reverse:ve.reverse,selector:null,shift:ve.shift,slice:function(){return new me(this.context,this)},sort:ve.sort,splice:ve.splice,toArray:function(){return ve.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new me(this.context,le(this))},unshift:ve.unshift}),me.extend=function(t,e,n){if(n.length&&e&&(e instanceof me||e.__dt_wrapper)){var a,r=function(t,e,n){return function(){var a=e.apply(t,arguments);return me.extend(a,a,n.methodExt),a}},o=0;for(a=n.length;o<a;o++){var i=n[o];e[i.name]="function"===i.type?r(t,i.val,i):"object"===i.type?{}:i.val,e[i.name].__dt_wrapper=!0,me.extend(t,e[i.name],i.propExt)}}},me.register=Vt=function(e,n){if(t.isArray(e))for(var a=0,r=e.length;a<r;a++)me.register(e[a],n);else{r=e.split(".");var o,i=be;for(e=0,a=r.length;e<a;e++){var l=(o=-1!==r[e].indexOf("()"))?r[e].replace("()",""):r[e];t:{for(var s=0,u=i.length;s<u;s++)if(i[s].name===l){s=i[s];break t}s=null}s||(s={name:l,val:{},methodExt:[],propExt:[],type:"object"},i.push(s)),e===a-1?(s.val=n,s.type="function"==typeof n?"function":t.isPlainObject(n)?"object":"other"):i=o?s.methodExt:s.propExt}}},me.registerPlural=Xt=function(e,n,r){me.register(e,r),me.register(n,(function(){var e=r.apply(this,arguments);return e===this?this:e instanceof me?e.length?t.isArray(e[0])?new me(e.context,e[0]):e[0]:a:e}))};var Se=function(e,n){if(t.isArray(e))return t.map(e,(function(t){return Se(t,n)}));if("number"==typeof e)return[n[e]];var a=t.map(n,(function(t,e){return t.nTable}));return t(a).filter(e).map((function(e){return e=t.inArray(this,a),n[e]})).toArray()};Vt("tables()",(function(t){return t!==a&&null!==t?new me(Se(t,this.context)):this})),Vt("table()",(function(t){var e=(t=this.tables(t)).context;return e.length?new me(e[0]):t})),Xt("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(t){return t.nTable}),1)})),Xt("tables().body()","table().body()",(function(){return this.iterator("table",(function(t){return t.nTBody}),1)})),Xt("tables().header()","table().header()",(function(){return this.iterator("table",(function(t){return t.nTHead}),1)})),Xt("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(t){return t.nTFoot}),1)})),Xt("tables().containers()","table().container()",(function(){return this.iterator("table",(function(t){return t.nTableWrapper}),1)})),Vt("draw()",(function(t){return this.iterator("table",(function(e){"page"===t?O(e):("string"==typeof t&&(t="full-hold"!==t),M(e,!1===t))}))})),Vt("page()",(function(t){return t===a?this.page.info().page:this.iterator("table",(function(e){ut(e,t)}))})),Vt("page.info()",(function(t){if(0===this.context.length)return a;var e=(t=this.context[0])._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,r=t.fnRecordsDisplay(),o=-1===n;return{page:o?0:Math.floor(e/n),pages:o?1:Math.ceil(r/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===kt(t)}})),Vt("page.len()",(function(t){return t===a?0!==this.context.length?this.context[0]._iDisplayLength:a:this.iterator("table",(function(e){it(e,t)}))}));var De=function(t,e,n){if(n){var a=new me(t);a.one("draw",(function(){n(a.ajax.json())}))}if("ssp"==kt(t))M(t,e);else{ft(t,!0);var r=t.jqXHR;r&&4!==r.readyState&&r.abort(),B(t,[],(function(n){A(t);for(var a=0,r=(n=$(t,n)).length;a<r;a++)D(t,n[a]);M(t,e),ft(t,!1)}))}};Vt("ajax.json()",(function(){var t=this.context;if(0<t.length)return t[0].json})),Vt("ajax.params()",(function(){var t=this.context;if(0<t.length)return t[0].oAjaxData})),Vt("ajax.reload()",(function(t,e){return this.iterator("table",(function(n){De(n,!1===e,t)}))})),Vt("ajax.url()",(function(e){var n=this.context;return e===a?0===n.length?a:(n=n[0]).ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",(function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e}))})),Vt("ajax.url().load()",(function(t,e){return this.iterator("table",(function(n){De(n,!1===e,t)}))}));var ye=function(e,n,r,o,i){var l,s,u,c=[],f=typeof n;for(n&&"string"!==f&&"function"!==f&&n.length!==a||(n=[n]),f=0,s=n.length;f<s;f++){var d=n[f]&&n[f].split&&!n[f].match(/[\[\(:]/)?n[f].split(","):[n[f]],h=0;for(u=d.length;h<u;h++)(l=r("string"==typeof d[h]?t.trim(d[h]):d[h]))&&l.length&&(c=c.concat(l))}if((e=Ut.selector[e]).length)for(f=0,s=e.length;f<s;f++)c=e[f](o,i,c);return le(c)},_e=function(e){return e||(e={}),e.filter&&e.search===a&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Te=function(t){for(var e=0,n=t.length;e<n;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},we=function(e,n){var a=[],r=e.aiDisplay,o=e.aiDisplayMaster,i=n.search,l=n.order;if(n=n.page,"ssp"==kt(e))return"removed"===i?[]:oe(0,o.length);if("current"==n)for(l=e._iDisplayStart,e=e.fnDisplayEnd();l<e;l++)a.push(r[l]);else if("current"==l||"applied"==l){if("none"==i)a=o.slice();else if("applied"==i)a=r.slice();else if("removed"==i){var s={};for(l=0,e=r.length;l<e;l++)s[r[l]]=null;a=t.map(o,(function(t){return s.hasOwnProperty(t)?null:t}))}}else if("index"==l||"original"==l)for(l=0,e=e.aoData.length;l<e;l++)"none"==i?a.push(l):(-1===(o=t.inArray(l,r))&&"removed"==i||0<=o&&"applied"==i)&&a.push(l);return a};Vt("rows()",(function(e,n){e===a?e="":t.isPlainObject(e)&&(n=e,e=""),n=_e(n);var r=this.iterator("table",(function(r){return function(e,n,r){var o;return ye("row",n,(function(n){var i=Qt(n),l=e.aoData;if(null!==i&&!r)return[i];if(o||(o=we(e,r)),null!==i&&-1!==t.inArray(i,o))return[i];if(null===n||n===a||""===n)return o;if("function"==typeof n)return t.map(o,(function(t){var e=l[t];return n(t,e._aData,e.nTr)?t:null}));if(n.nodeName){i=n._DT_RowIndex;var s=n._DT_CellIndex;return i!==a?l[i]&&l[i].nTr===n?[i]:[]:s?l[s.row]&&l[s.row].nTr===n.parentNode?[s.row]:[]:(i=t(n).closest("*[data-dt-row]")).length?[i.data("dt-row")]:[]}return"string"==typeof n&&"#"===n.charAt(0)&&(i=e.aIds[n.replace(/^#/,"")])!==a?[i.idx]:(i=ie(re(e.aoData,o,"nTr")),t(i).filter(n).map((function(){return this._DT_RowIndex})).toArray())}),e,r)}(r,e,n)}),1);return r.selector.rows=e,r.selector.opts=n,r})),Vt("rows().nodes()",(function(){return this.iterator("row",(function(t,e){return t.aoData[e].nTr||a}),1)})),Vt("rows().data()",(function(){return this.iterator(!0,"rows",(function(t,e){return re(t.aoData,e,"_aData")}),1)})),Xt("rows().cache()","row().cache()",(function(t){return this.iterator("row",(function(e,n){return e=e.aoData[n],"search"===t?e._aFilterData:e._aSortData}),1)})),Xt("rows().invalidate()","row().invalidate()",(function(t){return this.iterator("row",(function(e,n){j(e,n,t)}))})),Xt("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(t,e){return e}),1)})),Xt("rows().ids()","row().id()",(function(t){for(var e=[],n=this.context,a=0,r=n.length;a<r;a++)for(var o=0,i=this[a].length;o<i;o++){var l=n[a].rowIdFn(n[a].aoData[this[a][o]]._aData);e.push((!0===t?"#":"")+l)}return new me(n,e)})),Xt("rows().remove()","row().remove()",(function(){var t=this;return this.iterator("row",(function(e,n,r){var o,i,l=e.aoData,s=l[n];l.splice(n,1);var u=0;for(o=l.length;u<o;u++){var c=l[u],f=c.anCells;if(null!==c.nTr&&(c.nTr._DT_RowIndex=u),null!==f)for(c=0,i=f.length;c<i;c++)f[c]._DT_CellIndex.row=u}F(e.aiDisplayMaster,n),F(e.aiDisplay,n),F(t[r],n,!1),0<e._iRecordsDisplay&&e._iRecordsDisplay--,Ot(e),(n=e.rowIdFn(s._aData))!==a&&delete e.aIds[n]})),this.iterator("table",(function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e})),this})),Vt("rows.add()",(function(e){var n=this.iterator("table",(function(t){var n,a=[],r=0;for(n=e.length;r<n;r++){var o=e[r];o.nodeName&&"TR"===o.nodeName.toUpperCase()?a.push(y(t,o)[0]):a.push(D(t,o))}return a}),1),a=this.rows(-1);return a.pop(),t.merge(a,n),a})),Vt("row()",(function(t,e){return Te(this.rows(t,e))})),Vt("row().data()",(function(e){var n=this.context;if(e===a)return n.length&&this.length?n[0].aoData[this[0]]._aData:a;var r=n[0].aoData[this[0]];return r._aData=e,t.isArray(e)&&r.nTr&&r.nTr.id&&x(n[0].rowId)(e,r.nTr.id),j(n[0],this[0],"data"),this})),Vt("row().node()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null})),Vt("row.add()",(function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",(function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?y(t,e)[0]:D(t,e)}));return this.row(n[0])}));var Ce=function(t,e){var n=t.context;n.length&&(t=n[0].aoData[e!==a?e:t[0]])&&t._details&&(t._details.remove(),t._detailsShow=a,t._details=a)},xe=function(t,e){var n=t.context;n.length&&t.length&&((t=n[0].aoData[t[0]])._details&&((t._detailsShow=e)?t._details.insertAfter(t.nTr):t._details.detach(),Ie(n[0])))},Ie=function(t){var e=new me(t),n=t.aoData;e.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<ae(n,"_details").length&&(e.on("draw.dt.DT_details",(function(a,r){t===r&&e.rows({page:"current"}).eq(0).each((function(t){(t=n[t])._detailsShow&&t._details.insertAfter(t.nTr)}))})),e.on("column-visibility.dt.DT_details",(function(e,a,r,o){if(t===a)for(a=b(a),r=0,o=n.length;r<o;r++)(e=n[r])._details&&e._details.children("td[colspan]").attr("colspan",a)})),e.on("destroy.dt.DT_details",(function(a,r){if(t===r)for(a=0,r=n.length;a<r;a++)n[a]._details&&Ce(e,a)})))};Vt("row().child()",(function(e,n){var r=this.context;return e===a?r.length&&this.length?r[0].aoData[this[0]]._details:a:(!0===e?this.child.show():!1===e?Ce(this):r.length&&this.length&&function(e,n,a,r){var o=[],i=function(n,a){if(t.isArray(n)||n instanceof t)for(var r=0,l=n.length;r<l;r++)i(n[r],a);else n.nodeName&&"tr"===n.nodeName.toLowerCase()?o.push(n):(r=t("<tr><td/></tr>").addClass(a),t("td",r).addClass(a).html(n)[0].colSpan=b(e),o.push(r[0]))};i(a,r),n._details&&n._details.detach(),n._details=t(o),n._detailsShow&&n._details.insertAfter(n.nTr)}(r[0],r[0].aoData[this[0]],e,n),this)})),Vt(["row().child.show()","row().child().show()"],(function(t){return xe(this,!0),this})),Vt(["row().child.hide()","row().child().hide()"],(function(){return xe(this,!1),this})),Vt(["row().child.remove()","row().child().remove()"],(function(){return Ce(this),this})),Vt("row().child.isShown()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1}));var Ae=/^([^:]+):(name|visIdx|visible)$/,Fe=function(t,e,n,a,r){n=[],a=0;for(var o=r.length;a<o;a++)n.push(_(t,r[a],e));return n};Vt("columns()",(function(e,n){e===a?e="":t.isPlainObject(e)&&(n=e,e=""),n=_e(n);var r=this.iterator("table",(function(a){return function(e,n,a){var r=e.aoColumns,o=ae(r,"sName"),i=ae(r,"nTh");return ye("column",n,(function(n){var l=Qt(n);if(""===n)return oe(r.length);if(null!==l)return[0<=l?l:r.length+l];if("function"==typeof n){var s=we(e,a);return t.map(r,(function(t,a){return n(a,Fe(e,a,0,0,s),i[a])?a:null}))}var u="string"==typeof n?n.match(Ae):"";if(u)switch(u[2]){case"visIdx":case"visible":if(0>(l=parseInt(u[1],10))){var c=t.map(r,(function(t,e){return t.bVisible?e:null}));return[c[c.length+l]]}return[p(e,l)];case"name":return t.map(o,(function(t,e){return t===u[1]?e:null}));default:return[]}return n.nodeName&&n._DT_CellIndex?[n._DT_CellIndex.column]:(l=t(i).filter(n).map((function(){return t.inArray(this,i)})).toArray()).length||!n.nodeName?l:(l=t(n).closest("*[data-dt-column]")).length?[l.data("dt-column")]:[]}),e,a)}(a,e,n)}),1);return r.selector.cols=e,r.selector.opts=n,r})),Xt("columns().header()","column().header()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTh}),1)})),Xt("columns().footer()","column().footer()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTf}),1)})),Xt("columns().data()","column().data()",(function(){return this.iterator("column-rows",Fe,1)})),Xt("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].mData}),1)})),Xt("columns().cache()","column().cache()",(function(t){return this.iterator("column-rows",(function(e,n,a,r,o){return re(e.aoData,o,"search"===t?"_aFilterData":"_aSortData",n)}),1)})),Xt("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(t,e,n,a,r){return re(t.aoData,r,"anCells",e)}),1)})),Xt("columns().visible()","column().visible()",(function(e,n){var r=this,o=this.iterator("column",(function(n,r){if(e===a)return n.aoColumns[r].bVisible;var o,i=n.aoColumns,l=i[r],s=n.aoData;if(e!==a&&l.bVisible!==e){if(e){var u=t.inArray(!0,ae(i,"bVisible"),r+1);for(i=0,o=s.length;i<o;i++){var c=s[i].nTr;n=s[i].anCells,c&&c.insertBefore(n[r],n[u]||null)}}else t(ae(n.aoData,"anCells",r)).detach();l.bVisible=e}}));return e!==a&&this.iterator("table",(function(o){H(o,o.aoHeader),H(o,o.aoFooter),o.aiDisplay.length||t(o.nTBody).find("td[colspan]").attr("colspan",b(o)),It(o),r.iterator("column",(function(t,a){Ht(t,null,"column-visibility",[t,a,e,n])})),(n===a||n)&&r.columns.adjust()})),o})),Xt("columns().indexes()","column().index()",(function(t){return this.iterator("column",(function(e,n){return"visible"===t?g(e,n):n}),1)})),Vt("columns.adjust()",(function(){return this.iterator("table",(function(t){h(t)}),1)})),Vt("column.index()",(function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return p(n,e);if("fromData"===t||"toVisible"===t)return g(n,e)}})),Vt("column()",(function(t,e){return Te(this.columns(t,e))}));Vt("cells()",(function(e,n,r){if(t.isPlainObject(e)&&(e.row===a?(r=e,e=null):(r=n,n=null)),t.isPlainObject(n)&&(r=n,n=null),null===n||n===a)return this.iterator("table",(function(n){return function(e,n,r){var o,i,l,s,u,c,f,d=e.aoData,h=we(e,r),p=ie(re(d,h,"anCells")),g=t([].concat.apply([],p)),b=e.aoColumns.length;return ye("cell",n,(function(n){var r="function"==typeof n;if(null===n||n===a||r){for(i=[],l=0,s=h.length;l<s;l++)for(o=h[l],u=0;u<b;u++)c={row:o,column:u},r?(f=d[o],n(c,_(e,o,u),f.anCells?f.anCells[u]:null)&&i.push(c)):i.push(c);return i}return t.isPlainObject(n)?n.column!==a&&n.row!==a&&-1!==t.inArray(n.row,h)?[n]:[]:(r=g.filter(n).map((function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}})).toArray()).length||!n.nodeName?r:(f=t(n).closest("*[data-dt-row]")).length?[{row:f.data("dt-row"),column:f.data("dt-column")}]:[]}),e,r)}(n,e,_e(r))}));var o,i,l,s,u=r?{page:r.page,order:r.order,search:r.search}:{},c=this.columns(n,u),f=this.rows(e,u);return u=this.iterator("table",(function(t,e){for(t=[],o=0,i=f[e].length;o<i;o++)for(l=0,s=c[e].length;l<s;l++)t.push({row:f[e][o],column:c[e][l]});return t}),1),u=r&&r.selected?this.cells(u,r):u,t.extend(u.selector,{cols:n,rows:e,opts:r}),u})),Xt("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(t,e,n){return(t=t.aoData[e])&&t.anCells?t.anCells[n]:a}),1)})),Vt("cells().data()",(function(){return this.iterator("cell",(function(t,e,n){return _(t,e,n)}),1)})),Xt("cells().cache()","cell().cache()",(function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",(function(e,n,a){return e.aoData[n][t][a]}),1)})),Xt("cells().render()","cell().render()",(function(t){return this.iterator("cell",(function(e,n,a){return _(e,n,a,t)}),1)})),Xt("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(t,e,n){return{row:e,column:n,columnVisible:g(t,n)}}),1)})),Xt("cells().invalidate()","cell().invalidate()",(function(t){return this.iterator("cell",(function(e,n,a){j(e,n,t,a)}))})),Vt("cell()",(function(t,e,n){return Te(this.cells(t,e,n))})),Vt("cell().data()",(function(t){var e=this.context,n=this[0];return t===a?e.length&&n.length?_(e[0],n[0].row,n[0].column):a:(T(e[0],n[0].row,n[0].column,t),j(e[0],n[0].row,"data",n[0].column),this)})),Vt("order()",(function(e,n){var r=this.context;return e===a?0!==r.length?r[0].aaSorting:a:("number"==typeof e?e=[[e,n]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",(function(t){t.aaSorting=e.slice()})))})),Vt("order.listener()",(function(t,e,n){return this.iterator("table",(function(a){wt(a,t,e,n)}))})),Vt("order.fixed()",(function(e){if(!e){var n=this.context;return n=n.length?n[0].aaSortingFixed:a,t.isArray(n)?{pre:n}:n}return this.iterator("table",(function(n){n.aaSortingFixed=t.extend(!0,{},e)}))})),Vt(["columns().order()","column().order()"],(function(e){var n=this;return this.iterator("table",(function(a,r){var o=[];t.each(n[r],(function(t,n){o.push([n,e])})),a.aaSorting=o}))})),Vt("search()",(function(e,n,r,o){var i=this.context;return e===a?0!==i.length?i[0].oPreviousSearch.sSearch:a:this.iterator("table",(function(a){a.oFeatures.bFilter&&q(a,t.extend({},a.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)}))})),Xt("columns().search()","column().search()",(function(e,n,r,o){return this.iterator("column",(function(i,l){var s=i.aoPreSearchCols;if(e===a)return s[l].sSearch;i.oFeatures.bFilter&&(t.extend(s[l],{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),q(i,i.oPreviousSearch,1))}))})),Vt("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),Vt("state.clear()",(function(){return this.iterator("table",(function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})}))})),Vt("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),Vt("state.save()",(function(){return this.iterator("table",(function(t){It(t)}))})),$t.versionCheck=$t.fnVersionCheck=function(t){for(var e,n,a=$t.version.split("."),r=0,o=(t=t.split(".")).length;r<o;r++)if((e=parseInt(a[r],10)||0)!==(n=parseInt(t[r],10)||0))return e>n;return!0},$t.isDataTable=$t.fnIsDataTable=function(e){var n=t(e).get(0),a=!1;return e instanceof $t.Api||(t.each($t.settings,(function(e,r){e=r.nScrollHead?t("table",r.nScrollHead)[0]:null;var o=r.nScrollFoot?t("table",r.nScrollFoot)[0]:null;r.nTable!==n&&e!==n&&o!==n||(a=!0)})),a)},$t.tables=$t.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var a=t.map($t.settings,(function(n){if(!e||e&&t(n.nTable).is(":visible"))return n.nTable}));return n?new me(a):a},$t.camelToHungarian=o,Vt("$()",(function(e,n){return n=this.rows(n).nodes(),n=t(n),t([].concat(n.filter(e).toArray(),n.find(e).toArray()))})),t.each(["on","one","off"],(function(e,n){Vt(n+"()",(function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),(function(t){return t.match(/\.dt\b/)?t:t+".dt"})).join(" ");var a=t(this.tables().nodes());return a[n].apply(a,e),this}))})),Vt("clear()",(function(){return this.iterator("table",(function(t){A(t)}))})),Vt("settings()",(function(){return new me(this.context,this.context)})),Vt("init()",(function(){var t=this.context;return t.length?t[0].oInit:null})),Vt("data()",(function(){return this.iterator("table",(function(t){return ae(t.aoData,"_aData")})).flatten()})),Vt("destroy()",(function(n){return n=n||!1,this.iterator("table",(function(a){var r=a.nTableWrapper.parentNode,o=a.oClasses,i=a.nTable,l=a.nTBody,s=a.nTHead,u=a.nTFoot,c=t(i);l=t(l);var f,d=t(a.nTableWrapper),h=t.map(a.aoData,(function(t){return t.nTr}));a.bDestroying=!0,Ht(a,"aoDestroyCallback","destroy",[a]),n||new me(a).columns().visible(!0),d.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+a.sInstance),i!=s.parentNode&&(c.children("thead").detach(),c.append(s)),u&&i!=u.parentNode&&(c.children("tfoot").detach(),c.append(u)),a.aaSorting=[],a.aaSortingFixed=[],Ct(a),t(h).removeClass(a.asStripeClasses.join(" ")),t("th, td",s).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),l.children().detach(),l.append(h),c[s=n?"remove":"detach"](),d[s](),!n&&r&&(r.insertBefore(i,a.nTableReinsertBefore),c.css("width",a.sDestroyWidth).removeClass(o.sTable),(f=a.asDestroyStripes.length)&&l.children().each((function(e){t(this).addClass(a.asDestroyStripes[e%f])}))),-1!==(r=t.inArray(a,$t.settings))&&$t.settings.splice(r,1)}))})),t.each(["column","row","cell"],(function(t,e){Vt(e+"s().every()",(function(t){var n=this.selector.opts,r=this;return this.iterator(e,(function(o,i,l,s,u){t.call(r[e](i,"cell"===e?l:n,"cell"===e?n:a),i,l,s,u)}))}))})),Vt("i18n()",(function(e,n,r){var o=this.context[0];return(e=C(e)(o.oLanguage))===a&&(e=n),r!==a&&t.isPlainObject(e)&&(e=e[r]!==a?e[r]:e._),e.replace("%d",r)})),$t.version="1.10.21",$t.settings=[],$t.models={},$t.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},$t.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},$t.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},$t.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},$t.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r($t.defaults),$t.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r($t.defaults.column),$t.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:a,oAjaxData:a,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==kt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==kt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,a=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===t?e+a:Math.min(e+t,this._iRecordsDisplay):!o||n>a||-1===t?a:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},$t.ext=Ut={buttons:{},classes:{},build:"dt/dt-1.10.21",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:$t.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:$t.version},t.extend(Ut,{afnFiltering:Ut.search,aTypes:Ut.type.detect,ofnSearch:Ut.type.search,oSort:Ut.type.order,afnSortData:Ut.order,aoFeatures:Ut.feature,oApi:Ut.internal,oStdClasses:Ut.classes,oPagination:Ut.pager}),t.extend($t.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var je=$t.ext.pager;t.extend(je,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Et(t,e)]},simple_numbers:function(t,e){return["previous",Et(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Et(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Et(t,e),"last"]},_numbers:Et,numbers_length:7}),t.extend(!0,$t.ext.renderer,{pageButton:{_:function(e,r,o,i,l,s){var u,c,f=e.oClasses,d=e.oLanguage.oPaginate,h=e.oLanguage.oAria.paginate||{},p=0,g=function(n,a){var r,i=f.sPageButtonDisabled,b=function(t){ut(e,t.data.action,!0)},v=0;for(r=a.length;v<r;v++){var m=a[v];if(t.isArray(m)){var S=t("<"+(m.DT_el||"div")+"/>").appendTo(n);g(S,m)}else{switch(u=null,c=m,S=e.iTabIndex,m){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=d.sFirst,0===l&&(S=-1,c+=" "+i);break;case"previous":u=d.sPrevious,0===l&&(S=-1,c+=" "+i);break;case"next":u=d.sNext,0!==s&&l!==s-1||(S=-1,c+=" "+i);break;case"last":u=d.sLast,l===s-1&&(S=-1,c+=" "+i);break;default:u=m+1,c=l===m?f.sPageButtonActive:""}null!==u&&(Rt(S=t("<a>",{class:f.sPageButton+" "+c,"aria-controls":e.sTableId,"aria-label":h[m],"data-dt-idx":p,tabindex:S,id:0===o&&"string"==typeof m?e.sTableId+"_"+m:null}).html(u).appendTo(n),{action:m},b),p++)}}};try{var b=t(r).find(n.activeElement).data("dt-idx")}catch(t){}g(t(r).empty(),i),b!==a&&t(r).find("[data-dt-idx="+b+"]").trigger("focus")}}}),t.extend($t.ext.type.detect,[function(t,e){return e=e.oLanguage.sDecimal,ee(t,e)?"num"+e:null},function(t,e){return(!t||t instanceof Date||zt.test(t))&&(null!==(e=Date.parse(t))&&!isNaN(e)||Kt(t))?"date":null},function(t,e){return e=e.oLanguage.sDecimal,ee(t,e,!0)?"num-fmt"+e:null},function(t,e){return e=e.oLanguage.sDecimal,ne(t,e)?"html-num"+e:null},function(t,e){return e=e.oLanguage.sDecimal,ne(t,e,!0)?"html-num-fmt"+e:null},function(t,e){return Kt(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend($t.ext.type.search,{html:function(t){return Kt(t)?t:"string"==typeof t?t.replace(qt," ").replace(Gt,""):""},string:function(t){return Kt(t)?t:"string"==typeof t?t.replace(qt," "):t}});var Le=function(t,e,n,a){return 0===t||t&&"-"!==t?(e&&(t=te(t,e)),t.replace&&(n&&(t=t.replace(n,"")),a&&(t=t.replace(a,""))),1*t):-1/0};t.extend(Ut.type.order,{"date-pre":function(t){return t=Date.parse(t),isNaN(t)?-1/0:t},"html-pre":function(t){return Kt(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return Kt(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Wt(""),t.extend(!0,$t.ext.renderer,{header:{_:function(e,n,a,r){t(e.nTable).on("order.dt.DT",(function(t,o,i,l){e===o&&(t=a.idx,n.removeClass(a.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==l[t]?r.sSortAsc:"desc"==l[t]?r.sSortDesc:a.sSortingClass))}))},jqueryui:function(e,n,a,r){t("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(r.sSortIcon+" "+a.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",(function(t,o,i,l){e===o&&(t=a.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==l[t]?r.sSortAsc:"desc"==l[t]?r.sSortDesc:a.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==l[t]?r.sSortJUIAsc:"desc"==l[t]?r.sSortJUIDesc:a.sSortingClassJUI))}))}}});var Pe=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return $t.render={number:function(t,e,n,a,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var i=0>o?"-":"",l=parseFloat(o);return isNaN(l)?Pe(o):(l=l.toFixed(n),o=Math.abs(l),l=parseInt(o,10),o=n?e+(o-l).toFixed(n).substring(2):"",i+(a||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+o+(r||""))}}},text:function(){return{display:Pe,filter:Pe}}},t.extend($t.ext.internal,{_fnExternApiFunc:Bt,_fnBuildAjax:B,_fnAjaxUpdate:U,_fnAjaxParameters:V,_fnAjaxUpdateDraw:X,_fnAjaxDataSrc:$,_fnAddColumn:f,_fnColumnOptions:d,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:g,_fnVisbleColumns:b,_fnGetColumns:v,_fnColumnTypes:m,_fnApplyColumnDefs:S,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:i,_fnBrowserDetect:u,_fnAddData:D,_fnAddTr:y,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==a?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,n,a){return t.inArray(a,e.aoData[n].anCells)},_fnGetCellData:_,_fnSetCellData:T,_fnSplitObjNotation:w,_fnGetObjectDataFn:C,_fnSetObjectDataFn:x,_fnGetDataMaster:I,_fnClearTable:A,_fnDeleteIndex:F,_fnInvalidate:j,_fnGetRowElements:L,_fnCreateTr:P,_fnBuildHead:N,_fnDrawHead:H,_fnDraw:O,_fnReDraw:M,_fnAddOptionsHtml:k,_fnDetectHeader:E,_fnGetUniqueThs:W,_fnFeatureHtmlFilter:J,_fnFilterComplete:q,_fnFilterCustom:G,_fnFilterColumn:z,_fnFilter:Y,_fnFilterCreateSearch:Z,_fnEscapeRegex:fe,_fnFilterData:K,_fnFeatureHtmlInfo:et,_fnUpdateInfo:nt,_fnInfoMacros:at,_fnInitialise:rt,_fnInitComplete:ot,_fnLengthChange:it,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:st,_fnPageChange:ut,_fnFeatureHtmlProcessing:ct,_fnProcessingDisplay:ft,_fnFeatureHtmlTable:dt,_fnScrollDraw:ht,_fnApplyToChildren:pt,_fnCalculateColumnWidths:gt,_fnThrottle:ge,_fnConvertToWidth:bt,_fnGetWidestNode:vt,_fnGetMaxLenString:mt,_fnStringToCss:St,_fnSortFlatten:Dt,_fnSort:yt,_fnSortAria:_t,_fnSortListener:Tt,_fnSortAttachListener:wt,_fnSortingClasses:Ct,_fnSortData:xt,_fnSaveState:It,_fnLoadState:At,_fnSettingsFromNode:Ft,_fnLog:jt,_fnMap:Lt,_fnBindAction:Rt,_fnCallbackReg:Nt,_fnCallbackFire:Ht,_fnLengthOverflow:Ot,_fnRenderer:Mt,_fnDataSource:kt,_fnRowAttributes:R,_fnExtend:Pt,_fnCalculateEnd:function(){}}),t.fn.dataTable=$t,$t.$=t,t.fn.dataTableSettings=$t.settings,t.fn.dataTableExt=$t.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each($t,(function(e,n){t.fn.DataTable[e]=n})),t.fn.dataTable}));
/*! tinyColorPicker - v1.1.1 2016-07-15 */
!function(r,t){"object"==typeof exports?module.exports=t(r):"function"==typeof define&&define.amd?define("colors",[],(function(){return t(r)})):r.Colors=t(r)}(this,(function(r,t){"use strict";function o(r,o,i,n,s){if("string"==typeof o)i=(o=x.txt2color(o)).type,p[i]=o[i],s=s!==t?s:o.alpha;else if(o)for(var l in o)r[i][l]=c(o[l]/a[i][l][1],0,1);return s!==t&&(r.alpha=c(+s,0,1)),e(i,n?r:t)}function e(r,t){var o,e,c,g=t||p,f=x,d=h.options,b=a,v=g.RND,m="",y="",_={hsl:"hsv",rgb:r},k=v.rgb;if("alpha"!==r){for(var C in b)if(!b[C][C])for(m in r!==C&&(y=_[C]||"rgb",g[C]=f[y+"2"+C](g[y])),v[C]||(v[C]={}),o=g[C])v[C][m]=u(o[m]*b[C][m][1]);k=v.rgb,g.HEX=f.RGB2HEX(k),g.equivalentGrey=d.grey.r*g.rgb.r+d.grey.g*g.rgb.g+d.grey.b*g.rgb.b,g.webSave=e=i(k,51),g.webSmart=c=i(k,17),g.saveColor=k.r===e.r&&k.g===e.g&&k.b===e.b?"web save":k.r===c.r&&k.g===c.g&&k.b===c.b?"web smart":"",g.hueRGB=x.hue2RGB(g.hsv.h),t&&(g.background=function(r,t,o){var e=h.options.grey,i={};return i.RGB={r:r.r,g:r.g,b:r.b},i.rgb={r:t.r,g:t.g,b:t.b},i.alpha=o,i.equivalentGrey=u(e.r*r.r+e.g*r.g+e.b*r.b),i.rgbaMixBlack=s(t,{r:0,g:0,b:0},o,1),i.rgbaMixWhite=s(t,{r:1,g:1,b:1},o,1),i.rgbaMixBlack.luminance=n(i.rgbaMixBlack,!0),i.rgbaMixWhite.luminance=n(i.rgbaMixWhite,!0),h.options.customBG&&(i.rgbaMixCustom=s(t,h.options.customBG,o,1),i.rgbaMixCustom.luminance=n(i.rgbaMixCustom,!0),h.options.customBG.luminance=n(h.options.customBG,!0)),i}(k,g.rgb,g.alpha))}var w,B,G,M=g.rgb,R=g.alpha,E="luminance",z=g.background;return(w=s(M,{r:0,g:0,b:0},R,1))[E]=n(w,!0),g.rgbaMixBlack=w,(B=s(M,{r:1,g:1,b:1},R,1))[E]=n(B,!0),g.rgbaMixWhite=B,d.customBG&&((G=s(M,z.rgbaMixCustom,R,1))[E]=n(G,!0),G.WCAG2Ratio=function(r,t){var o=1;return o=r>=t?(r+.05)/(t+.05):(t+.05)/(r+.05),u(100*o)/100}(G[E],z.rgbaMixCustom[E]),g.rgbaMixBGMixCustom=G,G.luminanceDelta=l.abs(G[E]-z.rgbaMixCustom[E]),G.hueDelta=function(r,t,o){return(l.max(r.r-t.r,t.r-r.r)+l.max(r.g-t.g,t.g-r.g)+l.max(r.b-t.b,t.b-r.b))*(o?255:1)/765}(z.rgbaMixCustom,G,!0)),g.RGBLuminance=n(k),g.HUELuminance=n(g.hueRGB),d.convertCallback&&d.convertCallback(g,r),g}function i(r,t){var o={},e=0,i=t/2;for(var n in r)e=r[n]%t,o[n]=r[n]+(e>i?t-e:-e);return o}function n(r,t){for(var o=t?1:255,e=[r.r/o,r.g/o,r.b/o],i=h.options.luminance,n=e.length;n--;)e[n]=e[n]<=.03928?e[n]/12.92:l.pow((e[n]+.055)/1.055,2.4);return i.r*e[0]+i.g*e[1]+i.b*e[2]}function s(r,o,e,i){var n={},s=e!==t?e:1,c=i!==t?i:1,a=s+c*(1-s);for(var l in r)n[l]=(r[l]*s+o[l]*c*(1-s))/a;return n.a=a,n}function c(r,t,o){return r>o?o:t>r?t:r}var a={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},l=r.Math,u=l.round,h={},p={},g={r:.298954,g:.586434,b:.114612},f={r:.2126,g:.7152,b:.0722},d=function(r){this.colors={RND:{}},this.options={color:"rgba(0,0,0,0)",grey:g,luminance:f,valueRanges:a},b(this,r||{})},b=function(r,e){var i,n=r.options;for(var s in v(r),e)e[s]!==t&&(n[s]=e[s]);i=n.customBG,n.customBG="string"==typeof i?x.txt2color(i).rgb:i,p=o(r.colors,n.color,t,!0)},v=function(r){h!==r&&(h=r,p=r.colors)};d.prototype.setColor=function(r,i,n){return v(this),r?o(this.colors,r,i,t,n):(n!==t&&(this.colors.alpha=c(n,0,1)),e(i))},d.prototype.setCustomBackground=function(r){return v(this),this.options.customBG="string"==typeof r?x.txt2color(r).rgb:r,o(this.colors,t,"rgb")},d.prototype.saveAsBackground=function(){return v(this),o(this.colors,t,"rgb",!0)},d.prototype.toString=function(r,t){return x.color2text((r||"rgb").toLowerCase(),this.colors,t)};var x={txt2color:function(r){var t={},o=r.replace(/(?:#|\)|%)/g,"").split("("),e=(o[1]||"").split(/,\s*/),i=o[1]?o[0].substr(0,3):"rgb",n="";if(t.type=i,t[i]={},o[1])for(var s=3;s--;)n=i[s]||i.charAt(s),t[i][n]=+e[s]/a[i][n][1];else t.rgb=x.HEX2rgb(o[0]);return t.alpha=e[3]?+e[3]:1,t},color2text:function(r,t,o){var e=!1!==o&&u(100*t.alpha)/100,i="number"==typeof e&&!1!==o&&(o||1!==e),n=t.RND.rgb,s=t.RND.hsl,c="hex"===r&&i,a="hex"===r&&!c,l="rgb"===r||c?n.r+", "+n.g+", "+n.b:a?"#"+t.HEX:s.h+", "+s.s+"%, "+s.l+"%";return a?l:(c?"rgb":r)+(i?"a":"")+"("+l+(i?", "+e:"")+")"},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return{r:+("0x"+(r=r.split(""))[0]+r[r[3]?1:0])/255,g:+("0x"+r[r[3]?2:1]+(r[3]||r[1]))/255,b:+("0x"+(r[4]||r[2])+(r[5]||r[2]))/255}},hue2RGB:function(r){var t=6*r,o=~~t%6,e=6===t?0:t-o;return{r:u(255*[1,1-e,0,0,e,1][o]),g:u(255*[e,1,1,1-e,0,0][o]),b:u(255*[0,0,e,1,1,1-e][o])}},rgb2hsv:function(r){var t,o,e=r.r,i=r.g,n=r.b,s=0;return n>i&&(i=n+(n=i,0),s=-1),o=n,i>e&&(e=i+(i=e,0),s=-2/6-s,o=l.min(i,n)),t=e-o,{h:1e-15>(e?t/e:0)?p&&p.hsl&&p.hsl.h||0:t?l.abs(s+(i-n)/(6*t)):0,s:e?t/e:p&&p.hsv&&p.hsv.s||0,v:e}},hsv2rgb:function(r){var t=6*r.h,o=r.s,e=r.v,i=~~t,n=t-i,s=e*(1-o),c=e*(1-n*o),a=e*(1-(1-n)*o),l=i%6;return{r:[e,c,s,s,a,e][l],g:[a,e,e,c,s,s][l],b:[s,s,a,e,e,c][l]}},hsv2hsl:function(r){var t=(2-r.s)*r.v,o=r.s*r.v;return o=r.s?1>t?t?o/t:0:o/(2-t):0,{h:r.h,s:r.v||o?o:p&&p.hsl&&p.hsl.s||0,l:t/2}},rgb2hsl:function(r,t){var o=x.rgb2hsv(r);return x.hsv2hsl(t?o:p.hsv=o)},hsl2rgb:function(r){var t=6*r.h,o=r.s,e=r.l,i=.5>e?e*(1+o):e+o-o*e,n=e+e-i,s=~~t,c=i*(i?(i-n)/i:0)*(t-s),a=n+c,l=i-c,u=s%6;return{r:[i,l,n,n,a,i][u],g:[a,i,i,l,n,n][u],b:[n,n,a,i,i,l][u]}}};return d})),function(r,t){"object"==typeof exports?module.exports=t(r,require("jquery"),require("colors")):"function"==typeof define&&define.amd?define(["jquery","colors"],(function(o,e){return t(r,o,e)})):t(r,r.jQuery,r.Colors)}(this,(function(r,t,o,e){"use strict";function i(r){return r.value||r.getAttribute("value")||t(r).css("background-color")||"#FFF"}function n(r){return(r=r.originalEvent&&r.originalEvent.touches?r.originalEvent.touches[0]:r).originalEvent?r.originalEvent:r}function s(r){return t(r.find(v.doRender)[0]||r[0])}function c(o){var e=t(this),n=e.offset(),c=t(r),u=v.gap;o?((x=s(e))._colorMode=x.data("colorMode"),d.$trigger=e,(m||a()).css(v.positionCallback.call(d,e)||{left:(m._left=n.left)-((m._left+=m._width-(c.scrollLeft()+c.width()))+u>0?m._left+u:0),top:(m._top=n.top+e.outerHeight())-((m._top+=m._height-(c.scrollTop()+c.height()))+u>0?m._top+u:0)}).show(v.animationSpeed,(function(){!0!==o&&(w.toggle(!!v.opacity)._width=w.width(),_._width=_.width(),_._height=_.height(),y._height=y.height(),b.setColor(i(x[0])),g(!0))})).off(".tcp").on(E,".cp-xy-slider,.cp-z-slider,.cp-alpha",l)):d.$trigger&&t(m).hide(v.animationSpeed,(function(){g(!1),d.$trigger=null})).off(".tcp")}function a(){return t("head").append('<style type="text/css" id="tinyColorPickerStyles">'+(v.css||X)+(v.cssAddon||"")+"</style>"),t(D).css({margin:v.margin}).appendTo("body").show(0,(function(){d.$UI=m=t(this),F=v.GPU&&m.css("perspective")!==e,y=t(".cp-z-slider",this),_=t(".cp-xy-slider",this),k=t(".cp-xy-cursor",this),C=t(".cp-z-cursor",this),w=t(".cp-alpha",this),B=t(".cp-alpha-cursor",this),v.buildCallback.call(d,m),m.prepend("<div>").children().eq(0).css("width",m.children().eq(0).width()),m._width=this.offsetWidth,m._height=this.offsetHeight})).hide()}function l(r){var o=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");(r.button||r.which)>1||(r.preventDefault&&r.preventDefault(),r.returnValue=!1,x._offset=t(this).offset(),(o="xy_slider"===o?u:"z_slider"===o?h:p)(r),g(),G.on(z,(function(){G.off(".tcp")})).on(R,(function(r){o(r),g()})))}function u(r){var t=n(r),o=t.pageX-x._offset.left,e=t.pageY-x._offset.top;b.setColor({s:o/_._width*100,v:100-e/_._height*100},"hsv")}function h(r){var t=n(r).pageY-x._offset.top;b.setColor({h:360-t/y._height*360},"hsv")}function p(r){var t=(n(r).pageX-x._offset.left)/w._width;b.setColor({},"rgb",t)}function g(r){var t=b.colors,o=t.hueRGB,i=(t.RND.rgb,t.RND.hsl,v.dark),n=v.light,s=b.toString(x._colorMode,v.forceAlpha),c=t.HUELuminance>.22?i:n,a=t.rgbaMixBlack.luminance>.22?i:n,l=(1-t.hsv.h)*y._height,u=t.hsv.s*_._width,h=(1-t.hsv.v)*_._height,p=t.alpha*w._width,g=F?"translate3d":"",d=x[0].value,m=x[0].hasAttribute("value")&&""===d&&r!==e;_._css={backgroundColor:"rgb("+o.r+","+o.g+","+o.b+")"},k._css={transform:g+"("+u+"px, "+h+"px, 0)",left:F?"":u,top:F?"":h,borderColor:t.RGBLuminance>.22?i:n},C._css={transform:g+"(0, "+l+"px, 0)",top:F?"":l,borderColor:"transparent "+c},w._css={backgroundColor:"#"+t.HEX},B._css={transform:g+"("+p+"px, 0, 0)",left:F?"":p,borderColor:a+" transparent"},x._css={backgroundColor:m?"":s,color:m?"":t.rgbaMixBGMixCustom.luminance>.22?i:n},x.text=m?"":d!==s?s:"",r!==e?f(r):H(f)}function f(r){_.css(_._css),k.css(k._css),C.css(C._css),w.css(w._css),B.css(B._css),v.doRender&&x.css(x._css),x.text&&x.val(x.text),v.renderCallback.call(d,x,"boolean"==typeof r?r:e)}var d,b,v,x,m,y,_,k,C,w,B,G=t(document),M=t(),R="touchmove.tcp mousemove.tcp pointermove.tcp",E="touchstart.tcp mousedown.tcp pointerdown.tcp",z="touchend.tcp mouseup.tcp pointerup.tcp",F=!1,H=r.requestAnimationFrame||r.webkitRequestAnimationFrame||function(r){r()},D='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',X=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",S=function(r){b=this.color=new o(r),v=b.options,d=this};S.prototype={render:g,toggle:c},t.fn.colorPicker=function(o){var e=this,n=function(){};return o=t.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:n,buildCallback:n,positionCallback:n,body:document.body,scrollResize:!0,gap:4,dark:"#222",light:"#DDD"},o),!d&&o.scrollResize&&t(r).on("resize.tcp scroll.tcp",(function(){d.$trigger&&d.toggle.call(d.$trigger[0],!0)})),M=M.add(this),this.colorPicker=d||new S(o),this.options=o,t(o.body).off(".tcp").on(E,(function(r){-1===M.add(m).add(t(m).find(r.target)).index(r.target)&&c()})),this.on("focusin.tcp click.tcp",(function(r){d.color.options=t.extend(d.color.options,v=e.options),c.call(this,r)})).on("change.tcp",(function(){b.setColor(this.value||"#FFF"),e.colorPicker.render(!0)})).each((function(){var r=i(this),e=r.split("("),n=s(t(this));n.data("colorMode",e[1]?e[0].substr(0,3):"HEX").attr("readonly",v.preventFocus),o.doRender&&n.css({"background-color":r,color:function(){return b.setColor(r).rgbaMixBGMixCustom.luminance>.22?o.dark:o.light}})}))},t.fn.colorPicker.destroy=function(){t("*").off(".tcp"),d.toggle(!1),M=t()}}));
!function(t){t.fn.qrcode=function(e){var r;function o(t){this.mode=r,this.data=t}function n(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(t,e){if(null==t.length)throw Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function s(t,e){this.totalCount=t,this.dataCount=e}function u(){this.buffer=[],this.length=0}o.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},n.prototype={addData:function(t){this.dataList.push(new o(t)),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){var t=1;for(t=1;40>t;t++){for(var e=s.getRSBlocks(t,this.errorCorrectLevel),r=new u,o=0,n=0;n<e.length;n++)o+=e[n].dataCount;for(n=0;n<this.dataList.length;n++)e=this.dataList[n],r.put(e.mode,4),r.put(e.getLength(),a.getLengthInBits(e.mode,t)),e.write(r);if(r.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;7>=r;r++)if(!(-1>=t+r||this.moduleCount<=t+r))for(var o=-1;7>=o;o++)-1>=e+o||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&6>=r&&(0==o||6==o)||0<=o&&6>=o&&(0==r||6==r)||2<=r&&4>=r&&2<=o&&4>=o)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;8>r;r++){this.makeImpl(!0,r);var o=a.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){for(t=t.createEmptyMovieClip(e,r),this.make(),e=0;e<this.modules.length;e++){r=1*e;for(var o=0;o<this.modules[e].length;o++){var n=1*o;this.modules[e][o]&&(t.beginFill(0,100),t.moveTo(n,r),t.lineTo(n+1,r),t.lineTo(n+1,r+1),t.lineTo(n,r+1),t.endFill())}}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=a.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],n=t[r];if(null==this.modules[o][n])for(var i=-2;2>=i;i++)for(var s=-2;2>=s;s++)this.modules[o+i][n+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},setupTypeNumber:function(t){for(var e=a.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;18>r;r++)o=!t&&1==(e>>r&1),this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o},setupTypeInfo:function(t,e){for(var r=a.getBCHTypeInfo(this.errorCorrectLevel<<3|e),o=0;15>o;o++){var n=!t&&1==(r>>o&1);6>o?this.modules[o][8]=n:8>o?this.modules[o+1][8]=n:this.modules[this.moduleCount-15+o][8]=n}for(o=0;15>o;o++)n=!t&&1==(r>>o&1),8>o?this.modules[8][this.moduleCount-o-1]=n:9>o?this.modules[8][15-o-1+1]=n:this.modules[8][15-o-1]=n;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,n=7,i=0,s=this.moduleCount-1;0<s;s-=2)for(6==s&&s--;;){for(var u=0;2>u;u++)if(null==this.modules[o][s-u]){var h=!1;i<t.length&&(h=1==(t[i]>>>n&1)),a.getMask(e,o,s-u)&&(h=!h),this.modules[o][s-u]=h,-1==--n&&(i++,n=7)}if(0>(o+=r)||this.moduleCount<=o){o-=r,r=-r;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(t,e,r){e=s.getRSBlocks(t,e);for(var o=new u,i=0;i<r.length;i++){var h=r[i];o.put(h.mode,4),o.put(h.getLength(),a.getLengthInBits(h.mode,t)),h.write(o)}for(i=t=0;i<e.length;i++)t+=e[i].dataCount;if(o.getLengthInBits()>8*t)throw Error("code length overflow. ("+o.getLengthInBits()+">"+8*t+")");for(o.getLengthInBits()+4<=8*t&&o.put(0,4);0!=o.getLengthInBits()%8;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*t)&&(o.put(n.PAD0,8),!(o.getLengthInBits()>=8*t));)o.put(n.PAD1,8);return n.createBytes(o,e)},n.createBytes=function(t,e){for(var r=0,o=0,n=0,s=Array(e.length),u=Array(e.length),h=0;h<e.length;h++){var l=e[h].dataCount,g=e[h].totalCount-l;o=Math.max(o,l),n=Math.max(n,g);s[h]=Array(l);for(var f=0;f<s[h].length;f++)s[h][f]=255&t.buffer[f+r];for(r+=l,f=a.getErrorCorrectPolynomial(g),l=new i(s[h],f.getLength()-1).mod(f),u[h]=Array(f.getLength()-1),f=0;f<u[h].length;f++)g=f+l.getLength()-u[h].length,u[h][f]=0<=g?l.get(g):0}for(f=h=0;f<e.length;f++)h+=e[f].totalCount;for(r=Array(h),f=l=0;f<o;f++)for(h=0;h<e.length;h++)f<s[h].length&&(r[l++]=s[h][f]);for(f=0;f<n;f++)for(h=0;h<e.length;h++)f<u[h].length&&(r[l++]=u[h][f]);return r},r=4;for(var a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=a.getBCHDigit(e)-a.getBCHDigit(a.G15);)e^=a.G15<<a.getBCHDigit(e)-a.getBCHDigit(a.G15);return(t<<10|e)^a.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=a.getBCHDigit(e)-a.getBCHDigit(a.G18);)e^=a.G18<<a.getBCHDigit(e)-a.getBCHDigit(a.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return a.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return 0==(e+r)%2;case 1:return 0==e%2;case 2:return 0==r%3;case 3:return 0==(e+r)%3;case 4:return 0==(Math.floor(e/2)+Math.floor(r/3))%2;case 5:return 0==e*r%2+e*r%3;case 6:return 0==(e*r%2+e*r%3)%2;case 7:return 0==(e*r%3+(e+r)%2)%2;default:throw Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new i([1],0),r=0;r<t;r++)e=e.multiply(new i([1,h.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&10>e)switch(t){case 1:return 10;case 2:return 9;case r:case 8:return 8;default:throw Error("mode:"+t)}else if(27>e)switch(t){case 1:return 12;case 2:return 11;case r:return 16;case 8:return 10;default:throw Error("mode:"+t)}else{if(!(41>e))throw Error("type:"+e);switch(t){case 1:return 14;case 2:return 13;case r:return 16;case 8:return 12;default:throw Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var n=0;n<e;n++){for(var i=0,s=t.isDark(o,n),u=-1;1>=u;u++)if(!(0>o+u||e<=o+u))for(var a=-1;1>=a;a++)0>n+a||e<=n+a||0==u&&0==a||s==t.isDark(o+u,n+a)&&i++;5<i&&(r+=3+i-5)}for(o=0;o<e-1;o++)for(n=0;n<e-1;n++)i=0,t.isDark(o,n)&&i++,t.isDark(o+1,n)&&i++,t.isDark(o,n+1)&&i++,t.isDark(o+1,n+1)&&i++,(0==i||4==i)&&(r+=3);for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(r+=40);for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(o,n)&&!t.isDark(o+1,n)&&t.isDark(o+2,n)&&t.isDark(o+3,n)&&t.isDark(o+4,n)&&!t.isDark(o+5,n)&&t.isDark(o+6,n)&&(r+=40);for(n=i=0;n<e;n++)for(o=0;o<e;o++)t.isDark(o,n)&&i++;return r+10*(t=Math.abs(100*i/e/e-50)/5)}},h={glog:function(t){if(1>t)throw Error("glog("+t+")");return h.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;256<=t;)t-=255;return h.EXP_TABLE[t]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},l=0;8>l;l++)h.EXP_TABLE[l]=1<<l;for(l=8;256>l;l++)h.EXP_TABLE[l]=h.EXP_TABLE[l-4]^h.EXP_TABLE[l-5]^h.EXP_TABLE[l-6]^h.EXP_TABLE[l-8];for(l=0;255>l;l++)h.LOG_TABLE[h.EXP_TABLE[l]]=l;return i.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<t.getLength();o++)e[r+o]^=h.gexp(h.glog(this.get(r))+h.glog(t.get(o)));return new i(e,0)},mod:function(t){if(0>this.getLength()-t.getLength())return this;for(var e=h.glog(this.get(0))-h.glog(t.get(0)),r=Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<t.getLength();o++)r[o]^=h.gexp(h.glog(t.get(o))+e);return new i(r,0).mod(t)}},s.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],s.getRSBlocks=function(t,e){var r=s.getRsBlockTable(t,e);if(null==r)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,n=[],i=0;i<o;i++)for(var u=r[3*i+0],a=r[3*i+1],h=r[3*i+2],l=0;l<u;l++)n.push(new s(a,h));return n},s.getRsBlockTable=function(t,e){switch(e){case 1:return s.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return s.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return s.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return s.RS_BLOCK_TABLE[4*(t-1)+3]}},u.prototype={get:function(t){return 1==(this.buffer[Math.floor(t/8)]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},"string"==typeof e&&(e={text:e}),e=t.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},e),this.each((function(){var r;if("canvas"==e.render){(r=new n(e.typeNumber,e.correctLevel)).addData(e.text),r.make();var o=document.createElement("canvas");o.width=e.width,o.height=e.height;for(var i=o.getContext("2d"),s=e.width/r.getModuleCount(),u=e.height/r.getModuleCount(),a=0;a<r.getModuleCount();a++)for(var h=0;h<r.getModuleCount();h++){i.fillStyle=r.isDark(a,h)?e.foreground:e.background;var l=Math.ceil((h+1)*s)-Math.floor(h*s),g=Math.ceil((a+1)*s)-Math.floor(a*s);i.fillRect(Math.round(h*s),Math.round(a*u),l,g)}}else for((r=new n(e.typeNumber,e.correctLevel)).addData(e.text),r.make(),o=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),i=e.width/r.getModuleCount(),s=e.height/r.getModuleCount(),u=0;u<r.getModuleCount();u++)for(a=t("<tr></tr>").css("height",s+"px").appendTo(o),h=0;h<r.getModuleCount();h++)t("<td></td>").css("width",i+"px").css("background-color",r.isDark(u,h)?e.foreground:e.background).appendTo(a);r=o,jQuery(r).appendTo(this)}))}}(jQuery);
var Statistics=function(){"use strict";function t(){requestAnimationFrame((function(){var t=$("main#statistics .widget"),e=$("main#clients .clientsList tr");$.each(["agenda","quiz","surveys","docs","notes"],(function(e,n){t.find(".data-"+n).text((AppData[n]||[]).length)})),t.find(".data-speakers").text(AppData.users.filter((function(t){return"speaker"===t.group})).length||0),t.find(".data-attendees").text(AppData.users.filter((function(t){return"attendee"===t.group})).length||0),t.find(".data-clients").text(e.length||0)}))}return{Init:function(){t(),$(document).on("ajaxComplete",t)},updateStats:t,serverInfo:function(){var t=location.href.replace("/admin.html","/"),e=$("#serverInfo").html();$("#qrclient").qrcode({width:512,height:512,text:t+"client.html"}),$.post("api/",{do:"getServerInfo"},(function(t){"500"==t.code&&(location.href=location.href.replace("/admin.html","/login.html")),$.each(t,(function(t,n){e=e.replace(new RegExp("%%"+t+"%%","gm"),String(n))})),$("#serverInfo").html(e)}),"json")}}}();function buildClients(t){if(!t)return!1;t=Object.values(t);var e=$(document.createDocumentFragment()),n=t.length||0;t.sort((function(t,e){return t.lastPing>e.lastPing?-1:1})),requestAnimationFrame((function(){n=0,$.each(t,(function(t,a){if(a.site_id==AppData.settings.site_id){n++;var i=new Date(1e3*a.lastPing),s=i.getFullYear()+"."+("0"+i.getMonth()).slice(-2)+"."+("0"+i.getDate()).slice(-2)+". "+("0"+i.getHours()).slice(-2)+":"+("0"+i.getMinutes()).slice(-2)+":"+("0"+i.getSeconds()).slice(-2),r=AppData.users.find((function(t){return t.id===a.uid}))||{},o=$("<tr/>");$("<td/>").text(a.id).appendTo(o);var c="";null!=r.name&&(c=r.name[AppData.settings.lang]),$("<td/>").text(c).appendTo(o),$("<td/>").text(a.addr).appendTo(o),$("<td/>").text("on "+a.client).appendTo(o),$("<td/>").text("as "+a.group).appendTo(o),$("<td/>").text(a.channel).appendTo(o),$("<td/>").text("ch0").appendTo(o);var d=AppData.channels.find((function(t){return t.channel===a.channel}));null!=d?$("<td/>").text(Language.getTranslation(d.name,AppData.settings.lang)+" | "+d.admin_name).appendTo(o):$("<td/>").text("").appendTo(o),$("<td/>").text(s).appendTo(o),e.append(o),i=s=r=o=null}})),$("main#statistics").find(".clientsTitle").text(n+" device(s)"),$("main#statistics").find(".clientsList").html(e),Statistics.updateStats(),t=e=n=null}))}
var Agenda=function(){"use strict";var a,t=[{target:"agenda",title:"Agenda",active:!0},{target:"days",title:"Event Days",active:!1}],e=[{templateName:"title",name:"title"},{templateName:"details",name:"details"},{templateName:"solutions[]",name:"solutions"}],n=[],i=[],d=[],o=[];function s(){var a=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(a),$.each(AppData.days,(function(t,e){$("<option/>").val(e.id).text(e.date+" | "+e.name[localState.lang]).appendTo(a)})),$("#agenda").find("#agenda-day-filter").html(a)}function l(a=""){var t=$(document.createDocumentFragment());$('<option value="" selected></option>').appendTo(t),$.each(AppData.agenda,(function(e,n){n.active=void 0===n.active||n.active,n.active&&a!=n.id&&$("<option/>").val(n.id).text(n.title[localState.lang]).appendTo(t)})),$("#agenda-details").find(".agendaparent").html(t)}function r(a){(a=a||AppData.agenda).sort((function(a,t){return a.tmp=(AppData.days.find((function(t){return a.day.indexOf(t.id)>-1}))||{}).date||"x",t.tmp=(AppData.days.find((function(a){return t.day.indexOf(a.id)>-1}))||{}).date||"x",a.tmp==t.tmp?a.timeStart<t.timeStart?-1:a.timeStart>t.timeStart?1:0:a.tmp<t.tmp?-1:1}))}function c(a){r(a);a=a||AppData.agenda;var t=$(document.createDocumentFragment()),e=$("<tr/>"),n=a?a.length:0;$("<th/>").text("State").appendTo(e),$("<th/>").text("Date").appendTo(e),$("<th/>").text("Start").appendTo(e),$("<th/>").text("End").appendTo(e),$("<th/>").text("Room").appendTo(e),$("<th/>").text("Broadcast").appendTo(e),$("<th/>").text("Address").appendTo(e),$("<th/>").text("Actions").appendTo(e),e.appendTo(t),$.each(a,(function(a,e){var n=$("<tr/>");!function(a,t){var e=AppData.channels.filter((function(a){return a.channel===t.rooms})),n=AppData.days.filter((function(a){return t.day.indexOf(a.id)>-1}))||[],i=AppData.broadcast.find((function(a){return a.id==t.broadcast_id}));e=e[0],a.attr("data-id",t.id),a.attr("data-ch",t.rooms),a.toggleClass("disabled",t.rooms!==localState.pushChannel&&"all"!==localState.pushChannel),a.toggleClass("color-green","now"===t.status),a.toggleClass("color-red","ended"===t.status),$('<td><button class="btn status" title="Right now" data-status="now"><i class="fas fa-play"></i></button><button class="btn status" title="Ended" data-status="ended"><i class="fas fa-stop"></i></button><button class="btn status" title="Nothing" data-status=""><i class="fas fa-ban"></i></button></td>').attr("nowrap","nowrap").appendTo(a);let d=[];for(let a=0;a<n.length;a++)d.push(n[a].date+" ("+Language.getTranslation(n[a].name,AppData.settings.lang)+")");$("<td/>").text(d.join(", ")).attr("nowrap","nowrap").appendTo(a),$("<td/>").text(t.timeStart).attr("nowrap","nowrap").appendTo(a),$("<td/>").text(t.timeEnd).attr("nowrap","nowrap").appendTo(a),$("<td/>").text(e?Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name:"").appendTo(a),$("<td/>").text(i?i.name[localState.lang]:"").appendTo(a),"string"==typeof t.title?$("<td/>").text(t.title).appendTo(a):$("<td/>").text(t.title[AppData.settings.lang]).appendTo(a);$("<td/>").html('<button data-id="'+t.id+'" class="btn shareUrl" title="Share"><i class="fa fa-share"></i></button><button data-id="'+t.id+'" data-active="true" class="btn activeAgenda '+(!0===t.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+t.id+'" data-active="false" class="btn activeAgenda '+(!1===t.active||void 0===t.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(a)}(n,e),n.appendTo(t),n=null})),$("main#agenda").find(".agendaTitle").text(n+" agenda(s)"),$("main#agenda").find(".agendaList").html(t),t=e=n=null}function p(){$.post("api/",{do:"getAgenda"},(function(a){AppData.agenda=a,r(),Agenda.buildList(),a=null}))}function u(a,t){var e=$(document.createDocumentFragment());$('<option value="" selected>--</option>').appendTo(e),$.each(AppData.bookings||[],(function(a,t){$("<option/>").val(t.id).text(t.name[AppData.settings.lang]).appendTo(e)})),a.find(".bookings").html(e),t&&"booking_id"in t&&a.find(".bookings").val(t.booking_id),e=null}function g(a,t){var e=$(document.createDocumentFragment());$('<option value="" selected>--</option>').appendTo(e),$.each(AppData.ondemandvideos||[],(function(a,t){$("<option/>").val(t.id).text(t.title[AppData.settings.lang]).appendTo(e)})),a.find(".ondemand").html(e),t&&"ondemand_id"in t&&a.find(".ondemand").val(t.ondemand_id),e=null}function f(a,t){var e=$(document.createDocumentFragment());$('<option value="" selected>--</option>').appendTo(e),$.each(AppData.broadcast||[],(function(a,t){$("<option/>").val(t.id).text(t.name[AppData.settings.lang]).appendTo(e)})),a.find(".broadcast").html(e),t&&"broadcast_id"in t&&a.find(".broadcast").val(t.broadcast_id),e=null}function v(a,t){var e=$(document.createDocumentFragment());$.each(AppData.days||[],(function(a,t){$("<option/>").val(t.id).text(t.date+" | "+t.name[AppData.settings.lang]).appendTo(e)})),a.find(".selectDay").html(e),t&&"day"in t&&a.find(".selectDay").val(t.day),e=null}function m(a,t){var e=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(e),$.each(AppData.channels,(function(a,t){t.active&&"ch0"!==t.channel&&t.name&&$("<option/>").val(t.channel).text(Language.getTranslation(t.name,AppData.settings.lang)+" | "+t.admin_name).appendTo(e)})),a.find(".selectRooms").html(e),t&&"rooms"in t&&$.each(t.rooms.split(","),(function(t,e){a.find(".selectRooms").eq(t).val(e)})),e=null}function h(){var a=$("#agenda-details").find(".selectDay").val(),t=AppData.agenda.filter((function(t){return a.indexOf(t.day)>-1})).map((function(a,t){return String(a.timeEnd)})),e=t[0];$.each(t,(function(a,t){t>e&&(e=t)})),$("#agenda-details").find("input[name=timeStart]").val(e)}function A(a){a.stopPropagation();var t=this.dataset.statusall,e=this.dataset.filter;writeDbLog("AGENDA","statusAll - "+(void 0!==t&&""!==t?t:"nothingall")+(void 0!==e?" - "+e:""),"admin_logs"),$.post("api/",{do:"statusAll",data:{status:t,filter:e}},(function(a){AppData.agenda=a,Socket.Send("refreshModule",{module:["Agenda"],appdata:"agenda",data:a,callback:["UpdateModule"]},{client:["client"]}),Socket.Send("Stage.Build"),Agenda.buildList()}))}function y(a){if(null==a.id){var t=$("#agenda-details").find(".container .speaker_input").val();if("..."==t)return;(a=(a=AppData.users.filter((function(a){return a.id===t})))[0]).speaker_id=a.id}var e=$("<span/>");e.addClass("speaker_cont");var i=$("<span/>");i.addClass("speaker_inputs");var d=AppData.users.filter((function(t){return t.id===a.speaker_id}));if(0!=d.length){var o=$("<span/>");o.html(d[0].name[localState.lang]).addClass("speaker_title"),i.append(o),o.show();var s=$("<input/>");s.attr("name","speakers[]").attr("value",a.speaker_id).attr("style","display: none"),i.append(s);var l=$("<span/>");l.attr("data-id",a.id),l.attr("data-speaker_id",a.speaker_id),l.addClass("delete_speaker").html('<button type="button"><i class="fas fa-trash"></i></button>'),e.append(i),e.append(l).appendTo($(".speakers",$("#agenda-details"))),n.push(a.id),k()}}function _(a){if(null==a.id){var t=$("#agenda-details").find(".container .docs_input").val();if("..."==t)return;(a=(a=AppData.docs.filter((function(a){return a.id===t})))[0]).doc_id=a.id}var e=$("<span/>");e.addClass("docs_cont");var n=AppData.docs.filter((function(t){return t.id===a.doc_id})),d=$("<span/>");d.addClass("docs_inputs");var o=$("<span/>");o.html(n[0].title[localState.lang]).addClass("docs_title"),d.append(o),o.show();var s=$("<input/>");s.attr("name","docs[]").attr("value",a.doc_id).attr("style","display: none"),d.append(s);var l=$("<span/>");l.attr("data-id",a.id),l.attr("data-docs_id",a.doc_id),l.addClass("delete_docs").html('<button type="button"><i class="fas fa-trash"></i></button>'),e.append(d),e.append(l).appendTo($(".docs",$("#agenda-details"))),i.push(a.id),D()}function D(a){var t=AppData.docs.filter((function(a){return"docs"==a.type})),e=$(document.createDocumentFragment());if($('<option value="..." selected>...</option>').appendTo(e),null!=a){var n=[];$.each(a,(function(a,t){n.push(t.doc_id),i.push(t.doc_id)}))}$.each(t,(function(a,t){-1==$.inArray(t.id,n)&&-1==$.inArray(t.id,i)&&$("<option/>").val(t.id).text(t.title[localState.lang]).appendTo(e)})),$("#agenda-details").find(".container .docs_input").html(e),e=null}function b(a){if(null==a.id){var t=$("#agenda-details").find(".container .surveys_input").val();if("..."==t)return;(a=(a=AppData.surveys.filter((function(a){return a.id===t})))[0]).survey_id=a.id}var e=AppData.surveys.filter((function(t){return t.id===a.survey_id})),n=$("<span/>");n.addClass("surveys_cont");var i=$("<span/>");i.addClass("surveys_inputs");var o=$("<span/>");o.html(e[0].title[localState.lang]).addClass("surveys_title"),i.append(o),o.show();var s=$("<input/>");s.attr("name","surveys[]").attr("value",a.survey_id).attr("style","display: none"),i.append(s);var l=$("<span/>");l.attr("data-id",a.id),l.addClass("delete_surveys").html('<button type="button"><i class="fas fa-trash"></i></button>'),n.append(i),n.append(l).appendTo($(".surveys",$("#agenda-details"))),d.push(a.id),T()}function k(a){var t=AppData.users.filter((function(a){return"object"==typeof a.is_speaker&&a.is_speaker.indexOf(AppData.settings.conf_year)>-1})),e=$(document.createDocumentFragment());if($('<option value="..." selected>...</option>').appendTo(e),null!=a){var i=[];$.each(a,(function(a,t){i.push(t.speaker_id),n.push(t.speaker_id)}))}$.each(t,(function(a,t){-1==$.inArray(t.id,i)&&-1==$.inArray(t.id,n)&&$("<option/>").val(t.id).text(t.name[localState.lang]).appendTo(e)})),$("#agenda-details").find(".container .speaker_input").html(e),e=null}function T(a){var t=$(document.createDocumentFragment());if($('<option value="..." selected>...</option>').appendTo(t),null!=a){var e=[];$.each(a,(function(a,t){e.push(t.survey_id),d.push(t.survey_id)}))}$.each(AppData.surveys,(function(a,n){-1==$.inArray(n.id,e)&&-1==$.inArray(n.id,d)&&$("<option/>").val(n.id).text(n.title[localState.lang]).appendTo(t)})),$("#agenda-details").find(".container .surveys_input").html(t),t=null}function S(a){if(null==a.id){var t=$("#agenda-details").find(".container .videos_input").val();if("..."==t)return;(a=(a=AppData.ondemandvideos.filter((function(a){return a.id===t})))[0]).v_id=a.id}var e=AppData.ondemandvideos.filter((function(t){return t.id===a.v_id})),n=$("<span/>");n.addClass("videos_cont");var i=$("<span/>");i.addClass("videos_inputs");var d=$("<span/>");d.html(e[0].title[localState.lang]).addClass("videos_title"),i.append(d),d.show();var s=$("<input/>");s.attr("name","videos[]").attr("value",a.v_id).attr("style","display: none"),i.append(s);var l=$("<span/>");l.attr("data-id",a.id),l.addClass("delete_videos").html('<button type="button"><i class="fas fa-trash"></i></button>'),n.append(i),n.append(l).appendTo($(".videos",$("#agenda-details"))),o.push(a.id),x()}function x(a){var t=AppData.ondemandvideos,e=$(document.createDocumentFragment());if($('<option value="..." selected>...</option>').appendTo(e),null!=a){var n=[];$.each(a,(function(a,t){n.push(t.v_id),o.push(t.v_id)}))}$.each(t,(function(a,t){-1==$.inArray(t.id,n)&&-1==$.inArray(t.id,o)&&$("<option/>").val(t.id).text(t.title[localState.lang]).appendTo(e)})),$("#agenda-details").find(".container .videos_input").html(e),e=null}function w(){var a=$(".filters-agenda").position();a.top+=38,a.left+=4,$(".modal-content-filter-agenda").attr("style","top: "+a.top+"px; left: "+a.left+"px;")}function L(){var a=AppData.agenda,t=$(".modal-content-filter-agenda").find("#filterformAgenda #agenda-day-filter").val(),e=$(".modal-content-filter-agenda").find("#filterformAgenda #agenda-room-filter").val();""!=t&&(a=a.filter((function(a){return a.day===t}))),""!=e&&(a=a.filter((function(a){var t="no_room"==e?"":e;return a.rooms===t}))),""===t&&""===e?($("#agenda .actions .filters-agenda").removeClass("active-filter-agenda"),$("#agenda .actions .close-btn-modal-content-filter-agenda").css("display","none")):($("#agenda .actions .filters-agenda").addClass("active-filter-agenda"),$("#agenda .actions .close-btn-modal-content-filter-agenda").css("display","block")),c(a),""==e&&""==t||writeDbLog("AGENDA","filter"+(void 0!==e?" - "+e:"")+(void 0!==t?" - "+t:""),"admin_logs")}return $(window).resize((function(){$(".modal-content-filter-agenda").is(":visible")&&(w(),$(".modal-content-filter-agenda").show())})),$(window).on("click",(function(a){-1===a.target.className.search(/notclose/i)&&$(".modal-content-filter-agenda").is(":visible")&&$(".modal-content-filter-agenda").hide()})),$(document).on("input","#agenda .search input",(function(){var a=new RegExp(strCanonical(this.value),"i");""!==this.value&&writeDbLog("AGENDA","search - "+this.value,"admin_logs"),$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#agenda .agendaList tr[data-id]").each((function(t,e){$(e).toggle(a.test(strCanonical($(e).text().split(" ").join(""))))}))})).on("click","#agenda .actions .sync",p).on("click","#agenda .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click","#agenda .agendaList tr[data-id]",(function(){$(".speaker_cont",$("#agenda-details")).remove(),$(".docs_cont",$("#agenda-details")).remove(),$(".surveys_cont",$("#agenda-details")).remove(),$(".videos_cont",$("#agenda-details")).remove();var a=$("#agenda-details"),t=this.dataset.id,s=AppData.agenda.find((function(a){return a.id===t}));void 0===s.active&&(s.active=!0),l(t),$.each(s,(function(t,e){"boolean"==typeof e?a.find("[name="+t+"]").prop("checked",e):a.find("[name="+t+"]").val(String(e)||"")})),$.each(s.speakers,(function(a,t){y(t)})),$.each(s.docs,(function(a,t){_(t)})),$.each(s.surveys,(function(a,t){b(t)})),$.each(s.videos,(function(a,t){S(t)})),$("#agenda, #agenda-details").toggle(),$("#agenda-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#agenda-details",e,s),n=[],i=[],d=[],o=[],k(s.speakers),D(s.docs),T(s.surveys),x(s.videos),m(a,s),v(a,s),u(a,s),g(a,s),f(a,s),setReqOnFieldsByLang("agenda",e),writeDbLog("AGENDA","modify"+(void 0!==t?" - "+t:""),"admin_logs"),a=t=s=null})).on("click","#agenda .agendaList .shareUrl",(function(a){a.stopPropagation(),createShareUrl("agenda",$(this).attr("data-id"))})).on("click","#agenda .agendaList .activeAgenda",(function(a){a.stopPropagation();var t=new FormData;t.append("do","updateAgendaActive"),t.append("id",this.dataset.id),t.append("active",this.dataset.active),writeDbLog("AGENDA","active"+(void 0!==this.dataset.id?" - "+this.dataset.id:"")+(void 0!==this.dataset.active?" - "+this.dataset.active:""),"admin_logs"),$.ajax({url:"api/",data:t,type:"post",dataType:"json",contentType:!1,processData:!1,chache:!1,success:function(a){AppData.agenda=a,Agenda.buildList(),Socket.Send("refreshModule",{module:["Agenda"],appdata:"agenda",data:a,callback:["UpdateModule"]},{client:["client"]})},error:function(a){console.log("error: "+a)}})})).on("click","#agenda .agendaList button.status",(function(a){a.stopPropagation();var t=$(this),e=t.closest("tr").data("id"),n=t.data("status"),i=AppData.agenda.find((function(a){return a.id==e}))||{},d=n!==i.status;if(writeDbLog("AGENDA","state"+(void 0!==e?" - "+e:"")+" - "+(void 0!==n&&""!==n?n:"nothing"),"admin_logs"),!d)return t=e=n=null,!1;$.post("api/",{do:"statusAgenda",data:{id:e,status:n}},(function(a){AppData.agenda=a,Socket.Send("refreshModule",{module:["Agenda"],appdata:"agenda",data:a,callback:["UpdateModule"],callback_params:["now"==n?i.day:void 0]},{client:["client"]}),Socket.Send("Stage.Build"),Agenda.buildList(),t=e=n=a=null}))})).on("click","#agenda .actions .exportbookings",(function(a){a.stopPropagation(),window.open("api/?do=exportAgendaBookings")})).on("click","#agenda .actions .endall",A).on("click","#agenda .actions .nothingall",A).on("click","#agenda .actions .new",(function(){var a=$("#agenda-details"),t=AppData.agenda.map((function(a){return a.date})).reduce((function(a,t){return t>a?t:a}),""),i=AppData.agenda.filter((function(a){return a.date===t})).map((function(a){return a.timeEnd})).reduce((function(a,t){return t>a?t:a}),"08:00");$("#agenda, #agenda-details").toggle(),$("#agenda-details").find(".actions .remove").hide(),Layout.buildLanguageTabs("#agenda-details",e),n=[],m(a),v(a),l(),u(a),g(a),f(a),a.find("form").find("input, textarea").val(""),a.find("[name=date]").val(t||""),a.find("[name=timeStart]").val(i||""),t?a.find("[name=timeEnd]").focus():a.find("[name=date]").focus(),a=t=i=null,k(),D(),T(),x(),setReqOnFieldsByLang("agenda",e),$(".speaker_cont",$("#agenda-details")).remove(),$(".docs_cont",$("#agenda-details")).remove(),$(".surveys_cont",$("#agenda-details")).remove(),h(),writeDbLog("AGENDA","new","admin_logs")})).on("click","#agenda .actions .exportJson",(function(t){t.stopPropagation(),a.exportJson(),writeDbLog("AGENDA","export json","admin_logs")})).on("click","#agenda .actions .importJson",(function(t){t.stopPropagation(),a.openModalWindow(),writeDbLog("AGENDA","import json","admin_logs")})).on("click","#agenda-details .close",(function(){$("#agenda, #agenda-details").toggle(),$("#agenda-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),writeDbLog("AGENDA","close","admin_logs")})).on("click","#agenda-details .remove",(function(a){a.preventDefault();var t=$(this);Modal.confirm(Language.getItem("delete-confirm"),(function(){var a=t.closest("form").find("[name=id]").val();writeDbLog("AGENDA","remove"+(void 0!==a?" - "+a:""),"admin_logs"),$.post("api/",{do:"removeAgenda",data:a},(function(t){AppData.agenda=t,Socket.Send("refreshModule",{module:["Agenda"],appdata:"agenda",data:t,callback:["UpdateModule"]},{client:["client"]}),Agenda.buildList(),a=t=null})),$("#agenda, #agenda-details").toggle(),$("#agenda-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)}))})).on("click","#agenda-details .add_speaker",y).on("click","#agenda-details .add_docs",_).on("click","#agenda-details .add_surveys",b).on("click","#agenda-details .add_video",S).on("click","#agenda-details .delete_speaker",(function(a){var t=$(this);Modal.confirm(Language.getItem("delete-confirm"),(function(){var a=t.attr("data-id"),e=t.attr("data-speaker_id");t.closest($(".speaker_cont")).remove(),$.post("api/",{do:"removeAgendaSelect",data:a},(function(a){})),n=$.grep(n,(function(a){return a!=e})),k()}))})).on("click","#agenda-details .delete_docs",(function(a){var t=$(this);Modal.confirm(Language.getItem("delete-confirm"),(function(){var a=t.attr("data-id"),e=t.attr("data-docs_id");t.closest($(".docs_cont")).remove(),$.post("api/",{do:"removeAgendaSelect",data:a},(function(a){})),i=$.grep(i,(function(a){return a!=e})),D()}))})).on("click","#agenda-details .delete_surveys",(function(a){var t=$(this);Modal.confirm(Language.getItem("delete-confirm"),(function(){var a=t.attr("data-id"),e=t.attr("data-surveys_id");t.closest($(".surveys_cont")).remove(),$.post("api/",{do:"removeAgendaSelect",data:a},(function(a){})),d=$.grep(d,(function(a){return a!=e})),T()}))})).on("click","#agenda-details .delete_videos",(function(a){var t=$(this);Modal.confirm(Language.getItem("delete-confirm"),(function(){var a=t.attr("data-id"),e=t.attr("data-videos_id");t.closest($(".videos_cont")).remove(),$.post("api/",{do:"removeAgendaSelect",data:a},(function(a){})),o=$.grep(o,(function(a){return a!=e})),x()}))})).on("submit","#agenda-details form",(function(a){a.preventDefault();var t=$(this).serializeObject(),e=!0;writeDbLog("AGENDA","save"+(void 0!==t.id&&""!==t.id?" - "+t.id:""),"admin_logs"),Array.isArray(t.speakers)&&(t.speakers=t.speakers.filter((function(a){return!!a})).join(",")),Array.isArray(t.docs)&&(t.docs=t.docs.filter((function(a){return!!a})).join(",")),Array.isArray(t.surveys)&&(t.surveys=t.surveys.filter((function(a){return!!a})).join(",")),Array.isArray(t.videos)&&(t.videos=t.videos.filter((function(a){return!!a})).join(",")),e=JSON.stringify(t)!==JSON.stringify(AppData.agenda.find((function(a){return a.id===t.id})));var n=$(this).serialize();if(n+="&do=saveWithSelects",$("#agenda, #agenda-details").toggle(),$("#agenda-details form").find("input, select:not([name=active]), textarea").val(""),!e)return t=e=null,!1;$.post("api/",n,(function(a){AppData.agenda=a,Socket.Send("refreshModule",{module:["Agenda"],appdata:"agenda",data:a,callback:["UpdateModule"]},{client:["client"]}),L(),t=e=a=null}))})).on("click","#agenda .actions .filters-agenda",(function(a){a.stopPropagation(),$(".modal-content-filter-agenda").is(":visible")?$(".modal-content-filter-agenda").hide():(w(),$(".modal-content-filter-agenda").show())})).on("change","#agenda .modal-content-filter-agenda",L).on("change","#agenda-details .selectDay",h).on("click","#agenda .actions .close-btn-modal-content-filter-agenda",(function(a){a.stopPropagation(),$("#agenda .actions .filters-agenda").removeClass("active-filter-agenda"),$("#agenda .actions .close-btn-modal-content-filter-agenda").css("display","none"),$(".modal-content-filter-agenda").hide(),$(".modal-content-filter-agenda").find("#filterformAgenda #agenda-day-filter").val(""),$(".modal-content-filter-agenda").find("#filterformAgenda #agenda-room-filter").val(""),L()})),{Init:function(){var e=$(document.createDocumentFragment());$('<option value="">All</option>').appendTo(e),$('<option value="no_room">[No room]</option>').appendTo(e),$.each(AppData.channels,(function(a,t){t.active&&"ch0"!==t.channel&&t.admin_name&&$("<option/>").val(t.channel).text(Language.getTranslation(t.name,AppData.settings.lang)+" | "+t.admin_name).appendTo(e)})),$("#agenda").find("#agenda-room-filter").html(e),s(),L(),l(),(a=new JsonExportImport).Init({module:"agenda",file:"agenda.json",callback:function(a){p(),Socket.Send("Agenda.BuildFromSource",!0)}}),Layout.addTabs("agenda",t)},buildList:L,buildOptionsDay:v,getAgendaFilterOptions:s,BuildFromSource:p}}();
var Uploader=function(){"use strict";var t="form.uploader",e=".inputFiles";function a(t){t.preventDefault(),t.stopPropagation()}function n(e){var a=e.target.files,n=$(this).closest(t),r=n.find("output"),o=n.find(".upload"),s=$(document.createDocumentFragment());a.length?($.each(a,(function(t,e){var a=Math.round(e.size/1024/1024);s.append('<p><strong><i class="fa fa-file-upload"></i> '+e.name+" <small>["+a+" MB]</small></strong></p>")})),r.html(s),o.removeClass("active").show()):(r.html(""),o.hide())}function r(){$(this).addClass("is-dragover")}function o(){$(this).removeClass("is-dragover")}function s(t){$(this).find(e).get(0).files=t.originalEvent.dataTransfer.files,$(e,$(this)).trigger("change")}function i(t){t.preventDefault();var a=$(this),n=a.find("progress"),r=new FormData(a.get(0));let o=a.attr("data-callback");$.ajax({url:a.attr("action"),type:a.attr("method"),data:r,dataType:"json",cache:!1,contentType:!1,processData:!1,xhr:function(){var t=$.ajaxSettings.xhr();return t.upload.onprogress=function(t){if(t.lengthComputable){var e=Math.round(100*t.loaded/t.total);n.attr("data-text","FeltĂśltĂŠs... "+e+"%").val(e)}},t},beforeSend:function(){a.addClass("is-uploading")},complete:function(){n.val(0),a.get(0).reset(),a.find(e).trigger("change"),a.removeClass("is-uploading"),a.siblings("form.uploads").submit()},success:function(t){!t.success&&t.error&&console.log(t.error);for(var e=window,a=o.split("."),n=a.pop(),r=0;r<a.length;r++)e=e[a[r]];"function"==typeof e[n]&&e[n].apply(null,[])},error:function(){}})}return{Init:function(){$(document).on("drag dragstart dragend dragover dragenter dragleave drop",t,a).on("dragover dragenter",t,r).on("dragleave dragend drop",t,o).on("drop",t,s).on("submit",t,i).on("change",t+" "+e,n),delete Uploader.Init}}}();
var Uploads=function(){"use strict";var t,n=!1;function e(e){e.preventDefault();var o=$(this),a=o.closest("main").attr("id"),i=$(document.createDocumentFragment());$.post("api/",o.serializeObject(),(function(e){"object"==typeof e&&($.each(e,(function(n,e){if("name"in e&&"url"in e){var o=t.clone();o.find(".listTitle").text(e.name),o.find("[data-action=open]").attr("href",e.url).attr("target","_blank"),o.appendTo(i)}})),o.closest("main").find("form.uploads output").html(i),o.data("list",e),o.trigger("change"),n?Socket.Send("Uploads.syncAdmin",a,{client:"admin"}):n=!0)}))}function o(t){var n=$(this);t=n.siblings("[data-action=open]").attr("href");Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removePresentation",data:t},(function(){n.closest("form.uploads").submit()}))}))}return{Init:function(){t=$("template#tplUploadListItem").remove().contents(),$(document).on("submit","form.uploads",e),$(document).on("click","form.uploads [data-action=delete]",o),$("form.uploads").submit(),delete Uploads.Init},syncAdmin:function(t){n=!1,$("main#"+t).find("form.uploads").submit()}}}();
var Backups=function(){"use strict";var a=[{target:"settings",title:"Settings",active:!1},{target:"translations",title:"Languages",active:!1},{target:"modulsettings",title:"Module settings",active:!1},{target:"uploadsettings",title:"Uploads",active:!1},{target:"nativesettings",title:"Native settings",active:!1},{target:"urlsettings",title:"URL settings",active:!1},{target:"backups",title:"Backups",active:!0}],t=[{templateName:"name",name:"name"}],e=!0;function n(){AppData.backups.sort((function(a,t){return t.created_date.localeCompare(a.created_date)}))}function s(){n();var a=$(document.createDocumentFragment()),t=$("<tr/>"),e=AppData.backups?AppData.backups.length:0;$("<th/>").html("Group delete").appendTo(t),$("<th/>").text("Date").appendTo(t),$("<th/>").text("Title").appendTo(t),$("<th/>").text("Actions").appendTo(t),t.appendTo(a),$.each(AppData.backups,(function(t,e){var n,s,i=$("<tr/>");s=e,(n=i).attr("data-id",s.id),$("<td/>").html('<label class="chk_cont"><input type="checkbox"  value="'+s.id+'" data-id="'+s.id+'" name="backup" class="backup-check"><i class="true far fa-fw fa-lg fa-square unckecked"></i><i class="false fas fa-fw fa-lg fa-check-square checked"></i></label>').attr("nowrap","nowrap").appendTo(n),$("<td/>").text(s.created_date).attr("nowrap","nowrap").appendTo(n),$("<td/>").text(s.name[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(n),$("<td/>").html('<button type="button" data-id="'+s.id+'" class="btn restoreBackup" title="Restore backup"><i class="far fa-window-restore"></i></button> <button type="button" data-id="'+s.id+'" class="btn deleteBackup" title="Delete backup"><i class="far fa-trash-alt"></i></button> ').attr("nowrap","nowrap").appendTo(n),i.appendTo(a),i=null})),$("main#backups").find(".backupsTitle").text(e+" backup(s)"),$("main#backups").find(".backupsList").html(a),a=t=e=null}function i(a){a.stopPropagation();var t=this;Modal.confirm(Language.getItem("delete-confirm"),(function(){var a=$(this).closest("form").find("[name=id]").val();null==a&&(a=t.dataset.id),$.post("api/",{do:"removeBackups",data:a},(function(t){AppData.backups=t,s(),a=t=null})),$("#backups-details").hide(),$("#backups").show(),Modal.alert("The backup delete was successful.")}))}function c(){$.post("api/",{do:"getBackups"},(function(a){AppData.backups=a,n(),s(),location.reload(),a=null}))}return $(document).on("click","#backups .backupsList tr[data-id]",(function(a){var e=$("#backups-details"),n=this.dataset.id,s=AppData.backups.find((function(a){return a.id===n}));$.each(s,(function(a,t){e.find("[name="+a+"]").val(String(t)||"")})),$("#backups, #backups-details").toggle(),$("#backups-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#backups-details",t,s),e=n=s=null})).on("submit","#backups form",(function(a){a.preventDefault();var t=$(this).serializeObject();null!=t.backup&&t.backup.length>0?Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeBackupsGroup",data:t},(function(a){AppData.backups=a,s(),a=null,Modal.alert("The backups delete was successful.")}))})):Modal.alert("You didn't highlighted any backup yet.")})).on("click","#backups .actions .new",(function(a){a.preventDefault();var e=$("#backups-details");$("#backups, #backups-details").toggle(),$("#backups-details").find(".actions .remove").hide(),e.find("form").find("input").val(""),e.find("form").find(".participant-class").val("0"),e=null,Layout.buildLanguageTabs("#backups-details",t)})).on("click","#backups-details .close",(function(){$("#backups, #backups-details").toggle(),$("#backups-details form").find("input").val("")})).on("click","#backups-details .remove",i).on("click","#backups .backupsList button.deleteBackup",i).on("click","#backups .backupsList button.restoreBackup",(function(a){a.stopPropagation();var t=this;Modal.confirm("Are you sure to restore the backup?",(function(a){var e="id="+t.dataset.id+"&do=restoreBackups";$.post("api/",e,(function(a){AppData.backups=a,s(),Modal.alert("The backup restore was successful.",(function(a){location.reload(!0)}))}))}))})).on("click","#backups .actions .sync",c).on("submit","#backups-details form",(function(a){a.preventDefault();var t=$(this).serializeObject(),e=!0;e=JSON.stringify(t)!==JSON.stringify(AppData.backups.find((function(a){return a.id===t.id}))),$("#backups, #backups-details").toggle();var n=$(this).serialize();if(n+="&do=saveBackups",$("#backups-details form").find("input, select").val(""),!e)return t=e=null,!1;$.post("api/",n,(function(a){AppData.backups=a,s(),t=e=a=null}))})),{Init:function(){s(),e&&(Layout.addTabs("backups",a),e=!1)},renderList:s,BuildFromSource:c}}();
var Bookinggroups=function(){"use strict";var o=[{target:"bookings",title:"Bookings",active:!1},{target:"bookinggroups",title:"Groups",active:!0}],i=[{templateName:"title",name:"title"}];function n(){AppData.bookinggroups.sort((function(o,i){return void 0!==o.sort_id&&void 0!==i.sort_id?parseInt(o.sort_id)>parseInt(i.sort_id)?1:-1:0}))}function t(){n();var o=$(document.createDocumentFragment()),i=$("<tr/>"),t=AppData.bookinggroups?AppData.bookinggroups.length:0;$("<th/>").text("Name").appendTo(i),i.appendTo(o),$.each(AppData.bookinggroups,(function(i,n){var t,e,g=$("<tr/>");e=n,(t=g).attr("data-id",e.id).toggleClass("color-red",!1===e.visible),$("<td/>").text(e.title[localState.lang]).attr("nowrap","nowrap").appendTo(t),g.appendTo(o),g=null})),$("main#bookinggroups").find(".bookingGroupsTitle").text(t+" group(s)"),$("main#bookinggroups").find(".bookingGroupsList").html(o),o=i=t=null}return $(document).on("click","#bookinggroups .bookingGroupsList tr[data-id]",(function(){var o=$("#bookinggroups-details"),n=this.dataset.id,t=AppData.bookinggroups.find((function(o){return o.id===n}));Layout.buildLanguageTabs("#bookinggroups-details",i,t),$.each(t,(function(i,n){o.find("[name="+i+"]").val(String(n)||"")})),$("#bookinggroups, #bookinggroups-details").toggle(),$("#bookinggroups-details").find(".actions .remove").show(),writeDbLog("BOOKINGGROUPS","modify"+(void 0!==n?" - "+n:""),"admin_logs"),o=n=t=null})).on("click","#bookinggroups .actions .new",(function(){Layout.buildLanguageTabs("#bookinggroups-details",i);var o=$("#bookinggroups-details");$("#bookinggroups, #bookinggroups-details").toggle(),$("#bookinggroups-details").find(".actions .remove").hide(),o.find("form").find("input").val(""),writeDbLog("BOOKINGGROUPS","new","admin_logs"),o=null})).on("click","#bookinggroups-details .close",(function(){$("#bookinggroups, #bookinggroups-details").toggle(),$("#bookinggroups-details form").find("input").val(""),writeDbLog("BOOKINGGROUPS","close","admin_logs")})).on("click","#bookinggroups-details .remove",(function(){if(!confirm("Are sure to delete the group?"))return!1;var o=$(this).closest("form").find("[name=id]").val();writeDbLog("BOOKINGGROUPS","remove"+(void 0!==o?" - "+o:""),"admin_logs"),$.post("api/",{do:"removeBookingGroup",data:o},(function(i){AppData.bookinggroups=i,t(),o=i=null})),$("#bookinggroups, #bookinggroups-details").toggle(),$("#bookinggroups-details form").find("input").val("")})).on("submit","#bookinggroups-details form",(function(o){o.preventDefault();var i=$(this).serializeObject(),n=!0;n=JSON.stringify(i)!==JSON.stringify(AppData.channelgroups.find((function(o){return o.id===i.id})));var e=$(this).serialize();if(e+="&do=saveBookingGroup",writeDbLog("BOOKINGGROUPS","save"+(void 0!==i.id&&""!==i.id?" - "+i.id:""),"admin_logs"),$("#bookinggroups, #bookinggroups-details").toggle(),$("#bookinggroups-details form").find("input, select").val(""),!n)return i=n=null,!1;$.ajax({method:"post",url:"api/",data:e,success:function(o){AppData.bookinggroups=o,t(),Socket.Send("Bookings.BuildFromSourceClient",!0),i=n=o=null}})})),{Init:function(){t(),Layout.addTabs("bookinggroups",o)},renderList:t,BuildFromSource:function(){$.post("api/",{do:"getBookingGroups"},(function(o){AppData.bookinggroups=o,n(),t(),o=null}))}}}();
var Bookings=function(){"use strict";var t,o=[{target:"bookings",title:"Bookings",active:!0},{target:"bookinggroups",title:"Groups",active:!1}],i=[{templateName:"name",name:"name"}];function n(){AppData.bookings.sort((function(t,o){return void 0!==t.sort_id&&void 0!==o.sort_id?parseInt(t.sort_id)>parseInt(o.sort_id)?1:-1:0}))}function a(){n();var t=$(document.createDocumentFragment()),o=$("<tr/>"),i=AppData.bookings?AppData.bookings.length:0;$("<th/>").text("").appendTo(o),$("<th/>").text("Name").appendTo(o),$("<th/>").text("Group").appendTo(o),$("<th/>").text("Limit").appendTo(o),$("<th/>").text("Actions").appendTo(o),o.appendTo(t),$("main#bookings").find(".bookingsListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.bookings,(function(o,i){var n=$("<tr/>");n.addClass("ddClassBookings"),function(t,o){t.attr("data-id",o.id).toggleClass("color-red",!1===o.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(t),$("<td/>").text(o.name[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(t);let i=AppData.bookinggroups.find((function(t){return t.id==o.group}));$("<td/>").text(i?i.title[AppData.settings.lang]:"-").attr("nowrap","nowrap").appendTo(t),$("<td/>").text(o.limit).attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button data-id="'+o.id+'" data-active="true" class="btn activeBooking'+(1==o.active?" activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button> <button data-id="'+o.id+'" data-active="false" class="btn inactiveBooking'+(0==o.active||void 0===o.active?" inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button> <button data-id="'+o.id+'" class="btn deleteParticipant" title="Delete participants"><i class="fas fa-user-slash"></i></button> ').attr("nowrap","nowrap").appendTo(t)}(n,i),n.appendTo(t),n=null})),$("main#bookings").find(".bookingsTitle").text(i+" booking(s)"),$("main#bookings").find(".bookingsList").html(t),t=o=i=null}function e(){var t=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(t),$.each(AppData.broadcast,(function(o,i){$("<option/>",{value:i.id,text:i.name[localState.lang]}).appendTo(t)})),$('#bookings-details select[name="broadcast"]').html(t)}function s(){var t=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(t),$.each(AppData.bookinggroups,(function(o,i){$("<option/>",{value:i.id,text:i.title[localState.lang]}).appendTo(t)})),$('#bookings-details select[name="group"]').html(t)}function d(t){$("main#bookings-details").find(".participantsList").html(""),$.ajax({method:"post",url:"api/",data:{do:"getAllBookings",id:t},success:function(t){var o=$(document.createDocumentFragment()),i=$("<tr/>");$("<th/>").text("Name").appendTo(i),$("<th/>").text("Actions").appendTo(i),i.appendTo(o),$("main#bookings-details").find(".participantsListThead").html(o),o=$(document.createDocumentFragment()),$.each(t,(function(t,i){var n=$("<tr/>"),a=AppData.users.find((function(t){return t.id==i.user}));a&&($("<td/>").text(a.name[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(n),$("<td/>").html('<button data-id="'+i.id+'" class="btn deleteParticipantSingle" title="Delete participant"><i class="fas fa-user-slash"></i></button> ').attr("nowrap","nowrap").appendTo(n),n.appendTo(o)),n=null})),$("main#bookings-details").find(".participantsList").html(o)}})}function c(){$.post("api/",{do:"getBookings"},(function(t){AppData.bookings=t.bookings,AppData.bookinggroups=t.bookinggroups,n(),a(),Socket.Send("Bookings.BuildFromSourceClient",!0),t=null}))}function l(t){t.stopPropagation();let o=this.dataset.id;var i="id="+o+"&participant=0&do=saveBookingsParticipant";Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("BOOKINGS","remove participants"+(void 0!==o?" - "+o:""),"admin_logs"),$.post("api/",i,(function(t){AppData.bookings=t,Socket.Send("Bookings.BuildFromSource",!0),Socket.Send("Bookings.BuildFromSourceClient",!0),a()}))}))}function r(t){t.stopPropagation();var o=new FormData;o.append("do","updateBookingVisible"),o.append("id",this.dataset.id),o.append("active",this.dataset.active),writeDbLog("BOOKINGS","active"+(void 0!==this.dataset.id?" - "+this.dataset.id:"")+(void 0!==this.dataset.active?" - "+this.dataset.active:""),"admin_logs"),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:o,type:"post",success:function(t){c()},error:function(t){console.log("Hiba: "+t)}})}return $(document).on("click","#bookings .bookingsList tr[data-id]",(function(){var t=$("#bookings-details"),o=this.dataset.id,n=AppData.bookings.find((function(t){return t.id===o}));e(),s(),n.active=!0===n.active,$.each(n,(function(o,i){"boolean"==typeof i?t.find("[name="+o+"]").prop("checked",i):t.find("[name="+o+"]").val(String(i)||"")})),$("#bookings, #bookings-details").toggle(),$("#bookings-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#bookings-details",i,n),setReqOnFieldsByLang("bookings",i),d(o),writeDbLog("BOOKINGS","modify"+(void 0!==o?" - "+o:""),"admin_logs"),t=o=n=null})).on("click","#bookings .actions .new",(function(){var t=$("#bookings-details");$("#bookings, #bookings-details").toggle(),$("#bookings-details").find(".actions .remove").hide(),e(),s(),t.find("form").find("input").val(""),t.find("form").find(".participant-class").val("0"),t=null,$("main#bookings-details").find(".participantsList").html("");var o=(AppData.bookings?AppData.bookings.length:0)+1;$("#bookings-details").find('[name ="sort_id"]').val(o),Layout.buildLanguageTabs("#bookings-details",i),setReqOnFieldsByLang("bookings",i),writeDbLog("BOOKINGS","new","admin_logs")})).on("click","#bookings .actions .exportJson",(function(o){o.stopPropagation(),t.exportJson(),writeDbLog("BOOKINGS","import json","admin_logs")})).on("click","#bookings .actions .importJson",(function(o){o.stopPropagation(),t.openModalWindow(),writeDbLog("BOOKINGS","import json","admin_logs")})).on("click","#bookings .activeBooking",r).on("click","#bookings .inactiveBooking",r).on("click","#bookings-details .close",(function(){$("#bookings, #bookings-details").toggle(),$("#bookings-details form").find("input").val(""),writeDbLog("BOOKINGS","close","admin_logs")})).on("click","#bookings-details .remove",(function(t){t.preventDefault();var o=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("BOOKINGS","remove"+(void 0!==o?" - "+o:""),"admin_logs"),$.post("api/",{do:"removeBookings",data:o},(function(t){AppData.bookings=t,Socket.Send("Bookings.BuildFromSourceClient",!0),a(),o=t=null})),$("#bookings, #bookings-details").toggle(),$("#bookings-details form").find("input").val("")}))})).on("click","#bookings .actions .sync",c).on("click","#bookings .bookingsList button.deleteParticipant",l).on("click","#bookings-details .participantsList button.deleteParticipantSingle",(function(t){t.stopPropagation();var o=this.dataset.id;Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("BOOKINGS","remove participant single"+(void 0!==o?" - "+o:""),"admin_logs"),$.ajax({method:"post",url:"api/",data:{do:"deleteParticipantSingle",id:o},success:function(t){d(),Socket.Send("Bookings.BuildFromSourceClient",!0)}})}))})).on("submit","#bookings-details form",(function(t){t.preventDefault();var o=$(this).serializeObject(),i=!0,n=void 0!==o.active;writeDbLog("BOOKINGS","save"+(void 0!==o.id&&""!==o.id?" - "+o.id:""),"admin_logs"),i=JSON.stringify(o)!==JSON.stringify(AppData.users.find((function(t){return t.id===o.id}))),$("#bookings, #bookings-details").toggle();var e=$(this).serialize();if(e+="&do=saveBookings&active="+n,$("#bookings-details form").find("input, select").val(""),!i)return o=i=null,!1;$.post("api/",e,(function(t){AppData.bookings=t,Socket.Send("Bookings.BuildFromSourceClient",!0),Socket.Send("Bookings.getUserBookings",null,{client:"client"}),a(),o=i=t=null}))})),{Init:function(){a(),Layout.addTabs("bookings",o),DragAndDrop.Init({container:".bookingsList",rowcontainer:".ddClassBookings",socketupdate:"Bookings.BuildFromSourceClient",dbname:"bookings"}),(t=new JsonExportImport).Init({module:"bookings",file:"bookings.json",callback:function(t){c(),Socket.Send("Bookings.BuildFromSourceClient",!0)}})},renderList:a,BuildFromSource:c,deleteParticipant:l}}();
var Broadcast=function(){"use strict";var a,t=[{templateName:"name",name:"name"}];function o(){AppData.broadcast.sort((function(a,t){return void 0!==a.sort_id&&void 0!==t.sort_id?parseInt(a.sort_id)>parseInt(t.sort_id)?1:-1:0}));var a=$(document.createDocumentFragment()),t=$("<tr/>"),o=AppData.broadcast?AppData.broadcast.length:0;$("<th/>").text("").appendTo(t),$("<th/>").text("Name").appendTo(t),$("<th/>").text("Stream URL").appendTo(t),$("<th/>").text("Channel").appendTo(t),$("<th/>").text("Actions").appendTo(t),t.appendTo(a),$("main#broadcast").find(".broadcastListThead").html(a),a=$(document.createDocumentFragment()),$.each(AppData.broadcast,(function(t,o){var e=$("<tr/>");e.addClass("ddClassBroadcast"),function(a,t){a.attr("data-id",t.id),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(a),$("<td/>").html(t.name[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(a),$("<td/>").text(t.streamurl).attr("nowrap","nowrap").appendTo(a);let o=AppData.channels.find((function(a){return a.channel===t.channel}));$("<td/>").html(o?Language.getTranslation(o.name,AppData.settings.lang)+" | "+o.admin_name:"").attr("nowrap","nowrap").appendTo(a),$("<td/>").html('<button type="button" title="Start stream" class="btn playVideoStream" data-action="start" data-id="'+t.id+'"><i class="fa fa-eye"></i></button> <button type="button" title="Stop stream"  class="btn stopVideoStream" data-action="stop"  data-id="'+t.id+'"><i class="fa fa-eye-slash"></i></button> <button type="button" title="Active" class="btn activeBroadcast'+(t.visible?" activeBtn":"")+'" data-visible="true" data-id="'+t.id+'"><i class="fa fa-check"></i></button> <button type="button" title="Inactive" class="btn inactiveBroadcast'+(t.visible?"":" inactiveBtn")+'"  data-visible="false" data-id="'+t.id+'"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(a)}(e,o),e.appendTo(a),e=null})),$("main#broadcast").find(".broadcastTitle").text(o+" stream URL(s)"),$("main#broadcast").find(".broadcastList").html(a),a=t=o=null}function e(a,t){return a.length>t?a.slice(0,t-1)+"âŚ":a}function n(a){a.stopPropagation();var t=new FormData;t.append("do","updateBroadcastVisible"),t.append("id",this.dataset.id),t.append("visible",this.dataset.visible),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:t,type:"post",success:function(a){d(),Modulsettings.AdminBuildFromSource(),Socket.Send("Broadcast.BuildFromSource",!0)},error:function(a){console.log("Hiba: "+a)}})}function i(){var a=$(document.createDocumentFragment());$.each(AppData.channels,(function(t,o){$("<option/>",{value:o.channel,text:o.channel.toUpperCase()+": "+Language.getTranslation(o.name,AppData.settings.lang)+" | "+o.admin_name}).appendTo(a)})),$('#broadcast-details select[name="channel"]').html(a)}function d(){$.post("api/",{do:"getBroadcast"},(function(a){AppData.broadcast=a,o()}))}return $(document).on("click","#broadcast .actions .runawayVideoStream",(function(a){a.preventDefault(),Socket.Send("Broadcast.showRunaway",!0)})).on("click","#broadcast .actions .exportJson",(function(t){t.stopPropagation(),a.exportJson()})).on("click","#broadcast .actions .importJson",(function(t){t.stopPropagation(),a.openModalWindow()})).on("click","#broadcast .broadcastList tr[data-id]",(function(){var a=$("#broadcast-details"),o=this.dataset.id,e=AppData.broadcast.find((function(a){return a.id===o}));i(),$.each(e,(function(t,o){"boolean"==typeof o?a.find("[name="+t+"]").prop("checked",o):a.find("[name="+t+"]").val(String(o)||"")})),$("#broadcast, #broadcast-details").toggle(),$("#broadcast-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#broadcast-details",t,e),setReqOnFieldsByLang("broadcast",t),a=o=e=null})).on("click","#broadcast .playVideoStream",(function(a){a.stopPropagation();var t=AppData.broadcast.filter((function(a){return!0===a.visible}));if(void 0!==this.dataset.id){var o=this.dataset.id,n=AppData.broadcast.filter((function(a){return a.id===o}))[0];if("realtime"===(!0===AppData.modulsettings.showchoosingplaylistonplaybutton?this.dataset.playertype:AppData.modulsettings.videoplayertype)){let a={streamId:n.id,pushed:!0};Socket.Send("Broadcast.playWebRTCStream",a)}else{let a={streamId:n.id,pushed:!0};Socket.Send("Broadcast.playHLS",a)}}else if(t.length>1){var i,d=$(document.createDocumentFragment());$.each(t,(function(a,t){(i=$("<tr/>")).attr("data-id",t.id),$("<td/>").html('<i class="fa-fw fas fa-tv flex-min-content"></i>').attr("nowrap","nowrap").css("width","20px").appendTo(i),!0===AppData.modulsettings.showchoosingplaylistonplaybutton&&null!=t.realtimestreamurl&&""!=t.realtimestreamurl?($("<td/>").text(e(t.name[AppData.settings.lang],24)+" (HLS)").attr("nowrap","nowrap").appendTo(i),i.attr("data-playertype","hls"),i.appendTo(d),i=null,(i=$("<tr/>")).attr("data-id",t.id),$("<td/>").html('<i class="fa-fw fas fa-tv flex-min-content"></i>').attr("nowrap","nowrap").css("width","20px").appendTo(i),$("<td/>").text(e(t.name[AppData.settings.lang],19)+" (Realtime)").attr("nowrap","nowrap").appendTo(i),i.attr("data-playertype","realtime")):$("<td/>").text(e(t.name[AppData.settings.lang],30)).attr("nowrap","nowrap").appendTo(i),i.appendTo(d),i=null})),$("main#broadcast #broadcastFilterList").html(d),function(a){a.stopPropagation(),$(".modal-streamurl-filter").is(":visible")?$(".modal-streamurl-filter").hide():(alignModalwindowToStreamurlBox(),$(".modal-streamurl-filter").show())}(a)}})).on("click","#broadcast .stopVideoStream",(function(a){a.stopPropagation();let t={},o=this.dataset.id;if(void 0!==o){let a=AppData.broadcast.filter((function(a){return a.id===o}))[0];t={channel:a.channel}}Socket.Send("Broadcast.stopVideoStream",!0,t)})).on("click","#broadcast .activeBroadcast",n).on("click","#broadcast .inactiveBroadcast",n).on("click","#broadcast .actions .new",(function(){var a=$("#broadcast-details");$("#broadcast, #broadcast-details").toggle(),$("#broadcast-details").find(".actions .remove").hide(),i(),a.find("form").find("input").val(""),a=null;var o=(AppData.broadcast?AppData.broadcast.length:0)+1;$("#broadcast-details").find('[name ="sort_id"]').val(o),Layout.buildLanguageTabs("#broadcast-details",t),setReqOnFieldsByLang("broadcast",t)})).on("click","#broadcast-details .close",(function(){$("#broadcast, #broadcast-details").toggle(),$("#broadcast-details form").find("input").val("")})).on("click","#broadcast-details .remove",(function(a){a.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeBroadcast",data:t},(function(a){AppData.broadcast=a,Socket.Send("Broadcast.BuildFromSource",!0),o(),t=a=null})),$("#broadcast, #broadcast-details").toggle(),$("#broadcast-details form").find("input").val("")}))})).on("submit","#broadcast-details form",(function(a){a.preventDefault();var t=$(this).serializeObject();t.visible=void 0!==t.visible,t.loop=void 0!==t.loop,t.secure=void 0!==t.secure,t.use_load_balancer=void 0!==t.use_load_balancer,t=$.param(t),t+="&do=saveBroadcast",$.post("api/",t,(function(a){AppData.broadcast=a,o(),$("#broadcast-details form").find("input, select").val(""),$("#broadcast, #broadcast-details").toggle(),Socket.Send("Broadcast.BuildFromSource",!0),Modulsettings.AdminBuildFromSource(),a=null}))})),{Init:function(){o(),DragAndDrop.Init({container:".broadcastList",rowcontainer:".ddClassBroadcast",dbname:"broadcast",socketupdate:"Broadcast.BuildFromSource"}),(a=new JsonExportImport).Init({module:"broadcast",file:"broadcast.json",callback:function(a){d(),Socket.Send("Broadcast.BuildFromSource",!0)}})},BuildFromSource:d}}();
var Channelgroups=function(){"use strict";var n=[{target:"channels",title:"Channels",active:!1},{target:"channelgroups",title:"Groups",active:!0}],a=[{templateName:"title",name:"title"}];function e(){AppData.channelgroups.sort((function(n,a){return void 0!==n.sort_id&&void 0!==a.sort_id?parseInt(n.sort_id)>parseInt(a.sort_id)?1:-1:0}))}function t(){e();var n=$(document.createDocumentFragment()),a=$("<tr/>"),t=AppData.channelgroups?AppData.channelgroups.length:0;$("<th/>").text("").appendTo(a),$("<th/>").text("Name").appendTo(a),a.appendTo(n),$.each(AppData.channelgroups,(function(a,e){var t,o,l=$("<tr/>");l.addClass("ddclassChannelgroups"),o=e,(t=l).attr("data-id",o.id).toggleClass("color-red",!1===o.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(t),$("<td/>").text(o.title[localState.lang]).attr("nowrap","nowrap").appendTo(t),l.appendTo(n),l=null})),$("main#channelgroups").find(".channelGroupsTitle").text(t+" group(s)"),$("main#channelgroups").find(".channelGroupsList").html(n),n=a=t=null}return $(document).on("click","#channelgroups .channelGroupsList tr[data-id]",(function(){var n=$("#channelgroups-details"),e=this.dataset.id,t=AppData.channelgroups.find((function(n){return n.id===e}));Layout.buildLanguageTabs("#channelgroups-details",a,t),$.each(t,(function(a,e){n.find("[name="+a+"]").val(String(e)||"")})),$("#channelgroups, #channelgroups-details").toggle(),$("#channelgroups-details").find(".actions .remove").show(),$("#channelgroups-details .color").off().colorPicker({opacity:!1}),n=e=t=null})).on("click","#channelgroups .actions .new",(function(){Layout.buildLanguageTabs("#channelgroups-details",a);var n=$("#channelgroups-details");$("#channelgroups, #channelgroups-details").toggle(),$("#channelgroups-details").find(".actions .remove").hide(),n.find("form").find("input").val(""),$("#channelgroups-details .color").val("#555555"),$("#channelgroups-details .color").off().colorPicker({opacity:!1}),n=null})).on("click","#channelgroups-details .close",(function(){$("#channelgroups, #channelgroups-details").toggle(),$("#channelgroups-details form").find("input").val("")})).on("click","#channelgroups-details .remove",(function(){if(!confirm("Are sure to delete the group?"))return!1;var n=$(this).closest("form").find("[name=id]").val();if(null!=AppData.channels.find((function(a){return a.group==n})))return alert("This group has at least one channel associated. It cannot be deleted."),!1;$.post("api/",{do:"removeChannelGroup",data:n},(function(a){AppData.channelgroups=a,Presentations.Init(),t(),n=a=null})),$("#channelgroups, #channelgroups-details").toggle(),$("#channelgroups-details form").find("input").val("")})).on("submit","#channelgroups-details form",(function(n){n.preventDefault();var a=$(this).serializeObject(),e=!0;if(e=JSON.stringify(a)!==JSON.stringify(AppData.channelgroups.find((function(n){return n.id===a.id}))),$("#channelgroups, #channelgroups-details").toggle(),$("#channelgroups-details form").find("input, select").val(""),!e)return a=e=null,!1;var o=new FormData;o.append("title[en]",a["title[en]"]),o.append("title[hu]",a["title[hu]"]),o.append("titlecolor",a.titlecolor),o.append("id",a.id),o.append("do","saveChannelGroup"),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:o,success:function(n){AppData.channelgroups=n,t(),Presentations.Init(),Socket.Send("Channel.updateGroups",null,{client:"client"}),a=e=n=null}})})),{Init:function(){t(),Layout.addTabs("channelgroups",n),$("#channelgroups-details .color").off().colorPicker({opacity:!1}),DragAndDrop.Init({container:".channelGroupsList",rowcontainer:".ddclassChannelgroups",dbname:"channelgroups",socketupdate:"Channel.updateGroups"})},renderList:t,BuildFromSource:function(){$.post("api/",{do:"getChannelGroups"},(function(n){AppData.channelgroups=n,e(),t(),n=null}))}}}();
var Channels=function(){"use strict";var a,n=[{target:"channels",title:"Channels",active:!0},{target:"channelgroups",title:"Groups",active:!1}];let e=[{templateName:"name",name:"name"}];var t=function(a){var n=0;if("object"==typeof a)if(Object.keys)n=Object.keys(a).length;else if(window._)n=_.keys(a).length;else if(window.$)n=$.map(a,(function(){return 1})).length;else for(var e in a)a.hasOwnProperty(e)&&n++;return n};function l(){var a=$(document.createDocumentFragment()),n=$("<tr/>"),e=AppData.channels?t(AppData.channels):0;$("<th/>").text("").appendTo(n),$("<th/>").text("Channel").appendTo(n),$("<th/>").text("Public name").appendTo(n),$("<th/>").text("Admin name").appendTo(n),$("<th/>").text("Group").appendTo(n),$("<th/>").text("Actions").appendTo(n),n.appendTo(a),$.each(AppData.channels,(function(n,e){var t,l,s,i=$("<tr/>");i.addClass("ddClassChannels"),t=i,l=e,s=(AppData.channelgroups||{}).find((function(a){return a.id==l.group})),t.attr("data-id",l.id).toggleClass("color-red",!1===l.active),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(t),$("<td/>").text(l.channel).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(l.name[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(l.admin_name).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(null!=l.group&&""!=l.group&&null!=s?s.title[localState.lang]:"").attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button data-id="'+l.id+'" data-active="true"  class="btn activeChannels '+(!0===l.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+l.id+'" data-active="false" class="btn activeChannels '+(!1===l.active||void 0===l.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').appendTo(t),i.appendTo(a),i=null})),$("main#channels").find(".channelsTitle").text(e+" channels"),$("main#channels").find(".channelsList").html(a),a=n=e=null}function s(){var a=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(a),$.each(AppData.channelgroups,(function(n,e){$("<option/>",{value:e.id,text:e.title[localState.lang]}).appendTo(a)})),$('#channels-details select[name="group"]').html(a)}function i(){var a=$(document.createDocumentFragment());$('<option value="all" selected>All Channels</option>').appendTo(a),$.each(AppData.channels,(function(n,e){e.active&&e.name&&$("<option/>").val(e.channel).text(Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name).css("backgroundColor",e.color).appendTo(a)})),$("main#dashboard .pushChannel").html(a.clone()).val("ch1"),$('main#dashboard .pushChannel option[value="all"]').remove(),$("nav#navbar .pushChannel").html(a),"pushChannel"in localState||(localState.pushChannel="all"),"pushGroup"in localState||(localState.pushGroup="all"),$("nav#navbar .pushChannel").val(localState.pushChannel).attr("style",$("nav#navbar .pushChannel").find("option:selected").attr("style")),$("main#agenda .agendaList tr:not(:first)").addClass("disabled").filter("all"!==localState.pushChannel?'[data-ch="'+localState.pushChannel+'"]':"*").removeClass("disabled"),a=null}function o(){var a=$(this);localState.pushChannel=this.value,a.attr("style",a.find("option:selected").attr("style")),$("main#agenda .agendaList tr:not(:first)").addClass("disabled").filter("all"!==localState.pushChannel?'[data-ch="'+localState.pushChannel+'"]':"*").removeClass("disabled"),$("main#quiz .quizList tr").addClass("disabled").filter("all"!==localState.pushChannel?'[data-ch="'+localState.pushChannel+'"]':"*").removeClass("disabled"),$("main#surveys .surveysList tr").addClass("disabled").filter("all"!==localState.pushChannel?'[data-ch="'+localState.pushChannel+'"]':"*").removeClass("disabled"),$("main#messageboard .messageboardList tr").addClass("disabled").filter("all"!==localState.pushChannel?'[data-ch="'+localState.pushChannel+'"]':"*").removeClass("disabled")}return $(document).on("click","#channels .actions .new",(function(){var a=$("#channels-details");$("#channels, #channels-details").toggle(),$("#channels-details").find(".actions .remove").hide(),s(),Layout.buildLanguageTabs("#channels-details",e),a.find("form").find("input").val(""),setReqOnFieldsByLang("channels",e),writeDbLog("CHANNELS","new","admin_logs"),a=null})).on("click","#channels .actions .exportJson",(function(n){n.stopPropagation(),a.exportJson(),writeDbLog("CHANNELS","export json","admin_logs")})).on("click","#channels .actions .importJson",(function(n){n.stopPropagation(),a.openModalWindow(),writeDbLog("CHANNELS","import json","admin_logs")})).on("click","#channels .channelsList tr[data-id]",(function(a){a.preventDefault();var n=$("#channels-details"),t=this.dataset.id,l=AppData.channels.find((function(a){return a.id===t}));s(),Layout.buildLanguageTabs("#channels-details",e,l),void 0===l.active&&(l.active=!1),$.each(l,(function(a,e){n.find("[name="+a+"]").val(String(e)||"")})),$("#channels, #channels-details").toggle(),$("#channels-details").find(".actions .remove").show(),setReqOnFieldsByLang("channels",e),writeDbLog("CHANNELS","modify"+(void 0!==t?" - "+t:""),"admin_logs"),n=t=l=null})).on("click","#channels-details .close",(function(){$("#channels, #channels-details").toggle(),$("#channels-details form").find("input").val(""),writeDbLog("CHANNELS","close","admin_logs")})).on("click","#channels-details .remove",(function(a){a.preventDefault();var n=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("CHANNELS","remove"+(void 0!==n?" - "+n:""),"admin_logs"),$.post("api/",{do:"deleteChannel",id:n},(function(a){AppData.channels=a,l(),i(),n=a=null})),$("#channels, #channels-details").toggle(),$("#channels-details form").find("input").val("")}))})).on("submit","#channels-details form",(function(a){a.preventDefault();var n=$(this).serialize();n+="&do=saveChannel";let e=$("[name='id']",$(this)).val();writeDbLog("CHANNELS","submit"+(void 0!==e&&""!==e?" - "+e:""),"admin_logs"),$.ajax({method:"post",url:"api/",data:n,success:function(a){AppData.channels=a,$.each(AppData.channels,(function(a,n){$("#formChannels").find('[name="'+n.channel+'"]').val(Language.getTranslation(n.name,AppData.settings.lang)+" | "+n.admin_name),$("fieldset").filter('[data-channel="'+n.channel+'"]').find("legend").text(n.channel.toUpperCase()+": "+Language.getTranslation(n.name,AppData.settings.lang)+" | "+n.admin_name)})),i(),l(),$("#channels, #channels-details").toggle(),i(),Socket.Send("Channels.update",a)}})})).on("click","#channels .channelsList .activeChannels",(function(a){a.stopPropagation(),writeDbLog("CHANNELS","active"+(void 0!==this.dataset.id?" - "+this.dataset.id:"")+(void 0!==this.dataset.active?" - "+this.dataset.active:""),"admin_logs"),$.post("api/",{do:"setChannelStatus",data:{id:this.dataset.id,active:this.dataset.active}},(function(a){AppData.channels=a,l(),i()}))})),{Init:function e(){l(),Layout.addTabs("channels",n),i(),$(document).on("change","nav#navbar .pushChannel",o),DragAndDrop.Init({container:".channelsList",rowcontainer:".ddClassChannels",dbname:"channels",type:"db",socketupdate:"Channels.update"}),(a=new JsonExportImport).Init({module:"channels",file:"channels.json",callback:function(a){$.post("api/",{do:"getChannels"},(function(a){AppData.channels=a,e()})),Socket.Send("Channels.update",!0)}})},buildOptionsMain:i}}();
var Docs=function(){"use strict";var t,e=[{target:"docs",title:"Documents",active:!0},{target:"docsgroups",title:"Groups",active:!1}],a=[{templateName:"title",name:"title"},{templateName:"tags",name:"tags"},{templateName:"file",name:"file"},{templateName:"filename",name:"filename",static:!0,arrayname:"files"}];function o(){AppData.docs.sort((function(t,e){return parseInt(t.sort_id)-parseInt(e.sort_id)})),AppData.docsgroups.sort((function(t,e){return parseInt(t.sort_id)-parseInt(e.sort_id)}))}function n(){o();var t=$(document.createDocumentFragment()),e=$("<tr/>"),a=AppData.docs?AppData.docs.length:0;$("<th/>").text("").css("width","45px").appendTo(e),$("<th/>").text("Title").appendTo(e),$("<th/>").text("Type").appendTo(e),$("<th/>").text("Tags").appendTo(e),$("<th/>").text("Filename").appendTo(e),$("<th/>").text("Group").appendTo(e),$("<th/>").text("Actions").appendTo(e),e.appendTo(t),$(".docsListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.docs,(function(e,a){var o=$("<tr/>");o.addClass("ddClassDocs"),function(t,e){t.attr("data-id",e.id).toggleClass("color-red",!1===e.active||void 0===e.active),t.attr("data-id",e.id).addClass(e.status||""),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').css("width","45px").attr("nowrap","nowrap").appendTo(t),$("<td/>").text(e.title[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(t),$("<td/>").text("useful"==e.type?"info":"docs").attr("nowrap","nowrap").appendTo(t),$("<td/>").text(null!=e.tags?e.tags[AppData.settings.lang]:"").attr("nowrap","nowrap").appendTo(t),$("<td/>").text(e.files[AppData.settings.lang]?e.files[AppData.settings.lang].filename:"").attr("nowrap","nowrap").appendTo(t);var a=AppData.docsgroups.find((function(t){return t.id===e.group}));$("<td/>").text(void 0!==e.group&&""!==e.group&&void 0!==a?a.title[localState.lang]:"").attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button data-id="'+e.id+'" data-active="true"  class="btn activeDocs '+(!0===e.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check" title="Active"></i></button><button data-id="'+e.id+'" data-active="false" class="btn activeDocs '+(!1===e.active||void 0===e.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"  title="Inactive"></i></button>').attr("nowrap","nowrap").appendTo(t)}(o,a),o.appendTo(t),o=null})),$("main#docs").find(".docsTitle").text(a+" document(s)"),$("main#docs").find(".docsList").html(t),t=e=a=null}function i(){$.post("api/",{do:"getDocs"},(function(t){AppData.docs=t,n(),t=null}))}function s(){Layout.buildLanguageTabs("#docs-details",a),$("#docs-details .filename_display").hide(),$("#docs, #docs-details").toggle(),$("#docs-details .preview").hide(),$("#docs-details").find(".actions .remove").hide();var t=(AppData.docs?AppData.docs.length:0)+1;$("#docs-details").find('[name="sort_id"]').val(t),d(),setReqOnFieldsByLang("docs",a)}function d(t){$(".tags_show").toggle("Document"==$(".type_change option:selected").text())}function c(){o();var t=$(document.createDocumentFragment());$("<option/>").val("").text("").appendTo(t),$.each(AppData.docsgroups,(function(e,a){"1"===a.is_active&&$("<option/>").val(a.id).text(a.title[localState.lang]).appendTo(t)})),$("#docs-details").find("[name=group]").html(t)}return $(document).on("click","#docs .actions .exportJson",(function(e){e.stopPropagation(),t.exportJson()})).on("click","#docs .actions .importJson",(function(e){e.stopPropagation(),t.openModalWindow()})).on("input","#docs .search input",(function(){var t=new RegExp(strCanonical(this.value),"i");$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#docs .docsList tr[data-id]").each((function(e,a){$(a).toggle(t.test(strCanonical($(a).text().split(" ").join(""))))}))})).on("click","#docs .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click","#docs .docsList tr[data-id]",(function(){var t=$("#docs-details"),e=this.dataset.id,o=AppData.docs.find((function(t){return t.id===e}));void 0===o.active&&(o.active=!1),void 0===o.showfavoritebutton&&(o.showfavoritebutton=!1),"agendadoc"===o.type&&(o.type=!0),$.each(o,(function(e,a){t.find('[name="'+e+'"]').val(String(a)||""),"boolean"==typeof a?t.find('[name="'+e+'"]').prop("checked",a):t.find('[name="'+e+'"]').val(String(a)||"")})),o.files[AppData.settings.lang]&&$("#docs-details embed").attr("src","./pdfjs/web/viewer.html?file=../../upload/docs/"+o.files[AppData.settings.lang].filename),$("#docs-details").find(".actions .remove").show(),$("#docs-details .preview").hide(),$("#docs, #docs-details").toggle(),Layout.buildLanguageTabs("#docs-details",a,o),$("#docs-details .filename_display").show(),setReqOnFieldsByLang("docs",a),t=e=o=null,d()})).on("click","#docs .docsList .activeDocs",(function(t){t.stopPropagation();var e=new FormData;e.append("do","updateDocsActive"),e.append("id",this.dataset.id),e.append("active",this.dataset.active),$.ajax({url:"api/",type:"post",dataType:"text",contentType:!1,processData:!1,data:e,cache:!1,success:function(t){AppData.docs=t,i(),Socket.Send("Docs.BuildFromSource",!0)},error:function(t){console.log("Error: "+t)}})})).on("click","#docs-details .close",(function(){$("#docs, #docs-details").toggle(),$("#docs-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)})).on("click","#docs-details .remove",(function(t){t.preventDefault();var e=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeDoc",data:e},(function(t){AppData.docs=t,Socket.Send("Docs.BuildFromSource",!0),n(),e=t=null})),$("#docs, #docs-details").toggle(),$("#docs-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)}))})).on("change","#docs-details .type_change",d).on("submit","#docs-details form",(function(t){t.preventDefault();var e=$(this).serializeObject(),a=!0;a=JSON.stringify(e)!==JSON.stringify(AppData.docs.find((function(t){return t.id===e.id})));var o=new FormData($(this).get(0));o.append("do","saveDoc");var i=o.getAll("type");if(o.delete("type"),o.append("type",0!==i.length?"agendadoc":""),o.append("showfavoritebutton",void 0!==e.showfavoritebutton),$("#docs, #docs-details").toggle(),$("#docs-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),!a)return e=a=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:o,success:function(t){AppData.docs=t,Socket.Send("Docs.BuildFromSource",!0),Socket.Send("Useful.BuildFromSource",!0),n(),e=a=t=null}})})),{Init:function(){$(document).on("click","main#docs .actions .new",s),n(),DragAndDrop.Init({container:".docsList",rowcontainer:".ddClassDocs",dbname:"docs",socketupdate:"Docs.BuildFromSource"}),(t=new JsonExportImport).Init({module:"docs",file:"docs.json",callback:function(t){i(),Socket.Send("Docs.BuildFromSource",!0)}}),c(),Layout.addTabs("docs",e),delete Docs.Init},BuildFromSource:i,optionsDocsGroups:c}}();
var Days=function(){"use strict";var a=[{target:"agenda",title:"Agenda",active:!1},{target:"days",title:"Event Days",active:!0}],t=[{templateName:"name",name:"name"}],e=!0;function d(){AppData.days.sort((function(a,t){return AppData.modulsettings.agendasortbyorder?void 0!==a.sort_id&&void 0!==t.sort_id?parseInt(a.sort_id)>parseInt(t.sort_id)?1:-1:void 0:a.date.localeCompare(t.date)}))}function i(){d();var a=$(document.createDocumentFragment()),t=$("<tr/>"),e=AppData.days?AppData.days.length:0;$("<th/>").text("").appendTo(t),$("<th/>").text("Date").appendTo(t),$("<th/>").text("Name").appendTo(t),$("<th/>").text("Actions").appendTo(t),t.appendTo(a),$.each(AppData.days,(function(t,e){var d,i,n=$("<tr/>");n.addClass("ddClassDays"),i=e,(d=n).attr("data-id",i.id).toggleClass("color-red",!1===i.active),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(d),$("<td/>").text(i.date).attr("nowrap","nowrap").appendTo(d),$("<td/>").text(Language.getTranslation(i.name,AppData.settings.lang)).attr("nowrap","nowrap").appendTo(d),$("<td/>").html('<button data-id="'+i.id+'" data-active="true"  class="btn activeDays '+(!0===i.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+i.id+'" data-active="false" class="btn activeDays '+(!1===i.active||void 0===i.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').appendTo(d),n.appendTo(a),n=null})),$("main#days").find(".daysTitle").text(e+" event days"),$("main#days").find(".daysList").html(a),a=t=e=null}return $(document).on("click","#days .daysList tr[data-id]",(function(){var a=$("#days-details"),e=this.dataset.id,d=AppData.days.find((function(a){return a.id===e}));void 0===d.active&&(d.active=!1),$.each(d,(function(t,e){a.find("[name="+t+"]").val(String(e)||"")})),$("#days, #days-details").toggle(),$("#days-details").find(".actions .remove").show(),$("#days-details .color").off().colorPicker({opacity:!1,renderCallback:function(a,t){a.val("#"+this.color.colors.HEX)}}),Layout.buildLanguageTabs("#days-details",t,d),setReqOnFieldsByLang("days",t),writeDbLog("DAYS","modify"+(void 0!==e?" - "+e:""),"admin_logs"),a=e=d=null})).on("click","#days .daysList .activeDays",(function(a){a.stopPropagation();var t=new FormData;t.append("do","updateDaysActive"),t.append("id",this.dataset.id),t.append("active",this.dataset.active),writeDbLog("DAYS","active"+(void 0!==this.dataset.id?" - "+this.dataset.id:"")+(void 0!==this.dataset.active?" - "+this.dataset.active:""),"admin_logs"),$.ajax({url:"api/",data:t,type:"post",dataType:"json",contentType:!1,processData:!1,cache:!1,success:function(a){AppData.days=a,i(),Socket.Send("Agenda.BuildFromSourceWidthSelectedDay",!0)},error:function(a){console.log("Error: "+a)}})})).on("click","#days .actions .new",(function(){var a=$("#days-details");$("#days, #days-details").toggle(),$("#days-details").find(".actions .remove").hide(),a.find("form").find("input").val(""),a=null,$("#days-details .color").val("#000000"),$("#days-details .color").off().colorPicker({opacity:!1,renderCallback:function(a,t){a.val("#"+this.color.colors.HEX)}});var e=(AppData.days?AppData.days.length:0)+1;$("#days-details").find('[name ="sort_id"]').val(e),Layout.buildLanguageTabs("#days-details",t),setReqOnFieldsByLang("days",t),writeDbLog("DAYS","new","admin_logs")})).on("click","#days-details .close",(function(){$("#days, #days-details").toggle(),$("#days-details form").find("input").val(""),writeDbLog("DAYS","close","admin_logs")})).on("click","#days-details .remove",(function(a){a.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){if(writeDbLog("DAYS","remove"+(void 0!==t?" - "+t:""),"admin_logs"),null!=AppData.agenda.find((function(a){return a.day==t})))return Modal.alert("This day has at least one program associated. It cannot be deleted."),!1;$.post("api/",{do:"removeDays",data:t},(function(a){AppData.days=a,Socket.Send("refreshDays",!0),i(),t=a=null})),$("#days, #days-details").toggle(),$("#days-details form").find("input").val("")}))})).on("click","#days-details .remove_with_programs",(function(a){a.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm("Are you sure you want to delete this day? All associated programs will be deleted!",(function(){writeDbLog("DAYS","remove width programs"+(void 0!==t?" - "+t:""),"admin_logs"),$.post("api/",{do:"removeDaysWithProgram",data:t},(function(a){AppData.days=a.days,AppData.agenda=a.agenda,Agenda.BuildFromSource(),Socket.Send("refreshDays",!0),Socket.Send("FavoriteAgenda.BuildFromSource",!0,{client:"client"}),i(),t=a=null})),$("#days, #days-details").toggle(),$("#days-details form").find("input").val("")}))})).on("submit","#days-details form",(function(a){a.preventDefault();var t=$(this).serializeObject(),e=!0;e=JSON.stringify(t)!==JSON.stringify(AppData.users.find((function(a){return a.id===t.id})));var d=$(this).serialize();if(d+="&do=saveDays",writeDbLog("DAYS","save"+(void 0!==t.id&&""!==t.id?" - "+t.id:""),"admin_logs"),$("#days, #days-details").toggle(),$("#days-details form").find("input").val(""),!e)return t=e=null,!1;$.post("api/",d,(function(a){AppData.days=a,i(),Socket.Send("refreshDays",!0),Agenda.buildOptionsDay($("#agenda-details")),Agenda.getAgendaFilterOptions(),t=e=a=null}))})),{Init:function(){i(),$("#eventdaydate").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showAnim:"fadeIn",showOtherMonths:!0,selectOtherMonths:!0,firstDay:1}),DragAndDrop.Init({container:".daysList",rowcontainer:".ddClassDays",dbname:"days",socketupdate:"Days.BuildFromSource"}),e&&(e=!1,$("#days-details .color").off().colorPicker({opacity:!1,renderCallback:function(a,t){a.val("#"+this.color.colors.HEX)}}),$(document).on("blur","#days-details .color",(function(){$(this).trigger("change")})),Layout.addTabs("days",a))},renderList:i,BuildFromSource:function(){$.post("api/",{do:"getDays"},(function(a){AppData.days=a,d(),i(),a=null}))}}}();
var Docsgroups=function(){"use strict";var o=[{target:"docs",title:"Documents",active:!1},{target:"docsgroups",title:"Groups",active:!0}],t=[{templateName:"title",name:"title"}];function s(){AppData.docsgroups.sort((function(o,t){return void 0!==o.sort_id&&void 0!==t.sort_id?parseInt(o.sort_id)>parseInt(t.sort_id)?1:-1:0}))}function a(){s();var o=$(document.createDocumentFragment()),t=$("<tr/>"),a=AppData.docsgroups?AppData.docsgroups.length:0;$("<th/>").text("").appendTo(t),$("<th/>").text("Name").appendTo(t),$("<th/>").text("Actions").appendTo(t),t.appendTo(o),$.each(AppData.docsgroups,(function(t,s){var a,i,e=$("<tr/>");e.addClass("ddclassDocsgroups"),i=s,(a=e).attr("data-id",i.id).toggleClass("color-red",!1===i.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(a),$("<td/>").text(i.title[localState.lang]).attr("nowrap","nowrap").appendTo(a),$("<td/>").html('<button data-id="'+i.id+'" data-active="true"  class="btn activeGroupsDocs '+("1"===i.is_active?"activeBtn":"")+'" title="Active"><i class="fa fa-check" title="Active"></i></button><button data-id="'+i.id+'" data-active="false" class="btn activeGroupsDocs '+("0"===i.is_active||void 0===i.is_active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"  title="Inactive"></i></button>').appendTo(a),e.appendTo(o),e=null})),$("main#docsgroups").find(".docsGroupsTitle").text(a+" group(s)"),$("main#docsgroups").find(".docsGroupsList").html(o),o=t=a=null}function i(){$.post("api/",{do:"getDocsGroups"},(function(o){AppData.docsgroups=o,s(),a(),o=null}))}return $(document).on("click","#docsgroups .docsGroupsList tr[data-id]",(function(){var o=$("#docsgroups-details"),s=this.dataset.id,a=AppData.docsgroups.find((function(o){return o.id===s}));Layout.buildLanguageTabs("#docsgroups-details",t,a),$.each(a,(function(t,s){o.find("[name="+t+"]").val(String(s)||"")})),$("#docsgroups, #docsgroups-details").toggle(),$("#docsgroups-details").find(".actions .remove").show(),$("#docsgroups-details .color").off().colorPicker({opacity:!1}),o=s=a=null})).on("click","#docsgroups .docsGroupsList .activeGroupsDocs",(function(o){o.stopPropagation();var t=new FormData;t.append("do","updateGroupsDocsActive"),t.append("id",this.dataset.id),t.append("active",this.dataset.active),$.ajax({url:"api/",type:"post",dataType:"json",contentType:!1,processData:!1,data:t,cache:!1,success:function(o){AppData.docsgroups=o,i(),Socket.Send("Docs.BuildFromSource",!0),Docs.optionsDocsGroups()},error:function(o){console.log("Error: "+o)}})})).on("click","#docsgroups .actions .new",(function(){Layout.buildLanguageTabs("#docsgroups-details",t);var o=$("#docsgroups-details");$("#docsgroups, #docsgroups-details").toggle(),$("#docsgroups-details").find(".actions .remove").hide(),o.find("form").find("input").val(""),o.find("form").find("[name=is_active]").val("1"),$("#docsgroups-details .color").val("#555555"),$("#docsgroups-details .color").off().colorPicker({opacity:!1});var s=(AppData.docsgroups?AppData.docsgroups.length:0)+1;$("#docsgroups-details").find('[name ="sort_id"]').val(s),o=null})).on("click","#docsgroups-details .close",(function(){$("#docsgroups, #docsgroups-details").toggle(),$("#docsgroups-details form").find("input").val("")})).on("click","#docsgroups-details .remove",(function(o){o.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){if(null!=AppData.docs.find((function(o){return o.group==t})))return Modal.alert("This group has at least one link associated. It cannot be deleted."),!1;$.post("api/",{do:"removeDocsGroup",data:t},(function(o){AppData.docsgroups=o,a(),Docs.optionsDocsGroups(),t=o=null})),$("#docsgroups, #docsgroups-details").toggle(),$("#docsgroups-details form").find("input").val("")}))})).on("submit","#docsgroups-details form",(function(o){o.preventDefault();var t=$(this).serializeObject(),s=!0;if(s=JSON.stringify(t)!==JSON.stringify(AppData.docsgroups.find((function(o){return o.id===t.id}))),$("#docsgroups, #docsgroups-details").toggle(),$("#docsgroups-details form").find("input, select").val(""),!s)return t=s=null,!1;var i=new FormData;i.append("title[en]",t["title[en]"]),i.append("title[hu]",t["title[hu]"]),i.append("sort_id",t.sort_id),i.append("is_active",t.is_active),i.append("id",t.id),i.append("do","saveDocsGroup"),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:i,success:function(o){AppData.docsgroups=o,a(),Docs.optionsDocsGroups(),t=s=o=null}})})),{Init:function(){a();var t={container:".docsGroupsList",rowcontainer:".ddclassDocsgroups",dbname:"docsgroups",callback:function(o){Docs.optionsDocsGroups()}};DragAndDrop.Init(t),Layout.addTabs("docsgroups",o)},renderList:a,BuildFromSource:i}}();
var Emailmessages=function(){"use strict";var e=[{target:"emailtargetgroups",title:"Target groups",active:!1},{target:"emailmessages",title:"Messages",active:!0},{target:"uploadsettings",title:"Attachments",active:!1}],a=[{templateName:"subject",name:"subject"},{templateName:"body",name:"body"},{templateName:"attachment",name:"attachment"},{templateName:"added_attachments",name:"added_attachments",static:!0}];let t={};function s(){AppData.emailmessages.sort((function(e,a){return e.subject[localState.lang].localeCompare(a.subject[localState.lang])}))}function i(){s();var e=$(document.createDocumentFragment()),a=$("<tr/>"),t=AppData.emailmessages?AppData.emailmessages.length:0;$("<th/>").text("Subject").appendTo(a),$("<th/>").text("Target group").appendTo(a),$("<th/>").text("Queued").appendTo(a),$("<th/>").text("Sent").appendTo(a),a.appendTo(e),$.each(AppData.emailmessages,(function(a,t){var s,i,n=$("<tr/>");i=t,(s=n).attr("data-id",i.id),$("<td/>").text(i.subject[localState.lang]).attr("nowrap","nowrap").appendTo(s),$("<td/>").text(i.target_title).attr("nowrap","nowrap").appendTo(s),$("<td/>").text(i.queued).attr("nowrap","nowrap").appendTo(s),$("<td/>").text(i.sent).attr("nowrap","nowrap").appendTo(s),n.appendTo(e),n=null})),$("main#emailmessages").find(".emailmessagesTitle").text(t+" groups"),$("main#emailmessages").find(".emailmessagesList").html(e),e=a=t=null}function n(){$.post("api/",{do:"getEmailMessages"},(function(e){AppData.emailmessages=e,s(),i(),e=null}))}function l(){var e=$(document.createDocumentFragment());$.each(AppData.email_target_groups,(function(a,t){$("<option/>",{value:t.id,text:t.title}).appendTo(e)})),$('#emailmessages-details select[name="target_group_id"]').html(e)}function m(){var e=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(e),$.each(AppData.medias,(function(a,t){"attachment"==t.type&&$("<option/>",{value:t.id,text:t.title[localState.lang]}).appendTo(e)})),$("#emailmessages-details .attachment").html(e)}let d=!1;let o=!1;return $(document).on("click","#emailmessages .emailmessagesList tr[data-id]",(function(){var e=$("#emailmessages-details"),s=this.dataset.id,i=AppData.emailmessages.find((function(e){return e.id===s}));l(),$.each(i,(function(a,t){e.find("[name="+a+"]").val(String(t)||"")})),$("#emailmessages, #emailmessages-details").toggle(),$("#emailmessages-details").find(".actions .remove").show(),$("#emailmessages-details").find(".actions .send").show(),Layout.buildLanguageTabs("#emailmessages-details",a,i),m();for(let e in i.attachments)if(null!=i.attachments[e]&&null!=i.attachments[e]&&""!=i.attachments[e]){let a=i.attachments[e].split(",");t[e]=a;for(let t in a){let s=AppData.medias.find((function(e){return e.id==a[t]}));$(".added_attachments\\["+e+"\\]").append('<div class="added_attachment" data-lang="'+e+'" data-attachmentid="'+s.id+'">'+s.title[localState.lang]+' <i class="fas fa-trash remove-attachment"></i></div>')}}setReqOnFieldsByLang("emailmessages",a),e=s=i=null})).on("click","#emailmessages .actions .new",(function(){var e=$("#emailmessages-details");$("#emailmessages, #emailmessages-details").toggle(),$("#emailmessages-details").find(".actions .remove").hide(),$("#emailmessages-details").find(".actions .send").hide(),l(),e.find("form").find("input").val(""),Layout.buildLanguageTabs("#emailmessages-details",a),m(),t={},setReqOnFieldsByLang("emailmessages",a),e=null})).on("click","#emailmessages-details .close",(function(){$("#emailmessages, #emailmessages-details").toggle(),$("#emailmessages-details form").find("input").val("")})).on("click","#emailmessages-details .remove",(function(e){e.preventDefault();var a=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeEmailMessages",data:a},(function(e){AppData.emailmessages=e,i(),a=e=null})),$("#emailmessages, #emailmessages-details").toggle(),$("#emailmessages-details form").find("input").val("")}))})).on("click","#emailmessages-details .send",(function(){if(!d){d=!0;let e=$(this).closest("form").find("[name=id]").val();$.ajax({method:"post",url:"api/",data:{do:"checkQueuedEmails",id:e},success:function(a){let t="";t=parseInt(a.queued)>0?"This e-mail has been added to the sending queue already. Add again?":"Are you sure?",function(e,a){Modal.confirmWithDismiss(a,(function(){$.ajax({method:"post",url:"api/",data:{do:"queueEmails",id:e},success:function(e){d=!1,Modal.alert("Success! Messages will be sent."),n()},error:function(){d=!1,Modal.alert("Error queueing.")}})}),(function(){d=!1}))}(e,t)}})}})).on("click","#emailmessages-details .send_test",(function(){let e=$("#emailmessages-details .test_email").val(),a=$(this).closest("form").find("[name=id]").val();Modal.confirm("Send test email to: "+e+"?",(function(){o=!0,$.ajax({method:"post",url:"api/",data:{do:"sendTestMail",id:a,test_email:e},success:function(e){o=!1},error:function(){o=!1}})}))})).on("click","#emailmessages-details .add_attachment",(function(){let e=$(this).closest(".lang"),a=e.attr("data-lang"),s=e.find(".attachment"),i=s.val();if(null==t[a]&&(t[a]=[]),t[a].indexOf(i)>-1)return void Modal.alert("This attachment has already been added.");if(""==i)return void Modal.alert("Please select an attachment.");let n=AppData.medias.find((function(e){return e.id==i}));$(".added_attachments\\["+a+"\\]",e).append('<div class="added_attachment" data-lang="'+a+'" data-attachmentid="'+n.id+'">'+n.title[localState.lang]+' <i class="fas fa-trash remove-attachment"></i></div>'),t[a].push(n.id),s.val("")})).on("click","#emailmessages-details .remove-attachment",(function(){let e=$(this).closest(".added_attachment"),a=e.attr("data-lang"),s=e.attr("data-attachmentid"),i=t[a].indexOf(s);t[a].splice(i,1),e.remove()})).on("submit","#emailmessages-details form",(function(e){e.preventDefault();var a=$(this).serializeObject(),s=!0;s=JSON.stringify(a)!==JSON.stringify(AppData.users.find((function(e){return e.id===a.id})));let n=new FormData($(this).get(0));n.append("do","saveEmailMessages");for(let e in t)n.append("attachments["+e+"]",t[e]);if($("#emailmessages, #emailmessages-details").toggle(),$("#emailmessages-details form").find("input").val(""),!s)return a=s=null,!1;$.ajax({method:"post",url:"api/",data:n,processData:!1,contentType:!1,success:function(e){AppData.emailmessages=e,i(),t={}}})})),{Init:function(){i(),$("#emailmessages .send_queue").on("click",(function(){Modal.confirm("Are you sure?",(function(){window.open("api/?do=sendMailQueue&mail_key=AxCH095U7Acb34rkrDvRG1CPt6TWJKG9WMqeMSNnG2Xs7rvBoySrlPHS4jlksPIi")}))})),Layout.addTabs("emailmessages",e)},renderList:i,BuildFromSource:n}}();
var Emailtargetgroups=function(){"use strict";var t=[{target:"emailtargetgroups",title:"Target groups",active:!0},{target:"emailmessages",title:"Messages",active:!1},{target:"uploadsettings",title:"Attachments",active:!1}];function e(){AppData.email_target_groups.sort((function(t,e){return t.title.localeCompare(e.title)}))}function a(){e();var t=$(document.createDocumentFragment()),a=$("<tr/>"),r=AppData.email_target_groups?AppData.email_target_groups.length:0;$("<th/>").text("Name").appendTo(a),$("<th/>").text("User count").appendTo(a),a.appendTo(t),$.each(AppData.email_target_groups,(function(e,a){var r,i,o=$("<tr/>");i=a,(r=o).attr("data-id",i.id),$("<td/>").text(i.title).attr("nowrap","nowrap").appendTo(r),$("<td/>").text(i.all_count).attr("nowrap","nowrap").appendTo(r),o.appendTo(t),o=null})),$("main#emailtargetgroups").find(".emailtargetgroupsTitle").text(r+" groups"),$("main#emailtargetgroups").find(".emailtargetgroupsList").html(t),t=a=r=null}function r(){$.post("api/",{do:"getEmailTargetGroups"},(function(t){AppData.email_target_groups=t,e(),a(),t=null}))}function i(t){var e=$(document.createDocumentFragment()),a=$("<tr/>"),r=t?t.length:0;$("<th/>").text("Name").appendTo(a),$("<th/>").text("Email").appendTo(a),$("<th/>").text("Actions").appendTo(a),a.appendTo(e),$.each(t,(function(t,a){var r=$("<tr/>");!function(t,e){t.attr("data-id",e.id),$("<td/>").text(e.name[localState.lang]).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(e.email).attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button class="btn removeUser" title="Remove user"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(t)}(r,a),r.appendTo(e),r=null})),$("main#emailtargetgroups-details").find(".added_users_listTitle").text(r+" users"),$("main#emailtargetgroups-details").find(".added_users_list").html(e),e=a=r=null}return $(document).on("click","#emailtargetgroups .emailtargetgroupsList tr[data-id]",(function(){var t=$("#emailtargetgroups-details"),e=this.dataset.id,a=AppData.email_target_groups.find((function(t){return t.id===e}));$("main#emailtargetgroups-details").find(".added_users_listTitle").text("0 users"),$("main#emailtargetgroups-details").find(".added_users_list").html(""),$.ajax({method:"post",url:"api/",data:{do:"getTargetUsers",tid:e},success:function(t){i(t)}}),$.each(a,(function(e,a){t.find("[name="+e+"]").val(String(a)||"")})),$("#emailtargetgroups, #emailtargetgroups-details").toggle(),$("#emailtargetgroups-details").find(".actions .remove").show(),t=e=a=null})).on("click","#emailtargetgroups .actions .new",(function(){var t=$("#emailtargetgroups-details");$("#emailtargetgroups, #emailtargetgroups-details").toggle(),$("#emailtargetgroups-details").find(".actions .remove").hide(),t.find("form").find("input").val(""),t=null})).on("click","#emailtargetgroups-details .close",(function(){$("#emailtargetgroups, #emailtargetgroups-details").toggle(),$("#emailtargetgroups-details form").find("input").val("")})).on("click","#emailtargetgroups-details .remove",(function(t){t.preventDefault();var e=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeEmailTargetGroups",data:e},(function(t){AppData.email_target_groups=t,a(),Users.buildTargetGroupsSelect(),e=t=null})),$("#emailtargetgroups, #emailtargetgroups-details").toggle(),$("#emailtargetgroups-details form").find("input").val("")}))})).on("click","#emailtargetgroups-details .added_users_list .removeUser",(function(t){t.preventDefault();let e=$("#emailtargetgroups-details form").find("[name=id]").val(),a=$(this).closest("tr").attr("data-id"),i=$(this);$.ajax({method:"post",url:"api/",data:{do:"removeTargetUser",tid:e,uid:a},success:function(t){i.closest("tr").remove(),Modal.alert("User deleted from list."),$("main#emailtargetgroups-details").find(".added_users_listTitle").text(t.count+" users"),r()}})})).on("submit","#emailtargetgroups-details form",(function(t){t.preventDefault();var e=$(this).serializeObject(),r=!0;r=JSON.stringify(e)!==JSON.stringify(AppData.users.find((function(t){return t.id===e.id})));var i=$(this).serialize();if(i+="&do=saveEmailTargetGroups",$("#emailtargetgroups, #emailtargetgroups-details").toggle(),$("#emailtargetgroups-details form").find("input").val(""),!r)return e=r=null,!1;$.post("api/",i,(function(t){AppData.email_target_groups=t,a(),Users.buildTargetGroupsSelect(),e=r=t=null}))})),{Init:function(){a(),Layout.addTabs("emailtargetgroups",t)},renderList:a,BuildFromSource:r}}();
var Gallery=function(){"use strict";var e,a=[{templateName:"title",name:"title"},{templateName:"description",name:"description"}];function l(){AppData.gallery.sort((function(e,a){return void 0!==e.sort_id&&void 0!==a.sort_id?parseInt(e.sort_id)>parseInt(a.sort_id)?1:-1:0}));var e=$(document.createDocumentFragment()),a=$("<tr/>"),l=AppData.gallery?AppData.gallery.length:0;$("<th/>").text("").css("width","45px").appendTo(a),$("<th/>").text("Title").appendTo(a),a.appendTo(e),$(".galleryListThead").html(e),e=$(document.createDocumentFragment()),$.each(AppData.gallery,(function(a,l){var t,i,r=$("<tr/>");r.addClass("ddClassGallery"),i=l,(t=r).attr("data-id",i.id).toggleClass("color-red",!1===i.visible),t.attr("data-id",i.id).addClass(i.status||""),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').css("width","45px").attr("nowrap","nowrap").appendTo(t),$("<td/>").html(i.title[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(t),r.appendTo(e),r=null})),$("main#gallery").find(".galleryTitle").text(l+" document(s)"),$("main#gallery").find(".galleryList").html(e),e=a=l=null}function t(){$.post("api/",{do:"getGallery"},(function(e){AppData.gallery=e,l(),e=null}))}function i(){Layout.buildLanguageTabs("#gallery-details",a),setReqOnFieldsByLang("gallery",a),$("#gallery, #gallery-details").toggle(),$("#gallery-details").find(".actions .remove").hide();var e=(AppData.gallery?AppData.gallery.length:0)+1;$("#gallery-details").find('[name ="sort_id"]').val(e),writeDbLog("GALLERY","new","admin_logs")}function r(){var e=$(this).parent().attr("data-index"),a=$(this).attr("data-deletetype"),l=$("[name='id']",$(this).closest("form")).val(),t=$(this);$.ajax({method:"post",url:"api/",data:{do:"deleteImage",id:e,gallery_id:l,deletetype:a},success:function(e){AppData.gallery=e.gallery,t.parent().remove(),Socket.Send("Gallery.BuildFromSource",null),1==a&&e.user&&Socket.Send("Photos.buildFromSource",{},{uid:e.user})}})}return $(document).on("input","#gallery .search input",(function(){var e=new RegExp(strCanonical(this.value),"i");$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#gallery .galleryList tr[data-id]").each((function(a,l){$(l).toggle(e.test(strCanonical($(l).text().split(" ").join(""))))}))})).on("click","#gallery .actions .exportJson",(function(a){a.stopPropagation(),e.exportJson(),writeDbLog("GALLERY","export json","admin_logs")})).on("click","#gallery .actions .importJson",(function(a){a.stopPropagation(),e.openModalWindow(),writeDbLog("GALLERY","import json","admin_logs")})).on("click","#gallery .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click","#gallery .galleryList tr[data-id]",(function(){var e=$("#gallery-details"),l=this.dataset.id,t=AppData.gallery.find((function(e){return e.id===l}));$.each(t,(function(a,l){e.find("[name="+a+"]").val(l.toString()||"")})),$("#gallery-details").find(".actions .remove").show(),$("#gallery-details .preview").hide(),$("#gallery, #gallery-details").toggle(),Layout.buildLanguageTabs("#gallery-details",a,t);var i=$("#gallery-details .gallery_images");i.empty(),$.each(t.images,(function(e,a){var l=$("<div/>").addClass("gallery_image_item").attr("data-index",a.id).css({"background-image":"url('upload/user_photos/"+a.filename+"')"}),t=$("<div/>").addClass("moderate");a.moderated?t.addClass("approved").html("Approved"):t.addClass("not-approved").html("Not approved");var r=$("<div/>").addClass("delimage").attr("data-deletetype",1).html("Delete"),o=$("<div/>").addClass("delimagefromgallery").attr("data-deletetype",2).html("Delete from gallery");l.append(r),l.append(o),l.append(t),i.append(l)})),setReqOnFieldsByLang("gallery",a),writeDbLog("GALLERY","modify"+(void 0!==l?" + "+l:""),"admin_logs"),e=l=t=null})).on("click","#gallery-details .close",(function(){$("#gallery, #gallery-details").toggle(),$("#gallery-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),writeDbLog("GALLERY","close","admin_logs")})).on("click","#gallery-details .remove",(function(e){e.preventDefault();var a=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("GALLERY","remove"+(void 0!==a?" - "+a:""),"admin_logs"),$.post("api/",{do:"removeGallery",data:a},(function(e){AppData.gallery=e,Socket.Send("Gallery.BuildFromSource",!0),l(),a=e=null})),$("#gallery, #gallery-details").toggle(),$("#gallery-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)}))})).on("click","#gallery-details .gallery_images .moderate",(function(){var e=$(this).parent().attr("data-index"),a=$(this);$.ajax({method:"post",url:"api/",data:{do:"moderateImage",id:e},success:function(e){e.photo.moderated?a.removeClass("not-approved").addClass("approved").html("Approved"):a.removeClass("approved").addClass("not-approved").html("Not approved"),AppData.gallery=e.gallery,Socket.Send("Gallery.BuildFromSource",null)}})})).on("click","#gallery-details .gallery_images .delimage",r).on("click","#gallery-details .gallery_images .delimagefromgallery",r).on("submit","#gallery-details form",(function(e){e.preventDefault();var a=$(this).serializeObject(),t=!0;t=JSON.stringify(a)!==JSON.stringify(AppData.gallery.find((function(e){return e.id===a.id})));var i=$(this).serialize();if(i+="&do=saveGallery",writeDbLog("GALLERY","submit"+(void 0!==a.id&&""!==a.id?" - "+a.id:""),"admin_logs"),$("#gallery, #gallery-details").toggle(),$("#gallery-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),!t)return a=t=null,!1;$.ajax({method:"post",url:"api/",data:i,success:function(e){AppData.gallery=e,Socket.Send("Gallery.BuildFromSource",!0),l(),a=t=e=null}})})),{Init:function(){$(document).on("click","main#gallery .actions .new",i),l(),DragAndDrop.Init({container:".galleryList",rowcontainer:".ddClassGallery",dbname:"gallery",socketupdate:"Gallery.BuildFromSource"}),(e=new JsonExportImport).Init({module:"gallery",file:"gallery.json",callback:function(e){t(),Socket.Send("Gallery.BuildFromSource",!0)}}),delete Gallery.Init},BuildFromSource:t}}();
var Games=function(){"use strict";var e=[{templateName:"title",name:"title"},{templateName:"tags",name:"tags"},{templateName:"file",name:"file"},{templateName:"filename",name:"filename",static:!0,arrayname:"files"}];function a(){AppData.games.sort((function(e,a){return void 0!==e.sort_id&&void 0!==a.sort_id?parseInt(e.sort_id)>parseInt(a.sort_id)?1:-1:0}));var e=$(document.createDocumentFragment()),a=$("<tr/>"),t=AppData.games?AppData.games.length:0;$("<th/>").text("").css("width","45px").appendTo(a),$("<th/>").text("Title").appendTo(a),$("<th/>").text("Type").appendTo(a),$("<th/>").text("Tags").appendTo(a),$("<th/>").text("Filename").appendTo(a),$("<th/>").text("Actions").appendTo(a),a.appendTo(e),$(".gamesListThead").html(e),e=$(document.createDocumentFragment()),$.each(AppData.games,(function(a,t){var i,s,n=$("<tr/>");n.addClass("ddClassGames"),s=t,(i=n).attr("data-id",s.id).toggleClass("color-red",!1===s.active||void 0===s.active),i.attr("data-id",s.id).addClass(s.status||""),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').css("width","45px").attr("nowrap","nowrap").appendTo(i),$("<td/>").text(s.title[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(i),$("<td/>").text("useful"==s.type?"info":"games").attr("nowrap","nowrap").appendTo(i),$("<td/>").text(null!=s.tags?s.tags[AppData.settings.lang]:"").attr("nowrap","nowrap").appendTo(i),$("<td/>").text(s.files[AppData.settings.lang]?s.files[AppData.settings.lang].filename:"").attr("nowrap","nowrap").appendTo(i),$("<td/>").html('<button data-id="'+s.id+'" data-active="true"  class="btn activeGames '+(!0===s.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check" title="Active"></i></button><button data-id="'+s.id+'" data-active="false" class="btn activeGames '+(!1===s.active||void 0===s.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"  title="Inactive"></i></button>').attr("nowrap","nowrap").appendTo(i),n.appendTo(e),n=null})),$("main#games").find(".gamesTitle").text(t+" document(s)"),$("main#games").find(".gamesList").html(e),e=a=t=null}function t(){$.post("api/",{do:"getGames"},(function(e){AppData.games=e,a(),e=null}))}function i(){Layout.buildLanguageTabs("#games-details",e),$("#games-details .filename_display").hide(),$("#games, #games-details").toggle(),$("#games-details .preview").hide(),$("#games-details").find(".actions .remove").hide();var a=(AppData.games?AppData.games.length:0)+1;$("#games-details").find('[name ="sort_id"]').val(a),s(),setReqOnFieldsByLang("games",e)}function s(e){$(".tags_show").toggle("Document"==$(".type_change option:selected").text())}return $(document).on("input","#games .search input",(function(){var e=new RegExp(strCanonical(this.value),"i");$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#games .gamesList tr[data-id]").each((function(a,t){$(t).toggle(e.test(strCanonical($(t).text().split(" ").join(""))))}))})).on("click","#games .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click","#games .gamesList tr[data-id]",(function(){var a=$("#games-details"),t=this.dataset.id,i=AppData.games.find((function(e){return e.id===t}));void 0===i.active&&(i.active=!1),$.each(i,(function(e,t){a.find("[name="+e+"]").val(t.toString()||"")})),i.files[AppData.settings.lang]&&$("#games-details embed").attr("src","./pdfjs/web/viewer.html?file=../../upload/games/"+i.files[AppData.settings.lang].filename),$("#games-details").find(".actions .remove").show(),$("#games-details .preview").hide(),$("#games, #games-details").toggle(),Layout.buildLanguageTabs("#games-details",e,i),$("#games-details .filename_display").show(),setReqOnFieldsByLang("games",e),a=t=i=null,s()})).on("click","#games .gamesList .activeGames",(function(e){e.stopPropagation();var a=new FormData;a.append("do","updateGamesActive"),a.append("id",this.dataset.id),a.append("active",this.dataset.active),$.ajax({url:"api/",type:"post",dataType:"text",contentType:!1,processData:!1,data:a,cache:!1,success:function(e){AppData.games=e,t(),Socket.Send("Games.BuildFromSource",!0)},error:function(e){console.log("Error: "+e)}})})).on("click","#games-details .close",(function(){$("#games, #games-details").toggle(),$("#games-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)})).on("click","#games-details .remove",(function(e){e.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeDoc",data:t},(function(e){AppData.games=e,Socket.Send("Games.BuildFromSource",!0),a(),t=e=null})),$("#games, #games-details").toggle(),$("#games-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)}))})).on("change","#games-details .type_change",s).on("submit","#games-details form",(function(e){e.preventDefault();var t=$(this).serializeObject(),i=!0;i=JSON.stringify(t)!==JSON.stringify(AppData.games.find((function(e){return e.id===t.id})));var s=new FormData($(this).get(0));if(s.append("do","saveDoc"),$("#games, #games-details").toggle(),$("#games-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),!i)return t=i=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:s,success:function(e){AppData.games=e,Socket.Send("Games.BuildFromSource",!0),Socket.Send("Useful.BuildFromSource",!0),a(),t=i=e=null}})})),{Init:function(){$(document).on("click","main#games .actions .new",i),a(),DragAndDrop.Init({container:".gamesList",rowcontainer:".ddClassGames",dbname:"games",socketupdate:"Games.BuildFromSource"}),delete Games.Init},BuildFromSource:t}}();
var Gdpr=function(){var t;function e(){$("main#gdpr");var t=$("#gdpr .linked_doc");t.html('<option value="">--</option>'),$.each(AppData.docs,(function(e,a){t.append('<option value="'+a.id+'">'+a.title[localState.lang]+"</option>")})),AppData.gdpr.linked_doc&&t.val(AppData.gdpr.linked_doc),$("#gdpr input[name=add_chk_mandatory]").prop("checked",AppData.gdpr.add_chk_mandatory),$("#gdpr .group").val(AppData.gdpr.group||""),Layout.buildLanguageTabs("#gdpr",[{templateName:"gdpr",name:"gdpr"},{templateName:"checkbox_text",name:"checkbox_text"},{templateName:"add_checkbox_text",name:"add_checkbox_text"},{templateName:"alert_text",name:"alert_text"},{templateName:"add_alert_text",name:"add_alert_text"},{templateName:"button_text",name:"button_text"}],AppData.gdpr)}return $(document).on("submit","#gdpr form",(function(t){t.preventDefault(),$(this).serializeObject();var e=$(this).serialize();e+="&do=saveGdpr",$.post("api/",e,(function(t){AppData.gdpr=t,Socket.Send("Gdpr.update",!0),Gdpr.render(),writeDbLog("GDPR","save","admin_logs"),t=null,Modal.alert("Datas has saved!")}))})).on("click","#gdpr .exportJson",(function(e){e.stopPropagation(),t.exportJson(),writeDbLog("GDPR","export json","admin_logs")})).on("click","#gdpr .importJson",(function(e){e.stopPropagation(),t.openModalWindow(),writeDbLog("GDPR","import json","admin_logs")})).on("click","#gdpr .reset-accepts ",(function(t){t.preventDefault(),Modal.confirm("Are you sure to reset?",(function(){$.ajax({method:"post",url:"api/",data:{do:"resetGdprAccepts"},success:function(){writeDbLog("GDPR","reset","admin_logs"),Modal.alert("GDPR accepts deleted.")}})}))})),{Init:function(){e(),(t=new JsonExportImport).Init({module:"gdpr",file:"gdpr.json",callback:function(t){$.post("api/",{do:"getGdpr"},(function(t){AppData.gdpr=t,e()}))}})},render:e}}();
var Issues=function(){"use strict";var s;function e(s){var e=s||AppData.issues,t=$(document.createDocumentFragment()),a=$("<tr/>"),n=AppData.issues?AppData.issues.length:0;$("<th/>").text("Active").appendTo(a),$("<th/>").text("Date").appendTo(a),$("<th/>").text("Question").appendTo(a),$("<th/>").text("Agenda").appendTo(a),$("<th/>").text("Speaker").appendTo(a),$("<th/>").text("Participant").appendTo(a),$("<th/>").text("Room").appendTo(a),a.appendTo(t),$.each(e,(function(s,e){var a=$("<tr/>");!function(s,e){s.attr("data-id",e.id),$("<td/>").html('<button class="btn selectQA" title="Activate"><i class="fa fa-play"></i></button>').appendTo(s),$("<td/>").text(e.created_at||"").appendTo(s);let t=e.question||"";$("<td/>").text(t).appendTo(s);var a=AppData.agenda.find((function(s){return s.id===e.agenda||""})),n="";null!=a&&(n=a.title[AppData.settings.lang]);$("<td/>").text(n).appendTo(s);var i=AppData.users.find((function(s){return s.id===e.speaker||""})),o="";null!=i&&(o=i.name[AppData.settings.lang]);$("<td/>").text(o).attr("nowrap","nowrap").appendTo(s);var l=AppData.users.find((function(s){return s.id===e.user||""})),u=(n="","");null!=l&&(n=l.name[AppData.settings.lang],u=l.email||"");$("<td/>").html(n+"<br>"+u).attr("nowrap","nowrap").appendTo(s),function(s,e){var t=$("<select/>").addClass("issues-rooms");$("<option/>").val("all").text("All room").appendTo(t),$("<option/>").val("").text("No room").appendTo(t),$.each(AppData.channels,(function(s,e){e.active&&"ch0"!==e.channel&&e.name&&$("<option/>").val(e.channel).text(Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name).appendTo(t)})),$("<td/>").html(t).attr("nowrap","nowrap").appendTo(s),t.val(e.room_id||"")}(s,e)}(a,e),a.appendTo(t),a=null})),$("main#issues").find(".issuesTitle").text(n+" question(s)"),$("main#issues").find(".issuesList").html(t),t=a=n=null}function t(){$.post("api/",{do:"getIssues"},(function(s){AppData.issues=s,e(),s=null}))}function a(s){s.stopPropagation();var t=$("#issues").find(".now").attr("data-id");$.post("api/",{do:"updateActiveIssue",id:t,active:this.dataset.active},(function(s){AppData.issues=s,e(),Socket.Send("refreshModule",{module:["Issues","Stage","Moderate"],appdata:"issues",data:s,callback:["Build","UpdateModule","UpdateModule"],callback_params:[void 0,s,s]},{client:["client","issues"]})}))}function n(){var s=$("main#issues").find(".filters").position();s.top+=38,s.left+=4,$(".modal-content-filter-issues").attr("style","top: "+s.top+"px; left: "+s.left+"px;")}return $(window).resize((function(){$(".modal-content-filter-issues").is(":visible")&&(n(),$(".modal-content-filter-issues").show())})),$(window).on("click",(function(s){-1===s.target.className.search(/notclose-issues/i)&&$(".modal-content-filter-issues").is(":visible")&&$(".modal-content-filter-issues").hide()})),$(document).on("input","#issues .search input",(function(){var s=new RegExp(strCanonical(this.value),"i");$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#issues .issuesList tr[data-id]").each((function(e,t){$(t).toggle(s.test(strCanonical($(t).text().split(" ").join(""))))}))})).on("click","#issues .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click","#issues .actions .sync",(function(){var s=$(this);s.addClass("disabled").find("i.fa").addClass("fa-spin"),$.post("api/",{do:"getIssues"},(function(t){AppData.issues=t,e(),t=null,s.removeClass("disabled").find("i.fa").removeClass("fa-spin")}))})).on("click","#issues .notify-moderator",(function(){var s=$("#issues").find(".now").attr("data-id");if(void 0!==s){var e=AppData.issues.find((function(e){return e.id===s}));Socket.Send("Moderate.notify",{room_id:e.room_id,title:"notify-moderator-title",text:"notify-moderator-text",layoutToShow:"moderate"},{group:"moderator"})}})).on("click","#issues .delete-issue",(function(s){s.preventDefault();var t=$("#issues").find(".now").attr("data-id");void 0!==t&&Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeIssues",data:{id:t}},(function(s){AppData.issues=s,Socket.Send("refreshModule",{module:["Issues","Stage","Moderate"],appdata:"issues",data:s,callback:["Build","UpdateModule","UpdateModule"],callback_params:[void 0,s,s]},{client:["client","issues"]}),e()}))}))})).on("click","#issues .show-issue",a).on("click","#issues .hide-issue",a).on("click","#issues .filters",(function(){n(),$("main#issues").find(".modal-content-filter-issues").show()})).on("click","#issues .channelsIssuesFilterReset",(function(s){s.stopPropagation(),$("main#issues").find(".actions .filters").removeClass("activeFilter"),$("main#issues").find(".modal-content-filter-issues").hide(),$("main#issues").find(".channelsIssuesFilterReset").hide(),e()})).on("change","#issues .channelsIssuesFilterSelect",(function(){var s=AppData.issues,t=$(".modal-content-filter-issues").find(".channelsIssuesFilterSelect").val();"all"!==t&&(s=s.filter((function(s){return s.room_id===t}))),"all"===t?($("main#issues .actions .filters").removeClass("activeFilter"),$("main#issues").find(".channelsIssuesFilterReset").hide()):($("main#issues").find(".actions .filters").addClass("activeFilter").show(),$("main#issues").find(".channelsIssuesFilterReset").show()),e(s)})).on("click","#issues .actions .export",(function(){window.open("api/?do=exportIssuesData")})).on("click","#issues .actions .exportJson",(function(e){e.stopPropagation(),s.exportJson()})).on("click","#issues .actions .importJson",(function(e){e.stopPropagation(),s.openModalWindow()})).on("change","#issues .issues-rooms",(function(){var s=$(this).val(),t=$(this).closest("tr").attr("data-id");$.post("api/",{do:"saveIssueRooms",data:{id:t,room_id:s}},(function(s){AppData.issues=s,e(),Socket.Send("refreshModule",{module:["Issues","Stage","Moderate"],appdata:"issues",data:s,callback:["Build","UpdateModule","UpdateModule"],callback_params:[void 0,s,s]},{client:["client","issues"]})}))})).on("click","#issues .show_display",(function(){Socket.Send("Issues.showIssues",null,{channel:localState.pushChannel,client:"issues"})})).on("click","#issues .hide_display",(function(){Socket.Send("Issues.hideIssues",null,{channel:localState.pushChannel,client:"issues"})})).on("click","#issues .actions .start",(function(){Socket.Send("Issues.start",0,{channel:localState.pushChannel,client:"issues"})})).on("click","#issues .actions .stop",(function(){Socket.Send("Issues.stop",0,{channel:localState.pushChannel,client:"issues"})})).on("click","#issues .actions .prev",(function(){Socket.Send("Issues.stepMessage","backward",{channel:localState.pushChannel,client:"issues"})})).on("click","#issues .actions .next",(function(){Socket.Send("Issues.stepMessage","forward",{channel:localState.pushChannel,client:"issues"})})).on("change","#issues .auto_moderate",(function(){var s=AppData.modulsettings;s.automoderate=$(this).val(),$.post("api/",{do:"saveModulSettings",data:s},(function(s){AppData.modulsettings=s,Socket.Send("Modulsettings.BuildFromSource",{client:"client"}),s=null}))})).on("click","#issues .issuesList .selectQA",(function(s){s.stopPropagation();var e=$(this).closest("tr").hasClass("now");$("tr",$("main#issues")).removeClass("now"),$(".selectQA i",$("tr")).removeClass("fa-stop").addClass("fa-play"),e||($(this).closest("tr").addClass("now"),$("i",$(this)).removeClass("fa-play").addClass("fa-stop"))})),{Init:function(){var a;$.each(AppData.channels,(function(s,e){if(e.active&&"ch0"!=e.channel){var t=$("<option/>").val(e.channel).text(Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name);AppData.modulsettings.automoderate==e.channel&&t.attr("selected","selected"),$("#issues .actions .auto_moderate").append(t)}})),e(),a=$(document.createDocumentFragment()),$("<option/>",{value:"all",text:"All"}).appendTo(a),$.each(AppData.channels,(function(s,e){$("<option/>",{value:e.channel,text:e.channel.toUpperCase()+": "+Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name}).appendTo(a)})),$("#issues .actions .channelsIssuesFilterSelect").append(a),(s=new JsonExportImport).Init({module:"issues",file:"issues.json",callback:function(s){t(),Socket.Send("Issues.BuildFromSource",!0)}})},renderList:e,BuildFromSource:t}}();
var Logs=function(){"use strict";function t(){var t=$(document.createDocumentFragment()),o=$("<tr/>"),n=AppData.logs?AppData.logs.length:0;$("<th/>").text("Log").appendTo(o),$("<th/>").text("").appendTo(o),o.appendTo(t),$.each(AppData.logs,(function(o,n){var a=$("<tr/>").addClass("data-row").attr("data-name",n);$("<td/>").text(n).appendTo(a),$("<td/>").html('<button type="button" class="btn dl-log" data-name="'+n+'">Download</button>').appendTo(a),a.appendTo(t),a=null})),$("main#logs").find(".logsTitle").text(n+" log(s)"),$("main#logs").find(".logsList").html(t),t=o=n=null}function o(){var o=$("main#logs .actions .sync");o.addClass("disabled").find("i").addClass("fa-spin"),$.post("api/",{do:"getLogs"},(function(n){AppData.logs=n,t(),o.removeClass("disabled").find("i").removeClass("fa-spin"),n=o=null}))}return $(document).on("click","#logs .logsList tr.data-row",(function(){$.post("api/",{do:"getLog",file:$(this).attr("data-name")},(function(t){$("#logs output").html(t),t=null}))})).on("click","#logs .actions .sync",o),{Init:function(){o(),$(document).on("click",".dl-log",(function(){let t=$(this).attr("data-name");window.open("api/?do=dlLogs&f="+t)})),t(),delete Logs.Init},BuildFromSource:o}}();
var Menus=function(){"use strict";var t,a,e=[{templateName:"name",name:"name"}],n=!0;function i(t,a){return a.children().each((function(){$(this).width($(this).width())})),a}function o(){AppData.navigation.sort((function(t,a){return void 0!==t.sort_id&&void 0!==a.sort_id?parseInt(t.sort_id)>parseInt(a.sort_id)?1:-1:0}))}function s(){o();var t=$(document.createDocumentFragment()),a=$("<tr/>"),e=AppData.navigation?AppData.navigation.length:0;$("<th/>").text("").appendTo(a),$("<th/>").text("Name").appendTo(a),$("<th/>").text("Module").appendTo(a),$("<th/>").text("Target").appendTo(a),$("<th/>").text("Actions").appendTo(a),a.appendTo(t),$("main#menus").find(".menusListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.navigation,(function(a,e){let n=AppData.modules.find((function(t){return t.id==e.module}));if(n){var i=$("<tr/>");i.addClass("ddclass"),function(t,a,e){t.attr("data-id",a.id),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(t),$("<td/>").text(a.name[localState.lang]).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(e.name[localState.lang]).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(null!=a.target&&""!=a.target?function(t){var a,e,n,i;switch(t.module){case"issues":i="agenda";break;case"speakers":case"attendees":i="users";break;case"soundchannels":i="translator";break;case"bookings":var o=[{title:"",id:"all"},{title:"All groups",id:"all_groups"}];i=AppData.bookinggroups.concat(AppData.bookings),i=o.concat(i);break;default:i=t.module}if("array"===$.type(AppData[i])){var s=[{title:"All links",id:"all_links"},{title:"Agenda",id:"agendadoc"}];switch(i){case"weblinks":a=(a=s.concat(AppData.weblinks)).concat(AppData.weblinkgroups);break;case"docs":a=(a=s.concat(AppData.docsgroups.filter((function(t){return"1"===t.is_active})))).concat(AppData.docs);break;default:a=AppData[i]}e=0!==(n=a.filter((function(a){return a.id===t.target}))).length?c(n[0]):t.target}else e="bookings"===t.module?0!==(n=i.filter((function(a){return a.id===t.target}))).length?c(n[0]):t.target:"";return e}(a):"").attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button type="button" title="Share URL" class="btn shareUrl" data-module="'+e.id+'"  data-target="'+a.target+'"><i class="fa fa-share"></i></button> <button type="button" title="Active" class="btn activeMenu'+(a.visible?" activeBtn":"")+'" data-visible="true" data-id="'+a.id+'"><i class="fa fa-check"></i></button> <button type="button" title="Inactive" class="btn inactiveMenu'+(a.visible?"":" inactiveBtn")+'"  data-visible="false" data-id="'+a.id+'"><i class="fa fa-ban"></i></button> <button type="button" title="Blink" class="btn blinkMenu'+(a.extra_class?" activeBtn":"")+'" data-id="'+a.id+'"><i class="fa fa-eye"></i></button>').attr("nowrap","nowrap").appendTo(t)}(i,e,n),i.appendTo(t),i=null}})),$("main#menus").find(".menusTitle").text(e+" menu(s)"),$("main#menus").find(".menusList").html(t),t=a=e=null}function l(){let t=$("#menus-details").find("[name=module]").val(),a=AppData.modules.filter((function(a){return a.id===t}))[0];$("#menus-details").find("[name=icon]").val(a.icon)}function c(t){return void 0!==t.title?"object"==$.type(t.title)?t.title[localState.lang]:t.title:void 0!==t.name?"object"==$.type(t.name)?t.name[localState.lang]:t.name:void 0!==t.question&&("object"==$.type(t.question)?t.question[localState.lang]:t.question)}function d(t){var a=$(document.createDocumentFragment());$.each(AppData.modules.sort((function(t,a){return t.name[localState.lang].localeCompare(a.name[localState.lang])})),(function(t,e){e.disabled||$("<option/>").val(e.id).text(e.name[localState.lang]).appendTo(a)})),$("#menus-details").find(".container .modules").addClass("capitalize").html(a),null!=t&&$("#menus-details").find(".container .modules").val(t)}function r(t){var a=$(document.createDocumentFragment());$("<option/>").val("").text("--").appendTo(a),$.each(AppData.medias.sort((function(t,a){return t.title[localState.lang].localeCompare(a.title[localState.lang])})),(function(t,e){"image"==e.type&&$("<option/>").val(e.id).text(e.title[localState.lang]).appendTo(a)})),$("#menus-details").find(".container .images").html(a),null!=t&&$("#menus-details").find(".container .images").val(t)}function u(){$("#menus-details .group_checks").empty(),$.each(AppData.user_groups,(function(a,e){let n=t.clone();n.attr("for","group_"+e.group_name),n.find("input").attr("id","group_"+e.group_name),n.find("input").attr("value",e.group_name),n.find("span").html(e.label[localState.lang]),n.appendTo($("#menus-details .group_checks"))}))}function p(t,a=!1){$("#menus-details").find(".container .targets").val("").addClass("disabled");var e=null!=this?this.value:t.module,n=AppData[e];switch(e){case"issues":n=AppData.agenda;break;case"speakers":case"attendees":n=AppData.users.filter((function(t){return t.group===e.substring(0,e.length-1)}));break;case"useful":case"docs":n=AppData.docsgroups.filter((function(t){return"1"===t.is_active})),n=n.concat(AppData.docs);break;case"broadcast":n=AppData.broadcast.filter((function(t){return null!=t.visible&&t.visible}));break;case"soundchannels":n=AppData.translator.filter((function(t){return null!=t.visible&&t.visible}));break;case"trueconf":n=[{title:"Exhibitor Room",id:"exhibitor"}].concat(AppData.trueconf);break;case"ondemandvideos":n=(n=[{title:"All groups",id:"all_groups"}].concat(AppData.videogroups)).concat(AppData.ondemandvideos);break;case"weblinks":n=AppData.weblinkgroups.concat(AppData.weblinks),n=[{title:"All links",id:"all_links"}].concat(n);break;case"bookings":n=AppData.bookinggroups.concat(AppData.bookings),n=[{title:"All groups",id:"all_groups"}].concat(n)}if(void 0!==n&&"channels"!=e){var i=!1,o=$(document.createDocumentFragment());$('<option value="" selected></option>').appendTo(o),$.each(n,(function(t,a){var e=c(a);!1!==e&&($("<option/>").val(a.id).text(e).appendTo(o),i=!0)})),!0===i&&($("#menus-details").find(".container .targets").html(o).removeClass("disabled"),null!=t.id&&$("#menus-details").find(".container .targets").val(t.target))}a||l()}function m(t){t.stopPropagation();let a=this.dataset.id,e=this.dataset.visible;var n=new FormData;n.append("do","updateMenuVisible"),n.append("id",a),n.append("visible",e),writeDbLog("MENUS","active"+(void 0!==a?" - "+a:"")+(void 0!==e?" - "+e:""),"admin_logs"),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:n,type:"post",success:function(t){g(),Socket.Send("Navigation.BuildFromSource",!0),Dashboard.Init()},error:function(t){console.log("Hiba: "+t)}})}function g(){$.post("api/",{do:"getMenus"},(function(t){AppData.navigation=t,o(),s(),t=null}))}return $(document).on("click","#menus .menusList tr[data-id]",(function(t){var a=$("#menus-details"),n=this.dataset.id,i=AppData.navigation.find((function(t){return t.id===n}));u(),a.find('[type="checkbox"]').prop("checked",!1),$.each(i,(function(t,e){if("group"===t&&e)for(var n=e.split(","),i=0;i<n.length;i++)a.find("[value="+n[i]+"]").prop("checked",!0);else"boolean"==typeof e?a.find("[name="+t+"]").prop("checked",e):a.find("[name="+t+"]").val(String(e)||"")})),$("#menus-details").find("[name=icon_blink_icon]").css("background-color",i.icon_blink_icon),$("#menus, #menus-details").toggle(),$("#menus-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#menus-details",e,i),d(i.module),r(i.image),p(i,!0),setReqOnFieldsByLang("menus",e),writeDbLog("MENUS","modify"+(void 0!==n?" - "+n:""),"admin_logs"),a=n=i=null})).on("click","#menus .actions .new",(function(t){t.preventDefault();var a=$("#menus-details");$("#menus, #menus-details").toggle(),$("#menus-details").find(".actions .remove").hide(),u(),a.find("form"),a.find("input").not('[type="checkbox"]').val(""),a.find('[type="checkbox"]').prop("checked",!1),a.find("[value=admin]").prop("checked",!0),a.find("[value=attendee]").prop("checked",!0),a=null,d(),r(),$("#menus-details").find(".image_name").html(""),$("#menus-details").find(".container .targets").val("").addClass("disabled"),Layout.buildLanguageTabs("#menus-details",e);var n=(AppData.navigation?AppData.navigation.length:0)+1;$("#menus-details").find('[name ="sort_id"]').val(n),setReqOnFieldsByLang("menus",e),l(),writeDbLog("MENUS","new","admin_logs")})).on("click","#menus .actions .exportJson",(function(t){t.stopPropagation(),a.exportJson(),writeDbLog("MENUS","export json","admin_logs")})).on("click","#menus .actions .importJson",(function(t){t.stopPropagation(),a.openModalWindow(),writeDbLog("MENUS","import json","admin_logs")})).on("click","#menus .blinkMenu",(function(t){t.stopPropagation();var a=new FormData;a.append("do","updateBlinking"),a.append("id",this.dataset.id),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:a,type:"post",success:function(t){g(),Socket.Send("Navigation.BuildFromSource",!0),Dashboard.Init()},error:function(t){console.log("Hiba: "+t)}})})).on("click","#menus .shareUrl",(function(t){t.stopPropagation(),createShareUrl($(this).attr("data-module"),$(this).attr("data-target"))})).on("click","#menus .activeMenu",m).on("click","#menus .inactiveMenu",m).on("click","#menus-details .close",(function(){$("#menus, #menus-details").toggle(),$("#menus-details form").find("input").not('[type="checkbox"]').val(""),writeDbLog("MENUS","close","admin_logs")})).on("click","#menus-details .remove",(function(t){t.stopPropagation();var a=$(this).closest("form").find("[name=id]").val();null==a&&(a=this.dataset.id),Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("MENUS","remove"+(void 0!==a?" - "+a:""),"admin_logs"),$.post("api/",{do:"removeMenu",data:a},(function(t){AppData.navigation=t,s(),Socket.Send("Navigation.BuildFromSource",t),a=t=null})),$("#menus-details").hide(),$("#menus").show()}))})).on("click","#menus .actions .sync",g).on("submit","#menus-details form",(function(t){t.preventDefault();var a=$(this).serializeObject(),e=!0;e=JSON.stringify(a)!==JSON.stringify(AppData.navigation.find((function(t){return t.id===a.id}))),$("#menus, #menus-details").toggle();var n=$(this).serialize();if(n+="&do=saveMenu",writeDbLog("MENUS","save"+(void 0!==a.id?" - "+a.id:""),"admin_logs"),!e)return a=e=null,!1;$.post("api/",n,(function(t){AppData.navigation=t,s(),Socket.Send("Navigation.BuildFromSource",t),Dashboard.Init(),Modulsettings.buildOptionsBc(),$("#menus-details form").find("input").not('[type="checkbox"]').val(""),a=e=t=null}))})).on("click","#menus-details .menu-icon",(function(){icongrid.modalIconGridShow("#menus-details",".menu-icon")})).on("change","#menus-details .modules",p),{Init:function(){$("#icon-item").clone(!0).html(),t=$("#group_check_template").contents().remove(),s(),AppData.icons,$(".close-btn").on("click",(function(){$(".modalIconGrid").hide()})),$(".deleteicon").on("click",(function(){$("#menus-details .menu-icon").val(""),$(".modalIconGrid").hide()})),$(".menusList").sortable({axis:"y",cursor:"pointer",helper:i,update:function(t,a){var e=[];$(".ddclass").each((function(t){e.push({sort_id:t+1,id:$(this).attr("data-id")})})),$.post("api/",{do:"updateMenusSort",data:e},(function(t){Socket.Send("Navigation.BuildFromSource",!0),AppData.navigation=t,Dashboard.Init()}))}}),(a=new JsonExportImport).Init({module:"menus",file:"navigation.json",callback:function(t){g(),Socket.Send("Navigation.BuildFromSource",!0)}}),n&&(n=!1,$("#menus-details .color").off().colorPicker({opacity:!1,renderCallback:function(t,a){t.val("#"+this.color.colors.HEX)}}))},renderList:s,BuildFromSource:g}}();
var Messageboard=function(){"use strict";var a,e={},t=[{templateName:"name",name:"name"}];function s(){AppData.messageboard.sort((function(a,e){return void 0!==a.sort_id&&void 0!==e.sort_id?parseInt(a.sort_id)>parseInt(e.sort_id)?1:-1:0}))}function o(){s();var a=$(document.createDocumentFragment()),e=$("<tr/>"),t=AppData.messageboard?AppData.messageboard.length:0;$("<th/>").text("").css("width","45px").appendTo(e),$("<th/>").text("").css("width","45px").appendTo(e),$("<th/>").text("Room").appendTo(e),$("<th/>").text("Question").appendTo(e),$("<th/>").text("").appendTo(e),$("<th/>").text("").appendTo(e),e.appendTo(a),$(".messageboardListThead").html(a),a=$(document.createDocumentFragment()),$.each(AppData.messageboard,(function(e,t){var s,o,n,l=$("<tr/>");l.addClass("ddClassMessageboard"),l.attr("data-id",t.id),l.toggleClass("now",t.visible),s=l,o=t,n=AppData.channels.find((function(a){return a.channel===o.channel})),s.attr("data-ch",o.channel||"ch0"),s.toggleClass("disabled",o.channel!==localState.pushChannel&&"all"!==localState.pushChannel),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').css("width","45px").appendTo(s),$("<td/>").html('<button class="btn selectQuestion" title="Select"><i class="fa fa-play"></i></button>').css("width","45px").appendTo(s),$("<td/>").text(n?Language.getTranslation(n.name,AppData.settings.lang)+" | "+n.admin_name:"").attr("nowrap","nowrap").appendTo(s),$("<td/>").text(o.name[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(s),$("<td/>").html('<button class="btn deleteAnswers" title="Delete answers"><i class="fa fa-trash"></i></button>').appendTo(s),$("<td/>").html('<label class="chk_cont"><input type="checkbox" data-id="'+o.id+'" name="automatic" class="msg-check"><i class="true far fa-fw fa-lg fa-square unckecked"></i><i class="false fas fa-fw fa-lg fa-check-square checked"></i></label>').appendTo(s),o.automatic&&s.find(".msg-check").prop("checked",!0),l.appendTo(a),l=null})),$("main#messageboard").find(".messageboardTitle").text(t+" message(s)"),$("main#messageboard").find(".messageboardList").html(a)}function n(){$.post("api/",{do:"getMessageboard"},(function(a){AppData.messageboard=a,s(),o(),a=null}))}function l(a){var t;a.stopPropagation();var s=$(this).closest("tr").data("ch"),o=$(this).closest("tr").hasClass("now");let n=$(this).closest("tr").data("id");if("all"===localState.pushChannel){for(var l in e)e[l]="";$("tr",$("main#messageboard")).removeClass("now"),$(".selectQuestion i",$("tr")).removeClass("fa-stop").addClass("fa-play")}e[s]===n||o?($(this).closest("tr").removeClass("now"),$("i",$(this)).removeClass("fa-stop").addClass("fa-play"),e[s]="",t=!1):($("tr[data-ch="+s+"]",$("main#messageboard")).removeClass("now"),$(".selectQuestion i",$("tr[data-ch="+s+"]")).removeClass("fa-stop").addClass("fa-play"),$("i",$(this)).removeClass("fa-play").addClass("fa-stop"),$(this).closest("tr").addClass("now"),e[s]=n,t=!0),writeDbLog("MESSAGEBOARD","selectQuestion - "+(t?"play":"stop")+(void 0!==n?" - "+n:"")+(void 0!==s?" - "+s:""),"admin_logs")}function i(a){a.stopPropagation();var t=0;for(var s in e)""!==e[s]&&t++;if("all"===localState.pushChannel&&t>1)Modal.alert("Minden csatorna / terem esetĂŠn egy ĂźzenĹfal lehet csak kivĂĄlasztva.");else{var o=void 0!==this.dataset.show&&"messageboard"===this.dataset.show||void 0===this.dataset.show,n=void 0!==this.dataset.show&&"client"===this.dataset.show||void 0===this.dataset.show;if("all"===localState.pushChannel)for(var s in e)""!==e[s]&&(o&&Socket.Send("Messageboard.BuildFromSource",e[s],{client:"messageboard",channel:localState.pushChannel}),n&&(Socket.Send("Messageboard.Init",e[s],{channel:localState.pushChannel,client:["client","table"]}),Socket.Send("Layout.show","messageboard",{channel:localState.pushChannel,client:["client","table"]})));else o&&Socket.Send("Messageboard.BuildFromSource",e[localState.pushChannel],{client:"messageboard",channel:localState.pushChannel}),n&&(Socket.Send("Messageboard.Init",e[localState.pushChannel],{channel:localState.pushChannel,client:["client","table"]}),Socket.Send("Layout.show","messageboard",{channel:localState.pushChannel,client:["client","table"]}));writeDbLog("MESSAGEBOARD","pushShow"+(o?" - msgboard":"")+(n?" - client":"")+" - "+(void 0!==localState.pushChannel?"all"!==localState.pushChannel?e[localState.pushChannel]:localState.pushChannel:""),"admin_logs")}}function d(a){var t;if(a.stopPropagation(),"all"===localState.pushChannel)for(var s in t=$("main#messageboard tr"),e)e[s]="";else t=$("main#messageboard tr[data-ch="+localState.pushChannel+"]"),e[localState.pushChannel]="";t.removeClass("now"),$(".selectQuestion i",t).removeClass("fa-stop").addClass("fa-play");var o=void 0!==this.dataset.show&&"messageboard"===this.dataset.show,n=void 0!==this.dataset.show&&"client"===this.dataset.show;o?Socket.Send("Messageboard.BuildFromSource",0,{channel:localState.pushChannel,client:"messageboard"}):n?(Socket.Send("Messageboard.Init",0,{channel:localState.pushChannel,client:["client","table"]}),Socket.Send("Layout.hide","messageboard",{channel:localState.pushChannel,client:["client","table"]})):(Socket.Send("Messageboard.BuildFromSource",0,{channel:localState.pushChannel,client:"messageboard"}),Socket.Send("Messageboard.Init",0,{channel:localState.pushChannel,client:["client","table"]}),Socket.Send("Layout.hide","messageboard",{channel:localState.pushChannel,client:["client","table"]})),writeDbLog("MESSAGEBOARD","pushHide - "+(o?" - msgboard":"")+(n?" - client":"")+" - "+localState.pushChannel,"admin_logs")}function c(a,e){var t=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(t),$.each(AppData.channels,(function(a,e){e.active&&"ch0"!==e.channel&&e.name&&$("<option/>").val(e.channel).text(Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name).appendTo(t)})),a.find(".selectChannel").html(t),e&&"channel"in e&&a.find(".selectChannel").val(e.channel),t=null}function r(a,e){var t=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(t),$.each(AppData.broadcast,(function(a,e){$("<option/>").val(e.id).text(e.name[localState.lang]).appendTo(t)})),a.find(".selectBroadcast").html(t),e&&"broadcast"in e&&a.find(".selectBroadcast").val(e.broadcast),t=null}return $(document).on("click","#messageboard .messageboardList tr[data-id]",(function(){var a=$("#messageboard-details"),e=this.dataset.id,s=AppData.messageboard.find((function(a){return a.id===e}));$.each(s,(function(e,t){a.find("[name="+e+"]").val(String(t)||"")})),c(a,s),r(a,s),$("#messageboard, #messageboard-details").toggle(),$("#messageboard-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#messageboard-details",t,s),setReqOnFieldsByLang("messageboard",t),writeDbLog("MESSAGEBOARD","modify"+(void 0!==e?" - "+e:""),"admin_logs"),a=e=s=null})).on("click","#messageboard .messageboardList tr[data-id] .selectQuestion",l).on("change","#messageboard .messageboardList tr[data-id] [name=automatic]",(function(){let a=$(this).prop("checked"),e=$(this).closest("tr").data("id");writeDbLog("MESSAGEBOARD","toggleAuto"+(void 0!==e?" - "+e:"")+" - "+a,"admin_logs"),$.ajax({method:"post",url:"api/",data:{do:"saveMessageboard",id:e,automatic:a},success:function(t){AppData.messageboard=t,o();let s=1;a&&(s=e),Socket.Send("Messageboard.BuildFromSource",s,{client:"messageboard"}),Socket.Send("Messageboard.Init",s,{client:["client","table"]})}})})).on("click","#messageboard .messageboardList tr[data-id] .deleteAnswers",(function(a){a.stopPropagation();var e=$(this).closest($("tr")).attr("data-id");Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("MESSAGEBOARD","deleteAnswers"+(void 0!==e?" - "+e:""),"admin_logs"),$.ajax({method:"post",url:"api/",data:{do:"removeMessageboardAnswers",id:e},success:function(a){Socket.Send("Messageboard.RemoveMessages",e,{client:"messageboard"})}})}))})).on("click","#messageboard .actions .show",i).on("click","#messageboard .actions .show-display",i).on("click","#messageboard .actions .show-client",i).on("click","#messageboard .actions .hide",d).on("click","#messageboard .actions .hide-display",d).on("click","#messageboard .actions .hide-client",d).on("click","#messageboard .actions .start",(function(){Socket.Send("Messageboard.start",0,{channel:localState.pushChannel,client:"messageboard"}),writeDbLog("MESSAGEBOARD","start","admin_logs")})).on("click","#messageboard .actions .stop",(function(){Socket.Send("Messageboard.stop",0,{channel:localState.pushChannel,client:"messageboard"}),writeDbLog("MESSAGEBOARD","stop","admin_logs")})).on("click","#messageboard .actions .prev",(function(){Socket.Send("Messageboard.stepMessage","backward",{channel:localState.pushChannel,client:"messageboard"}),writeDbLog("MESSAGEBOARD","previous","admin_logs")})).on("click","#messageboard .actions .next",(function(){Socket.Send("Messageboard.stepMessage","forward",{channel:localState.pushChannel,client:"messageboard"}),writeDbLog("MESSAGEBOARD","next","admin_logs")})).on("click","#messageboard .actions .new",(function(){var a=$("#messageboard-details");c(a),r(a),$("#messageboard, #messageboard-details").toggle(),$("#messageboard-details").find(".actions .remove").hide(),a.find("form").find("input").val(""),a=null,Layout.buildLanguageTabs("#messageboard-details",t);var e=(AppData.messageboard?AppData.messageboard.length:0)+1;$("#messageboard-details").find('[name ="sort_id"]').val(e),setReqOnFieldsByLang("messageboard",t),writeDbLog("MESSAGEBOARD","create","admin_logs")})).on("click","#messageboard .actions .exportJson",(function(e){e.stopPropagation(),a.exportJson(),writeDbLog("QUIZ","export json","admin_logs")})).on("click","#messageboard .actions .importJson",(function(e){e.stopPropagation(),l(e),Socket.Send("Layout.hide","messageboard"),a.openModalWindow(),writeDbLog("QUIZ","import json","admin_logs")})).on("click","#messageboard-details .close",(function(){$("#messageboard, #messageboard-details").toggle(),$("#messageboard-details form").find("input").val(""),writeDbLog("MESSAGEBOARD","close","admin_logs")})).on("click","#messageboard-details .remove",(function(a){a.preventDefault();var e=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("MESSAGEBOARD","remove"+(void 0!==e?" - "+e:""),"admin_logs"),$.post("api/",{do:"removeMessageboard",data:e},(function(a){AppData.messageboard=a,o(),e=a=null})),$("#messageboard, #messageboard-details").toggle(),$("#messageboard-details form").find("input").val("")}))})).on("submit","#messageboard-details form",(function(a){a.preventDefault();var e=$(this).serializeObject(),t=!0;t=JSON.stringify(e)!==JSON.stringify(AppData.users.find((function(a){return a.id===e.id})));var s=$(this).serialize();if(s+="&do=saveMessageboard&visible=false&automatic=false",$("#messageboard, #messageboard-details").toggle(),$("#messageboard-details form").find("input, select").val(""),!t)return e=t=null,!1;$.post("api/",s,(function(a){AppData.messageboard=a,o(),Socket.Send("Messageboard.Init",void 0),writeDbLog("MESSAGEBOARD","submit"+(void 0!==e.id&&""!==e.id?" - "+e.id:""),"admin_logs"),e=t=a=null}))})),{Init:function(){o(),DragAndDrop.Init({container:".messageboardList",rowcontainer:".ddClassMessageboard",dbname:"messageboard"}),(a=new JsonExportImport).Init({module:"messageboard",file:"messageboard.json",callback:function(a){n(),Socket.Send("Messageboard.Init",!0)}})},renderList:o,BuildFromSource:n}}();
var Modulsettings=function(){"use strict";var a,e=[{target:"settings",title:"Settings",active:!1},{target:"translations",title:"Languages",active:!1},{target:"modulsettings",title:"Module settings",active:!0},{target:"uploadsettings",title:"Uploads",active:!1},{target:"nativesettings",title:"Native settings",active:!1},{target:"urlsettings",title:"URL settings",active:!1},{target:"backups",title:"Backups",active:!1}],t={runawayBackground:{name:"img/runaways/",field_name:"runawayBackground"},broadcastThumbnail:{name:"img/broadcasts/",field_name:"broadcastThumbnail"}},o=!0,n=[{templateName:"businesscardemailheader",name:"businesscardemailheader"},{templateName:"businesscardemailbody",name:"businesscardemailbody"},{templateName:"businesscardemailfooter",name:"businesscardemailfooter"},{templateName:"fgtext",name:"fgtext"},{templateName:"title",name:"title"},{templateName:"subTitle",name:"subTitle"},{templateName:"target_time_format",name:"target_time_format"},{templateName:"browsertitle",name:"browsertitle"},{templateName:"twofactormail_subject",name:"twofactormail_subject"},{templateName:"twofactormail_body",name:"twofactormail_body"},{templateName:"twofactorsms_body",name:"twofactorsms_body"}];let s=["doc","login","profile","agenda","user","gdpr","gallery","text","game","messageboard","chat","issues","broadcast","presentation","translator","countdown","quiz","bookings","quickmenu"];function d(){$.each(AppData.modulsettings,(function(a,e){var t=$('form#formmodulsettings [name="'+a+'"]');"boolean"==typeof e?t.prop("checked",e):t.val(String(e))}));AppData.broadcast;var a=AppData.broadcast.filter((function(a){return a.id===AppData.modulsettings.showonstreamurl}));0!==a.length&&a[0].visible?$(".showonstreamurl").html(m(a[0].name[localState.lang],49)):($(".showonstreamurl").html("Choose stream URL"),$("#modulsettings #showonstreamurl").val("")),o&&(o=!1,$("#cdown_target_time").datetimepicker({dateFormat:"mm/dd/yy",timeFormat:"HH:mm:ss"}),$("#modulsettings .color").off().colorPicker({opacity:!1,renderCallback:function(a,e){a.val("#"+this.color.colors.HEX)}}),$(document).on("focusout","#modulsettings .color",(function(){$(this).trigger("change")})),Layout.addTabs("modulsettings",e)),function(){var a;for(a=0;a<s.length;a++){let e="#"+s[a]+"Settings";$(document).on("click",e+"Block",(function(a){c(e)}))}}(),function(){var a;for(a=0;a<s.length;a++)$("#"+s[a]+"Settings").hide()}(),Layout.buildLanguageTabs("#modulsettings",n,AppData.modulsettings),$("#formmodulsettings").on("submit",(function(){return!1}));var t,d=$(document.createDocumentFragment());$.each(AppData.docs,(function(a,e){$("<option/>").val(e.id).text(e.title[localState.lang]).appendTo(d)})),$("#modulsettings").find("#giftbagdocument").html(d),i(),r(),t=$(document.createDocumentFragment()),$("<option/>").val("").text("--").appendTo(t),$.each(AppData.texts,(function(a,e){$("<option/>").val(e.id).text(e.title[AppData.settings.lang]).appendTo(t)})),$("#modulsettings").find('[name="issues_faq_link"]').html(t).val(AppData.modulsettings.issues_faq_link),t=null,$.each($("#formmodulsettings").find("label"),(function(a,e){$(e).attr("title",$(e).text())}))}function i(){var a=$(document.createDocumentFragment());$("<option/>").val("").text("--").appendTo(a),$.each(AppData.medias,(function(e,t){"image"==t.type&&$("<option/>").val(t.id).text(t.title[localState.lang]).appendTo(a)}));let e=a.clone();$("#modulsettings").find('[name="runawayBackground"]').html(a).val(AppData.modulsettings.runawayBackground),$("#modulsettings").find('[name="broadcastThumbnail"]').html(e).val(AppData.modulsettings.broadcastThumbnail),a=null}function r(){var a=$(document.createDocumentFragment());$("<option/>").val("").text("--").appendTo(a),$.each(AppData.navigation,(function(e,t){"broadcast"==t.module&&$("<option/>").val(t.id).text(t.name[AppData.settings.lang]).appendTo(a)})),$("#modulsettings").find('[name="bc_landingbutton_target"]').html(a).val(AppData.modulsettings.bc_landingbutton_target),a=null}function l(e){a=e,$.post("api/",{do:"getImages",data:e},(function(o){$(".item").remove();for(var n=0;n<o.length;n++){var s='<div class="item"><div id="delete-item-'+n+'" class="delete-item" data-name="'+o[n].name+'">x</div><img id="gridItem-'+n+'" data-name="'+o[n].name+'"  src="'+t[a].name+o[n].name+'" height="50" /></div>';$("#rowContainerRunaway").append(s),$("#gridItem-"+n).on("click",(function(e){$("#"+t[a].field_name).val(t[a].name+$(this).data("name")).change(),Socket.Send("Broadcast.setRunawayDatas",!0),$(".modalRunawayImageGrid").hide()})),$("#delete-item-"+n).on("click",(function(o){var n=$(this);Modal.confirm(Language.getItem("delete-confirm"),(function(){var o=new FormData;o.append("do","deleteImageAndFile"),o.append("filename",n.data("name")),o.append("type",a);var s=n.data("name");$.ajax({url:"api/",data:o,dataType:"text",type:"post",processData:!1,contentType:!1,success:function(a){"broadcastThumbnail"===e&&AppData.modulsettings.broadcastThumbnail===t[e].name+s&&($("#modulsettings").find("#"+t[e].field_name).val("").trigger("change"),Socket.Send("Broadcast.setBroadcastPoster",!0)),"runawayBackground"===e&&AppData.modulsettings.runawayBackground===t[e].name+s&&(Socket.Send("Broadcast.setRunawayDatas",!0),$("#modulsettings").find("#"+t[e].field_name).val("").trigger("change"))},error:function(a){$(".modalRunawayImageGrid .modal-content .msg").html(a)}}),l(a)}))}))}})),Socket.Send("Broadcast.BuildFromSource",!0)}function p(){var a=$(".showonstreamurl").position();a.top+=44,a.left+=10,$(".modal-showon-streamurl").attr("style","top: "+a.top+"px; left: "+a.left+"px;")}function m(a,e){return a.length>e?a.slice(0,e-1)+"âŚ":a}function c(a){var e=$(a);"none"===e.css("display")?e.show():e.hide()}function u(){$.post("api/",{do:"getModulSettings"},(function(a){AppData.modulsettings=a,d(),a=null}))}return $(document).on("change","form#formmodulsettings input, form#formmodulsettings select, form#formmodulsettings textarea",(function(a){a.stopPropagation();var e=new FormData(document.querySelector("form#formmodulsettings")),t=$(this).closest("form").serializeObject();e.append("showtags",void 0!==t.showtags),e.append("showqrcode",void 0!==t.showqrcode),e.append("showprivacy",void 0!==t.showprivacy),e.append("showchangepass",void 0!==t.showchangepass),e.append("showsociallinks",void 0!==t.showsociallinks),e.append("attendeeshowinfo",void 0!==t.attendeeshowinfo),e.append("showfavorite",void 0!==t.showfavorite),e.append("agendatabs",void 0!==t.agendatabs),e.append("agendaopenitems",void 0!==t.agendaopenitems),e.append("agendasortbyorder",void 0!==t.agendasortbyorder),e.append("showrequestbusinesscard",void 0!==t.showrequestbusinesscard),e.append("showspeakergotolink",void 0!==t.showspeakergotolink),e.append("showsearchbar",void 0!==t.showsearchbar),e.append("showredalert",void 0!==t.showredalert),e.append("showonstart",void 0!==t.showonstart),e.append("showasbackground",void 0!==t.showasbackground),e.append("showchoosingplaylistonplaybutton",void 0!==t.showchoosingplaylistonplaybutton),e.append("showchoosingplaylisttousers",void 0!==t.showchoosingplaylisttousers),e.append("speakersabc",void 0!==t.speakersabc),e.append("showlostpass",void 0!==t.showlostpass),e.append("allow_login_once",void 0!==t.allow_login_once),e.append("showvideochat",void 0!==t.showvideochat),e.append("chat_allowed_only",void 0!==t.chat_allowed_only),e.append("agendashowparentonspeaker",void 0!==t.agendashowparentonspeaker),e.append("allowmultiplevote",void 0!==t.allowmultiplevote),e.append("allowreactions",void 0!==t.allowreactions),e.append("show_emoji_reactions",void 0!==t.show_emoji_reactions),e.append("showtransbutton",void 0!==t.showtransbutton),e.append("showtransbutton_trueconf",void 0!==t.showtransbutton_trueconf),e.append("showchatbutton",void 0!==t.showchatbutton),e.append("transparent_chat",void 0!==t.transparent_chat),e.append("transparent_messageboard",void 0!==t.transparent_messageboard),e.append("show_not_voted_count",void 0!==t.show_not_voted_count),e.append("auto_display_results",void 0!==t.auto_display_results),e.append("trans_toplist_bg",void 0!==t.trans_toplist_bg),e.append("qandashowgeneral",void 0!==t.qandashowgeneral),e.append("qandashowsender",void 0!==t.qandashowsender),e.append("qandashowanonym",void 0!==t.qandashowanonym),e.append("qandausercanvote",void 0!==t.qandausercanvote),e.append("qandashowprogram",void 0!==t.qandashowprogram),e.append("qandaapprove_by_speaker",void 0!==t.qandaapprove_by_speaker),e.append("qandashowtime",void 0!==t.qandashowtime),e.append("note_enabled_for_moderator",void 0!==t.note_enabled_for_moderator),e.append("answer_enabled_for_moderator",void 0!==t.answer_enabled_for_moderator),e.append("automoderate",AppData.modulsettings.automoderate||"off"),e.append("showgdpr",void 0!==t.showgdpr),e.append("showexchangeprofileattendees",void 0!==t.showexchangeprofileattendees),e.append("gallery_moderate",void 0!==t.gallery_moderate),e.append("gallery_marktosend",void 0!==t.gallery_marktosend),e.append("gallery_marktogallery",void 0!==t.gallery_marktogallery),e.append("gallery_userscanlike",void 0!==t.gallery_userscanlike),e.append("gallery_userscanrevoke",void 0!==t.gallery_userscanrevoke),e.append("attentionchecker",void 0!==t.attentionchecker),e.append("attentionchecker_test",void 0!==t.attentionchecker_test),e.append("usefnamelname",void 0!==t.usefnamelname),e.append("presentation_showtospeaker",void 0!==t.presentation_showtospeaker),e.append("msgboard_showonclient",void 0!==t.msgboard_showonclient),e.append("floating_login_reg",void 0!==t.floating_login_reg),e.append("show_login_form",void 0!==t.show_login_form),e.append("translator_use_relay",void 0!==t.translator_use_relay),e.append("translator_disallow_mic",void 0!==t.translator_disallow_mic),e.append("cdown_showonlogin",void 0!==t.cdown_showonlogin),e.append("cdown_showonreg",void 0!==t.cdown_showonreg),e.append("cdown_showonclient",void 0!==t.cdown_showonclient),e.append("cdown_hideonzero",void 0!==t.cdown_hideonzero),e.append("cdown_textshadow",void 0!==t.cdown_textshadow),e.append("bc_landingbutton",void 0!==t.bc_landingbutton),e.append("save_button_rows",void 0!==t.save_button_rows),e.append("showBroadcastThumbnail",void 0!==t.showBroadcastThumbnail),e.append("show_quickmenu",void 0!==t.show_quickmenu),e.append("twofactor",void 0!==t.twofactor),e.append("twofactoremail",void 0!==t.twofactoremail),e.append("twofactorphone",void 0!==t.twofactorphone),e.append("google_login",void 0!==t.google_login),e.append("facebook_login",void 0!==t.facebook_login),e.append("showspeakersislist",void 0!==t.showspeakersislist),e.append("do","saveModulSettings"),$.ajax({url:"api/",type:"POST",data:e,contentType:!1,processData:!1,success:function(a){AppData.modulsettings=a,Socket.Send("Modulsettings.BuildFromSource",!0),writeDbLog("MODULESETTINGS","change settings","admin_logs"),a=null}})})),$(document).on("click","#runawayUploadImage",(function(){if(void 0!==$("#runawayImage").prop("files")[0]){var e=new FormData;e.append("do","uploadAndSaveImage"),e.append("image",$("#runawayImage").prop("files")[0]),e.append("type",a),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:e,type:"post",success:function(e){$(".modalRunawayImageGrid .modal-content .msg").html(""),$("#runawayImage").val(""),l(a)},error:function(a){console.log("Response hiba: "),console.log(a),$(".modalRunawayImageGrid .modal-content .msg").html(a)}})}})),$(document).on("change","#runawayImage",(function(){null!=$("#runawayImage").prop("files")[0]?$(".modalRunawayImageGrid .modal-content .msg").html("Choosen file: "+$("#runawayImage").prop("files")[0].name):$(".modalRunawayImageGrid .modal-content .msg").html("")})),$(document).on("click","#modulsettings .showonstreamurl",(function(a){a.preventDefault();var e,t=$(document.createDocumentFragment()),o=AppData.broadcast;$.each(o,(function(a,o){(e=$("<tr/>")).attr("data-id",o.id),$("<td/>").html('<i class="fa-fw fas fa-tv flex-min-content"></i>').attr("nowrap","nowrap").css("width","20px").appendTo(e),$("<td/>").text(m(o.name[AppData.settings.lang],36)).attr("nowrap","nowrap").appendTo(e),e.appendTo(t),e=null})),$("#modulsettings .modal-showon-streamurl #streamurlShowonList").html(t),function(a){a.stopPropagation(),$(".modal-showon-streamurl").is(":visible")?$(".modal-showon-streamurl").hide():(p(),$(".modal-showon-streamurl").show())}(a)})),$(document).on("click","#modulsettings #streamurlShowonList tr[data-id]",(function(a){var e=AppData.broadcast.filter((function(e){return e.id===a.currentTarget.dataset.id}));$("#modulsettings .showonstreamurl").html(m(e[0].name[localState.lang],49)),$("#modulsettings #showonstreamurl").val(e[0].id),$("#showonstreamurl").trigger("change")})),$(window).resize((function(){$(".modal-showon-streamurl").is(":visible")&&(p(),$(".modal-showon-streamurl").show())})),$(window).on("click",(function(a){"string"==typeof a.target.className&&-1===a.target.className.search(/notclose/i)&&$(".modal-showon-streamurl").is(":visible")&&$(".modal-showon-streamurl").hide()})),{Init:d,BuildFromSource:u,AdminBuildFromSource:function(){u()},buildOptionsImages:i,buildOptionsBc:r}}();
var Notifications=function(){"use strict";var t,i=[{templateName:"text",name:"text"},{templateName:"title",name:"title"},{templateName:"image",name:"image"},{templateName:"filename",name:"filename",static:!0,arrayname:"files"},{templateName:"closebuttontext",name:"closebuttontext"},{templateName:"checkboxtext",name:"checkboxtext"}];function o(){AppData.notifications.sort((function(t,i){return void 0!==t.sort_id&&void 0!==i.sort_id?parseInt(t.sort_id)>parseInt(i.sort_id)?1:-1:0}));var t=$(document.createDocumentFragment()),i=$("<tr/>"),o=AppData.notifications?AppData.notifications.length:0;$("<th/>").text("").appendTo(i),$("<th/>").text("Push").appendTo(i),$("<th/>").text("Closeable").appendTo(i),$("<th/>").text("Push").appendTo(i),$("<th/>").text("Title").appendTo(i),$("<th/>").text("Text").appendTo(i),$("<th/>").text("Note").appendTo(i),$("<th/>").text("Close button").appendTo(i),$("<th/>").text("Actions").appendTo(i),i.appendTo(t),$("main#notifications").find(".notificationsListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.notifications,(function(i,o){var a,n,e=$("<tr/>");e.addClass("ddClassNotifications"),n=o,(a=e).attr("data-id",n.id).toggleClass("color-red",!1===n.active||void 0===n.active),$("<td/>").html('<i class="fas fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(a),$('<td><button class="btn push" title="Show"><i class="fas fa-bell"></i></button><button class="btn close" title="Hide"><i class="fas fa-bell-slash"></i></button></td>').attr("nowrap","nowrap").appendTo(a),$("<td/>").html(n.canClose?'<i class="fas fa-check-circle"></i>':'<i class="fas fa-times-circle"></i>').attr("nowrap","nowrap").appendTo(a),$("<td/>").html(n.pushNotification?'<i class="fas fa-comment"></i>':'<i class="fas fa-comment-slash"></i>').attr("nowrap","nowrap").appendTo(a),$("<td/>").text(n.title[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(a),$("<td/>").text(n.text[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(a),$("<td/>").text(n.comment).attr("nowrap","nowrap").appendTo(a),$("<td/>").text(void 0!==n.closebuttontext?n.closebuttontext[AppData.settings.lang]:"").attr("nowrap","nowrap").appendTo(a),$("<td/>").html('<button data-id="'+n.id+'" data-active="true"  class="btn activePopups '+(!0===n.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+n.id+'" data-active="false" class="btn activePopups '+(!1===n.active||void 0===n.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(a),e.appendTo(t),e=null})),$("main#notifications").find(".notificationsTitle").text(o+" popup(s)"),$("main#notifications").find(".notificationsList").html(t),t=i=o=null}function a(){$.post("api/",{do:"getNotifications"},(function(t){AppData.notifications=t,o(),t=null}))}return $(document).on("click","#notifications .notificationsList tr[data-id]",(function(){var t=$("#notifications-details"),o=this.dataset.id,a=AppData.notifications.find((function(t){return t.id===o}));void 0===a.active&&(a.active=!1),void 0===a.show_notification&&(a.show_notification=!1),$.each(a,(function(i,o){t.find("[name="+i+"]").val(String(o)||"")})),$("#notifications, #notifications-details").toggle(),$("#notifications-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#notifications-details",i,a),setReqOnFieldsByLang("notifications",i),writeDbLog("POPUPS","modify"+(void 0!==o?" - "+o:""),"admin_logs"),t=o=a=null})).on("click","#notifications .notificationsList .activePopups",(function(t){t.stopPropagation();var i=new FormData;i.append("do","updateActivePopups"),i.append("id",this.dataset.id),i.append("active",this.dataset.active),writeDbLog("POPUPS","active"+(void 0!==this.dataset.id?" - "+this.dataset.id:"")+(void 0!==this.dataset.active?" - "+this.dataset.active:""),"admin_logs"),$.ajax({url:"api/",data:i,type:"post",dataType:"json",contentType:!1,processData:!1,cache:!1,success:function(t){AppData.notifications=t,o()},error:function(t){console.log("Error: "+t)}})})).on("click","#notifications .notificationsList .btn.push",(function(t){t.stopPropagation();var i=$(this).closest("tr").data("id"),o=AppData.notifications.find((function(t){return t.id===i})),a=["client"];writeDbLog("POPUPS","push"+(void 0!==i?" - "+i:""),"admin_logs"),o.send_display&&a.push("display"),o.active&&(Socket.Send("Modal.notification",o,{channel:localState.pushChannel,client:a}),o.pushNotification&&$.post("api/",{do:"pushNotification",data:i}),o.show_notification=void 0!==o.show_notification&&o.show_notification,!0===o.show_notification&&($.post("api/",{do:"savePushedNotification",data:i}),Socket.Send("Notifications.BuildFromSource")))})).on("click","#notifications .notificationsList .btn.close",(function(t){t.stopPropagation(),Socket.Send("Layout.hide","modal",{client:["client","display"]}),writeDbLog("POPUPS","pushBack","admin_logs")})).on("click","#notifications .actions .new",(function(){var t=$("#notifications-details");$("#notifications, #notifications-details").toggle(),$("#notifications-details").find(".actions .remove").hide(),t.find("form").find("input").val(""),t=null,Layout.buildLanguageTabs("#notifications-details",i);var o=(AppData.notifications?AppData.notifications.length:0)+1;$("#notifications-details").find('[name ="sort_id"]').val(o),setReqOnFieldsByLang("notifications",i),writeDbLog("POPUPS","new","admin_logs")})).on("click","#notifications .actions .exportJson",(function(i){i.stopPropagation(),t.exportJson(),writeDbLog("POPUPS","export json","admin_logs")})).on("click","#notifications .actions .importJson",(function(i){i.stopPropagation(),t.openModalWindow(),writeDbLog("POPUPS","import json","admin_logs")})).on("click","#notifications-details .close",(function(){$("#notifications, #notifications-details").toggle(),$("#notifications-details form").find("input").val(""),writeDbLog("POPUPS","close","admin_logs")})).on("click","#notifications-details .remove",(function(t){t.preventDefault();var i=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("POPUPS","remove"+(void 0!==i?" - "+i:""),"admin_logs"),$.post("api/",{do:"removeNotification",data:i},(function(t){AppData.notifications=t,o(),i=t=null})),$("#notifications, #notifications-details").toggle(),$("#notifications-details form").find("input").val("")}))})).on("click","#notifications-details .notification-icon",(function(){icongrid.modalIconGridShow("#notifications-details",".notification-icon")})).on("submit","#notifications-details form",(function(t){t.preventDefault();var i=$(this).serializeObject(),a=!0;a=JSON.stringify(i)!==JSON.stringify(AppData.users.find((function(t){return t.id===i.id})));var n=new FormData($(this).get(0));if(n.append("do","saveNotification"),$("#notifications, #notifications-details").toggle(),$("#notifications-details form").find("input, select").val(""),!a)return i=a=null,!1;writeDbLog("POPUPS","save"+(void 0!==i.id?" - "+i.id:""),"admin_logs"),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:n,success:function(t){AppData.notifications=t,o(),i=a=t=null}})})),{Init:function(){DragAndDrop.Init({container:".notificationsList",rowcontainer:".ddClassNotifications",dbname:"notifications"}),o(),(t=new JsonExportImport).Init({module:"notifications",file:"notifications.json",callback:function(t){a(),Socket.Send("Notifications.BuildFromSource",!0)}})},renderList:o,BuildFromSource:a}}();
var Nativesettings=function(){"use strict";var t=[{target:"settings",title:"Settings",active:!1},{target:"translations",title:"Languages",active:!1},{target:"modulsettings",title:"Module settings",active:!1},{target:"uploadsettings",title:"Uploads",active:!1},{target:"nativesettings",title:"Native settings",active:!0},{target:"urlsettings",title:"URL settings",active:!1},{target:"backups",title:"Backups",active:!1}],e=!0;return $(document).on("change","form#formnativesettings input, form#formnativesettings select",(function(t){var e=$(this).closest("form").serializeObject();$.post("api/",{do:"saveNativeSettings",data:JSON.stringify(e)},(function(t){AppData.nativesettings=t,t=null}))})),{Init:function(){$.each(AppData.nativesettings,(function(t,e){var i=$('form#formnativesettings [name="'+t+'"]');"boolean"==typeof e?i.prop("checked",e):i.val(String(e))})),e&&(e=!1,Layout.addTabs("nativesettings",t)),$("#formnativesettings").on("submit",(function(){return!1}))}}}();
var Ondemandvideos=function(){"use strict";var e,d=[{target:"ondemandvideos",title:"Videos",active:!0},{target:"videogroups",title:"Groups",active:!1}],n=[{templateName:"title",name:"title"}];function o(){AppData.ondemandvideos.sort((function(e,d){return void 0!==e.sort_id&&void 0!==d.sort_id?parseInt(e.sort_id)>parseInt(d.sort_id)?1:-1:0}));var e=$(document.createDocumentFragment()),d=$("<tr/>"),n=AppData.ondemandvideos?AppData.ondemandvideos.length:0;$("<th/>").text("").css("width","45px").appendTo(d),$("<th/>").text("Title").appendTo(d),$("<th/>").text("Url").appendTo(d),$("<th/>").text("").appendTo(d),d.appendTo(e),$(".ondemandvideosListThead").html(e),e=$(document.createDocumentFragment()),$.each(AppData.ondemandvideos,(function(d,n){var o,a,t=$("<tr/>");t.addClass("ddClassOndemandvideos"),a=n,(o=t).attr("data-id",a.id).toggleClass("color-red",!1===a.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').css("width","45px").attr("nowrap","nowrap").appendTo(o),$("<td/>").html(a.title[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(o),$("<td/>").text(a.url).attr("nowrap","nowrap").appendTo(o),$("<td/>").html('<button data-id="'+a.id+'" class="btn shareUrl" title="Share"><i class="fa fa-share"></i></button>').attr("nowrap","nowrap").appendTo(o),t.appendTo(e),t=null})),$("main#ondemandvideos").find(".ondemandvideosTitle").text(n+" video(s)"),$("main#ondemandvideos").find(".ondemandvideosList").html(e),e=d=n=null}function a(){$.post("api/",{do:"getOndemandvideos"},(function(e){AppData.ondemandvideos=e.videos,AppData.videogroups=e.video_groups,o(),e=null}))}function t(){var e=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(e),$.each(AppData.videogroups,(function(d,n){$("<option/>",{value:n.id,text:n.title[localState.lang]}).appendTo(e)})),$('#ondemandvideos-details select[name="group"]').html(e)}function i(){t(),Layout.buildLanguageTabs("#ondemandvideos-details",n),setReqOnFieldsByLang("ondemandvideos",n),$("#ondemandvideos, #ondemandvideos-details").toggle(),$("#ondemandvideos-details").find(".actions .remove").hide();var e=(AppData.ondemandvideos?AppData.ondemandvideos.length:0)+1;$("#ondemandvideos-details").find('[name ="sort_id"]').val(e),writeDbLog("VIDEOS","new","admin_logs")}return $(document).on("click","#ondemandvideos .actions .exportJson",(function(d){d.stopPropagation(),e.exportJson(),writeDbLog("VIDEOS","export json","admin_logs")})).on("click","#ondemandvideos .actions .importJson",(function(d){d.stopPropagation(),e.openModalWindow(),writeDbLog("VIDEOS","import json","admin_logs")})).on("click","#ondemandvideos .ondemandvideosList tr[data-id]",(function(){var e=$("#ondemandvideos-details"),d=this.dataset.id,o=AppData.ondemandvideos.find((function(e){return e.id===d}));t(),$.each(o,(function(d,n){"boolean"==typeof n?e.find("[name="+d+"]").prop("checked",n):e.find("[name="+d+"]").val(n.toString()||"")})),$("#ondemandvideos-details").find(".actions .remove").show(),$("#ondemandvideos-details .preview").hide(),$("#ondemandvideos, #ondemandvideos-details").toggle(),Layout.buildLanguageTabs("#ondemandvideos-details",n,o),setReqOnFieldsByLang("ondemandvideos",n),writeDbLog("VIDEOS","modify"+(void 0!==d?" + "+d:""),"admin_logs"),e=d=o=null})).on("click","#ondemandvideos .ondemandvideosList .shareUrl",(function(e){e.stopPropagation(),createShareUrl("ondemandvideos",$(this).attr("data-id"))})).on("click","#ondemandvideos-details .close",(function(){$("#ondemandvideos, #ondemandvideos-details").toggle(),$("#ondemandvideos-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),writeDbLog("VIDEOS","close","admin_logs")})).on("click","#ondemandvideos-details .remove",(function(e){e.preventDefault();var d=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("VIDEOS","remove"+(void 0!==d?" - "+d:""),"admin_logs"),$.post("api/",{do:"removeOndemandvideos",data:d},(function(e){AppData.ondemandvideos=e,Socket.Send("Ondemandvideos.BuildFromSource",!0),o(),d=e=null})),$("#ondemandvideos, #ondemandvideos-details").toggle(),$("#ondemandvideos-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)}))})).on("submit","#ondemandvideos-details form",(function(e){e.preventDefault();var d=$(this).serializeObject(),n=!0;n=JSON.stringify(d)!==JSON.stringify(AppData.ondemandvideos.find((function(e){return e.id===d.id})));var a=$(this).serialize();if(a+="&do=saveOndemandvideos",writeDbLog("VIDEOS","submit"+(void 0!==d.id&&""!==d.id?" - "+d.id:""),"admin_logs"),$("#ondemandvideos, #ondemandvideos-details").toggle(),$("#ondemandvideos-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),!n)return d=n=null,!1;$.ajax({method:"post",url:"api/",data:a,success:function(e){AppData.ondemandvideos=e,Socket.Send("Ondemandvideos.BuildFromSource",!0),o(),d=n=e=null}})})),{Init:function(){$(document).on("click","main#ondemandvideos .actions .new",i),o(),DragAndDrop.Init({container:".ondemandvideosList",rowcontainer:".ddClassOndemandvideos",dbname:"ondemandvideos",socketupdate:"Ondemandvideos.BuildFromSource"}),(e=new JsonExportImport).Init({module:"ondemandvideos",file:"ondemandvideos.json",callback:function(e){a(),Socket.Send("Ondemandvideos.BuildFromSource",!0)}}),Layout.addTabs("ondemandvideos",d)},BuildFromSource:a}}();
var Presentations=function(){"use strict";let e,n,t="presentation",a=!1;function o(){let e=$(this);Modal.confirm("Are you sure?",(function(){let n=e.closest(".presicontrol_form").find("[name='presi_id']").val();n&&$.ajax({method:"post",url:"api/",data:{do:"removePresentationBlock",id:n},success:function(n){e.closest(".presicontrol_form").remove()}})}))}function s(e,t,a){let o=$(document.createDocumentFragment()),s=n.clone(),i=$(".tab_presentations .tab.selected"),r=e||"new_"+(new Date).getTime(),p=t||i.attr("data-presitarget"),d=a||0;if(s.attr("data-channel",p).attr("data-id",r),s.find('[name="presi_id"]').attr("value",r),s.find('[name="channel"]').attr("value",p),s.find('[name="onair"]').attr("value",d),1==d&&s.find(".presicontrol").addClass("onair"),s.find("select.selectPresentation").attr("name",r+"_presi"),s.find("select.selectSpeaker").attr("name",r+"_speaker[]"),s.find("legend.chtitle").text("Presi "+r),s.find(".btn:not(.home,.add_speaker,.remove_speaker)").addClass("disabled"),o.append(s),$("#presentationControls").append(o),function(e){e.html(""),$("<option>",{text:"--",value:""}).appendTo(e),$("<option>",{text:"All Speakers (if control allowed)",value:"all-speakers"}).appendTo(e),$("<option>",{text:"All Directors (if control allowed)",value:"all-directors"}).appendTo(e),$("<option>",{text:"Speakers + Directors (if control allowed)",value:"speakers-directors"}).appendTo(e);let n=AppData.users.filter((function(e){return 1==e.presi_control&&e.active}));for(var t in n.sort((function(e,n){return e.name[AppData.settings.lang].localeCompare(n.name[AppData.settings.lang])})),n)$("<option>",{text:n[t].name[localState.lang],value:n[t].id}).appendTo(e)}($("#presentationControls form[data-id='"+r+"'] .selectSpeaker")),c($("#presentationControls form[data-id='"+r+"'] .selectPresentation")),null==e)l();else{let n=AppData.presentations.find((function(n){return n.id==e})),t=$("#presentationControls form[data-id='"+r+"']");$(".selectPresentation",t).val(n.presi);for(let e in n.speaker)if(e>0){let a=$(".sspeaker",t).last().clone();a.insertAfter($(".sspeaker",t).last()),$("select",a).val(n.speaker[e])}else $(".sspeaker select",t).val(n.speaker[e]);t.find(".controls").find(".btn:not(.home,.add_speaker,.remove_speaker)").toggleClass("disabled",!1),t.find(".timer-controls").find(".btn:not(.home,.add_speaker,.remove_speaker)").toggleClass("disabled",!1)}}function i(){var e=$(this).val();if(e.indexOf("*")>-1){var n=e.split("*");if(""===n[n.length-1]&&n.pop(),n.length>1){for(var t=0,a=0;a<n.length;a++)""!=n[a]&&(0==t?t+=parseInt(n[a]):t*=parseInt(n[a]));$(this).val(t)}}}function r(){l()}function l(e){if(a){let n=$("#presentations #presentationControls .presicontrol_form"),t=[];n.each((function(){t.push($(this).serialize())})),$.ajax({method:"post",url:"api/",data:{do:"savePresentations",forms:t},success:function(n){AppData.presentations=n.presis;for(let e in n.added){let t=n.added[e],a=$("form[data-id='"+e+"']");$('[name="presi_id"]',a).attr("value",t),$("select.selectPresentation",a).attr("name",t+"_presi"),$("select.selectSpeaker",a).attr("name",t+"_speaker[]"),$("legend.chtitle",a).text("Presi "+t),a.attr("data-id",t)}null!=e&&e()}})}}function c(e){var n=AppData.medias.filter((function(e){return"presentation"==e.type})),t=$(document.createDocumentFragment());t.append('<option value="">Choose...</option>'),$.each(n,(function(e,n){$("<option>",{text:n.title[localState.lang],value:n.id}).appendTo(t)})),e.html(t),e.each((function(){let e=$(this).closest($(".presicontrol_form")).attr("data-id"),n=AppData.presentations.find((function(n){return n.id==e}));n&&$(this).val(n.presi)}))}function p(){var e=$(this).data("list"),n=$(document.createDocumentFragment());n.append('<option disabled="disabled" selected="selected" value="">Choose...</option>'),$.each(e,(function(e,t){$("<option>",{text:t.name,value:t.url}).appendTo(n)})),$("#presentationControls").find(".selectPresentation").html(n),$.each(AppData.presentations,(function(e,n){$(".selectPresentation").filter('select[name="'+e+'"]').val(n).trigger("change")}))}function d(e,n,t){if("all-speakers"==e){let e=AppData.users.filter((function(e){return"speaker"==e.group&&1==e.presi_control}));e=e.map((function(e){return e.id})),e.length>0&&Socket.Send(n,t,{uid:e})}else if("all-directors"==e){let e=AppData.users.filter((function(e){return"director"==e.group&&1==e.presi_control}));e=e.map((function(e){return e.id})),e.length>0&&Socket.Send(n,t,{uid:e})}else if("speakers-directors"==e){let e=AppData.users.filter((function(e){return("director"==e.group||"speaker"==e.group)&&1==e.presi_control}));e=e.map((function(e){return e.id})),e.length>0&&Socket.Send(n,t,{uid:e})}else Socket.Send(n,t,{uid:e})}function f(e){var n=$(this),t=n.val(),a=$(this).closest("form");a.find('[name="channel"]').val();g($(".selectSpeaker",a));n.closest("fieldset").find(".controls").find(".btn:not(.home,.add_speaker,.remove_speaker)").toggleClass("disabled",!Boolean(t)),n.closest("fieldset").find(".timer-controls").find(".btn:not(.home,.add_speaker,.remove_speaker)").toggleClass("disabled",!Boolean(t)),e.originalEvent&&(t||n.val(""),l())}function h(){var e=$(this).closest("form"),n=e.find(".selectPresentation").val(),a=e.find('[name="channel"]').val();Socket.Send("Presentation.source",n,{channel:[a]}),Socket.Send("Layout.swap",t,{channel:[a],client:["display","client"]})}function m(){var e=$(this).closest("form").find('[name="channel"]').val();Socket.Send("Layout.show","attendees",{channel:[e]})}function u(){var e=$(this).closest("form");$(".sspeaker",e).last().clone().insertAfter($(".sspeaker",e).last())}function k(){var e=$(this).closest("form");$(".sspeaker",e).length>1&&$(".sspeaker",e).last().remove(),l()}function v(){var e=$(this).closest("form").find('[name="channel"]').val();Socket.Send("Layout.hideAll",!1,{channel:[e]})}function S(){let e=$(this).closest("form"),n=e.find(".selectPresentation").val(),a=e.find('[name="channel"]').val();if(1==e.find('[name="onair"]').val()){let e=$(this).attr("data-group");Socket.Send("Presentation.source",n,{channel:[a],client:[e]}),Socket.Send("Presentation.show",t,{channel:[a],client:[e]})}}function g(e){let n;return e.length>1?(n=[],e.each((function(e,t){n.push($(this).val())}))):n=e.val(),n}function _(){var e=$(this).closest("form"),n=e.find(".selectPresentation").val(),a=e.find('[name="channel"]').val();let o=g($(".selectSpeaker",e));Socket.Send("Presentation.source",n,{channel:[a],client:["speaker_display"]}),d(o,"SpeakerPresentation.source",n),Socket.Send("Layout.show",t,{channel:[a],client:["speaker_display"]}),d(o,"SpeakerPresentation.show",null),d(o,"SpeakerPresentation.setSpeakers",o)}function P(){var e=$(this).closest("form"),n=e.find('[name="channel"]').val();if(1==e.find('[name="onair"]').val()){let e=$(this).attr("data-group");Socket.Send("Presentation.hide",t,{channel:[n],client:[e]})}}function b(){var e=$(this).closest("form"),n=e.find('[name="channel"]').val();let a=g($(".selectSpeaker",e));Socket.Send("Layout.hide",t,{channel:[n],client:["speaker_display"]}),d(a,"SpeakerPresentation.hide",null)}function C(){var e=$(this).closest("form"),n=e.find('[name="channel"]').val();let t=g($(".selectSpeaker",e));Socket.Send("Presentation.setTimer",$(".timer",e).val(),{channel:[n],client:["speaker_display"]}),d(t,"SpeakerPresentation.setTimer",$(".timer",e).val())}function y(){var e=$(this).closest("form"),n=e.find('[name="channel"]').val();let t=g($(".selectSpeaker",e));Socket.Send("Presentation.startTimer",null,{channel:[n],client:["speaker_display"]}),d(t,"SpeakerPresentation.startTimer",null)}function A(){var e=$(this).closest("form"),n=e.find('[name="channel"]').val();let t=g($(".selectSpeaker",e));Socket.Send("Presentation.pauseTimer",null,{channel:[n],client:["speaker_display"]}),d(t,"SpeakerPresentation.pauseTimer",null)}function D(){var e=$(this).closest("form"),n=e.find('[name="channel"]').val();let t=g($(".selectSpeaker",e));Socket.Send("Presentation.resetTimer",null,{channel:[n],client:["speaker_display"]}),d(t,"SpeakerPresentation.resetTimer",null)}function w(){let e=$(this).closest("form"),n=e.find('[name="channel"]').val(),a=$('#presentationControls form[data-channel="'+n+'"]'),o=e.find('[name="onair"]').val();$('[name="onair"]',a).val("0"),a.find(".presicontrol").removeClass("onair"),Socket.Send("Presentation.hide",t,{channel:[n],client:["display","client"]}),1==o?e.find('[name="onair"]').val("0"):(e.find('[name="onair"]').val("1"),e.find(".presicontrol").addClass("onair"));let s=g($(".selectSpeaker",e));l((function(){d(s,"SpeakerPresentation.onAir",{presentations:AppData.presentations})}))}function x(){var e=$(this).closest("fieldset"),n=e.data("channel"),t=$(this).closest(".channel_cont"),a=$(".on_air",t),o=$(".select_speaker_channels",t),s=[];let i=g($(".selectSpeaker",e));$.each(o,(function(){$(this).prop("checked")&&s.push($(this).val())}));var r={state:0,channels:s};s.length>0?(a.attr("data-state",1).addClass("live"),r.state=1):(a.attr("data-state",0).removeClass("live"),r.state=0),Socket.Send("Presentation.onAir",r,{channel:[n],client:["speaker_display"]}),d(i,"SpeakerPresentation.onAir",r)}function T(){var e=$(this).closest("form"),n=e.find('[name="channel"]').val();e.find('[name="onair"]').val();e.find(".selectPresentation").val("");let a=e.find('[name="onair"]').val(),o=g($(".selectSpeaker",e));e.find(".selectSpeaker").val("").trigger("change"),e.find('[name="onair"]').val("0"),e.find(".presicontrol").removeClass("onair"),l(),1==a&&(Socket.Send("Presentation.hide",t,{channel:[n],client:["display","client"]}),Socket.Send("Presentation.source",!1,{channel:[n],client:["display","client"]})),d(o,"SpeakerPresentation.hide",null)}function L(){var e=$(this).closest("form").find('[name="channel"]').val();Socket.Send("Presentation.prevSlide",!0,{channel:[e],client:["display","client"]})}function B(){var e=$(this).closest("form").find('[name="channel"]').val();Socket.Send("Presentation.nextSlide",!0,{channel:[e],client:["display","client"]})}function I(){var e=$(this).closest("form"),n=e.find('[name="channel"]').val();let t=g($(".selectSpeaker",e));Socket.Send("Presentation.firstSlide",!0,{channel:[n],client:["display","client","speaker_display"]}),d(t,"SpeakerPresentation.firstSlide",null)}function F(){var e=$(this).closest("form").find('[name="channel"]').val();Socket.Send("Presentation.toggleBlank",!0,{channel:[e],client:["display","client"]})}function J(n){n.stopPropagation(),e.openModalWindow()}function j(n){n.stopPropagation(),e.exportJson()}return{Init:function(){var t;t=$("#main-wrapper").find(".tab_presentations").length>0?$("#main-wrapper").find(".tab_presentations").html(""):$("<div/>").addClass("tab_main tab_presentations");var l=$("<div/>").addClass("tab_container");t.append(l),AppData.channels.forEach((function(e,n){let t=$("<div/>").addClass("tab").html(Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name);0==n&&t.addClass("selected"),t.attr("data-presitarget",e.channel),l.append(t)}));let c=$("<div/>").addClass("tab").html("Upload");c.attr("data-presitarget","upload"),l.append(c),$("#tabs").append(t),$(".tab_presentations .tab").on("click",(function(){$(".tab_presentations .tab").removeClass("selected"),$(this).addClass("selected"),$("#presentations .container").hide();let e=$(this).attr("data-presitarget");"upload"==e?$("#presentations .presiupload").show():($("#presentations .presichannels form").hide(),$("#presentations .presichannels").show(),$("#presentations .presichannels form[data-channel='"+e+"']").show())})),n=$("template#tplPresentationControls").remove().contents();let d="main#presentations #presentationControls form";$.each(AppData.presentations,(function(e,n){s(n.id,n.channel,n.onair)})),$(document).on("click","#presentations .exportJson",j).on("click","#presentations .importJson",J).on("click","#presentations .addPresiBlock",(function(){s()})).on("click",d+" .controls .home",v).on("click",d+" .controls .add_speaker",u).on("click",d+" .controls .remove_speaker",k).on("click",d+" .controls .user",m).on("click",d+" .controls .swap",h).on("click",d+" .controls .show",S).on("click",d+" .controls .show_display",S).on("click",d+" .controls .show_speaker",_).on("click",d+" .controls .hide_speaker",b).on("click",d+" .controls .hide",P).on("click",d+" .controls .hide_display",P).on("click",d+" .controls .reset",T).on("click",d+" .controls .prev",L).on("click",d+" .controls .next",B).on("click",d+" .controls .first",I).on("click",d+" .controls .blank",F).on("click",d+" .timer-controls .set_time",C).on("click",d+" .timer-controls .start_time",y).on("click",d+" .timer-controls .pause_time",A).on("click",d+" .timer-controls .reset_time",D).on("click",d+" .timer-controls .on_air",w).on("click",d+" .timer-controls .remove_presi",o).on("click",d+" .timer-controls .select_speaker_channels",x).on("change",d+" .selectPresentation",f).on("change",d+" .selectSpeaker",r).on("blur",d+" .timer-controls .timer",i).on("change","main#presentations form.uploads",p),$(".tab_presentations .tab").first().trigger("click"),a||(e=new JsonExportImport,e.Init({module:"presentations",file:"presentations.json",callback:function(e){Socket.Send("Presentation.Init",!0)}}),a=!0)},changeState:function(e){var n=$("main#presentations").find(".selectPresentation");AppData.presentations=e,$.each(n,(function(e,n){var t=AppData.presentations[n.name];$(n).val(t).trigger("change")}))},afterUpload:function(){Uploadsettings.BuildFromSource(),Socket.Send("Layout.GetMediasFromSource",null)},buildPresentationSelects:c}}();
var Quiz=function(){"use strict";var t,a,e=[{target:"quiz",title:"Questions",active:!0},{target:"quizgroups",title:"Groups",active:!1}],n={},i=[{templateName:"question",name:"question"}],o=!0,l=!1;function s(t){AppData.quiz.sort((function(t,a){return void 0!==t.sort_id&&void 0!==a.sort_id?parseInt(t.sort_id)>parseInt(a.sort_id)?1:-1:0}));var a=t||AppData.quiz,e=$(document.createDocumentFragment()),n=$("<tr/>"),i=a?a.length:0;$("<th/>").text("").appendTo(n),$("<th/>").text("Active").appendTo(n),$("<th/>").text("Question").appendTo(n),$("<th/>").text("Group").appendTo(n),$("<th/>").text("Room").appendTo(n),$("<th/>").text("Answered").appendTo(n),$("<th/>").text("Note").appendTo(n),$("<th/>").text("Actions").appendTo(n),n.appendTo(e),$("main#quiz").find(".quizListThead").html(e),e=$(document.createDocumentFragment()),$.each(a,(function(t,a){var n=$("<tr/>");n.addClass("ddClassQuiz"),function(t,a){var e=AppData.channels.find((function(t){return t.channel===a.channel})),n=AppData.quizgroups||{};$.each(a.answer,(function(t,a){a.count||0})),t.attr("data-id",a.id).toggleClass("color-red",!1===a.visible),t.attr("data-ch",a.channel||"ch0"),t.toggleClass("disabled",a.channel!==localState.pushChannel&&"all"!==localState.pushChannel),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(t),$("<td/>").html('<button class="btn selectVote" title="Activate"><i class="fa fa-play"></i></button>').appendTo(t),$("<td/>").text(a.question[AppData.settings.lang]).appendTo(t);var i=n.find((function(t){return t.id==a.group}));$("<td/>").text(null!=a.group&&""!=a.group&&null!=i?i.title[localState.lang]:"").attr("nowrap","nowrap").appendTo(t),$("<td/>").text(e?Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name:"").attr("nowrap","nowrap").appendTo(t),$("<td/>").html((a.answers_count||0)+' x <button data-id="'+a.id+'" class="btn exportVotes" title="Export votes"><i class="fas fa-file-excel"></i></button>').attr("nowrap","nowrap").addClass("text-center").appendTo(t),$("<td/>").text(a.note).attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button data-id="'+a.id+'" class="btn deleteVotes" title="Delete votes"><i class="fas fa-trash-alt"></i></button>').appendTo(t)}(n,a),n.appendTo(e)})),$("main#quiz").find(".quizTitle").text(i+" question(s)"),$("main#quiz").find(".quizList").html(e)}function c(){var t=$("main#quiz .actions .sync");t.addClass("disabled").find("i").addClass(" fa-spin"),$.post("api/",{do:"getQuiz"},(function(a){AppData.quiz=a,k(),t.removeClass("disabled").find("i").removeClass(" fa-spin")}))}function r(t=!1){var a=AppData.medias.filter((function(t){return"music"==t.type})),e=$(document.createDocumentFragment());$("<option/>").val("nosound").text("No sound").appendTo(e),$("<option/>").val("default").text("Default sound").appendTo(e),$.each(a,(function(t,a){$("<option/>").val(a.id).text(a.title[AppData.settings.lang]).appendTo(e)})),t&&e.find("option[value='default']").attr("selected","selected"),$("#quiz-details").find(".container .mediaplay").html(e)}function u(t,a){var e=$(document.createDocumentFragment());$('<option value="" selected></option>').appendTo(e),$.each(AppData.medias,(function(t,a){$("<option/>").val(a.id).text(a.filename).appendTo(e)})),t.find("#sponsormedia").html(e),a&&"sponsormedia"in a&&t.find("#sponsormedia").val(a.sponsormedia),e=null}function d(t){t.stopPropagation();var e=$(this).closest("tr").data("ch"),i=$(this).closest("tr").hasClass("now");let o;if("all"===localState.pushChannel){for(var s in n)n[s]="";$("tr",$("main#quiz")).removeClass("now"),$(".selectVote i",$("tr")).removeClass("fa-stop").addClass("fa-play"),o="all"}else o=[localState.pushChannel];n[e]===$(this).closest("tr").data("id")||i?($(this).closest("tr").removeClass("now"),$("i",$(this)).removeClass("fa-stop").addClass("fa-play"),n[e]=""):($("tr[data-ch="+e+"]",$("main#quiz")).removeClass("now"),$(".selectVote i",$("tr[data-ch="+e+"]")).removeClass("fa-stop").addClass("fa-play"),n[e]=$(this).closest("tr").data("id"),$("i",$(this)).removeClass("fa-play").addClass("fa-stop"),$(this).closest("tr").addClass("now")),Socket.Send("Quiz.hideQuestion",1,{channel:o}),Socket.Send("Layout.hide","wordcloud",{channel:o,group:"display"}),l=!1,clearTimeout(a),writeDbLog("QUIZ","selectVote","admin_logs")}function p(t){t.stopPropagation();var e=["display","client"];null!=this.dataset.show&&(e=[this.dataset.show]);let i=$("#quiz .votegroup_to_push").val();if(""==i){var o=0;for(var s in n)""!==n[s]&&o++;if("all"===localState.pushChannel&&o>1)Modal.alert("Minden csatorna / terem esetĂŠn egy szavazĂĄs lehet csak kivĂĄlasztva.");else{if($.ajax({method:"post",url:"api/",data:{do:"saveSelected",votes:n,channel:localState.pushChannel}}),"all"===localState.pushChannel)for(var s in n)""!==n[s]&&Socket.Send("Quiz.showQuestion",n[s],{channel:localState.pushChannel,client:e});else Socket.Send("Quiz.showQuestion",n[localState.pushChannel],{channel:[localState.pushChannel],client:e});l=!1,clearTimeout(a),writeDbLog("QUIZ","pushShow - "+e+" - "+(void 0!==localState.pushChannel?localState.pushChannel:""),"admin_logs")}}else Socket.Send("Quiz.showQuestion",{group:i},{channel:"all"===localState.pushChannel?"all":[localState.pushChannel],client:e})}function h(){a=setTimeout((function(){$("#quiz .actions .results").trigger("click",[!0])}),1e3)}function f(t){t.stopPropagation();var e=["display","client"];null!=this.dataset.hide&&(e=[this.dataset.hide]);let i=$("#quiz .votegroup_to_push").val();if(""!=i)return void Socket.Send("Quiz.hideQuestion",{group:i},{channel:"all"===localState.pushChannel?"all":[localState.pushChannel],client:e});var o=0;for(var s in n)""!==n[s]&&o++;if("all"===localState.pushChannel&&o>1)return void Modal.alert("Minden csatorna / terem esetĂŠn egy szavazĂĄs lehet csak kivĂĄlasztva.");if($.ajax({method:"post",url:"api/",data:{do:"hideSelected",channel:localState.pushChannel}}),"all"===localState.pushChannel)for(var s in n)""!==n[s]&&Socket.Send("Quiz.hideQuestion",n[s],{channel:localState.pushChannel,client:e});else Socket.Send("Quiz.hideQuestion",n[localState.pushChannel],{channel:[localState.pushChannel],client:e});let c;c="all"==localState.pushChannel?"all":[localState.pushChannel],l=!1,clearTimeout(a),Socket.Send("Layout.hide","wordcloud",{channel:c,group:"display"}),writeDbLog("QUIZ","pushHide - "+e+" - "+localState.pushChannel,"admin_logs")}function m(t){t.stopPropagation();var a=$(this);Modal.confirm("Figyelem!\nMinden eszkĂśzĂśn robot fog szavazni vĂŠletlenszerĹąen!\nBiztosan ezt szeretnĂŠd?",(function(){let t;t="all"==localState.pushChannel?"all":[localState.pushChannel],Socket.Send("Quiz.testVote",2!=a.attr("data-votetype"),{client:"client",channel:t}),writeDbLog("QUIZ","pushTestVote - "+t,"admin_logs")}))}function g(t,a){var e=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(e),$.each(AppData.channels,(function(t,a){a.active&&"ch0"!==a.channel&&a.name&&$("<option/>").val(a.channel).text(Language.getTranslation(a.name,AppData.settings.lang)+" | "+a.admin_name).appendTo(e)})),t.find(".selectChannel").html(e),a&&"channel"in a&&t.find(".selectChannel").val(a.channel),e=null}function z(t,a){var e=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(e),$.each(AppData.quizgroups,(function(t,a){$("<option/>").val(a.id).text(a.title[localState.lang]).appendTo(e)})),t.find(".selectGroups").html(e),a&&"group"in a&&t.find(".selectGroups").val(a.group),e=null}function v(t){var a=(new Date).getTime();void 0!==t.id&&(a=t.id);var e=$("<span/>");e.addClass("answer_cont").html('<span class="answer_title" data-anum="'+(a+1)+'">Answer number '+(a+1)+' <span><i class="questioncircle_tooltip fas fa-question-circle"></i></span></span>');var n=$("<span/>").addClass("answer_points"),i=$("<input/>");i.attr("name","points["+a+"]").attr("data-anum",a).attr("placeholder","Points"),n.append(i),e.append(n),"undefined"!==t&&t.points&&i.val(t.points);var o=$("<span/>");o.addClass("correct_chk");var l=$("<input/>");l.attr("type","checkbox"),l.attr("id","correct_"+a),l.attr("name","correct["+a+"]").attr("data-anum",a),"undefined"!==t&&t.correct&&l.prop("checked",!0);var s=$("<label/>");s.attr("for","correct_"+a),o.append(l),o.append(s),e.append(o);var c=$("<span/>");c.addClass("answer_inputs"),$.each(AppData.translations,(function(e,n){var i=n.translation_id,l=$("<input/>");l.attr("type","file"),l.attr("name","images["+a+"]["+i+"]").addClass("answer_input_"+i).attr("data-anum",a),c.append(l);var s=$("<input/>");s.attr("name","answer["+a+"]["+i+"][text]").addClass("answer_input_"+i).attr("data-anum",a),c.append(s);var r=$(".langtab.selected",$("#quiz-details")).attr("data-lang");if(void 0!==t[i]&&(s.val(t[i].text),void 0!==t[i].image&&""!==t[i].image)){var u=$("<img/>");u.attr("src",t[i].image),u.addClass("answer_input_"+i),o.append(u),u.toggle(r===i)}s.toggle(r===i),l.toggle(r===i)}));var r=$("<span/>");r.attr("data-id",a),r.addClass("del_answer").html('<button type="button"><i class="fas fa-trash"></i></button>'),e.append(c),e.append(r).appendTo($(".answers",$("#quiz-details"))),e.find(".questioncircle_tooltip").parent().attr("title",Language.getItem("html_tooltip"))}function q(t){t.stopPropagation();var a=$(this);window.open("api/?do=exportVotes&id="+a.attr("data-id"))}function w(){var t=$(document.createDocumentFragment());$('<option value="" selected>--</option>').appendTo(t),$.each(AppData.quizgroups,(function(a,e){$("<option/>").val(e.id).text(e.title[localState.lang]).appendTo(t)})),$('#quiz [name="votegroup_to_push"]').html(t),t=null}function S(){var t=$(".filters-quiz").position();t.top+=38,t.left+=4,$(".modal-content-filter-quiz").attr("style","top: "+t.top+"px; left: "+t.left+"px;")}function k(){var t=AppData.quiz,a=$(".modal-content-filter-quiz").find("#filterformquiz #quizgroups-filter").val();"..."!=a&&(t=t.filter((function(t){return t.group===a}))),"..."==a?($("#quiz .actions .filters-quiz").removeClass("active-filter"),$("#quiz .actions .close-btn").css("display","none")):($("#quiz .actions .filters-quiz").addClass("active-filter"),$("#quiz .actions .close-btn").css("display","block")),s(t)}function q(t){t.stopPropagation(),window.open("api/?do=exportVotes")}return $(document).on("click","#quiz .actions .new",(function(){var t=$("#quiz-details");$("#quiz, #quiz-details").toggle(),$("#quiz-details").find(".actions .remove").hide(),t.find("form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),t.find('[name="min_answers"]').val(1),t.find('[name="max_answers"]').val(1),g(t),z(t),r(!0),u(t),$(".answer_cont",$("#quiz-details")).remove(),Layout.buildLanguageTabs("#quiz-details",i);var a=(AppData.quiz?AppData.quiz.length:0)+1;$("#quiz-details").find('[name ="sort_id"]').val(a),setReqOnFieldsByLang("quiz",i),writeDbLog("QUIZ","new","admin_logs"),t=null})).on("click","#quiz .actions .sync",c).on("click","#quiz .actions .export",q).on("click","#quiz .actions .exportJson",(function(a){a.stopPropagation(),t.exportJson(),writeDbLog("QUIZ","export json","admin_logs")})).on("click","#quiz .actions .importJson",(function(a){a.stopPropagation(),Socket.Send("Quiz.hideQuestion",!0),d(a),t.openModalWindow(),writeDbLog("QUIZ","import json","admin_logs")})).on("click","#quiz .quizList tr[data-id]",(function(){var t=$("#quiz-details"),a=this.dataset.id,e=AppData.quiz.find((function(t){return t.id===a}));Layout.buildLanguageTabs("#quiz-details",i,e),$(".answer_cont",$("#quiz-details")).remove(),r(),$.each(e,(function(a,e){t.find('[name="'+a+'"]').val(String(e)||"")})),$.each(e.answer,(function(t,a){v(a)})),$("#quiz, #quiz-details").toggle(),t.find(".actions .remove").show(),g(t,e),z(t,e),u(t,e),setReqOnFieldsByLang("quiz",i),t.find("form select.type").trigger("change"),writeDbLog("QUIZ","modify"+(void 0!==a?" - "+a:""),"admin_logs")})).on("click","#quiz .actions .filters-quiz",(function(t){t.stopPropagation(),$(".modal-content-filter-quiz").is(":visible")?$(".modal-content-filter-quiz").hide():(S(),$(".modal-content-filter-quiz").show())})).on("click","#quiz .quizList button.selectVote",d).on("click","#quiz .quizList button.deleteVotes",(function(t){t.stopPropagation();var a=$(this);Modal.confirm("Are you sure to delete? Any replies received so far will also be deleted!",(function(){writeDbLog("QUIZ","deleteVotes","admin_logs"),$.post("api/",{do:"removeQuizUserAnswer",data:a.attr("data-id")},(function(t){AppData.quiz=t,k()}))}))})).on("click","#quiz .quizList button.exportVotes",q).on("click","#quiz .actions .show",p).on("click","#quiz .actions .show-display",p).on("click","#quiz .actions .show-client",p).on("click","#quiz .actions .start",(function(t){let a;t.stopPropagation(),a="all"==localState.pushChannel?"all":[localState.pushChannel],$.ajax({method:"post",url:"api/",data:{do:"setStart",votes:n,channel:localState.pushChannel}}),Socket.Send("Quiz.startTimer",1,{channel:a,client:["display","client"]}),AppData.modulsettings.auto_display_results&&(h(),l=!0),writeDbLog("QUIZ","pushStart - "+a,"admin_logs")})).on("click","#quiz .actions .results",(function(t,a){t.stopPropagation();let e="";if("all"===localState.pushChannel){for(var i in console.log(n),n)if(""!==n[i]){e=n[i];break}}else e=n[localState.pushChannel];$.ajax({method:"post",url:"api/",data:{do:"getQuiz",id:e},success:function(t){var e={};for(var n in t)console.log(t[n]),e[t[n].id]=[],$.each(t[n].answer,(function(a,i){var o=t[n].all_answers||0,l=i.count||0,s=l/o*100||0;e[t[n].id].push({id:i.id,result:parseFloat(s).toFixed(1),count:l,total:o,can_vote:t[n].can_vote||0,resultas:t[n].resultas})}));let i;console.log(e),i="all"==localState.pushChannel?"all":[localState.pushChannel];let o=["display","client"];l&&null!=a&&AppData.modulsettings.auto_display_results&&(o=["display"],h()),Socket.Send("Quiz.showResults",e,{channel:i,client:o}),writeDbLog("QUIZ","showResults","admin_logs")}})})).on("click","#quiz .actions .correct",(function(t){let e;t.stopPropagation(),e="all"==localState.pushChannel?"all":[localState.pushChannel],l=!1,clearTimeout(a),Socket.Send("Quiz.showCorrect",1,{channel:e,client:["display","client"]}),writeDbLog("QUIZ","pushCorrect","admin_logs")})).on("click","#quiz .actions .wcloud",(function(t){t.stopPropagation();var a=0;for(var e in n)""!==n[e]&&a++;if("all"===localState.pushChannel&&a>1)Modal.alert("Minden csatorna / terem esetĂŠn egy szavazĂĄs lehet csak kivĂĄlasztva.");else{if("all"===localState.pushChannel)for(var e in n)Socket.Send("Wordcloud.Init",{id:n[e],type:"quiz"},{channel:localState.pushChannel,client:"display"});else Socket.Send("Wordcloud.Init",{id:n[localState.pushChannel],type:"quiz"},{channel:[localState.pushChannel],client:"display"});writeDbLog("QUIZ","pushWordcloud - "+localState.pushChannel,"admin_logs")}})).on("click","#quiz .actions .test",m).on("click","#quiz .actions .test_noauto",m).on("click","#quiz .actions .hide",f).on("click","#quiz .actions .hide-display",f).on("click","#quiz .actions .hide-client",f).on("click","#quiz .actions .show-rankings",(function(){$.post("api/",{do:"getAvailableUsersForRanking"},(function(t){var a=t.length>10?10:t.length;Socket.Send("Ranking.BuildFromSource",{count:a,show:!0},{client:"display"})})),writeDbLog("QUIZ","showRankings - "+count,"admin_logs")})).on("click","#quiz .actions .hide-rankings",(function(){Socket.Send("Ranking.hideRankings",{},{client:"display"})})).on("click","#quiz .actions .mark-firstplace",(function(){Socket.Send("Ranking.markFirst",{},{client:"display"})})).on("click","#quiz-details .close",(function(){$("#quiz, #quiz-details").toggle(),$("#quiz-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),writeDbLog("QUIZ","close","admin_logs")})).on("click","#quiz-details .remove",(function(t){t.preventDefault();var a=$(this).closest("form").find('[name="id"]').val();Modal.confirm(Language.getItem("delete-confirm"),(function(){return writeDbLog("QUIZ","remove"+(void 0!==a?" - "+a:""),"admin_logs"),$.post("api/",{do:"removeQuiz",data:a},(function(t){AppData.quiz=t,Socket.Send("Quiz.BuildFromSource",!0),k()})),$("#quiz, #quiz-details").toggle(),$("#quiz-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),!0}))})).on("click","#quiz-details .add_answer",v).on("submit","#quiz-details form",(function(t){t.preventDefault();var a=new FormData($(this).get(0));if(writeDbLog("QUIZ","save"+(void 0!==a.id&&""!==a.id?" - "+a.id:""),"admin_logs"),a.get("min_answers")>a.get("max_answers"))return Modal.alert("Tha minimum answers number can not be bigger like maximum one!"),!1;a.append("do","saveQuiz"),$("#quiz, #quiz-details").toggle(),$("#quiz-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:a,success:function(t){AppData.quiz=t,$(".answer_cont",$("#quiz-details")).remove(),Socket.Send("Quiz.BuildFromSource",!0),k()}})})).on("click","#quiz-details .langtab",(function(){var t=$(this).attr("data-lang");$(".answer_inputs input, .answer_cont img",$("#quiz-details")).hide(),$(".answer_input_"+t,$("#quiz-details")).show()})).on("click","#quiz-details .del_answer",(function(t){t.preventDefault();var a=$(this);Modal.confirm("Are you sure to delete? Any replies received so far will also be deleted!",(function(){var t=a.attr("data-id");a.closest($(".answer_cont")).remove(),$.post("api/",{do:"removeQuizAnswer",data:t},(function(t){console.log(t)}))}))})).on("change","#quiz .modal-content-filter-quiz",k).on("click","#quiz .actions .close-btn",(function(t){t.stopPropagation(),$("#quiz .actions .filters-quiz").removeClass("active-filter"),$("#quiz .actions .close-btn").css("display","none"),$(".modal-content-filter-quiz").hide(),$("#quizgroups-filter").val("..."),k()})),$(window).resize((function(){$(".modal-content-filter-quiz").is(":visible")&&(S(),$(".modal-content-filter-quiz").show())})),$(window).on("click",(function(t){"string"==typeof t.target.className&&-1===t.target.className.search(/notclose-quiz/i)&&$(".modal-content-filter-quiz").is(":visible")&&$(".modal-content-filter-quiz").hide()})),$(document).on("click","main#quiz .btn.show-rankings-by-number",(function(){$(this);var t,a=parseInt($('[name="ranking_show"]').val());""===a||0===a||isNaN(a)?Modal.alert("NullĂĄnĂĄl nagyobb szĂĄmot kell megadni!"):(t=function(t){a>t&&(a=t),$('[name="ranking_show"]').val(a),Socket.Send("Ranking.BuildFromSource",{count:a,show:!1},{client:"display"}),writeDbLog("QUIZ","show-rankings-by-number - "+a,"admin_logs")},$.post("api/",{do:"getAvailableUsersForRanking"},(function(a){Modal.alert("Jelenleg max. "+a.length+" felhasznĂĄlĂł szerepelhet a toplistĂĄn."),void 0!==t&&t(a.length)})))})),$(document).on("click","main#quiz .btn.place",(function(){var t=parseInt($('[name="ranking_show"]').val()),a=parseInt($('[name="ranking_places"]').val());""===a||0===a||isNaN(a)||a>t?Modal.alert("NullĂĄnĂĄl nagyobb, a mutatott helyezĂŠseknĂŠl kisebb szĂĄmot kell megadni!"):(Socket.Send("Ranking.showPlace",a,{client:"display"}),writeDbLog("QUIZ","show-rankings-by-number - "+a,"admin_logs"))})),{Init:function(){DragAndDrop.Init({container:".quizList",rowcontainer:".ddClassQuiz",dbname:"quiz"}),s(),function(){var t=$(document.createDocumentFragment());$('<option value="..." selected>...</option>').appendTo(t),$.each(AppData.quizgroups,(function(a,e){$("<option/>").val(e.id).text(e.title[localState.lang]).appendTo(t)})),$("#quizgroups-filter").html(t),data&&"group"in data&&$("#quizgroups-filter").val(data.group);t=null}(),w(),o&&(o=!1,Layout.addTabs("quiz",e)),(t=new JsonExportImport).Init({module:"quiz",file:"quiz.json",callback:function(t){c(),Socket.Send("Quiz.BuildFromSource",!0)}})},BuildFromSource:c,buildVoteGroups:w}}();
var Quizgroups=function(){"use strict";var i=[{target:"quiz",title:"Questions",active:!1},{target:"quizgroups",title:"Groups",active:!0}],t=[{templateName:"title",name:"title"}];function u(){AppData.quizgroups.sort((function(i,t){return!0}))}function o(){u();var i=$(document.createDocumentFragment()),t=$("<tr/>"),o=AppData.quizgroups?AppData.quizgroups.length:0;$("<th/>").text("Name").appendTo(t),t.appendTo(i),$.each(AppData.quizgroups,(function(t,u){var o,e,a=$("<tr/>");e=u,(o=a).attr("data-id",e.id).toggleClass("color-red",!1===e.visible),$("<td/>").text(e.title[localState.lang]).attr("nowrap","nowrap").appendTo(o),a.appendTo(i),a=null})),$("main#quizgroups").find(".quizGroupsTitle").text(o+" group(s)"),$("main#quizgroups").find(".quizGroupsList").html(i),i=t=o=null}return $(document).on("click","#quizgroups .quizGroupsList tr[data-id]",(function(){var i=$("#quizgroups-details"),u=this.dataset.id,o=AppData.quizgroups.find((function(i){return i.id===u}));Layout.buildLanguageTabs("#quizgroups-details",t,o),$.each(o,(function(t,u){i.find("[name="+t+"]").val(String(u)||"")})),$("#quizgroups, #quizgroups-details").toggle(),$("#quizgroups-details").find(".actions .remove").show(),writeDbLog("QUIZGROUPS","modify"+(void 0!==u?" + "+u:""),"admin_logs"),i=u=o=null})).on("click","#quizgroups .actions .new",(function(){Layout.buildLanguageTabs("#quizgroups-details",t);var i=$("#quizgroups-details");$("#quizgroups, #quizgroups-details").toggle(),$("#quizgroups-details").find(".actions .remove").hide(),i.find("form").find("input").val(""),writeDbLog("QUIZGROUPS","new","admin_logs"),i=null})).on("click","#quizgroups-details .close",(function(){$("#quizgroups, #quizgroups-details").toggle(),$("#quizgroups-details form").find("input").val(""),writeDbLog("QUIZGROUPS","close","admin_logs")})).on("click","#quizgroups-details .remove",(function(i){i.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){if(null!=AppData.quiz.find((function(i){return i.group==t})))return Modal.alert("This group has at least one quiz associated. It cannot be deleted."),!1;writeDbLog("QUIZGROUPS","remove"+(void 0!==t?" - "+t:""),"admin_logs"),$.post("api/",{do:"removeQuizGroup",data:t},(function(i){AppData.quizgroups=i,o(),t=i=null})),$("#quizgroups, #quizgroups-details").toggle(),$("#quizgroups-details form").find("input").val("")}))})).on("submit","#quizgroups-details form",(function(i){i.preventDefault();var t=$(this).serializeObject(),u=!0;if(u=JSON.stringify(t)!==JSON.stringify(AppData.quizgroups.find((function(i){return i.id===t.id}))),$("#quizgroups, #quizgroups-details").toggle(),$("#quizgroups-details form").find("input, select").val(""),!u)return t=u=null,!1;var e=new FormData;e.append("title[en]",t["title[en]"]),e.append("title[hu]",t["title[hu]"]),e.append("id",t.id),e.append("timer",t.timer),e.append("max_answers",t.max_answers),e.append("only_correct",t.only_correct),e.append("do","saveQuizGroup"),writeDbLog("QUIZGROUPS","submit"+(void 0!==e.id?" - "+e.id:""),"admin_logs"),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:e,success:function(i){AppData.quizgroups=i,Quiz.buildVoteGroups(),Socket.Send("Quiz.updateQuizGroups",!0),o(),t=u=i=null}})})),{Init:function(){o(),Layout.addTabs("quizgroups",i)},renderList:o,BuildFromSource:function(){$.post("api/",{do:"getQuizGroups"},(function(i){AppData.quizgroups=i,u(),o(),i=null}))}}}();
var Registration=function(){var e;function a(){$("#registration .email_attachment").html('<option value="">--</option>'),$.each(AppData.medias,(function(e,a){var t=Language.getTranslation(a.title,AppData.settings.lang);$("#registration .email_attachment").append('<option value="'+a.id+'">'+t+"</option>")}))}function t(){$("main#registration");Layout.buildLanguageTabs("#registration",[{templateName:"email_text",name:"email_text"},{templateName:"email_subject",name:"email_subject"},{templateName:"email_attachment",name:"email_attachment"}],AppData.registration||{}),a();var e=AppData.registration.email_attachment;for(var t in e)$("#registration [name='email_attachment["+t+"]']").val(e[t]);$("#registration").find('[name="reg_allowed"]').prop("checked",1==parseInt(AppData.registration.reg_allowed)),$("#registration").find('[name="send_email"]').prop("checked",1==parseInt(AppData.registration.send_email)),$("#registration").find('[name="force_login"]').prop("checked",1==parseInt(AppData.registration.force_login)),$("#registration").find('[name="login_type"]').val(AppData.registration.login_type),$("#registration").find('[name="default_user"]').val(AppData.registration.default_user),$("#registration").find('[name="reg_limit"]').val(AppData.registration.reg_limit),$("#registration").find('[name="email_address"]').val(AppData.registration.email_address),$("#registration").find('[name="email_host"]').val(AppData.registration.email_host),$("#registration").find('[name="email_user"]').val(AppData.registration.email_user),$("#registration").find('[name="email_password"]').val(AppData.registration.email_password),$("#registration").find('[name="email_name"]').val(AppData.registration.email_name),AppData.registration.fields&&AppData.registration.fields.length>0&&$.each(AppData.registration.fields,(function(e,a){n(a)}));DragAndDrop.Init({container:".fields",rowcontainer:".field_cont",dbname:"registration",socketupdate:"getRegistrationData"})}function n(e){var a=(new Date).getTime()+"_"+(Math.floor(99990001*Math.random())+9999);void 0!==e.id&&(a=e.id);var t=$("<div/>").addClass("field_cont"),n=$("<fieldset/>");n.addClass("field_inputs"),n.html("<legend>Label / placeholder</legend>");var r=$("<fieldset/>");r.addClass("error_inputs"),r.html("<legend>Error message</legend>"),$.each(AppData.translations,(function(t,i){var o=i.translation_id,l=$("<input/>");l.attr("name","field["+a+"]["+o+"][text]").addClass("field_input_"+o).attr("data-anum",a),n.append(l);var s=$("<input/>");s.attr("name","error_field["+a+"]["+o+"][error_msg]").addClass("error_input_"+o).attr("data-anum",a),r.append(s);var d=$(".langtab.selected",$("#registration")).attr("data-lang");if(void 0!==e.label){var p=Language.getTranslation(e.label,o,"text");l.val(p)}if(void 0!==e.error_msg){var g=Language.getTranslation(e.error_msg,o,"error_msg");s.val(g)}l.toggle(d===o),s.toggle(d===o)}));var o=$("<span/>");o.attr("data-id",a),o.addClass("del_field").html('<button type="button"><i class="fas fa-trash"></i></button>');var l=$("<div/>").addClass("flex-break"),s=$("<fieldset/>");s.html("<legend>Userfield</legend>");var d=$("<select/>").addClass("select");d.attr("name","userfield["+a+"]").attr("data-anum",a);var p=$("<option/>").attr("value","").html("--");d.append(p),$.each(user_fields,(function(e,a){var t=$("<option/>").attr("value",a.name).html(a.label);d.append(t)})),s.append(d),l.append(s),void 0!==e.userfield&&d.val(e.userfield);var g=$("<fieldset/>");g.html("<legend>Dynamic Userfield</legend>");var m=$("<select/>").addClass("select");m.attr("name","dynamic_user_field["+a+"]").attr("data-anum",a);var c=$("<option/>").attr("value","").html("--");m.append(c),$.each(AppData.user_fields,(function(e,a){var t=$("<option/>").attr("value",a.id).html(a.label[AppData.settings.lang]);m.append(t)})),g.append(m),l.append(g),void 0!==e.dynamic_user_field&&m.val(e.dynamic_user_field);var u=$("<fieldset/>");u.html("<legend>Icon</legend>");var f=$("<input/>");f.attr("name","icon["+a+"]").attr("data-anum",a).addClass("iconselect icon_"+a),u.append(f),l.append(u),void 0!==e.icon&&f.val(e.icon);var v=$("<fieldset/>");v.html("<legend>Required</legend>");var _=$("<select/>").addClass("select");_.attr("name","required["+a+"]").attr("data-anum",a);p=$("<option/>").attr("value","false").html("No");_.append(p);p=$("<option/>").attr("value","true").html("Yes");_.append(p),v.append(_),l.append(v),void 0!==e.required&&_.val(e.required?"true":"false");var h=$("<div/>").addClass("flex-break"),b=$("<fieldset/>");b.html("<legend>Type</legend>");var D=$("<select/>").addClass("select");D.attr("name","customfield["+a+"]").attr("data-anum",a);p=$("<option/>").attr("value","").html("--");D.append(p),$.each(registration_field_types,(function(e,a){var t=$("<option/>").attr("value",a.type).html(a.label);D.append(t)})),D.on("change",(function(){"select"==$(this).val()?$(".num_of_options_"+a).removeClass("hidden"):$(".num_of_options_"+a).addClass("hidden")})),b.append(D),h.append(b),void 0!==e.customfield&&D.val(e.customfield);var A=$("<fieldset/>");A.html("<legend>Name (only lowercase, english alphabet)</legend>");var k=$("<input/>");k.attr("name","fieldname["+a+"]").attr("data-anum",a),A.append(k),h.append(A),void 0!==e.fieldname&&k.val(e.fieldname);var I=$("<fieldset/>");I.html("<legend>Regexp</legend>");var x=$("<input/>");x.attr("name","regexp["+a+"]").attr("data-anum",a),I.append(x),h.append(I),void 0!==e.regexp&&x.val(e.regexp);var C=$("<div/>").addClass("flex-break hidden num_of_options_"+a),w=$("<fieldset/>");w.html("<legend>Number of options</legend>");var R=$("<input/>");R.attr("name","options_num["+a+"]").attr("data-anum",a),R.on("keyup",i),void 0!==e.options_num&&R.val(e.options_num),w.append(R),C.append(w);var T=$("<div/>").addClass("flex-break options options-"+a);t.append(n),t.append(r),t.append(o),t.append(l),t.append(h),t.append(C),t.append(T),t.appendTo($(".fields",$("#registration"))),void 0!==e.customfield&&"select"==e.customfield&&(C.removeClass("hidden"),i(e.options,a))}function i(e,a){let t,n;null!=e.value?(n=e.value.length,t=a):(n=parseInt($(this).val()),isNaN(n)&&(n=0),t=$(this).attr("data-anum")),console.log(n);let i,r=$(".options-"+t),o=$("div.flex-break",r).length;if(n>o)i=n-o;else if(n==o)i=0;else{i=0;let e=o-n;$($("div.flex-break",r).get().reverse()).each((function(a,t){e>=parseInt(a+1)&&t.remove()}))}for(let a=0;a<i;a++){var l=$("<div/>").addClass("flex-break"),s=$("<fieldset/>");s.html("<legend>Value</legend>");var d=$("<input/>");d.attr("name","options["+t+"][value][]").attr("data-anum",t),s.append(d),l.append(s),null!=e.value&&d.val(e.value[a]);var p=$("<fieldset/>");p.html("<legend>Label</legend>"),$.each(AppData.translations,(function(n,i){var r=i.translation_id,o=$("<input/>").addClass("option_input option_input_"+r);o.attr("name","options["+t+"]["+r+"][label][]").attr("data-anum",t),p.append(o),null!=e.value&&o.val(e[r].label[a]);var l=$(".langtab.selected",$("#registration")).attr("data-lang");o.toggle(l===r)})),l.append(p),r.append(l)}}return $(document).on("click","#registration .langtab",(function(){var e=$(this).attr("data-lang");$(".field_inputs input",$("#registration")).hide(),$(".field_input_"+e,$("#registration")).show(),$(".error_inputs input",$("#registration")).hide(),$(".error_input_"+e,$("#registration")).show(),$(".options .option_input",$("#registration")).hide(),$(".option_input_"+e,$("#registration")).show()})).on("click","#registration .add_field",n).on("click","#registration .del_field",(function(e){e.preventDefault();var a=$(this);Modal.confirm(Language.getItem("delete-confirm"),(function(){a.closest($(".field_cont")).remove()}))})).on("click","#registration .iconselect",(function(e){icongrid.modalIconGridShow("#registration","."+$(this)[0].className.replace("iconselect","").trim())})).on("submit","#registration form",(function(e){e.preventDefault(),$(this).serializeObject();var a=$(this).serialize();a+="&do=saveRegistration",$.post("api/",a,(function(e){if(AppData.registration=e.regdata,Socket.Send("getRegistrationData",null,{client:["registration","login"]}),writeDbLog("REGISTRATION","save","admin_logs"),null!=e.errors){let a="Userfield or name must be set in fields:";for(let t in e.errors)a+="<br>"+e.errors[t][localState.lang].text;Modal.alert(a)}else Modal.alert("Datas has saved!")}))})).on("click","#registration .actions .restore",(function(e){e.stopPropagation(),Modal.confirm("Are you sure to cancel?",(function(){$("#registration form").find("input, select, textarea").val("").prop("checked",!1).filter("select").prop("selectedIndex",0),writeDbLog("REGISTRATION","restore","admin_logs")}))})).on("click","#registration .actions .exportJson",(function(a){a.stopPropagation(),e.exportJson(),writeDbLog("REGISTRATION","export json","admin_logs")})).on("click","#registration .actions .importJson",(function(a){a.stopPropagation(),e.openModalWindow(),writeDbLog("REGISTRATION","import json","admin_logs")})),{Init:function(){t(),$(".close-btn").on("click",(function(){$(".modalIconGrid").hide()})),$(".deleteicon").on("click",(function(){$("#registration .iconselect").val(""),$(".modalIconGrid").hide()})),(e=new JsonExportImport).Init({module:"registration",file:"registration.json",callback:function(e){$.post("api/",{do:"getRegistrationData"},(function(e){AppData.registration=e,t()}))}})},render:t,getMediasOptions:a}}();
var Navigation=function(){"use strict";function n(){$.each(AppData.navigation,(function(n,t){$('form#formNavigation [name="'+t.id+'"]').val(String(t.visible))}))}return{Init:function(){var n=$("template#tplSettingsModules").remove().contents(),t=$(document.createDocumentFragment());$.each(AppData.navigation,(function(i,a){var e=AppData.modules.find((function(n){return n.id==a.module}));if(e){var o=n.clone(),c=String(a.visible);e=e.name[localState.lang],o.find("label").text(e),o.find("select").prop("name",a.id),o.find("select").val(c),o.appendTo(t)}})),t.prependTo("#settingsModulesList")},change:n,BuildFromSource:function(){$.post("api/",{do:"getNavigation"},(function(t){AppData.navigation=t.nav,n(),t=null}))},resetSettings:function(){$.post("api/",{do:"resetNavigation"},(function(t){AppData.navigation=t,n(),Socket.Send("Navigation.BuildFromSource",t)}),"json")}}}();
var Settings=function(){"use strict";var t,e=!0,a=[{target:"settings",title:"Settings",active:!0},{target:"translations",title:"Languages",active:!1},{target:"modulsettings",title:"Module settings",active:!1},{target:"uploadsettings",title:"Uploads",active:!1},{target:"nativesettings",title:"Native settings",active:!1},{target:"urlsettings",title:"URL settings",active:!1},{target:"backups",title:"Backups",active:!1}],n={Logo:{name:"img/logos/",field_name:"logoImage"},Background:{name:"img/backgrounds/",field_name:"backgroundImage"},Foreground:{name:"img/backgrounds/",field_name:"foregroundImage"},Namecard:{name:"img/namecards/",field_name:"namecardsImage"},Favicon:{name:"img/favicons/",field_name:"faviconImage"},Homescreen:{name:"img/homescreenvideos/",field_name:"homescreenVideo"}};let i=["socket","layout","color","design","softwareInfo","debug","plugin"];function o(){return null==AppData.profile&&-1==location.href.indexOf("login")?(location.href=location.href.replace("/admin.html","/login.html"),!1):(m(),s(),t=$(document.createDocumentFragment()),$("<option/>").val("").text("--").appendTo(t),$.each(AppData.surveys,(function(e,a){$("<option/>").val(a.id).text(a.title[localState.lang]).appendTo(t)})),$("#settings").find('[name="start_survey"]').html(t),t=null,g(),$.each(AppData.settings,(function(t,e){$('form#formSettings [name="'+t+'"]').val(String(e))})),e&&(e=!1,$("#settings .color").off().colorPicker({opacity:!1,renderCallback:function(t,e){t.val("#"+this.color.colors.HEX)}}),$(document).on("blur","#settings .color",(function(){$(this).trigger("change")})),Layout.addTabs("settings",a)),$.each($("#formSettings").find("label"),(function(t,e){$(e).attr("title",$(e).text())})),function(){var t;for(t=0;t<i.length;t++){let e="#"+i[t]+"Settings";$(document).on("click",e+"Block",(function(t){l(e)}))}}(),function(){var t;for(t=0;t<i.length;t++)$("#"+i[t]+"Settings").hide()}(),!0);var t}function l(t){var e=$(t);"none"===e.css("display")?e.show():e.hide()}function s(){var t=$(document.createDocumentFragment());$("<option/>").val("landing").text("RCA Home").appendTo(t),$.each(AppData.navigation,(function(e,a){var n=a.module;""!=a.target&&null!=a.target&&(n+="#"+a.target),$("<option/>").val(n).text(a.name[localState.lang]).appendTo(t)})),$("#settings").find('[name="startPage"]').html(t),t=null}function g(){var t=$(document.createDocumentFragment()),e=$(document.createDocumentFragment());$("<option/>").val("").text("--").appendTo(t),$("<option/>").val("").text("--").appendTo(e),$.each(AppData.medias,(function(a,n){"image"==n.type&&$("<option/>").val(n.id).text(n.title[localState.lang]).appendTo(t),"video"==n.type&&$("<option/>").val(n.id).text(n.title[localState.lang]).appendTo(e)}));let a=t.clone(),n=t.clone(),i=t.clone(),o=t.clone();$("#settings").find('[name="logo"]').html(t).val(AppData.settings.logo),$("#settings").find('[name="bgImage"]').html(a).val(AppData.settings.bgImage),$("#settings").find('[name="fgImage"]').html(n).val(AppData.settings.fgImage),$("#settings").find('[name="ncImage"]').html(i).val(AppData.settings.ncImage),$("#settings").find('[name="favicon"]').html(o).val(AppData.settings.favicon),$("#settings").find('[name="homescreenVideo"]').html(e).val(AppData.settings.homescreenVideo),t=null}function m(){var t=$(document.createDocumentFragment()),e=AppData.translations.filter((function(t){return!0===t.active}));$.each(e,(function(e,a){$("<option/>").val(a.translation_id).text(a.translation_name).appendTo(t)})),$("#settings").find(".default-language").html(t),t=null}function c(t){$.post("api/",{do:"getImages",data:t},(function(e){$(".item").remove();for(var a=0;a<e.length;a++){var i;i="Homescreen"===e[a].type?'<div class="item"><div id="delete-item-'+a+'" class="delete-item" data-name="'+e[a].name+'">x</div><div data-name="'+e[a].name+'" class="homescreen" id="gridItem-'+a+'">'+e[a].name+"</div></div>":'<div class="item"><div id="delete-item-'+a+'" class="delete-item" data-name="'+e[a].name+'">x</div><img id="gridItem-'+a+'" data-name="'+e[a].name+'"  src="'+n[t].name+e[a].name+'" height="50" /></div>',$("#rowContainer_settings").append(i),$("#gridItem-"+a).on("click",(function(e){$("#"+n[t].field_name).val(n[t].name+$(this).data("name")).change(),$(".modalImageGrid").hide()})),$("#delete-item-"+a).on("click",(function(e){var a=$(this);Modal.confirm(Language.getItem("delete-confirm"),(function(){var e=new FormData;e.append("do","deleteImageAndFile"),e.append("filename",a.data("name")),e.append("type",t);var i=a.data("name");$.ajax({url:"api/",data:e,dataType:"text",type:"post",processData:!1,contentType:!1,success:function(e){Socket.Send("Navigation.BuildFromSource",AppData.navigation),"Favicon"===t&&AppData.settings.favicon===n[t].name+i&&$("#settings").find("#"+n[t].field_name).val("img/rentitfavicon.ico").trigger("change"),"Logo"===t&&AppData.settings.logo===n[t].name+i&&$("#settings").find("#"+n[t].field_name).val("img/noimage.png").trigger("change"),("Background"===t&&AppData.settings.bgImage===n[t].name+i||"Foreground"===t&&AppData.settings.fgImage===n[t].name+i||"Namecard"===t&&AppData.settings.ncImage===n[t].name+i)&&$("#settings").find("#"+n[t].field_name).val("").trigger("change"),c(t)},error:function(e){$(".modalImageGrid .modal-content .msg").html(e),console.log(e),c(t)}})}))}))}}))}return $(document).on("click","#uploadImage",(function(){if($("#fileImage").prop("files").length>0){var e=new FormData;e.append("do","uploadAndSaveImage"),e.append("image",$("#fileImage").prop("files")[0]),e.append("type",t),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:e,type:"post",success:function(e){$(".modalImageGrid .modal-content .msg").html(""),$("#fileImage").val(""),c(t)},error:function(t){$(".modalImageGrid .modal-content .msg").html(t)}})}})),$(document).on("change","#fileImage",(function(){null!=$("#fileImage").prop("files")[0]?$(".modalImageGrid .modal-content .msg").html("Choosen file: "+$("#fileImage").prop("files")[0].name):$(".modalImageGrid .modal-content .msg").html("")})),$(document).on("change","form#formSettings input, form#formSettings select",(function(){var t=$(this).closest("form").serializeObject();$.post("api/",{do:"saveSettings",data:JSON.stringify(t)},(function(t){AppData.settings=t,document.title=document.title.slice(0,document.title.indexOf("|"))+" | "+AppData.modulsettings.browsertitle[AppData.settings.lang],setFavicon(),Translations.updateLangSettings(),Socket.Send("Settings.BuildFromSource",t),Socket.Send("Namecards.showDetails"),Socket.Send("Translations.updateLangSettings",t,{client:"admin"}),writeDbLog("SETTINGS","change","admin_logs"),t=null}))})),$(document).on("change","form#formNavigation select",(function(){var t=$(this).closest("form").serializeObject();$.each(AppData.navigation,(function(e,a){a.id in t&&(a.visible="true"===t[a.id])})),$.post("api/",{do:"saveNavigation",data:JSON.stringify(AppData.navigation)},(function(t){AppData.navigation=t,Navigation.change(),Socket.Send("Navigation.BuildFromSource",AppData.navigation),writeDbLog("NAVIGATION","change","admin_logs"),t=null}))})),{Init:o,resetSettings:function(){$.post("api/",{do:"resetSettings"},(function(t){AppData.settings=t,o(),Socket.Send("Settings.BuildFromSource",t),t=null}),"json")},buildOptionsImages:g,uploadImagesSettings:function(e){t=e,$(".modalImageGrid .modal-content .msg").html(""),c(t),$(".close-btn").on("click",(function(){$(".modalImageGrid").hide()})),$(".modalImageGrid").show()},BuildFromSource:function(){$.post("api/",{do:"getSettings"},(function(t){AppData.settings=t,o(),t=null,Translations.updateLangSettings()}))},buildOptionsStartPage:s,buildOptionsDefaultLanguage:m}}();
var Speaker=function(){"use strict";var e=[{target:"users",title:"Users",active:!1},{target:"usergroups",title:"User groups",active:!1},{target:"speaker",title:"Speakers",active:!0},{target:"speakerlinks",title:"Speaker links",active:!1},{target:"userfields",title:"User fields",active:!1}],t=[{templateName:"title",name:"title"},{templateName:"tags",name:"tags"},{templateName:"file",name:"file"},{templateName:"filename",name:"filename",static:!0,arrayname:"files"}];function a(){AppData.speakers.sort((function(e,t){return void 0!==e.sort_id&&void 0!==t.sort_id?parseInt(e.sort_id)>parseInt(t.sort_id)?1:-1:0}));var e=$(document.createDocumentFragment()),t=$("<tr/>"),a=AppData.speakers?AppData.speakers.length:0;$("<th/>").text("").css("width","45px").appendTo(t),$("<th/>").text("Name").appendTo(t),$("<th/>").text("Image").appendTo(t),$("<th/>").text("Actions").appendTo(t),t.appendTo(e),$(".speakerListThead").html(e),e=$(document.createDocumentFragment()),$.each(AppData.speakers,(function(t,a){var i=$("<tr/>");i.addClass("ddClassSpeaker"),function(e,t){e.attr("data-id",t.id).toggleClass("color-red",!1===t.pubProfile||void 0===t.pubProfile),e.attr("data-id",t.id).addClass(t.status||""),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').css("width","45px").attr("nowrap","nowrap").appendTo(e),$("<td/>").text(t.name[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(e);var a=$("<img>",{alt:t.name,src:t.img?"upload/users/"+t.img+"?r="+Math.random():"img/profile-picture-placeholder.png"});$("<td/>").html(a).attr("nowrap","nowrap").appendTo(e),$("<td/>").html('<button data-id="'+t.id+'" data-active="true"  class="btn activeSpeaker '+(!0===t.pubProfile?"activeBtn":"")+'" title="Public profile"><i class="fa fa-check" title="Public profile"></i></button><button data-id="'+t.id+'" data-active="false" class="btn activeSpeaker '+(!1===t.pubProfile||void 0===t.pubProfile?"inactiveBtn":"")+'" title="Non public profile"><i class="fa fa-ban"  title="Non public profile"></i></button>').attr("nowrap","nowrap").appendTo(e)}(i,a),i.appendTo(e),i=null})),$("main#speaker").find(".speakerTitle").text(a+" speaker(s)"),$("main#speaker").find(".speakerList").html(e),e=t=a=null}function i(){$.post("api/",{do:"getSpeaker"},(function(e){AppData.speakers=e,a(),e=null}))}function s(){Layout.buildLanguageTabs("#speaker-details",t),$("#speaker-details .filename_display").hide(),$("#speaker, #speaker-details").toggle(),$("#speaker-details .preview").hide(),$("#speaker-details").find(".actions .remove").hide();var e=(AppData.speakers?AppData.speakers.length:0)+1;$("#speaker-details").find('[name ="sort_id"]').val(e),r(),setReqOnFieldsByLang("speaker",t)}function r(e){$(".tags_show").toggle("Document"==$(".type_change option:selected").text())}return $(document).on("input","#speaker .search input",(function(){var e=new RegExp(strCanonical(this.value),"i");$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#speaker .speakerList tr[data-id]").each((function(t,a){$(a).toggle(e.test(strCanonical($(a).text().split(" ").join(""))))}))})).on("click","#speaker .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click","#speaker .speakerList .activeSpeaker",(function(e){e.stopPropagation();var t=new FormData;t.append("do","updateSpeakerActive"),t.append("id",this.dataset.id),t.append("active",this.dataset.active),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:t,type:"post",success:function(e){i(),Socket.Send("Speakers.BuildFromSource",!0)},error:function(e){Modal.alert("Hiba: "+e)}})})).on("click","#speaker-details .close",(function(){$("#speaker, #speaker-details").toggle(),$("#speaker-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)})).on("change","#speaker-details .type_change",r),{Init:function(){$(document).on("click","main#speaker .actions .new",s),a(),Layout.addTabs("speaker",e),$("#users-details #tplCustomFields").remove().contents(),DragAndDrop.Init({container:".speakerList",rowcontainer:".ddClassSpeaker",dbname:"users",socketupdate:"Speakers.BuildFromSource",type:"db"}),delete Speaker.Init},BuildFromSource:i}}();
var Speakerlinks=function(){"use strict";var e=[{target:"users",title:"Users",active:!1},{target:"usergroups",title:"User groups",active:!1},{target:"speaker",title:"Speakers",active:!1},{target:"speakerlinks",title:"Speaker links",active:!0},{target:"userfields",title:"User fields",active:!1}],a=[{templateName:"title",name:"title"},{templateName:"link",name:"link"}];function t(){AppData.speakerlinks.sort((function(e,a){return void 0!==e.sort_id&&void 0!==a.sort_id?parseInt(e.sort_id)>parseInt(a.sort_id)?1:-1:0}))}function n(){t();var e=$(document.createDocumentFragment()),a=$("<tr/>"),n=AppData.speakerlinks?AppData.speakerlinks.length:0;$("<th/>").text("").appendTo(a),$("<th/>").text("Title").appendTo(a),$("<th/>").text("Speaker").appendTo(a),$("<th/>").text("Link").appendTo(a),$("<th/>").text("Actions").appendTo(a),a.appendTo(e),$("main#speakerlinks").find(".speakerlinksListThead").html(e),e=$(document.createDocumentFragment()),$.each(AppData.speakerlinks,(function(a,t){var n=$("<tr/>");n.addClass("ddclassSpeakerlinks"),function(e,a){e.attr("data-id",a.id).toggleClass("color-red",!1===a.active||void 0===a.active),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(e),$("<td/>").text(a.title[localState.lang]).attr("nowrap","nowrap").appendTo(e);var t=AppData.users.find((function(e){return e.id==a.speaker_id}));$("<td/>").text(null!=t?t.name[localState.lang]:"-").attr("nowrap","nowrap").appendTo(e),$("<td/>").text(a.link[localState.lang]).attr("nowrap","nowrap").appendTo(e),$("<td/>").html('<button data-id="'+a.id+'" data-active="true"  class="btn activeSpeakerlinks '+(!0===a.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+a.id+'" data-active="false" class="btn activeSpeakerlinks '+(!1===a.active||void 0===a.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(e)}(n,t),n.appendTo(e),n=null})),$("main#speakerlinks").find(".speakerlinksTitle").text(n+" link(s)"),$("main#speakerlinks").find(".speakerlinksList").html(e),e=a=n=null}function i(e,a){var t=$(document.createDocumentFragment()),n=AppData.users.filter((function(e){return"object"==typeof e.is_speaker&&e.is_speaker.indexOf(AppData.settings.conf_year)>-1}));$('<option value="" selected>--</option>').appendTo(t),$.each(n,(function(e,a){$("<option/>").val(a.id).text(a.name[localState.lang]).appendTo(t)})),e.find(".speaker_select").html(t),a&&"speaker_id"in a&&e.find(".speaker_select").val(a.speaker_id),t=null}return $(document).on("click","#speakerlinks .speakerlinksList tr[data-id]",(function(){var e=$("#speakerlinks-details"),t=this.dataset.id,n=AppData.speakerlinks.find((function(e){return e.id===t}));Layout.buildLanguageTabs("#speakerlinks-details",a,n),void 0===n.active&&(n.active=!1),$.each(n,(function(a,t){e.find("[name="+a+"]").val(String(t)||"")})),$("#speakerlinks, #speakerlinks-details").toggle(),i(e,n),setReqOnFieldsByLang("speakerlinks",a),$("#speakerlinks-details").find(".actions .remove").show(),e=t=n=null})).on("click","#speakerlinks .speakerlinksList .activeSpeakerlinks",(function(e){e.stopPropagation();var a=new FormData;a.append("do","updateSpeakerlinksActive"),a.append("id",this.dataset.id),a.append("active",this.dataset.active),$.ajax({url:"api/",type:"post",data:a,dataType:"json",processData:!1,contentType:!1,cache:!1,success:function(e){AppData.speakerlinks=e,n(),Socket.Send("Speakers.BuildFromSource",null,{client:"client"})},error:function(e){console.log("Error: "+e)}})})).on("click","#speakerlinks .actions .new",(function(){var e=$("#speakerlinks-details");$("#speakerlinks, #speakerlinks-details").toggle(),$("#speakerlinks").find(".actions .remove").hide(),i(e),Layout.buildLanguageTabs("#speakerlinks-details",a),e.find("form").find("input").val(""),e=null;var t=(AppData.speakerlinks?AppData.speakerlinks.length:0)+1;$("#speakerlinks-details").find('[name ="sort_id"]').val(t),setReqOnFieldsByLang("speakerlinks",a)})).on("click","#speakerlinks-details .close",(function(){$("#speakerlinks, #speakerlinks-details").toggle(),$("#speakerlinks-details form").find("input").val("")})).on("click","#speakerlinks-details .remove",(function(){if(!confirm("Are sure to delete the link?"))return!1;var e=$(this).closest("form").find("[name=id]").val();$.post("api/",{do:"removeSpeakerlinks",data:e},(function(a){AppData.speakerlinks=a,Socket.Send("Speakers.BuildFromSource",null,{client:"client"}),n(),e=a=null})),$("#speakerlinks, #speakerlinks-details").toggle(),$("#speakerlinks-details form").find("input").val("")})).on("submit","#speakerlinks-details form",(function(e){e.preventDefault();var a=$(this).serializeObject(),t=!0;t=JSON.stringify(a)!==JSON.stringify(AppData.users.find((function(e){return e.id===a.id})));var i=new FormData($(this).get(0));if(i.append("do","saveSpeakerlinks"),$("#speakerlinks, #speakerlinks-details").toggle(),$("#speakerlinks-details form").find("input, select").val(""),!t)return a=t=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:i,success:function(e){AppData.speakerlinks=e,Socket.Send("Speakers.BuildFromSource",null,{client:"client"}),n(),a=t=e=null}})})),{Init:function(){n(),Layout.addTabs("speakerlinks",e),DragAndDrop.Init({container:".speakerlinksList",rowcontainer:".ddclassSpeakerlinks",dbname:"speakerlinks",socketupdate:"Speakerlinks.update"})},renderList:n,BuildFromSource:function(){$.post("api/",{do:"getSpeakerlinks"},(function(e){AppData.speakerlinks=e,t(),n(),e=null}))}}}();
var Sponsorgroups=function(){"use strict";var o=[{target:"sponsors",title:"Sponsors",active:!1},{target:"sponsorgroups",title:"Sponsor groups",active:!0}],s=[{templateName:"title",name:"title"}];function r(){AppData.sponsorgroups.sort((function(o,s){return void 0!==o.sort_id&&void 0!==s.sort_id?parseInt(o.sort_id)>parseInt(s.sort_id)?1:-1:0}))}function t(){r();var o=$(document.createDocumentFragment()),s=$("<tr/>"),t=AppData.sponsorgroups?AppData.sponsorgroups.length:0;$("<th/>").text("").appendTo(s),$("<th/>").text("Name").appendTo(s),s.appendTo(o),$.each(AppData.sponsorgroups,(function(s,r){var t,n,p=$("<tr/>");p.addClass("ddclassSponsorgroups"),n=r,(t=p).attr("data-id",n.id).toggleClass("color-red",!1===n.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(t),$("<td/>").text(n.title[localState.lang]).attr("nowrap","nowrap").appendTo(t),p.appendTo(o),p=null})),$("main#sponsorgroups").find(".sponsorGroupsTitle").text(t+" group(s)"),$("main#sponsorgroups").find(".sponsorGroupsList").html(o),o=s=t=null}return $(document).on("click","#sponsorgroups .sponsorGroupsList tr[data-id]",(function(){var o=$("#sponsorgroups-details"),r=this.dataset.id,t=AppData.sponsorgroups.find((function(o){return o.id===r}));Layout.buildLanguageTabs("#sponsorgroups-details",s,t),$.each(t,(function(s,r){o.find("[name="+s+"]").val(String(r)||"")})),$("#sponsorgroups, #sponsorgroups-details").toggle(),$("#sponsorgroups-details").find(".actions .remove").show(),$("#sponsorgroups-details .color").off().colorPicker({opacity:!1}),o=r=t=null})).on("click","#sponsorgroups .actions .new",(function(){Layout.buildLanguageTabs("#sponsorgroups-details",s);var o=$("#sponsorgroups-details");$("#sponsorgroups, #sponsorgroups-details").toggle(),$("#sponsorgroups-details").find(".actions .remove").hide(),o.find("form").find("input").val(""),$("#sponsorgroups-details .color").val("#555555"),$("#sponsorgroups-details .color").off().colorPicker({opacity:!1}),o=null})).on("click","#sponsorgroups-details .close",(function(){$("#sponsorgroups, #sponsorgroups-details").toggle(),$("#sponsorgroups-details form").find("input").val("")})).on("click","#sponsorgroups-details .remove",(function(){if(!confirm("Are sure to delete the group?"))return!1;var o=$(this).closest("form").find("[name=id]").val();if(null!=AppData.sponsors.find((function(s){return s.group==o})))return alert("This group has at least one link associated. It cannot be deleted."),!1;$.post("api/",{do:"removeSponsorGroup",data:o},(function(s){AppData.sponsorgroups=s,t(),o=s=null})),$("#sponsorgroups, #sponsorgroups-details").toggle(),$("#sponsorgroups-details form").find("input").val("")})).on("submit","#sponsorgroups-details form",(function(o){o.preventDefault();var s=$(this).serializeObject(),r=!0;if(r=JSON.stringify(s)!==JSON.stringify(AppData.sponsorgroups.find((function(o){return o.id===s.id}))),$("#sponsorgroups, #sponsorgroups-details").toggle(),$("#sponsorgroups-details form").find("input, select").val(""),!r)return s=r=null,!1;var n=new FormData;n.append("title[en]",s["title[en]"]),n.append("title[hu]",s["title[hu]"]),n.append("titlecolor",s.titlecolor),n.append("imgsize",s.imgsize),n.append("id",s.id),n.append("do","saveSponsorGroup"),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:n,success:function(o){AppData.sponsorgroups=o,t(),Socket.Send("Sponsors.updateGroups",null,{client:"client"}),s=r=o=null}})})),{Init:function(){t(),Layout.addTabs("sponsorgroups",o),$("#sponsorgroups-details .color").off().colorPicker({opacity:!1}),DragAndDrop.Init({container:".sponsorGroupsList",rowcontainer:".ddclassSponsorgroups",dbname:"sponsorgroups",socketupdate:"Sponsor.updateGroups"})},renderList:t,BuildFromSource:function(){$.post("api/",{do:"getSponsorGroups"},(function(o){AppData.sponsorgroups=o,r(),t(),o=null}))}}}();
var Sponsors=function(){"use strict";var o=[{target:"sponsors",title:"Sponsors",active:!0},{target:"sponsorgroups",title:"Sponsor groups",active:!1}],s=[{templateName:"name",name:"name"},{templateName:"description",name:"description"},{templateName:"solutions[]",name:"solutions"}];function t(){AppData.sponsors.sort((function(o,s){return void 0!==o.sort_id&&void 0!==s.sort_id?parseInt(o.sort_id)>parseInt(s.sort_id)?1:-1:0}))}function n(){t();var o=$(document.createDocumentFragment()),s=$("<tr/>"),n=AppData.sponsors?AppData.sponsors.length:0;$("<th/>").text("").appendTo(s),$("<th/>").text("Name").appendTo(s),$("<th/>").text("Group").appendTo(s),$("<th/>").text("Link").appendTo(s),$("<th/>").text("Actions").appendTo(s),s.appendTo(o),$("main#sponsors").find(".sponsorsListThead").html(o),o=$(document.createDocumentFragment()),$.each(AppData.sponsors,(function(s,t){var n=$("<tr/>");n.addClass("ddclassSponsors"),function(o,s){var t=AppData.sponsorgroups||{};o.attr("data-id",s.id).toggleClass("color-red",!1===s.active||void 0===s.active),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(o),$("<td/>").text(s.name[localState.lang]).attr("nowrap","nowrap").appendTo(o);var n=t.find((function(o){return o.id==s.group}));$("<td/>").text(null!=s.group&&""!=s.group&&null!=n?n.title[localState.lang]:"").attr("nowrap","nowrap").appendTo(o),$("<td/>").text(s.link).attr("nowrap","nowrap").appendTo(o),$("<td/>").html('<button data-id="'+s.id+'" class="btn shareUrl" title="Share"><i class="fa fa-share"></i></button><button data-id="'+s.id+'" class="btn exportSponsors" title="Export activities"><i class="fas fa-file-export"></i></button><button data-id="'+s.id+'" data-active="true"  class="btn activeSponsors '+(!0===s.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+s.id+'" data-active="false" class="btn activeSponsors '+(!1===s.active||void 0===s.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(o)}(n,t),n.appendTo(o),n=null})),$("main#sponsors").find(".sponsorsTitle").text(n+" sponsor(s)"),$("main#sponsors").find(".sponsorsList").html(o),o=s=n=null}function a(o,s){var t=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(t),$.each(AppData.sponsorgroups,(function(o,s){$("<option/>").val(s.id).text(s.title[localState.lang]).appendTo(t)})),o.find(".selectGroups").html(t),s&&"group"in s&&o.find(".selectGroups").val(s.group),t=null}return $(document).on("click","#sponsors .sponsorsList tr[data-id]",(function(){var o=$("#sponsors-details"),t=this.dataset.id,n=AppData.sponsors.find((function(o){return o.id===t}));Layout.buildLanguageTabs("#sponsors-details",s,n),void 0===n.active&&(n.active=!1),$.each(n,(function(s,t){"show_image"==s&&1==t||"open_in_blank"==s&&1==t?o.find("[name="+s+"]").prop("checked",!0):o.find("[name="+s+"]").val(String(t)||"")})),n.file?(o.find(".image_name").html(n.file.filename),o.find(".uploaded_image").show()):o.find(".uploaded_image").hide(),$("#sponsors, #sponsors-details").toggle(),a(o,n),setReqOnFieldsByLang("sponsors",s),$("#sponsors-details").find(".actions .remove").show(),o=t=n=null})).on("click","#sponsors .sponsorsList .activeSponsors",(function(o){o.stopPropagation();var s=new FormData;s.append("do","updateSponsorsActive"),s.append("id",this.dataset.id),s.append("active",this.dataset.active),$.ajax({url:"api/",type:"post",data:s,dataType:"json",processData:!1,contentType:!1,cache:!1,success:function(o){AppData.sponsors=o,n(),Socket.Send("Sponsors.update",!0)},error:function(o){console.log("Error: "+o)}})})).on("click","#sponsors .sponsorsList .shareUrl",(function(o){o.stopPropagation(),createShareUrl("sponsors",$(this).attr("data-id"))})).on("click","#sponsors .actions .new",(function(){var o=$("#sponsors-details");$("#sponsors, #sponsors-details").toggle(),$("#sponsors").find(".actions .remove").hide(),o.find(".uploaded_image").hide(),a(o),Layout.buildLanguageTabs("#sponsors-details",s),o.find("form").find("input").val(""),o=null;var t=(AppData.sponsors?AppData.sponsors.length:0)+1;$("#sponsors-details").find('[name ="sort_id"]').val(t),setReqOnFieldsByLang("sponsors",s)})).on("click","#sponsors-details .close",(function(){$("#sponsors, #sponsors-details").toggle(),$("#sponsors-details form").find("input").val("")})).on("click","#sponsors-details .remove",(function(){if(!confirm("Are you sure?"))return!1;var o=$(this).closest("form").find("[name=id]").val();$.post("api/",{do:"removeSponsors",data:o},(function(s){AppData.sponsors=s,Socket.Send("Sponsors.BuildFromSource",!0),n(),o=s=null})),$("#sponsors, #sponsors-details").toggle(),$("#sponsors-details form").find("input").val("")})).on("submit","#sponsors-details form",(function(o){o.preventDefault();var s=$(this).serializeObject(),t=!0;t=JSON.stringify(s)!==JSON.stringify(AppData.sponsors.find((function(o){return o.id===s.id})));var a=new FormData($(this).get(0));if(a.append("do","saveSponsors"),a.set("show_image",$("[name=show_image]").prop("checked")?1:0),a.set("open_in_blank",$("[name=open_in_blank]").prop("checked")?1:0),$("#sponsors, #sponsors-details").toggle(),$("#sponsors-details form").find("input, select").val(""),!t)return s=t=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:a,success:function(o){AppData.sponsors=o,Socket.Send("Sponsors.update",!0),n(),s=t=o=null}})})).on("click","#sponsors .exportSponsors",(function(o){o.stopPropagation(),console.log("in"),window.open("api/?do=exportSponsors&id="+this.dataset.id)})),{Init:function(){n(),Layout.addTabs("sponsors",o),DragAndDrop.Init({container:".sponsorsList",rowcontainer:".ddclassSponsors",dbname:"sponsors",socketupdate:"Sponsors.update"})},renderList:n,BuildFromSource:function(){$.post("api/",{do:"getSponsors"},(function(o){AppData.sponsors=o,t(),n(),o=null}))}}}();
var Surveys=function(){"use strict";var t,e=[{templateName:"title",name:"title"},{templateName:"thxtext",name:"thxtext"},{templateName:"survey_description",name:"survey_description"}],a=[{value:"radio",text:"Radio"},{value:"check",text:"Checkbox"},{value:"rating",text:"Rating"},{value:"grouprating",text:"Group rating"},{value:"text",text:"Free text"}];function s(){AppData.surveys.sort((function(t,e){return void 0!==t.sort_id&&void 0!==e.sort_id?parseInt(t.sort_id)>parseInt(e.sort_id)?1:-1:0}));var t=$(document.createDocumentFragment()),e=$("<tr/>"),a=AppData.surveys?AppData.surveys.length:0;$("<th/>").text("").appendTo(e),$("<th/>").text("Push").appendTo(e),$("<th/>").text("Room").appendTo(e),$("<th/>").text("Title").appendTo(e),$("<th/>").text("Questions").addClass("text-right").appendTo(e),$("<th/>").text("Export").addClass("text-right").appendTo(e),$("<th/>").text("Actions").css("width","45px").appendTo(e),e.appendTo(t),$(".surveysListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.surveys,(function(e,a){var s=$("<tr/>");s.addClass("ddClassSurveys"),function(t,e){var a=AppData.channels.find((function(t){return t.channel===e.channel}));e.wordcloud;t.attr("data-id",e.id).toggleClass("color-red",!1===e.visible),t.attr("data-ch",e.channel),t.toggleClass("disabled",e.channel!==localState.pushChannel&&"all"!==localState.pushChannel),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(t),$("<td/>").html('<button class="btn show" title="Activate"><i class="fa fa-eye"></i></button><button class="btn hide" title="Inactivate"><i class="fa fa-eye-slash"></i></button><button class="btn showDisplay" title="Activate"><i class="fa fa-bell"></i></button><button class="btn hideDisplay" title="Inactivate"><i class="fa fa-bell-slash"></i></button><button class="btn showRankings" title="Rankings"><i class="fa fa-chart-bar"></i></button><button class="btn hideRankings" title="Rankings"><i class="fa fa-chart-line"></i></button>').appendTo(t),$("<td/>").text(a?Language.getTranslation(a.name,AppData.settings.lang)+" | "+a.admin_name:"").attr("nowrap","nowrap").appendTo(t),$("<td/>").html(e.title[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(void 0!==e.parts?e.parts.length:0).attr("nowrap","nowrap").addClass("text-right").appendTo(t),$("<td/>").html('<button class="btn export" title="Export"><i class="fas fa-cloud-download-alt"></i><span>Export</span></button>').addClass("text-right").appendTo(t),$("<td/>").html('<button data-id="'+e.id+'" data-active="true"  class="btn activeSurvey'+(!0===e.active?" activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+e.id+'" data-active="false" class="btn activeSurvey'+(!1===e.active||void 0===e.active?" inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button><button data-id="'+e.id+'" class="btn deleteVotes" title="Delete answers"><i class="fas fa-trash"></i></button>').attr("nowrap","nowrap").appendTo(t)}(s,a),s.appendTo(t),s=null})),$("main#surveys").find(".surveysTitle").text(a+" survey(s)"),$("main#surveys").find(".surveysList").html(t),t=e=a=null}function n(){$.post("api/",{do:"getSurveys"},(function(t){AppData.surveys=t,s(),t=null}))}function i(t,e){var a=$(document.createDocumentFragment());$('<option value="" selected></option>').appendTo(a),$.each(AppData.medias,(function(t,e){$("<option/>").val(e.id).text(e.filename).appendTo(a)})),t.find("#sponsormedia").html(a),e&&"sponsormedia"in e&&t.find("#sponsormedia").val(e.sponsormedia),a=null}function o(){var t=$("#surveys-details .languageTabsHeader");t.empty(),$.each(AppData.translations,(function(e,a){var s=$("<div/>").addClass("langtab").attr("data-lang",a.translation_id).html(a.translation_name);s.appendTo(t),$(s).on("click",(function(t){!function(t,e,a){$(e+" .languageTabsHeader .langtab").removeClass("selected"),t.addClass("selected"),$(e+" .translation_fields div.lang").hide(),$(e+" .translation_fields .lang_"+a).show()}($(this),"#surveys-details",a.translation_id)}))})),t.children().first().addClass("selected")}function r(t,e=""){var s=$(".answer_cont",$("#surveys-details")).length,n=$("<span/>");n.addClass("answer_cont").html('<span class="answer_title" data-anum="'+(s+1)+'"><button type="button" class="del_answer" title="Delete question"><i class="fas fa-trash"></i></button> <button type="button" class="clone_answer" title="Clone question"><i class="fas fa-clone"></i></button></span>');var i=$("<span/>");i.addClass("answer_inputs"),n.append("<input type='hidden' name='parts["+s+"][part_id]' value='"+t.id+"'>"),n.append("<hr>");var o=$("<span/>");o.addClass("type_select select");var r=$("<select/>");r.attr("id","type_"+s),r.attr("name","parts["+s+"][type]").attr("data-anum",s),a.forEach((function(t){var e=$("<option/>");e.val(t.value),e.html(t.text),r.append(e)})),null!=t&&r.val(t.type),""!==e&&r.val(e),o.append(r),n.append(o),n.append("<hr>"),$.each(AppData.translations,(function(e,a){var n=a.translation_id,o=$("<input/>");o.attr("name","parts["+s+"][question]["+n+"]").addClass("answer_input_"+n).attr("data-anum",s).attr("placeholder","Question"),i.append(o),null!=t.question&&o.val(t.question[n]),i.append('<hr class="hr_'+n+'">');var r=$("<input/>");r.attr("name","parts["+s+"][description]["+n+"]").addClass("answer_input_"+n).attr("data-anum",s).attr("placeholder","Description"),i.append(r),null!=t.description&&r.val(t.description[n]),i.append('<hr class="hr1 hr_'+n+'">');var l=$("<textarea/>");l.attr("name","parts["+s+"][answers]["+n+"]").addClass(" ta_input_"+n).attr("data-anum",s).attr("placeholder","Answers (width line break)"),i.append(l),null!=t.answers&&(null!=t.answers[n]&&(t.answers[n]=t.answers[n].replace(/\|\|/g,"\r\n")),l.val(t.answers[n]));var d=$(".langtab.selected",$("#surveys-details")).attr("data-lang");o.toggle(d==n),l.toggle(d==n),r.toggle(d==n),$(".hr_"+n).toggle(d==n)})),n.append(i);var l=$("<input/>");l.attr("name","parts["+s+"][checkbox_min]").addClass("checkbox_min_max answer_input_"+AppData.settings.lang).css("width","50%").attr("data-anum",s).attr("placeholder","Min"),n.append(l),null!=t.checkbox_min&&l.val(t.checkbox_min);var d=$("<input/>");d.attr("name","parts["+s+"][checkbox_max]").addClass("checkbox_min_max answer_input_"+AppData.settings.lang).css("width","50%").attr("data-anum",s).attr("placeholder","Max"),n.append(d),null!=t.checkbox_max&&d.val(t.checkbox_max),n.append('<hr class="checkbox_min_max hr_'+AppData.settings.lang+'">');var c=$("<input/>");c.attr("name","parts["+s+"][rating_star_count]").addClass("rating_star_count answer_input_"+AppData.settings.lang).attr("data-anum",s).attr("placeholder","Number of rate stars"),n.append(c),null!=t.rating_star_count&&c.val(t.rating_star_count),n.append('<hr class="rating_star_count hr_'+AppData.settings.lang+'">');var u=$("<span/>");u.addClass("required_answer").html('<span class="checks"><label class="flex">\n<input name="parts['+s+'][answer_required]" type="checkbox" class="answer_required" value="true">\n<i class="true fas fa-2x fa-toggle-on flex-min-content"></i>\n<i class="false fas fa-2x fa-toggle-on fa-flip-horizontal flex-min-content"></i>\n<label class="required_label">KĂśtelezĹ vĂĄlaszolni</label>\n</label></span>'),u.find(".answer_required").prop("checked",t.answer_required),n.append(u),n.appendTo($(".answers",$("#surveys-details"))),r.trigger("change")}function l(t,e){var a=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(a),$.each(AppData.channels,(function(t,e){e.active&&"ch0"!==e.channel&&e.name&&$("<option/>").val(e.channel).text(Language.getTranslation(e.name,AppData.settings.lang)+" | "+e.admin_name).appendTo(a)})),t.find(".selectChannel").html(a),e&&"channel"in e&&t.find(".selectChannel").val(e.channel),a=null}function d(){let t=$("main#surveys-details").find(".add_answer").position();t.top+=39,t.left+=4,$(".modal-content-surveys").css("top",t.top+"px").css("left",t.left+"px")}return $(window).resize((function(){$(".modal-content-surveys").is(":visible")&&(d(),$(".modal-content-surveys").show())})),$(window).on("click",(function(t){-1===t.target.className.search(/notclose-surveys/i)&&$(".modal-content-surveys").is(":visible")&&$(".modal-content-surveys").hide()})),$(document).on("input","#surveys .search input",(function(){var t=new RegExp(strCanonical(this.value),"i");$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#surveys .surveysList tr[data-id]").each((function(e,a){$(a).toggle(t.test(strCanonical($(a).text().split(" ").join(""))))}))})).on("click","#surveys .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click","#surveys .actions .new",(function(){var t=$(this).hasClass("wordcloud"),a=$("#surveys-details");$("#surveys, #surveys-details").toggle(),$("#surveys-details").find(".actions .remove").hide(),a.find("form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),l(a),i(a),a.find(".question:not(:first)").toggleClass("hidden",t),a.find(".question:first select").val("check").trigger("change").css("pointerEvents",t?"none":""),a.find('[name="wordcloud"]').val(t),$(".answer_cont",$("#surveys-details")).remove(),Layout.buildLanguageTabs("#surveys-details",e);var s=(AppData.surveys?AppData.surveys.length:0)+1;$("#surveys-details").find('[name ="sort_id"]').val(s),setReqOnFieldsByLang("surveys",e),o(),writeDbLog("SURVEYS","new","admin_logs"),a=null})).on("click","#surveys .actions .exportJson",(function(e){e.stopPropagation(),t.exportJson(),writeDbLog("SURVEYS","export json","admin_logs")})).on("click","#surveys .actions .importJson",(function(e){e.stopPropagation(),t.openModalWindow(),writeDbLog("SURVEYS","import json","admin_logs")})).on("click","#surveys .actions .exportmeevet",(function(t){t.stopPropagation(),writeDbLog("SURVEYS","exportMeeVetData","admin_logs"),window.open("api/?do=exportMeevet")})).on("click","#surveys .surveysList button.export",(function(t){t.stopPropagation(),writeDbLog("SURVEYS","exportData","admin_logs"),window.open("api/?do=exportSurveyData&id="+$(this).closest("tr").data("id")+"&lang="+AppData.settings.lang)})).on("click","#surveys .surveysList button.activeSurvey",(function(t){t.stopPropagation();var e=new FormData;e.append("do","updateSurveyActive"),e.append("id",this.dataset.id),e.append("active",this.dataset.active),writeDbLog("SURVEYS","activeSurvey - "+this.dataset.id+" - "+this.dataset.active,"admin_logs"),$.ajax({url:"api/",data:e,type:"post",dataType:"text",cache:!1,contentType:!1,processData:!1,success:function(t){AppData.surveys=t,n(),Socket.Send("Surveys.BuildFromSource",!0)}})})).on("click","#surveys .surveysList button.deleteVotes",(function(t){t.stopPropagation();let e=this.dataset.id;var a="id="+e+"&do=deleteVotes";Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("SURVEYS","deleteVotes - "+e,"admin_logs"),$.post("api/",a,(function(t){Modal.alert(t+" vote(s) deleted.")}))}))})).on("click","#surveys .surveysList tr[data-id]",(function(){var t=$("#surveys-details"),a=this.dataset.id,s=AppData.surveys.find((function(t){return t.id===a})),n=Boolean(!0===s.wordcloud);$(".answer_cont",$("#surveys-details")).remove(),Layout.buildLanguageTabs("#surveys-details",e,s),void 0===s.active&&(s.active=!1),$.each(s,(function(e,a){t.find('[name="'+e+'"]').val(String(a)||""),"boolean"==typeof a?t.find('[name="'+e+'"]').prop("checked",a):t.find('[name="'+e+'"]').val(String(a)||"")})),setReqOnFieldsByLang("surveys",e),$.each(s.parts,(function(t,e){r(e)})),$("#surveys, #surveys-details").toggle(),t.find(".actions .remove").show(),l(t,s),i(t,s),t.find("form select.type").trigger("change"),t.find(".question:not(:first)").toggleClass("hidden",n),t.find(".question:first select").css("pointerEvents",n?"none":""),t.find('[name="data[wordcloud]"]').val(n),n&&t.find(".question:first select").val("check").trigger("change"),o(),writeDbLog("SURVEYS","modify"+(void 0!==a?" - "+a:""),"admin_logs"),t=a=s=null})).on("click","#surveys .surveysList button.show",(function(t){t.stopPropagation(),Socket.Send("Surveys.showQuestion",$(this).closest("tr").data("id"),{channel:localState.pushChannel}),writeDbLog("SURVEYS","pushShow - "+$(this).closest("tr").data("id")+(void 0!==localState.pushChannel?" - "+localState.pushChannel:""),"admin_logs")})).on("click","#surveys .surveysList button.hide",(function(t){t.stopPropagation(),Socket.Send("Layout.hide","surveys-details",{channel:localState.pushChannel}),writeDbLog("SURVEYS","pushHide - "+localState.pushChannel,"admin_logs")})).on("click","#surveys .surveysList button.showDisplay",(function(t){t.stopPropagation(),Socket.Send("Wordcloud.Init",{id:$(this).closest("tr").data("id"),type:"survey"},{channel:localState.pushChannel}),writeDbLog("SURVEYS","pushShowDisplay - "-+$(this).closest("tr").data("id")+" - "+(void 0!==localState.pushChannel?localState.pushChannel:""),"admin_logs")})).on("click","#surveys .surveysList button.hideDisplay",(function(t){t.stopPropagation(),Socket.Send("Layout.hide","wordcloud",{channel:localState.pushChannel}),writeDbLog("SURVEYS","pushHideDisplay - "+localState.pushChannel,"admin_logs")})).on("click","#surveys .surveysList button.showRankings",(function(t){t.stopPropagation(),Socket.Send("Ranking.surveyRatings",$(this).closest("tr").data("id"),{channel:localState.pushChannel,client:["display"]})})).on("click","#surveys .surveysList button.hideRankings",(function(t){t.stopPropagation(),Socket.Send("Layout.hide","ranking",{channel:localState.pushChannel,client:["display"]})})).on("click","#surveys-details .close",(function(){$("#surveys, #surveys-details").toggle(),$("#surveys-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),writeDbLog("SURVEYS","close","admin_logs")})).on("click","#surveys-details .remove",(function(t){t.preventDefault();var e=$(this).closest("form").find('[name="id"]').val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("SURVEYS","remove"+(void 0!==e?" - "+e:""),"admin_logs"),$.post("api/",{do:"removeSurvey",data:e},(function(t){AppData.surveys=t,Socket.Send("Surveys.BuildFromSource",!0),s(),e=t=null})),$("#surveys, #surveys-details").toggle(),$("#surveys-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)}))})).on("submit","#surveys-details form",(function(t){t.preventDefault(),$(this).serializeObject();var e=new FormData($(this).get(0));e.append("do","saveSurvey"),e.set("answers_multiple_times",$("main#surveys-details").find("#answers_multiple_times").is(":checked")),writeDbLog("SURVEYS","submit"+(void 0!==e.id?" - "+e.id:""),"admin_logs"),$("main#surveys-details").find(".answers_multiple_times").is(":checked")&&console.log("Checked"),$("#surveys, #surveys-details").toggle(),$("#surveys-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:e,success:function(t){AppData.surveys=t,Socket.Send("Surveys.BuildFromSource",!0),Socket.Send("Agenda.BuildFromSource",!0),s(),t=null}})})).on("change","#surveys-details form .type_select select",(function(){var t=$(this),e="radio"!==t.val(),a="check"!==t.val(),s="rating"!==t.val(),n="grouprating"!==t.val();t.closest(".answer_cont").find(".rating_star_count").prop("disabled",s&&n).toggleClass("hidden",s&&n),t.closest(".answer_cont").find(".checkbox_min_max").prop("disabled",a).toggleClass("hidden",a),t.closest(".answer_cont").find("textarea").prop("disabled",e&&a&&n).toggleClass("hidden",e&&a&&n),t.closest(".answer_cont").find(".hr1").prop("disabled",e&&a).toggleClass("hidden",e&&a),t=e=a=s=null})).on("click","#surveys-details .add_answer",(function(t){d(),$("#surveys-details").find(".modal-content-surveys").show(),$("#surveys-details").find(".modal-content-surveys .items").html(""),a.forEach((function(t){var e=$("<button/>");e.addClass("btn w-25 row"),e.attr("data-id",t.value).text(t.text),$("#surveys-details .modal-content-surveys").find(".items").append(e)}))})).on("click","#surveys-details .row",(function(t){t.preventDefault(),r(t,$(this).data("id"))})).on("click","#surveys-details .langtab",(function(){var t=$(this).attr("data-lang");$(".answer_inputs input",$("#surveys-details")).hide(),$(".answer_input_"+t,$("#surveys-details")).show(),$(".answer_inputs textarea",$("#surveys-details")).hide(),$(".ta_input_"+t,$("#surveys-details")).show(),$(".answer_inputs hr",$("#surveys-details")).hide(),$(".hr_"+t,$("#surveys-details")).show()})).on("click","#surveys-details .del_answer",(function(){var t=$(this);Modal.confirm("Are you sure to delete? Any replies received so far will also be deleted!",(function(){var e=parseInt($(".answer_title",t.closest($(".answer_cont"))).attr("data-anum"))-1;t.closest($(".answer_cont")).remove(),$(".answer_title",$("#surveys-details")).each((function(){var a=t.attr("data-anum");if(a>e){var s=a-1;s<1&&(s=1),t.html("Question number "+s),t.attr("data-anum",s)}})),$(".answer_cont .type_select select",$("#surveys-details")).each((function(){var a=t.attr("data-anum");if(a>e){var s=a-1;s<0&&(s=0),t.attr("name",t.attr("name").replace(a,s)),t.attr("data-anum",s)}})),$(".answer_inputs input",$("#surveys-details")).each((function(){var a=t.attr("data-anum");if(a>e){var s=a-1;s<0&&(s=0),t.attr("name",t.attr("name").replace(a,s)),t.attr("data-anum",s)}})),$(".answer_inputs textarea",$("#surveys-details")).each((function(){var a=t.attr("data-anum");if(a>e){var s=a-1;s<0&&(s=0),t.attr("name",t.attr("name").replace(a,s)),t.attr("data-anum",s)}}))}))})).on("click","#surveys-details .clone_answer",(function(t){var e=$(this),a=e.closest($(".answer_cont")).find(".type_select select").val(),s=e.closest($(".answer_cont")).not("input[type=hidden]").find("input:not(input[type=hidden]), textarea");r(t,a);var n=$("#surveys-details .answers").find(".answer_cont").last().find("input:not(input[type=hidden]), textarea");$.each(s,(function(t,e){"checkbox"===e.type?$(n[t]).prop("checked",$(e).is(":checked")):$(n[t]).val(String($(e).val()))}))})).on("click","#surveys .actions .exportallsurveys",(function(t){t.stopPropagation(),writeDbLog("SURVEYS","exportAllData","admin_logs"),window.open("api/?do=exportSurveysAllData&lang="+AppData.settings.lang)})),{Init:function(){s(),DragAndDrop.Init({container:".surveysList",rowcontainer:".ddClassSurveys",dbname:"surveys",socketupdate:"Surveys.BuildFromSource"}),(t=new JsonExportImport).Init({module:"surveys",file:"surveys.json",callback:function(t){n(),Socket.Send("Surveys.BuildFromSource",!0)}}),$("#surveys-details .languageTabs").hide()},BuildFromSource:n}}();
var Texts=function(){"use strict";var t=[{templateName:"title",name:"title"},{templateName:"text",name:"text"}];function e(){AppData.texts.sort((function(t,e){return void 0!==t.sort_id&&void 0!==e.sort_id?parseInt(t.sort_id)>parseInt(e.sort_id)?1:-1:0}))}function a(){e();var t=$(document.createDocumentFragment()),a=$("<tr/>"),n=AppData.texts?AppData.texts.length:0;$("<th/>").text("Title").appendTo(a),$("<th/>").text("Text").appendTo(a),$("<th/>").text("Actions").appendTo(a),a.appendTo(t),$("main#texts").find(".textsListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.texts,(function(e,a){var n=$("<tr/>");!function(t,e){var a=e.text[localState.lang];void 0!==a&&(a=a.substring(0,150)+" ...");t.attr("data-id",e.id).toggleClass("color-red",!1===e.active||void 0===e.active),$("<td/>").html(e.title[localState.lang]).attr("nowrap","nowrap").appendTo(t),$("<td/>").html(a).attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button data-id="'+e.id+'" data-active="true"  class="btn activeText '+(!0===e.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+e.id+'" data-active="false" class="btn activeText '+(!1===e.active||void 0===e.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(t)}(n,a),n.appendTo(t),n=null})),$("main#texts").find(".textsTitle").text(n+" text(s)"),$("main#texts").find(".textsList").html(t),t=a=n=null}return $(document).on("click","#texts .textsList tr[data-id]",(function(){var e=$("#texts-details"),a=this.dataset.id,n=AppData.texts.find((function(t){return t.id===a}));Layout.buildLanguageTabs("#texts-details",t,n),void 0===n.active&&(n.active=!1),$.each(n,(function(t,a){"active"===t?e.find("[name="+t+"]").prop("checked",a):e.find("[name="+t+"]").val(String(a)||"")})),$("#texts, #texts-details").toggle(),$("#texts-details").find(".actions .remove").show(),e=a=n=null})).on("click","#texts .textsList .activeText",(function(t){t.stopPropagation();var e=new FormData;e.append("do","updateTextActive"),e.append("id",this.dataset.id),e.append("active",this.dataset.active),$.ajax({url:"api/",type:"post",data:e,dataType:"json",processData:!1,contentType:!1,cache:!1,success:function(t){AppData.texts=t,a(),Socket.Send("Texts.renderDetails",!0),Socket.Send("Texts.update",!0)},error:function(t){console.log("Error: "+t)}})})).on("click","#texts .actions .new",(function(){var e=$("#texts-details");$("#texts, #texts-details").toggle(),$("#texts").find(".actions .remove").hide(),Layout.buildLanguageTabs("#texts-details",t),e.find("form").find("input").val(""),e.find("[name=active]").prop("checked",!0),e=null})).on("click","#texts-details .close",(function(){$("#texts, #texts-details").toggle(),$("#texts-details form").find("input").val("")})).on("click","#texts-details .remove",(function(t){t.preventDefault();var e=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeText",data:e},(function(t){AppData.texts=t,Socket.Send("Texts.renderDetails",!0),Socket.Send("Texts.update",!0),a(),e=t=null})),$("#texts, #texts-details").toggle(),$("#texts-details form").find("input").val("")}))})).on("submit","#texts-details form",(function(t){t.preventDefault();var e=$(this).serializeObject(),n=!0;n=JSON.stringify(e)!==JSON.stringify(AppData.texts.find((function(t){return t.id===e.id})));var i=new FormData($(this).get(0));if(i.append("do","saveText"),i.set("active",$("#texts-details").find("[name=active]").prop("checked")?1:0),$("#texts, #texts-details").toggle(),$("#texts-details form").find("input, select").val(""),!n)return e=n=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:i,success:function(t){AppData.texts=t,Socket.Send("Texts.update",!0),a(),e=n=t=null}})})),{Init:function(){a()},renderList:a,BuildFromSource:function(){$.post("api/",{do:"getTexts"},(function(t){AppData.texts=t,e(),a(),t=null}))}}}();
var Translations=function(){"use strict";var t=[{target:"settings",title:"Settings",active:!1},{target:"translations",title:"Languages",active:!0},{target:"modulsettings",title:"Module settings",active:!1},{target:"uploadsettings",title:"Uploads",active:!1},{target:"nativesettings",title:"Native settings",active:!1},{target:"urlsettings",title:"URL settings",active:!1},{target:"backups",title:"Backups",active:!1}];let a;function n(){AppData.translations.sort((function(t,a){return parseInt(t.sort_id)>parseInt(a.sort_id)?1:-1}))}function i(){n();var t=$(document.createDocumentFragment()),a=$("<tr/>"),i=AppData.translations?AppData.translations.length:0;$("<th/>").text("").appendTo(a),$("<th/>").text("ID").appendTo(a),$("<th/>").text("Name").appendTo(a),$("<th/>").text("Time format").appendTo(a),$("<th/>").text("Actions").appendTo(a),a.appendTo(t),$("main#translations").find(".translationsListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.translations,(function(a,n){var i,e,s=$("<tr/>");s.addClass("ddClassTranslations"),e=n,(i=s).attr("data-id",e.id).toggleClass("color-red",!1===e.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(i),$("<td/>").text(e.translation_id).attr("nowrap","nowrap").appendTo(i),$("<td/>").text(e.translation_name).attr("nowrap","nowrap").appendTo(i),$("<td/>").text("12"===e.time_format?"12 (AM/PM)":"24").attr("nowrap","nowrap").appendTo(i),$("<td/>").html('<button data-id="'+e.id+'" data-active="true"  class="btn activeTranslation '+(!0===e.active?"activeBtn":"")+'"   title="Active"><i class="fa fa-check"></i></button><button data-id="'+e.id+'" data-active="false" class="btn activeTranslation '+(!1===e.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(i),s.appendTo(t),s=null})),$("main#translations").find(".translationsTitle").text(i+" language(s)"),$("main#translations").find(".translationsList").html(t),t=a=i=null}function e(t){let a=t.attr("data-lang"),n=t.attr("data-array"),i=t.attr("name"),e=t.val();if(e=e.trim(),""==e)return Modal.alert("The translation field cannot be empty!"),void t.val(AppData.languages[a][i]);if(AppData.languages[a][i]!=e&&0==t.prop("disabled")&&""!=e){if(null!=n){let t=$("#translations-details .lang_variables_list [data-array='"+n+"']");e=[],t.each((function(){e.push($(this).val())}))}t.prop("disabled",!0),t.addClass("disabled"),$(".spinner",t.parent()).show(),$.ajax({method:"post",url:"api/",data:{do:"saveTranslationVariable",lang:a,variable:i,value:e},success:function(a){AppData.languages=a,Socket.Send("Language.buildFromSource"),t.prop("disabled",!1),t.removeClass("disabled"),$(".spinner",t.parent()).hide(),writeDbLog("LANGUAGES","save Translation","admin_logs")}})}}function s(){n(),$("[name=lang]").html("<option value=''>--</option>"),AppData.translations.forEach((function(t){t.active&&$("[name=lang]").append("<option "+(t.translation_id===AppData.settings.lang?"selected":"")+' value="'+t.translation_id+'">'+t.translation_name+"</option>")}))}return $(document).on("blur",".lang_var_input",(function(){e($(this))})),$(document).on("keyup",".lang_var_input",(function(t){"13"==(t.keyCode?t.keyCode:t.which)&&e($(this))})),$(document).on("click","#translations .translationsList tr[data-id]",(function(){let t=$("#translations-details"),n=this.dataset.id,i=AppData.translations.find((function(t){return t.id===n}));$.each(i,(function(a,n){t.find("[name="+a+"]").val(String(n)||"")}));let e=AppData.languages[i.translation_id],s=$("#translations-details .lang_variables_list");s.empty();for(let t in e)if(Array.isArray(e[t]))for(let n in e[t]){let o=a.clone();o.find(".lang_var_title").html(t+" - "+n),o.find(".lang_var_input").attr("name",t).attr("data-lang",i.translation_id).attr("data-array",t).val(e[t][n]),o.appendTo(s)}else{let n=a.clone();n.find(".lang_var_title").html(t),n.find(".lang_var_input").attr("name",t).attr("data-lang",i.translation_id).val(e[t]),n.appendTo(s)}$("#translations, #translations-details").toggle(),$("#translations-details").find(".actions .remove").show(),writeDbLog("LANGUAGES","modify"+(void 0!==n?" - "+n:""),"admin_logs"),t=n=i=null})).on("click","#translations .actions .new",(function(){var t=$("#translations-details");$("#translations, #translations-details").toggle(),$("#translations-details").find(".actions .remove").hide(),t.find("form").find("input").val(""),$("#translations-details .lang_variables_list").empty();var a=(AppData.translations?AppData.translations.length:0)+1;$("#translations-details").find('[name ="sort_id"]').val(a),writeDbLog("LANGUAGES","new","admin_logs"),t=null})).on("click","#translations .activeTranslation",(function(t){t.stopPropagation();let a=this.dataset.id,n=this.dataset.active;$.post("api/",{do:"updateActiveTranslation",id:a,active:n},(function(t){!1===t?Modal.alert("Sorry, you can not inactivate the last active language!"):(AppData.translations=t,i(),Settings.buildOptionsDefaultLanguage(),Socket.Send("Profile.buildLanguages",!0),Socket.Send("Layout.getLoginLanguages",!0),s(),writeDbLog("LANGUAGES","active"+(void 0!==a?" - "+a:"")+(void 0!==n?" - "+n:""),"admin_logs"))}))})).on("click","#translations-details .close",(function(){$("#translations, #translations-details").toggle(),$("#translations-details form").find("input").val(""),writeDbLog("LANGUAGES","close","admin_logs")})).on("click","#translations-details .remove",(function(t){t.preventDefault();var a=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("LANGUAGES","remove"+(void 0!==a?" - "+a:""),"admin_logs"),$.post("api/",{do:"removeTranslations",data:a},(function(t){"error"==t?Modal.alert("Default language cannot be deleted."):(AppData.translations=t,i(),Socket.Send("Language.checkTranslation",null),s(),a=t=null)})),$("#translations, #translations-details").toggle(),$("#translations-details form").find("input").val("")}))})).on("submit","#translations-details form",(function(t){t.preventDefault();var a=$(this).serializeObject(),n=!0;if(n=JSON.stringify(a)!==JSON.stringify(AppData.users.find((function(t){return t.id===a.id}))),$("#translations, #translations-details").toggle(),$("#translations-details form").find("input, select").val(""),!n)return a=n=null,!1;$.post("api/",{do:"saveTranslations",data:a},(function(t){AppData.translations=t.translations,AppData.languages=t.languages,Socket.Send("Language.buildFromSource"),i(),s(),writeDbLog("LANGUAGES","submit"+(void 0!==a.id&&""!==a.id?" - "+a.id:""),"admin_logs"),a=n=t=null}))})).on("change","#translations form",(function(){var t=$(this).closest("form").serializeObject();$.post("api/",{do:"changeLanguageSettings",data:t},(function(t){AppData.settings=t,Socket.Send("Settings.BuildFromSource",t),writeDbLog("LANGUAGES","change language settings","admin_logs")}))})),{Init:function(){a=$("#langVariable").contents(),$("#langVariable").remove(),i();var n={container:".translationsList",rowcontainer:".ddClassTranslations",dbname:"translations",socketupdate:"Profile.buildLanguages",callback:function(t){s(),Socket.Send("getTranslationsWithoutLogin",!0)}};DragAndDrop.Init(n),Layout.addTabs("translations",t),s(),$("#translations").find("[name='changeLang']").val(String(AppData.settings.changeLang))},renderList:i,BuildFromSource:function(){$.post("api/",{do:"getTranslations"},(function(t){AppData.translations=t,n(),i(),t=null}))},updateLangSettings:function(){s(),$("#translations").find("[name='changeLang']").val(String(AppData.settings.changeLang))}}}();
var Translator=function(){"use strict";var t,a=[{templateName:"name",name:"name"}];function n(){AppData.translator.sort((function(t,a){return void 0!==t.sort_id&&void 0!==a.sort_id?parseInt(t.sort_id)>parseInt(a.sort_id)?1:-1:0}));var t=$(document.createDocumentFragment()),a=$("<tr/>"),n=AppData.translator?AppData.translator.length:0;$("<th/>").text("").appendTo(a),$("<th/>").text("Name").appendTo(a),$("<th/>").text("Appname").appendTo(a),$("<th/>").text("Signaling url").appendTo(a),$("<th/>").text("Stream name").appendTo(a),$("<th/>").text("Actions").appendTo(a),a.appendTo(t),$("main#translator").find(".translatorListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.translator,(function(a,n){var o,r,e=$("<tr/>");e.addClass("ddClassTranslator"),r=n,(o=e).attr("data-id",r.id),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(o),$("<td/>").html(r.name[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(o),$("<td/>").text(r.application_name).attr("nowrap","nowrap").appendTo(o),$("<td/>").text(r.signaling_url).attr("nowrap","nowrap").appendTo(o),$("<td/>").text(r.stream_name).attr("nowrap","nowrap").appendTo(o),$("<td/>").html('<button type="button" title="Active" class="btn activeTranslator'+(r.visible?" activeBtn":"")+'" data-visible="true" data-id="'+r.id+'"><i class="fa fa-check"></i></button> <button type="button" title="Inactive" class="btn inactiveTranslator'+(r.visible?"":" inactiveBtn")+'"  data-visible="false" data-id="'+r.id+'"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(o),e.appendTo(t),e=null})),$("main#translator").find(".translatorTitle").text(n+" stream URL(s)"),$("main#translator").find(".translatorList").html(t),t=a=n=null}function o(t){t.stopPropagation();var a=new FormData;a.append("do","updateTranslatorVisible"),a.append("id",this.dataset.id),a.append("visible",this.dataset.visible),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:a,type:"post",success:function(t){l(),Socket.Send("Translator.BuildFromSource",!0),Socket.Send("Soundchannels.BuildFromSource",null,{client:"client"})},error:function(t){console.log("Hiba: "+t)}})}function r(){var t=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(t),$.each(AppData.users,(function(a,n){"translator"==n.group&&$("<option/>",{value:n.id,text:n.name[localState.lang]}).appendTo(t)})),$('#translator-details select[name="assigned_translator"]').html(t)}function e(){var t=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(t),$.each(AppData.user_groups,(function(a,n){$("<option/>",{value:n.group_name,text:n.label[localState.lang]}).appendTo(t)})),$('#translator-details select[name="use_hls"]').html(t)}function l(){$.post("api/",{do:"getTranslator"},(function(t){AppData.translator=t,n()}))}return $(document).on("click","#translator .translatorList tr[data-id]",(function(){var t=$("#translator-details"),n=this.dataset.id,o=AppData.translator.find((function(t){return t.id===n}));r(),e(),$.each(o,(function(a,n){"boolean"==typeof n?t.find("[name="+a+"]").prop("checked",n):"object"==typeof n?t.find("[name="+a+"]").val(n):t.find("[name="+a+"]").val(String(n)||"")})),$("#translator, #translator-details").toggle(),$("#translator-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#translator-details",a,o),t=n=o=null})).on("click","#translator .activeTranslator",o).on("click","#translator .inactiveTranslator",o).on("click","#translator .actions .new",(function(){var t=$("#translator-details");$("#translator, #translator-details").toggle(),$("#translator-details").find(".actions .remove").hide(),t.find("form").find("input").val(""),t.find("[name=application_name]").val("webrtc"),t.find("[name=signaling_url]").val("wss://streaming2.rentit.hu/webrtc-session.json"),r(),e(),t=null;var n=(AppData.translator?AppData.translator.length:0)+1;$("#translator-details").find('[name ="sort_id"]').val(n),Layout.buildLanguageTabs("#translator-details",a)})).on("click","#translator .actions .exportJson",(function(a){a.stopPropagation(),t.exportJson()})).on("click","#translator .actions .importJson",(function(a){a.stopPropagation(),t.openModalWindow()})).on("click","#translator-details .close",(function(){$("#translator, #translator-details").toggle(),$("#translator-details form").find("input").val("")})).on("click","#translator-details .remove",(function(t){t.preventDefault();var a=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeTranslator",data:a},(function(t){AppData.translator=t,Socket.Send("Translator.BuildFromSource",!0),n(),a=t=null})),$("#translator, #translator-details").toggle(),$("#translator-details form").find("input").val("")}))})).on("submit","#translator-details form",(function(t){t.preventDefault();var a=$(this).serializeObject();a.visible=void 0!==a.visible,a.main_lang=void 0!==a.main_lang,a.is_floor=void 0!==a.is_floor,a=$.param(a),a+="&do=saveTranslator",$.post("api/",a,(function(t){AppData.translator=t,n(),$("#translator-details form").find("input, select").val(""),$("#translator, #translator-details").toggle(),Socket.Send("Translator.BuildFromSource",!0),Socket.Send("Soundchannels.BuildFromSource",null,{client:"client"}),t=null}))})),{Init:function(){n(),DragAndDrop.Init({container:".translatorList",rowcontainer:".ddClassTranslator",dbname:"translator",socketupdate:"Translator.BuildFromSource"}),(t=new JsonExportImport).Init({module:"translator",file:"translator.json",callback:function(t){l(),Socket.Send("Translator.BuildFromSource",!0)}})},BuildFromSource:l}}();
var Trueconf=function(){"use strict";var t,e=[{templateName:"title",name:"title"}],n=[{target:"trueconf",title:"Trueconf",active:!0},{target:"trueconfrooms",title:"Trueconf Rooms",active:!1}];function o(){AppData.trueconf.sort((function(t,e){return void 0!==t.sort_id&&void 0!==e.sort_id?parseInt(t.sort_id)>parseInt(e.sort_id)?1:-1:0}));var t=$(document.createDocumentFragment()),e=$("<tr/>"),n=AppData.trueconf?AppData.trueconf.length:0;$("<th/>").text("").css("width","45px").appendTo(e),$("<th/>").text("Title").appendTo(e),e.appendTo(t),$(".galleryListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.trueconf,(function(e,n){var o,a,i=$("<tr/>");i.addClass("ddClassTrueconf"),a=n,(o=i).attr("data-id",a.id).toggleClass("color-red",!1===a.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').css("width","45px").attr("nowrap","nowrap").appendTo(o),$("<td/>").html(a.title[AppData.settings.lang]).attr("nowrap","nowrap").appendTo(o),i.appendTo(t),i=null})),$("main#trueconf").find(".trueconfTitle").text(n+" document(s)"),$("main#trueconf").find(".trueconfList").html(t),t=e=n=null}function a(){$.post("api/",{do:"getTrueconf"},(function(t){AppData.trueconf=t,o(),t=null}))}function i(){Layout.buildLanguageTabs("#trueconf-details",e),setReqOnFieldsByLang("trueconf",e),$("#trueconf, #trueconf-details").toggle(),$("#trueconf-details").find(".actions .remove").hide();var t=(AppData.trueconf?AppData.trueconf.length:0)+1;$("#trueconf-details").find('[name ="sort_id"]').val(t),r()}function r(){var t=$(document.createDocumentFragment());$.each(AppData.channels,(function(e,n){$("<option/>",{value:n.channel,text:n.channel.toUpperCase()+": "+Language.getTranslation(n.name,AppData.settings.lang)+" | "+n.admin_name}).appendTo(t)})),$('#trueconf-details select[name="channel"]').html(t)}return $(document).on("click","#trueconf .actions .exportJson",(function(e){e.stopPropagation(),t.exportJson()})).on("click","#trueconf .actions .importJson",(function(e){e.stopPropagation(),t.openModalWindow()})).on("input","#trueconf .search input",(function(){var t=new RegExp(strCanonical(this.value),"i");$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#trueconf .trueconfList tr[data-id]").each((function(e,n){$(n).toggle(t.test(strCanonical($(n).text().split(" ").join(""))))}))})).on("click","#trueconf .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click","#trueconf .trueconfList tr[data-id]",(function(){var t=$("#trueconf-details"),n=this.dataset.id,o=AppData.trueconf.find((function(t){return t.id===n}));r(),$.each(o,(function(e,n){t.find("[name="+e+"]").val(n.toString()||"")})),$("#trueconf-details").find(".actions .remove").show(),$("#trueconf-details .preview").hide(),$("#trueconf, #trueconf-details").toggle(),Layout.buildLanguageTabs("#trueconf-details",e,o),setReqOnFieldsByLang("trueconf",e),t=n=o=null})).on("click","#trueconf-details .close",(function(){$("#trueconf, #trueconf-details").toggle(),$("#trueconf-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)})).on("click","#trueconf-details .remove",(function(t){t.preventDefault();var e=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeTrueconf",data:e},(function(t){AppData.trueconf=t,Socket.Send("Trueconf.BuildFromSource",!0),o(),e=t=null})),$("#trueconf, #trueconf-details").toggle(),$("#trueconf-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)}))})).on("submit","#trueconf-details form",(function(t){t.preventDefault();var e=$(this).serializeObject(),n=!0;n=JSON.stringify(e)!==JSON.stringify(AppData.trueconf.find((function(t){return t.id===e.id})));var a=$(this).serialize();if(a+="&do=saveTrueconf",$("#trueconf, #trueconf-details").toggle(),$("#trueconf-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),!n)return e=n=null,!1;$.ajax({method:"post",url:"api/",data:a,success:function(t){AppData.trueconf=t,Socket.Send("Trueconf.BuildFromSource",!0),o(),e=n=t=null}})})),{Init:function(){$(document).on("click","main#trueconf .actions .new",i),o(),DragAndDrop.Init({container:".trueconfList",rowcontainer:".ddClassTrueconf",dbname:"trueconf",socketupdate:"Trueconf.BuildFromSource"}),Layout.addTabs("trueconf",n),(t=new JsonExportImport).Init({module:"trueconf",file:"trueconf.json",callback:function(t){a(),Socket.Send("Trueconf.BuildFromSource",!0)}}),delete Gallery.Init},BuildFromSource:a}}();
var Trueconfrooms=function(){let t,e=[{target:"trueconf",title:"Trueconf",active:!1},{target:"trueconfrooms",title:"Trueconf Rooms",active:!0}],o=!1;function n(){let e=$("#trueconfrooms [name='from_trueconf_room']").val();o||(o=!0,$.ajax({method:"post",url:"api/",dataType:"json",data:{do:"checkTrueConfRoom",room:e,server:"workshop"},success:function(e){o=!1,$("#trueconfrooms .tc_participant_list").empty();let n=e.participants;if(0==n.length)return void Modal.alert("No participants in this room.");let r=AppData.users.filter((function(t){return!0}));for(let e=0;e<n.length;e++){console.log(n[e]);let o=t.clone();o.find(".tcuser").html(n[e].display_name);let a=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(a),$.each(r,(function(t,o){let r=$("<option/>",{value:o.id,text:o.name[localState.lang]+" : "+o.group+" ("+o.id+")"});$.each(AppData.translations,(function(t,a){if(o.name[a.translation_id]==n[e].display_name)return r.prop("selected",!0),!1})),r.appendTo(a)})),o.find('select[name="rca_user"]').html(a),o.find(".move-to-room").on("click",(function(){let t=$(this).closest(".participant_item"),e=$('[name="rca_user"]',t).val(),o=$('[name="new_tcroom"]',t).val();""!=e&&""!=o?o.match(/meeting[0-9]\.rentit\.hu\/c\//gi)?Socket.Send("Trueconf.pushTcRoom",o,{uid:e}):Modal.alert("Please use full url (meeting2.rentit.hu/c/test_public)."):Modal.alert("Choose a user and a room.")})),o.appendTo($("#trueconfrooms .tc_participant_list"))}},error:function(){o=!1,Modal.alert("Error.")}}))}return{Init:function(){Layout.addTabs("trueconfrooms",e),t=$("#trueconfrooms #participantListTemplate").remove().contents(),$("#trueconfrooms .list_participants").on("click",n)}}}();
var Unity3d=function(){"use strict";var t;function n(){AppData.unity3d.sort((function(t,n){return void 0!==t.sort_id&&void 0!==n.sort_id?parseInt(t.sort_id)>parseInt(n.sort_id)?1:-1:0}))}function i(){n();var t=$(document.createDocumentFragment()),i=$("<tr/>"),a=AppData.unity3d?AppData.unity3d.length:0;$("<th/>").text("").appendTo(i),$("<th/>").text("ID").appendTo(i),$("<th/>").text("Title").appendTo(i),$("<th/>").text("Actions").appendTo(i),i.appendTo(t),$("main#unity3d").find(".unity3dListThead").html(t),t=$(document.createDocumentFragment()),$.each(AppData.unity3d,(function(n,i){var a,d,e=$("<tr/>");e.addClass("ddclassUnity3d"),d=i,(a=e).attr("data-id",d.id).toggleClass("color-red",!1===d.active||void 0===d.active),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(a),$("<td/>").text(d.u3did).attr("nowrap","nowrap").appendTo(a),$("<td/>").html(d.title).attr("nowrap","nowrap").appendTo(a),$("<td/>").html('<button data-id="'+d.id+'" data-active="true"  class="btn activeUnity3d '+(!0===d.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+d.id+'" data-active="false" class="btn activeUnity3d '+(!1===d.active||void 0===d.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(a),e.appendTo(t),e=null})),$("main#unity3d").find(".unity3dTitle").text(a+" unity 3D(s)"),$("main#unity3d").find(".unity3dList").html(t),t=i=a=null}function a(){$.post("api/",{do:"getUnity3d"},(function(t){AppData.unity3d=t,n(),i(),t=null}))}return $(document).on("click","#unity3d .unity3dList tr[data-id]",(function(){var t=$("#unity3d-details"),n=this.dataset.id,i=AppData.unity3d.find((function(t){return t.id===n}));void 0===i.active&&(i.active=!1),$.each(i,(function(n,i){"show_image"==n&&1==i||"open_in_blank"==n&&1==i?t.find("[name="+n+"]").prop("checked",!0):t.find("[name="+n+"]").val(String(i)||"")})),$("#unity3d, #unity3d-details").toggle(),$("#unity3d-details").find(".actions .remove").show(),t=n=i=null})).on("click","#unity3d .unity3dList .activeUnity3d",(function(t){t.stopPropagation();var n=new FormData;n.append("do","updateUnity3dActive"),n.append("id",this.dataset.id),n.append("active",this.dataset.active),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:n,type:"post",success:function(t){a(),Socket.Send("Unity3d.BuildFromSource",!0)},error:function(t){console.log("Hiba: "+t)}})})).on("click","#unity3d .actions .new",(function(){var t=$("#unity3d-details");$("#unity3d, #unity3d-details").toggle(),$("#unity3d").find(".actions .remove").hide(),t.find("form").find("input").val(""),t=null;var n=(AppData.unity3d?AppData.unity3d.length:0)+1;$("#unity3d-details").find('[name ="sort_id"]').val(n)})).on("click","#unity3d .actions .exportJson",(function(n){n.stopPropagation(),t.exportJson()})).on("click","#unity3d .actions .importJson",(function(n){n.stopPropagation(),t.openModalWindow()})).on("click","#unity3d-details .close",(function(){$("#unity3d, #unity3d-details").toggle(),$("#unity3d-details form").find("input").val("")})).on("click","#unity3d-details .remove",(function(t){t.preventDefault();var n=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeUnity3d",data:n},(function(t){AppData.unity3d=t,Socket.Send("Unity3d.BuildFromSource",!0),i(),n=t=null})),$("#unity3d, #unity3d-details").toggle(),$("#unity3d-details form").find("input").val("")}))})).on("submit","#unity3d-details form",(function(t){t.preventDefault();var n=$(this).serializeObject(),a=!0;a=JSON.stringify(n)!==JSON.stringify(AppData.unity3d.find((function(t){return t.id===n.id})));var d=new FormData($(this).get(0));if(d.append("do","saveUnity3d"),$("#unity3d, #unity3d-details").toggle(),$("#wunity3d-details form").find("input, select").val(""),!a)return n=a=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:d,success:function(t){AppData.unity3d=t,Socket.Send("Unity3d.BuildFromSource",!0),i(),n=a=t=null}})})),{Init:function(){i(),DragAndDrop.Init({container:".unity3dList",rowcontainer:".ddclassUnity3d",dbname:"unity3d",socketupdate:"Unity3d.BuildFromSource"}),(t=new JsonExportImport).Init({module:"unity3d",file:"unity3d.json",callback:function(t){a(),Socket.Send("Unity3d.BuildFromSource",!0)}})},renderList:i,BuildFromSource:a}}();
var Uploadsettings=function(){"use strict";var t,e,a,i=[{target:"settings",title:"Settings",active:!1},{target:"translations",title:"Languages",active:!1},{target:"modulsettings",title:"Module settings",active:!1},{target:"uploadsettings",title:"Uploads",active:!0},{target:"nativesettings",title:"Native settings",active:!1},{target:"urlsettings",title:"URL settings",active:!1},{target:"backups",title:"Backups",active:!1}],n=[{templateName:"title",name:"title"},{templateName:"mediaupload",name:"mediaupload"}];function o(){AppData.medias.sort((function(t,e){var a=Language.getTranslation(t.title,AppData.settings.lang),i=Language.getTranslation(e.title,AppData.settings.lang);return a.localeCompare(i)}));var t=$(document.createDocumentFragment()),e=$("<tr/>"),a=AppData.medias?AppData.medias.length:0;$("<th/>").text("Id").appendTo(e),$("<th/>").text("Title").appendTo(e),$("<th/>").text("Type").appendTo(e),$("<th/>").text("Filename").appendTo(e),$("<th/>").text("Actions").appendTo(e),e.appendTo(t),$.each(AppData.medias,(function(e,a){var i=$("<tr/>");!function(t,e){let a="";void 0!==e.filename&&void 0!==e.filename[AppData.settings.lang]&&(a=e.filename[AppData.settings.lang]);t.attr("data-id",e.id),$("<td/>").text(e.id).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(Language.getTranslation(e.title,AppData.settings.lang)).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(e.type).attr("nowrap","nowrap").appendTo(t),$("<td/>").text(a).attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button data-id="'+e.id+'" class="btn clipboard"><i class="fas fa-clipboard"></i></button>').attr("nowrap","nowrap").appendTo(t)}(i,a),i.appendTo(t),i=null})),$("main#uploadsettings").find(".uploadSettingsTitle").text(a+" media(s)"),$("main#uploadsettings").find(".uploadSettingsList").html(t),t=e=a=null}function s(){let t=$("#clipboardModal");t.removeClass("fadeIn").addClass("faster fadeOut").delay(500).queue((function(e){t.clearQueue().hide(),$("#clipboardModal").find(".msg").removeClass("error").hide()}))}function d(t,e){var a=$(document.createDocumentFragment());$('<option value="" selected>--</option>').appendTo(a),$.each(AppData.sponsors||[],(function(t,e){$("<option/>").val(e.id).text(e.name[AppData.settings.lang]).appendTo(a)})),t.find(".sponsors").html(a),e&&"sponsor"in e&&t.find(".sponsors").val(e.sponsor),a=null}function l(){$.post("api/",{do:"getMedias"},(function(t){AppData.medias=t,o(),Settings.buildOptionsImages(),Registration.getMediasOptions(),Presentations.buildPresentationSelects($("#presentationControls .selectPresentation")),t=null,Socket.Send("Layout.GetMediasFromSource",null,{client:"client"})}))}return $(window).resize((function(t){let i=$("#clipboardModal");if(i.is(":visible")&&void 0!==a){let t=$("#navbar").width(),n=a.offset(),o=$("#preview").is(":visible")?$("#preview").width():0;i.attr("style","top: "+(n.top-($(document).width()>($("#preview").is(":visible")?1209:810)?0:15)-14)+"px; left: "+(n.left-t-e-o+5)+"px; display: block;")}})),$(document).on("change","#mediaupload",(function(){null!=$("#mediaupload").prop("files")[0]&&$("#uploadsettings-details").find(".upload-btn").text("Choosen file: "+$("#mediaupload").prop("files")[0].name)})).on("change","#uploadmedia1 .inputFiles",(function(t){t.preventDefault();var e=new FormData($("#uploadmedia1").get(0));$.ajax({url:"api/",type:"post",data:e,dataType:"json",cache:!1,contentType:!1,processData:!1,success:function(t){AppData.medias=t,o(),Settings.buildOptionsImages(),Registration.getMediasOptions(),Presentations.buildPresentationSelects($("#presentationControls .selectPresentation")),Socket.Send("Layout.GetMediasFromSource",null,{client:"client"}),writeDbLog("UPLOADSETTINGS","Upload media file(s)","admin_logs"),t=null},error:function(t){console.log("data",t)}}),$("main#uploadsettings").find(".upload_in_progress_message").removeClass("faster fadeOut").addClass("fadeIn").show(),setTimeout((function(){$("main#uploadsettings").find(".upload_in_progress_message").removeClass("fadeIn").addClass("faster fadeOut").delay(500).queue((function(t){$("main#uploadsettings").find(".upload_in_progress_message").clearQueue(),$("main#uploadsettings").find(".upload_in_progress_message").hide()}))}),2500)})).on("click","#uploadsettings .actions .new",(function(t){t.preventDefault();var e=$("#uploadsettings-details");$("#uploadsettings, #uploadsettings-details").toggle(),$("#uploadsettings-details").find(".actions .remove").hide(),e.find("form").find("input").val(""),$("#uploadsettings-details").find(".upload-btn").text("Choose file..."),d(e),e=null,Layout.buildLanguageTabs("#uploadsettings-details",n),writeDbLog("UPLOADSETTINGS","new","admin_logs")})).on("click","#uploadsettings .uploadSettingsList tr[data-id]",(function(){var t=$("#uploadsettings-details"),e=this.dataset.id,a=AppData.medias.find((function(t){return t.id===e}));$.each(a,(function(e,a){null!=a&&("boolean"==typeof a?t.find("[name="+e+"]").prop("checked",a):t.find("[name="+e+"]").val(String(a)||""))})),$("#uploadsettings-details").find(".upload-btn").text("Choosen file: "+a.filename),$("#uploadsettings, #uploadsettings-details").toggle(),$("#uploadsettings-details").find(".actions .remove").show(),Layout.buildLanguageTabs("#uploadsettings-details",n,a),writeDbLog("UPLOADSETTINGS","modify"+(void 0!==e?" - "+e:""),"admin_logs"),d(t,a),t=e=a=null})).on("submit","#uploadsettings-details form",(function(t){t.preventDefault();var e=new FormData($(this).get(0));e.append("do","saveMedia"),$.ajax({url:"api/",data:e,method:"post",contentType:!1,processData:!1,success:function(t){AppData.medias=t,o(),Settings.buildOptionsImages(),Modulsettings.buildOptionsImages(),Registration.getMediasOptions(),Presentations.buildPresentationSelects($("#presentationControls .selectPresentation")),t=null,Socket.Send("Layout.GetMediasFromSource",null,{client:["client","display"]}),writeDbLog("UPLOADSETTINGS","submit"+(void 0!==e.id&&""!==e.id?" - "+e.id:""),"admin_logs")}}),$("#uploadsettings, #uploadsettings-details").toggle()})).on("click","#uploadsettings-details .close",(function(){$("#uploadsettings, #uploadsettings-details").toggle(),$("#uploadsettings-details form").find("input").val(""),writeDbLog("UPLOADSETTINGS","close","admin_logs")})).on("click","#uploadsettings-details .remove",(function(t){t.stopPropagation();var e=$(this).closest("form").find("[name=id]").val();null==e&&(e=this.dataset.id),Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeMedia",data:e},(function(t){writeDbLog("UPLOADSETTINGS","remove"+(void 0!==e?" - "+e:""),"admin_logs"),AppData.medias=t,o(),Settings.buildOptionsImages(),Registration.getMediasOptions(),Presentations.buildPresentationSelects($("#presentationControls .selectPresentation")),Socket.Send("Layout.GetMediasFromSource",null,{client:"client"}),e=t=null})),$("#uploadsettings-details").hide(),$("#uploadsettings").show(),Modal.alert("The media delete was successful.")}))})).on("click","#uploadsettings .uploadSettingsList .clipboard",(function(i){i.stopPropagation();let n,o,d,l,p,r,u=$(this).attr("data-id"),c=navigator.clipboard,g=$("#clipboardModal"),m=$(document.createDocumentFragment()),f=AppData.medias.filter((function(t){return t.id===u}));if(clearTimeout(t),void 0!==a&&a[0]===$(this)[0])return a=void 0,s(),!0;a=$(this),$.each(f[0].files,(function(t,e){n=$("<tr/>").on("click",(function(t){void 0!==c?(d="Copied",c.writeText(t.target.innerHTML).then((function(){writeDbLog("UPLOADSETTINGS","Copy to clipboard - "+t.target.innerHTML,"admin_logs")}),(function(){d="Failed",$("#clipboardModal").find(".msg").addClass("error")}))):(d="Clipboard is undefined",$("#clipboardModal").find(".msg").addClass("error")),a=void 0,$("#clipboardModal").find(".msg").removeClass("faster fadeOut").addClass("fadeIn").html(d).show(),setTimeout((function(){clearTimeout(),s(),a=void 0}),1200)})),o=$("<td/>"),o.html(window.location.protocol+"//"+window.location.hostname+e.file.substring(1)),o.appendTo(n),n.appendTo(m)})),g.find(".clipboardModalTable").html(m),p=$("#navbar").width(),l=a.offset(),e=g.width(),r=$("#preview").is(":visible")?$("#preview").width():0,g.attr("style","top: "+(l.top-($(document).width()>($("#preview").is(":visible")?1209:810)?0:15)-14)+"px; left: "+(l.left-p-e-r+5)+"px; display: block;").removeClass("faster fadeOut").addClass("fadeIn").show(),t=setTimeout((function(){clearTimeout(),s(),a=void 0}),8e3),g.show()})).on("click","#uploadsettings .actions .sync",l),{Init:function(){o(),Layout.addTabs("uploadsettings",i)},BuildFromSource:l}}();
var Urlsettings=function(){"use strict";var t=[{target:"settings",title:"Settings",active:!1},{target:"translations",title:"Languages",active:!1},{target:"modulsettings",title:"Module settings",active:!1},{target:"uploadsettings",title:"Uploads",active:!1},{target:"nativesettings",title:"Native settings",active:!1},{target:"urlsettings",title:"URL settings",active:!0},{target:"backups",title:"Backups",active:!1}],e=!0;function a(){$.each(AppData.urlsettings,(function(t,e){var a=$('form#formurlsettings [name="'+t+'"]');"boolean"==typeof e?a.prop("checked",e):a.val(String(e))})),e&&(e=!1,Layout.addTabs("urlsettings",t),$("#urlsettings").find(".validmailerror").html("").hide())}return $(document).on("change","form#formurlsettings input, form#formurlsettings select",(function(t){t.stopPropagation();var e=$(this).closest("form").serializeObject();a=$("#urlsettings").find(".sendermail").val(),/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)?$.post("api/",{do:"saveUrlSettings",data:JSON.stringify(e)},(function(t){AppData.urlsettings=t,$("#urlsettings").find(".validmailerror").html("").hide(),t=null})):$("#urlsettings").find(".validmailerror").html(AppData.languages.en.validmailerror).show();var a})),$(document).on("click","form#formurlsettings .set-google-tags",(function(){$.post("api/",{do:"setGoogleTags"},(function(t){"ok"==t.status?Modal.alert("Google tags has been set."):Modal.alert("Please provide a measurement id.")}))})),$(document).on("click","form#formurlsettings .remove-google-tags",(function(){$.post("api/",{do:"removeGoogleTags"},(function(t){Modal.alert("Google tags has been removed.")}))})),{Init:a,BuildFromSource:function(){$.post("api/",{do:"getModulSettings"},(function(t){AppData.modulsettings=t,a(),t=null}))}}}();
var Useful=function(){"use strict";var e=[{templateName:"title",name:"title"}];function t(){AppData.useful.sort((function(e,t){var a=Language.getTranslation(e.title,AppData.settings.lang),u=Language.getTranslation(t.title,AppData.settings.lang);return a.localeCompare(u)}))}function a(){t();var e=$(document.createDocumentFragment()),a=$("<tr/>"),u=AppData.useful?AppData.useful.length:0;$("<th/>").text("CĂ­m").appendTo(a),$("<th/>").text("TĂ­pus").appendTo(a),$("<th/>").text("FĂĄjlnĂŠv").appendTo(a),$("<th/>").text("FĂĄjlmĂŠret").addClass("text-right").appendTo(a),a.appendTo(e),$.each(AppData.useful,(function(t,a){var u,l,n=$("<tr/>");l=a,(u=n).attr("data-id",l.id).toggleClass("color-red",!1===l.visible),$("<td/>").text(Language.getTranslation(l.title,AppData.settings.lang)).attr("nowrap","nowrap").appendTo(u),$("<td/>").text(l.type).attr("nowrap","nowrap").appendTo(u),$("<td/>").text(l.filename).attr("nowrap","nowrap").appendTo(u),$("<td/>").text(Math.ceil(Number(l.filesize)/1024)+" KB").attr("nowrap","nowrap").addClass("text-right").appendTo(u),n.appendTo(e),n=null})),$("main#useful").find(".usefulTitle").text(u+" db dokumentum"),$("main#useful").find(".usefulList").html(e),e=a=u=null}function u(){Layout.buildLanguageTabs("#useful-details",e),$("#useful, #useful-details").toggle(),$("#useful-details #preview").hide(),$("#useful-details").find(".actions .remove").hide()}return $(document).on("click","#useful .usefulList tr[data-id]",(function(){var t=$("#useful-details"),a=this.dataset.id,u=AppData.useful.find((function(e){return e.id===a}));$.each(u,(function(e,a){t.find("[name="+e+"]").val(String(a)||"")})),$("#useful-details embed").attr("src","./pdfjs/web/viewer.html?file=../../upload/useful/"+u.filename),$("#useful-details").find(".actions .remove").show(),$("#useful-details #preview").show(),$("#useful, #useful-details").toggle(),Layout.buildLanguageTabs("#useful-details",e,u),t=a=u=null})).on("click","#useful-details .close",(function(){$("#useful, #useful-details").toggle(),$("#useful-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)})).on("click","#useful-details .remove",(function(e){e.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeUseful",data:t},(function(e){AppData.useful=e,Socket.Send("Useful.BuildFromSource",!0),a(),t=e=null})),$("#useful, #useful-details").toggle(),$("#useful-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)}))})).on("submit","#useful-details form",(function(e){e.preventDefault();var t=$(this).serializeObject(),u=!0;u=JSON.stringify(t)!==JSON.stringify(AppData.useful.find((function(e){return e.id===t.id})));var l=new FormData($(this).get(0));if(l.append("do","saveUseful"),$("#useful, #useful-details").toggle(),$("#useful-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0),!u)return t=u=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:l,success:function(e){AppData.useful=e,Socket.Send("Useful.BuildFromSource",!0),a(),t=u=e=null}})})),{Init:function(){$(document).on("click","main#useful .actions .new",u),t(),a(),delete Useful.Init},BuildFromSource:function(){$.post("api/",{do:"getUseful"},(function(e){AppData.useful=e,a(),e=null}))}}}();
var Userfields=function(){"use strict";var e=[{target:"users",title:"Users",active:!1},{target:"usergroups",title:"User groups",active:!1},{target:"speaker",title:"Speakers",active:!1},{target:"speakerlinks",title:"Speaker links",active:!1},{target:"userfields",title:"User fields",active:!0}],t=[{templateName:"label",name:"label"}],i={text:"Text",textarea:"Textarea",social:"Social links"};function a(){AppData.user_fields.sort((function(e,t){return void 0!==e.sort_id&&void 0!==t.sort_id?parseInt(e.sort_id)>parseInt(t.sort_id)?1:-1:0}))}function s(){a();var e=$(document.createDocumentFragment()),t=$("<tr/>"),s=AppData.user_fields?AppData.user_fields.length:0;$("<th/>").text("").appendTo(t),$("<th/>").text("Name").appendTo(t),$("<th/>").text("Type").appendTo(t),$("<th/>").text("Label").appendTo(t),$("<th/>").text("Required").appendTo(t),$("<th/>").text("Actions").appendTo(t),t.appendTo(e),$.each(AppData.user_fields,(function(t,a){var s,d,o=$("<tr/>");o.addClass("ddclassUserFields"),d=a,(s=o).attr("data-id",d.id),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(s),$("<td/>").text(d.field_name).attr("nowrap","nowrap").appendTo(s),$("<td/>").text(i[d.field_type]).attr("nowrap","nowrap").appendTo(s),$("<td/>").text(d.label[localState.lang]).attr("nowrap","nowrap").appendTo(s),$("<td/>").text(!0===d.field_required?"Yes":"No").attr("nowrap","nowrap").appendTo(s),$("<td/>").html('<button data-id="'+d.id+'" data-active="true"  class="btn activeUserFields'+(!0===d.is_active?" activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+d.id+'" data-active="false" class="btn activeUserFields'+(!1===d.is_active||void 0===d.is_active?" inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button><button data-id="'+d.id+'" data-showrow="1" class="btn showRow'+(d.showrow&&"1"===d.showrow?" activeBtn":"")+'" title="First row">1</button><button data-id="'+d.id+'" data-showrow="2" class="btn showRow'+(d.showrow&&"2"===d.showrow?" activeBtn":"")+'" title="Second row">2</button>').appendTo(s),$("<td/>").text(d.name).attr("nowrap","nowrap").appendTo(s),o.appendTo(e),o=null})),$("main#userfields").find(".userFieldsTitle").text(s+" fields(s)"),$("main#userfields").find(".userFieldsList").html(e),e=t=s=null}function d(){$.post("api/",{do:"getUserFields"},(function(e){AppData.user_fields=e,a(),s(),e=null}))}return $(document).on("click","#userfields .userFieldsList tr[data-id]",(function(){var e=$("#userfields-details"),i=this.dataset.id,a=AppData.user_fields.find((function(e){return e.id===i}));Layout.buildLanguageTabs("#userfields-details",t,a),$.each(a,(function(t,i){e.find("[name="+t+"]").val(String(i)||""),"boolean"==typeof i?e.find('[name="'+t+'"]').prop("checked",i):e.find('[name="'+t+'"]').val(String(i)||"")})),$("#userfields, #userfields-details").toggle(),$("#userfields-details").find(".actions .remove").show(),writeDbLog("USEFIELDS","modify"+(void 0!==i?" - "+i:""),"admin_logs"),e=i=a=null})).on("click","#userfields .actions .new",(function(){Layout.buildLanguageTabs("#userfields-details",t);var e=$("#userfields-details");$("#userfields").hide(),e.show(),e.find(".actions .remove").hide(),e.find("form").find("input").val(""),e.find("form").find("[name=field_translated]").prop("checked",!1),e.find("form").find("[name=field_required]").prop("checked",!1),e.find("form").find("[name=is_active]").prop("checked",!0);var i=$.map($(AppData.user_fields),(function(e,t){return parseInt(e.sort_id)}));e.find("form").find("[name=sort_id]").val((i.length>0?Math.max.apply(null,i):0)+1),writeDbLog("USERFIELDS","new","admin_logs"),e=null})).on("click","#userfields-details .close",(function(){$("#userfields, #userfields-details").toggle(),$("#userfields-details form").find("input").val(""),$("#userfields-details form").find("[name=field_type]").val("text"),writeDbLog("USERFIELDS","close","admin_logs")})).on("click","#userfields-details .remove",(function(e){e.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("USERFIELDS","remove"+(void 0!==t?" - "+t:""),"admin_logs"),$.post("api/",{do:"removeUserField",id:t},(function(e){AppData.user_fields=e,Socket.Send("Profile.update",!0),Socket.Send("Attendees.BuildFromSource",!0),Socket.Send("Speakers.BuildFromSource",!0);let i,a=document.getElementsByClassName("tab_userimport");for(i=0;i<a.length;i++)a[i].remove();Userimport.Init(),Userimport.flushExcel(),s(),t=e=null})),$("#userfields, #userfields-details").toggle(),$("#userfields-details form").find("input").val(""),$("#userfields-details form").find("[name=field_type]").val("text")}))})).on("click","#userfields-details .userfield-icon",(function(){icongrid.modalIconGridShow("#userfields-details",".userfield-icon")})).on("click","#userfields .userFieldsList button.activeUserFields",(function(e){e.stopPropagation();var t=new FormData;t.append("do","updateUserFieldsActive"),t.append("id",this.dataset.id),t.append("active",this.dataset.active),writeDbLog("USERFIELDS","activeUserFields - "+this.dataset.id+" - "+this.dataset.active,"admin_logs"),$.ajax({url:"api/",data:t,type:"post",dataType:"json",cache:!1,contentType:!1,processData:!1,success:function(e){AppData.user_fields=e,d(),Socket.Send("Profile.update",!0),Socket.Send("Attendees.BuildFromSource",!0),Socket.Send("Speakers.BuildFromSource",!0);let t,i=document.getElementsByClassName("tab_userimport");for(t=0;t<i.length;t++)i[t].remove();Userimport.Init(),Userimport.flushExcel()}})})).on("click","#userfields .userFieldsList button.showRow",(function(e){e.stopPropagation();var t=new FormData;t.append("do","updateShowRow"),t.append("id",this.dataset.id),t.append("showrow",this.dataset.showrow),writeDbLog("USERFIELDS","updateShowRow - "+this.dataset.id+" - "+this.dataset.active,"admin_logs"),$.ajax({url:"api/",data:t,type:"post",dataType:"json",cache:!1,contentType:!1,processData:!1,success:function(e){AppData.user_fields=e,d(),Socket.Send("Attendees.BuildFromSource",!0),Socket.Send("Speakers.BuildFromSource",!0)}})})).on("submit","#userfields-details form",(function(e){e.preventDefault();var t=$(this).serializeObject();JSON.stringify(t),JSON.stringify(AppData.user_fields.find((function(e){return e.id===t.id})));var i=$(this).serialize();i+="&do=saveUserField",writeDbLog("USERFIELDS","submit"+(void 0!==t.id&&""!==t.id?" - "+t.id:""),"admin_logs"),$.ajax({method:"post",url:"api/",data:i,success:function(e){AppData.user_fields=e,s(),Socket.Send("Profile.update",!0),Socket.Send("Attendees.BuildFromSource",!0),Socket.Send("Speakers.BuildFromSource",!0);let t,i=document.getElementsByClassName("tab_userimport");for(t=0;t<i.length;t++)i[t].remove();Userimport.Init(),Userimport.flushExcel(),$("#userfields, #userfields-details").toggle(),$("#userfields-details form").find("input, select").val(""),$("#userfields-details form").find("input").val(""),$("#userfields-details form").find("[name=field_type]").val("text")}})})),{Init:function(){s(),Layout.addTabs("userfields",e);var t={container:".userFieldsList",rowcontainer:".ddclassUserFields",dbname:"user_fields",socketupdate:"Profile.update",callback:function(e){d(),Socket.Send("Attendees.BuildFromSource",!0),Socket.Send("Speakers.BuildFromSource",!0)},type:"db"};DragAndDrop.Init(t)},renderList:s,BuildFromSource:d}}();
var Usergroups=function(){"use strict";var e=[{target:"users",title:"Users",active:!1},{target:"usergroups",title:"User groups",active:!0},{target:"speaker",title:"Speakers",active:!1},{target:"speakerlinks",title:"Speaker links",active:!1},{target:"userfields",title:"User fields",active:!1}],r=[{templateName:"label",name:"label"},{templateName:"description",name:"description"}];function t(){AppData.user_groups.sort((function(e,r){return void 0!==e.sort_id&&void 0!==r.sort_id?parseInt(e.sort_id)>parseInt(r.sort_id)?1:-1:0}))}function s(){t();var e=$(document.createDocumentFragment()),r=$("<tr/>"),s=AppData.user_groups?AppData.user_groups.length:0;$("<th/>").text("").appendTo(r),$("<th/>").text("Name").appendTo(r),$("<th/>").text("Description").appendTo(r),r.appendTo(e),$.each(AppData.user_groups,(function(r,t){var s,a,o=$("<tr/>");o.addClass("ddclassUsergroups"),a=t,(s=o).attr("data-id",a.id),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(s),$("<td/>").text(a.label[localState.lang]).attr("nowrap","nowrap").appendTo(s),$("<td/>").text(a.description[localState.lang]).attr("nowrap","nowrap").appendTo(s),o.appendTo(e),o=null})),$("main#usergroups").find(".userGroupsTitle").text(s+" group(s)"),$("main#usergroups").find(".userGroupsList").html(e),e=r=s=null}return $(document).on("click","#usergroups .userGroupsList tr[data-id]",(function(){var e=$("#usergroups-details"),t=this.dataset.id,s=AppData.user_groups.find((function(e){return e.id===t}));Layout.buildLanguageTabs("#usergroups-details",r,s),$.each(s,(function(r,t){e.find("[name="+r+"]").val(String(t)||"")})),$("#usergroups, #usergroups-details").toggle(),$("#usergroups-details").find(".actions .remove").show(),writeDbLog("USERGROUPS","modify"+(void 0!==t?" - "+t:""),"admin_logs"),e=t=s=null})).on("click","#usergroups .actions .new",(function(){Layout.buildLanguageTabs("#usergroups-details",r);var e=$("#usergroups-details");$("#usergroups, #usergroups-details").toggle(),$("#usergroups-details").find(".actions .remove").hide(),e.find("form").find("input").val("");var t=$.map($(AppData.user_groups),(function(e,r){return parseInt(e.sort_id)}));e.find("form").find("[name=sort_id]").val(Math.max.apply(null,t)+1),writeDbLog("USERGROUPS","new","admin_logs"),e=null})).on("click","#usergroups-details .close",(function(){$("#usergroups, #usergroups-details").toggle(),$("#usergroups-details form").find("input").val(""),writeDbLog("USERGROUPS","close","admin_logs")})).on("click","#usergroups-details .remove",(function(e){e.preventDefault();var r=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("USERGROUPS","remove"+(void 0!==r?" - "+r:""),"admin_logs"),$.post("api/",{do:"removeUserGroup",id:r},(function(e){AppData.user_groups=e,s(),Users.buildFilterGroupSelect(),r=e=null})),$("#usergroups, #usergroups-details").toggle(),$("#usergroups-details form").find("input").val("")}))})).on("submit","#usergroups-details form",(function(e){e.preventDefault();var r=$(this).serializeObject();JSON.stringify(r),JSON.stringify(AppData.user_groups.find((function(e){return e.id===r.id})));var t=$(this).serialize();t+="&do=saveUserGroup",writeDbLog("USERGROUPS","submit"+(void 0!==r.id&&""!==r.id?" - "+r.id:""),"admin_logs"),$.ajax({method:"post",url:"api/",data:t,success:function(e){AppData.user_groups=e,s(),$("#usergroups, #usergroups-details").toggle(),$("#usergroups-details form").find("input, select").val(""),Users.buildFilterGroupSelect()}})})),{Init:function(){s(),Layout.addTabs("usergroups",e),DragAndDrop.Init({container:".userGroupsList",rowcontainer:".ddclassUsergroups",dbname:"user_groups",socketupdate:"Usergroups.updateGroups",type:"db"})},renderList:s,BuildFromSource:function(){$.post("api/",{do:"getUserGroups"},(function(e){AppData.user_groups=e,t(),s(),e=null}))}}}();
var Userimport=function(){"use strict";var e=null,t=[{target:"users",title:"Users",active:!1},{target:"speaker",title:"Speakers",active:!1},{target:"usergroups",title:"User groups",active:!1},{target:"userfields",title:"User fields",active:!1},{target:"userimport",title:"User import",active:!0}];return $(document).on("click","#userimport .add",(function(){return e.insertRow(10)})).on("click","#userimport .download",(function(e){e.stopPropagation(),writeDbLog("USERS","export user data","admin_logs"),window.open("api/?do=exportData")})).on("click","#userimport .save",(function(){let t=document.getElementById("excel_user_data");t.value=JSON.stringify(e.getData(0));var a={};a.excel=t.value,a.translations=AppData.translations,a.user_fields=AppData.user_fields;let i=[];for(const[e,t]of Object.entries(AppData.user_groups))i.push(t.group_name);a.categories=i,a.do="saveUserImport",Modal.alert("Please wait..."),$.ajax({method:"post",url:"api/",data:a,success:function(t){!1===t.errors?(e.setData([["","","","1","0","0","0","0","1","","","","",""]]),Socket.Send("Attendees.BuildFromSource",!0),Socket.Send("Speakers.BuildFromSource",!0),Socket.Send("Users.BuildFromSource",!0,{group:"admin"}),Speaker.BuildFromSource(),Users.BuildFromSource(),Modal.alert("Import completed successfully!")):Modal.alert(t.message)}})})),{Init:function(){Layout.addTabs("userimport",t);var a=function(){let e=null;return $.ajax({async:!1,global:!1,url:"./data/live/users_import.json",dataType:"json",success:function(t){e=t}}),e}();a[3].source="";for(const[e,t]of Object.entries(AppData.translations))if(!0===t.active){let e=t.translation_id;a.push({type:"text",title:"["+e.toUpperCase()+"] Name ",width:140,field:"name_"+t.translation_id,field_type:"optional"}),a.push({type:"text",title:"["+e.toUpperCase()+"] First name ",width:140,field:"first_name_"+t.translation_id,field_type:"optional"}),a.push({type:"text",title:"["+e.toUpperCase()+"] Last name ",width:140,field:"last_name_"+t.translation_id,field_type:"optional"})}for(const[e,t]of Object.entries(AppData.user_fields))if(!0===t.is_active)if(!1===t.field_translated)a.push({type:"text",title:t.field_name,width:140,field:t.field_name,field_type:!0===t.field_required?"required":"optional"});else for(const[e,i]of Object.entries(AppData.translations))!0===i.active&&a.push({type:"text",title:t.field_name+i.translation_id,width:140,field:t.field_name+"_"+i.translation_id,field_type:!0===t.field_required?"required":"optional"});let i={csvHeaders:!1,tableOverflow:!0,lazyLoading:!1,loadingSpin:!0,data:[["","","","1","0","0","0","0","1","","","","",""]],columns:a,nestedHeaders:[[{title:"<b>Required fields</b>",colspan:"10"},{title:"<b>Other fields</b>",colspan:Object.keys(a).length-10}]],columnDrag:!0,tableWidth:"100%",freezeColumns:1,minDimensions:[11,100],license:"NzgxYmJlMDkzNGNiNGYwZjBmYjZkMzMyYWRlZmM2MjdhZjRmNzNmNzdhMTc2NDY5ODliYWZiYTAwZDQyN2EwMzU5NzA2MzcyYmJlODVhMGMzYmM4OTg3NDM5MmJhOGU3ZmI2NTJiYjI2OWJhODVhNGI5ZDU3M2MwMjQ3ZjE0MzUsZXlKdVlXMWxJam9pV25OdmJIUWdTMmx6Y3lBdElFTlBUVkJQUmtaSlEwVXRVaUJMUmxRaUxDSmtZWFJsSWpveE5qWTNPVFV5TURBd0xDSmtiMjFoYVc0aU9sc2laWFpsYm5SamJHOTFaQzVvZFNJc0lteHZZMkZzYUc5emRDSmRMQ0p3YkdGdUlqb2lNU0lzSW5OamIzQmxJanBiSW5ZM0lpd2lkamdpWFgwPQ=="};e=jspreadsheet(document.getElementById("spreadsheet"),i)},flushExcel:function(){e.deleteWorksheet(0)}}}();
var Users=function(){"use strict";var e,t,a=[{target:"users",title:"Users",active:!0},{target:"usergroups",title:"User groups",active:!1},{target:"speaker",title:"Speakers",active:!1},{target:"speakerlinks",title:"Speaker links",active:!1},{target:"userfields",title:"User fields",active:!1}],s=[{templateName:"givenname",name:"givenname"},{templateName:"surname",name:"surname"},{templateName:"slogen",name:"slogen"},{templateName:"job",name:"job"},{templateName:"position",name:"position"},{templateName:"post",name:"post"},{templateName:"company",name:"company"},{templateName:"department",name:"department"},{templateName:"university",name:"university"},{templateName:"skill",name:"skill"},{templateName:"degree[]",name:"degree"},{templateName:"professionaldegree",name:"professionaldegree"},{templateName:"companytype",name:"companytype"},{templateName:"city",name:"city"},{templateName:"postalcode",name:"postalcode"},{templateName:"address",name:"address"},{templateName:"usercount[]",name:"usercount"},{templateName:"hostcount[]",name:"hostcount"},{templateName:"goal",name:"goal"},{templateName:"wherehear[]",name:"wherehear"},{templateName:"attended[]",name:"attended"},{templateName:"registrationday[]",name:"registrationday"},{templateName:"solutions[]",name:"solutions"},{templateName:"bio",name:"bio"}],n=!1;function r(e){var t=e||AppData.users,a=$(document.createDocumentFragment()),s=$("<tr/>"),n=$("<thead/>"),r=$("<tbody/>"),o=t?t.length:0;$("<th/>").html('<input type="checkbox" class="toggle_user_selects">').appendTo(s),$("<th/>").text("Image").appendTo(s),$("<th/>").text("ID").appendTo(s),$("<th/>").text("Name").appendTo(s),$("<th/>").text("Type").appendTo(s),$("<th/>").text("Email").appendTo(s),$("<th/>").text("Reg. date").appendTo(s),$("<th/>").text("Actions").appendTo(s),s.appendTo(n),n.appendTo(a),$.each(t,(function(e,t){var a=$("<tr/>").addClass("sortitem");!function(e,t){var a=null==t.active||t.active;e.attr("data-hash",t.hash),e.attr("data-id",t.id).toggleClass("color-red",!a);var s=$("<img>",{alt:t.name[AppData.settings.lang],src:"img/profile-picture-placeholder.png","data-lazy":t.img?"upload/users/"+t.img:"img/profile-picture-placeholder.png"});s.addClass("lazy"),$("<td/>").addClass("no_click").html('<input type="checkbox" name="user_'+t.id+'" class="select_user">').appendTo(e),$("<td/>").html(s).appendTo(e),$("<td/>").text(t.id).appendTo(e),$("<td/>").text(t.name[AppData.settings.lang]).appendTo(e),$("<td/>").text(Language.getItem("user-"+t.group)).appendTo(e),$("<td/>").text(t.email).appendTo(e),$("<td/>").text(t.registration_date).appendTo(e),$("<td/>").addClass("no_click").html(("attendee"==t.group||"speaker"==t.group?'<button data-id="'+t.id+'" data-utype="'+t.group+'" data-id="'+t.id+'" data-hash="'+t.hash+'" class="btn copyToClipboard" style="cursor: pointer;" title="Copy link"><i class="fa fa-share"></i></button> ':"")+'<button data-id="'+t.id+'" data-active="true" class="btn activeUser" style="'+(1==t.active?"color: #0f0; cursor: pointer;":"cursor: pointer;")+'" title="Active"><i class="fa fa-check"></i></button> <button data-id="'+t.id+'" data-active="false" class="btn inactiveUser" style="'+(0==t.active?"color: #f00; cursor: pointer;":"cursor: pointer;")+'" title="Inactive"><i class="fa fa-ban"></i></button> <button data-id="'+t.id+'" class="btn resendConfirm" title="Resend Confirm"><i class="fas fa-envelope"></i></button> <button data-id="'+t.id+'" class="btn refreshUser" title="Refresh"><i class="fas fa-redo-alt"></i></button> <button data-id="'+t.id+'" class="btn stopStream" title="Stop stream"><i class="fas fa-eye-slash"></i></button> <button data-id="'+t.id+'" class="btn cloneUser" title="Clone user"><i class="fas fa-clone"></i></button> <button data-id="'+t.id+'" class="btn logOutUser" title="Log out"><i class="fas fa-sign-out-alt"></i></button> ').attr("nowrap","nowrap").appendTo(e),s=null}(a,t),a.appendTo(r),a=null})),r.appendTo(a),$("main#users").find(".usersTitle").text(o+" user(s)"),$("main#users").find(".usersList").html(a);var i=[].slice.call(document.querySelectorAll("img.lazy"));if("IntersectionObserver"in window){var l=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){let t=e.target;t.src=t.dataset.lazy,t.classList.remove("lazy"),l.unobserve(t)}}))}));i.forEach((function(e){l.observe(e)}))}$("#usersList").DataTable({destroy:!0,pageLength:50,drawCallback:function(e){$("#users #usersList .select_user").prop("checked",!1);for(let e of C)$("#users #usersList .select_user[name='user_"+e+"']").prop("checked",!0)}}),a=s=o=null}function o(){var e=$(this);e.addClass("disabled").find("i.fa").addClass("fa-spin"),$.post("api/",{do:"getAllUsersPoints"},(function(){i(),e.removeClass("disabled").find("i.fa").removeClass("fa-spin")}))}function i(e){$.post("api/",{do:"getUsers"},(function(t){AppData.users=t,w(),t=null,void 0!==e&&"function"==typeof e&&e()}))}function l(e=""){var t,a=$("#users-details");"object"==typeof e&&(e=this.closest("tr").dataset.id),t=AppData.users.find((function(t){return t.id===e})),m(),f(),g(),h(),k(),p(),$("#users-details .passwd input").prop("disabled",!0),$("#users-details .passwd").hide(),Layout.buildLanguageTabs("#users-details",s,t),d(t),$.each(t,(function(e,t){var s=a.find("[name="+e+"]");"rooms"==e&&(s=a.find('[name="'+e+'[]"]'));var n="";n=Array.isArray(t)?t||"":String(t)||"","is_speaker"==e?($("#users-details .in_speaker_checks :checkbox").prop("checked",!1),$("#users-details .in_speaker_checks :checkbox").filter((function(){return $.inArray(this.value,t)>=0})).prop("checked",!0)):s.val(n)})),t.poster_image?(a.find(".image_name").html(t.poster_image),a.find(".uploaded_image").show()):a.find(".uploaded_image").hide(),a.find("img.avatar").attr("src",t.img?"upload/users/"+t.img+"?r="+Math.random():"img/profile-picture-placeholder.png"),a.find("select").trigger("change"),$("#users, #users-details").toggle(),$("#users-details").find(".actions .remove").show(),$("#users-details").find(".userAvatar").show(),setReqOnFieldsByLang("users",s),c(t),writeDbLog("USERS","modify"+(void 0!==e?" - "+e:""),"admin_logs"),a=e=t=null}function d(e){AppData.user_fields.sort((function(e,t){return void 0!==e.sort_id&&void 0!==t.sort_id?parseInt(e.sort_id)>parseInt(t.sort_id)?1:-1:0}));var t=AppData.user_fields.filter((function(e){return!0===e.is_active}));$("#users-details .user_fields").html(""),$.each(t,(function(t,a){a.field_translated?$.each(AppData.translations,(function(t,s){u(e,a,s)})):u(e,a)}))}function u(e,t,a){let s,n,r;if(s=$("<fieldset/>"),r=$("<legend/>"),r.html(t.label.en),s.append(r),void 0!==t.field_type)if("textarea"===t.field_type)n=$("<textarea/>"),n.attr("rows","10").attr("autocapitalize","sentences");else n=$("<input/>"),n.attr("type","text");t.field_required&&n.attr("required","true"),t.field_translated?(n.attr("name","values["+t.field_name+"]["+a.translation_id+"]").attr("spellcheck","true"),e&&e.values&&e.values[t.field_name]&&n.val(e.values[t.field_name].title[a.translation_id]),s.append(n),$("#users-details .translation_fields .lang_"+a.translation_id+" section:first-child").append(s)):(n.attr("name","values["+t.field_name+"]").attr("spellcheck","true"),e&&e.values&&e.values[t.field_name]&&n.val(e.values[t.field_name].title),s.append(n),$("#users-details .user_fields").append(s))}function c(t,a){let s,n,r,o,i=$("#users-details .custom_user_menu");i.html(""),$.each(AppData.navigation,(function(l,d){r=e.clone(),r.find(".menu_name").html(d.name[localState.lang]),r.find(".menu_field").attr("name","menus[]").val(d.id),s=AppData.navigation.filter((function(e){return e.group.indexOf(t?t.group:a)>-1})),o=s.filter((function(e){return e.id===d.id})),t?(n=t.menus.filter((function(e){return e.id===d.id})),r.find(".menu_field").prop("checked",n.length?"1"===n[0].show:o.length)):""!==a&&r.find(".menu_field").prop("checked",o.length),r.appendTo(i)})),$("#users-details").find(".custom_user_menu_container").show()}function p(){var e=$(document.createDocumentFragment()),t=$(document.createDocumentFragment());$.each(AppData.translations,(function(a,s){var n=$("<option/>",{value:s.translation_id,text:s.translation_name});n.appendTo(e),n.clone().appendTo(t)})),$('#users-details select[name="user_lang"]').html(e),$('#users-details select[name="display_lang"]').html(t)}function m(){var e=$(document.createDocumentFragment()),a=$(document.createDocumentFragment()),s=$(document.createDocumentFragment()),n=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(n),$("#default-channel-filter").html(""),$.each(AppData.channels,(function(r,o){var i=$("<option/>",{value:o.channel,text:o.channel.toUpperCase()+": "+Language.getTranslation(o.name,AppData.settings.lang)+" | "+o.admin_name});i.appendTo(e),i.clone().appendTo(a),i.clone().appendTo(s),i.clone().appendTo(n);var l=t.clone();l.find("input").attr("id","filter-defchannel-"+o.channel).attr("value",o.channel),l.find("label").attr("for","filter-defchannel-"+o.channel).html(Language.getTranslation(o.name,AppData.settings.lang)),l.appendTo($("#default-channel-filter"))})),$('#users-details select[name="rooms"]').html(e),$('#users-details select[name="default_channel"]').html(a),$('#users .bulk_actions_container select[name="default_channel"]').html(n),$("#users-details #push_user_to_channel").html(s)}function f(){var e=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(e),$.each(AppData.sponsors,(function(t,a){$("<option/>",{value:a.id,text:a.name[localState.lang]}).appendTo(e)})),$('#users-details select[name="sponsor"]').html(e)}function g(){var e=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(e),$.each(AppData.countries,(function(t,a){$("<option/>",{value:a.id,text:a.name}).appendTo(e)})),$('#users-details select[name="nationality"]').html(e)}function h(){var e=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(e),$.each(AppData.user_groups,(function(t,a){$("<option/>",{value:a.group_name,text:a.label[localState.lang]}).appendTo(e)})),$('#users-details select[name="group"]').html(e)}function _(){var e=$(document.createDocumentFragment());$("<option/>",{value:"all",text:"All"}).appendTo(e),$.each(AppData.user_groups,(function(t,a){$("<option/>",{value:a.group_name,text:a.label[localState.lang]}).appendTo(e)})),$('#users .modal-content-filter select[name="group[]"]').html(e)}function v(){var e=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(e),$.each(AppData.email_target_groups,(function(t,a){$("<option/>",{value:a.id,text:a.title}).appendTo(e)})),$('#users .modal-content-filter .add_to_target_group select[name="target_group_id"]').html(e)}function k(){var e=$(document.createDocumentFragment());$("<option/>",{value:"",text:"--"}).appendTo(e),$.each(AppData.trueconf,(function(t,a){$("<option/>",{value:a.id,text:a.title[localState.lang]}).appendTo(e)}));let t=e.clone();$("#users .bulk_actions_container select.ulist_tc_roomlist").html(t),$("#users-details select#tc_roomlist").html(e)}function b(e){e.stopPropagation();let t=e.data,a=[];t.bulk?a=C:a.push(this.dataset.id),Modal.confirm("Are you sure you want to log out the user?",(function(){writeDbLog("USERS","logout user"+(void 0!==a?" - "+a:""),"admin_logs"),Socket.Send("forceLogOut",{},{uid:a}),C=[],$("#usersList").DataTable().draw()}))}function S(e){e.stopPropagation();let t=e.data,a=[];t.bulk?a=C:a.push(this.dataset.id),Modal.confirm("Are you sure you want to refresh the user?",(function(){writeDbLog("USERS","refresh user"+(void 0!==a?" - "+a:""),"admin_logs"),Socket.Send("forceReload",{},{uid:a}),C=[],$("#usersList").DataTable().draw()}))}function y(e){e.stopPropagation();var t=new FormData;let a=[];e.data.bulk?a=C:a.push(this.dataset.id),t.append("do","updateUserActive"),t.append("id",a),t.append("active",this.dataset.active),writeDbLog("USERS","active"+(void 0!==a?" - "+a:"")+(void 0!==this.dataset.active?" - "+this.dataset.active:""),"admin_logs"),$.ajax({url:"api/",dataType:"json",cache:!1,contentType:!1,processData:!1,data:t,type:"post",success:function(e){i(),Socket.Send("refreshModule",{module:["Attendees"],appdata:"attendees",data:e.attendees,callback:["UpdateModule"],use_lang:!0},{client:["client"]}),Socket.Send("refreshModule",{module:["Speakers"],appdata:"speakers",data:e.speakers,callback:["UpdateModule"],use_lang:!1},{client:["client"]}),C=[],$("#usersList").DataTable().draw(),Socket.Send("Chat.BuildFromSource",!0,{client:"client"})},error:function(e){Modal.alert("Hiba: "+e)}})}function D(e){i(),Socket.Send("Profile.BuildFromSource",e.img,{uid:e.id})}function T(){$("#filterform").get(0).reset(),w(!0)}function w(e){let t=new FormData($("#filterform").get(0));t.append("do","filterUsers"),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:t,success:function(t){r(t),AppData.filtered_users=t,$(".load_to_excel_btn").removeClass("hidden"),!0===e?$("#users .modal-content-filter .add_to_target_group").hide():$("#users .modal-content-filter .add_to_target_group").show()}})}function A(e){e.preventDefault(),e.stopPropagation()}function U(e){let t,a=[];e.data.bulk?(t=$("#users .bulk_actions_container .channel_list").val(),a=C):(t=$("#users-details #push_user_to_channel").val(),a.push($("#users-details input[name=id]").val())),Socket.Send("Channels.setChannel",t,{uid:a}),writeDbLog("USERS","push user to channel"+(void 0!==t?" - channel: "+t:"")+(void 0!==a?" - user: "+a:""),"admin_logs"),Modal.alert("Success.",(function(){C=[],$("#usersList").DataTable().draw()}))}function x(e){let t,a,s,n,r=[];if(e.data.bulk?(t=$("#users .bulk_actions_container .ulist_tc_roomlist").val(),a=$("#users .bulk_actions_container .ulist_tc_server").val(),s=$("#users .bulk_actions_container .tc_room_name").val(),r=C):(t=$("#users-details #tc_roomlist").val(),a=$("#users-details #tc_server").val(),s=$("#users-details .tc_room_name").val(),r.push($("#users-details input[name=id]").val())),""!=r){if(""!=t){let e=AppData.trueconf.find((function(e){return e.id==t}));if(e)return n=e.trueconf_room,Socket.Send("Trueconf.pushTcRoom",n,{uid:r}),void Modal.alert("Success.",(function(){C=[],$("#usersList").DataTable().draw()}))}""!=s?(s=s.replace("\\c\\",""),s=s.replace("/c/",""),n=a+"/c/"+s,Socket.Send("Trueconf.pushTcRoom",n,{uid:r}),Modal.alert("Success.",(function(){$("#users #usersList .select_user").prop("checked",!1),$("#users #usersList .toggle_user_selects").prop("checked",!1)})),writeDbLog("USERS","push user to TC room"+(void 0!==s?" - room: "+s:"")+(void 0!==r?" - uid: "+user:""),"admin_logs")):Modal.alert("Please provide a room name or select a room.")}else Modal.alert("No user id.")}function L(){writeDbLog("USERS","user login export","admin_logs"),window.open("api/?do=userLoginExport&rca=master")}$(document).on("click","#uploadFileCSV",(function(){var e=new FormData;e.append("do","importUserImportFile"),e.append("filename",$("#fileCSV").prop("files")[0]),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:e,type:"post",success:function(e){$("#msg").html(""),$(".modalImportUsers").hide(),o(),Socket.Send("Attendees.BuildFromSource",!0),Socket.Send("Speakers.BuildFromSource",!0),Modal.alert("Import was successful."),writeDbLog("USERS","import users","admin_logs")},error:function(e){$("#msg").html("Error in import: "+e.statusText+".")}})})),$(document).on("change","#fileCSV",(function(){null!=$("#fileCSV").prop("files")[0]?$("#msg").html("Selected file: "+$("#fileCSV").prop("files")[0].name):$("#msg").html("")}));let F=!1,C=[];function M(e){let t,a;e.preventDefault(),-1===$.inArray("generate_qr_code_hash",e.currentTarget.classList)?(t="hash",a=$("#users-details").find(".login_hash_field").val()):(t="qrcode",a=$("#users-details").find(".qrcode_hash_field").val()),$.post("api/",{do:"generateHash",data:{field:t,length:a}},(function(e){"hash"===e.field?$("#users-details").find("#hash").val(e.code):$("#users-details").find("#qrcode").val(e.code)}))}function E(e){if(8!=e.which&&0!=e.which&&(e.which<48||e.which>57))return!1}function R(e){e.stopPropagation();let t=e.data,a=[];t.bulk?a=C:a.push(this.dataset.id),Modal.confirm("Are you sure you want to stop the stream?",(function(){writeDbLog("USERS","stop stream user"+(void 0!==a?" - "+a:""),"admin_logs"),Socket.Send("Broadcast.stopVideoStream",{},{uid:a}),C=[],$("#usersList").DataTable().draw()}))}return $(document).on("keypress",".qrcode_hash_field",E).on("keypress",".login_hash_field",E).on("input","#users .search input",(function(){var e=new RegExp(strCanonical(this.value),"i");$(this).siblings(".btn-clear").css("visibility",""===this.value?"hidden":"visible"),$("#users .usersList tr[data-id]").each((function(t,a){$(a).toggle(e.test(strCanonical($(a).text().split(" ").join(""))))}))})).on("click","#users .search .btn-clear",(function(){$(this).siblings("input").val("").trigger("input")})).on("click",'#users .usersList td:not("no_click")',l).on("click","#users .usersList .select_user",(function(e){e.stopPropagation();let t=$(this).closest("tr").attr("data-id"),a=C.indexOf(t);$(this).prop("checked")?-1==a&&C.push(t):a>-1&&C.splice(a,1),console.log(C)})).on("click","#users .usersList .toggle_user_selects",(function(e){e.stopPropagation(),$("#users .usersList .select_user").prop("checked",$(this).prop("checked"))})).on("click","#users .actions .new",(function(){var e=$("#users-details");$("#users, #users-details").toggle(),e.find(".actions .remove").hide(),e.find(".userAvatar").hide(),e.find(".uploaded_image").hide(),$("#users-details .passwd input").prop("disabled",!1),$("#users-details .passwd").show(),m(),f(),g(),h(),k(),p(),e.find("form").find("select, textarea").val("").filter("select").prop("selectedIndex",0),e.find("form").find("input").not(":checkbox").val(""),e.find("select").trigger("change"),e.find("[name=qrcode_hash_length]").val("8"),e.find("[name=login_hash_length]").val("8"),$("#users-details .in_speaker_checks :checkbox").prop("checked",!1),Layout.buildLanguageTabs("#users-details",s),setReqOnFieldsByLang("users",s),d(),writeDbLog("USERS","new","admin_logs"),e=null})).on("click","#users .actions .sync",o).on("click","#users .actions .importusers",(function(){$(".close-btn").on("click",(function(){$(".modalImportUsers").hide()})),$(".modalImportUsers").show(),$("#msg").html("")})).on("click","#users .actions .exportusers",(function(e){e.stopPropagation(),writeDbLog("USERS","export user data","admin_logs"),window.open("api/?do=exportUsers")})).on("click","#users .actions .exportusernotes",(function(e){e.stopPropagation(),window.open("api/?do=exportUserNotes"),writeDbLog("USERS","export data","admin_logs")})).on("click","#users .actions .sendusernotes",(function(){if(!confirm("Are sure to send notes?"))return!1;Modal.alert("Mail has started."),$.post("api/",{do:"generatePdfAndSend"},(function(e){Modal.alert(e+" mail sent."),writeDbLog("USERS","send notes"+(void 0!==e?" - "+e:""),"admin_logs")}))})).on("click","#users .actions .sendbusinesscards",(function(){if(!confirm("Are sure to send busniess cards?"))return!1;$.post("api/",{do:"generateBusinessCardsPdfAndSend"},(function(e){Socket.Send("Attendees.updateRequestBusinessCard"),Socket.Send("Speakers.updateRequestBusinessCard"),Modal.alert(e+" mail sent."),writeDbLog("USERS","send business cards"+(void 0!==e?" - "+e:""),"admin_logs")}))})).on("click","#users .actions .userLoginExport",L).on("click","#users .actions .filters",(function(e){e.stopPropagation(),$(".modal-content-filter").is(":visible")?$(".modal-content-filter").hide():$(".modal-content-filter").show()})).on("click","#users .actions .bulk_actions",(function(){$(".bulk_actions_container").toggle()})).on("click","#users-details .generate_login_hash",M).on("click","#users-details .generate_qr_code_hash",M).on("click","#users-details .close",(function(){$("#users, #users-details").toggle(),$("#users-details form").find("select, textarea").val("").filter("select").prop("selectedIndex",0),$("#users-details form").find("input").not(":checkbox").val(""),writeDbLog("USERS","close","admin_logs")})).on("click","#users-details .remove",(function(){if(!confirm("Biztosan tĂśrlĂśd a rĂŠsztvevĹt?"))return!1;var e=$(this).closest("form").find("[name=id]").val();$.post("api/",{do:"removeUser",data:e},(function(t){writeDbLog("USERS","remove"+(void 0!==e?" - "+e:""),"admin_logs"),AppData.users=t.users,Socket.Send("refreshModule",{module:["Attendees"],appdata:"attendees",data:t.attendees,callback:["UpdateModule"],use_lang:!0},{client:["client"]}),Socket.Send("refreshModule",{module:["Speakers"],appdata:"speakers",data:t.speakers,callback:["UpdateModule"],use_lang:!1},{client:["client"]}),Socket.Send("Chat.BuildFromSource",!0,{client:"client"}),Speaker.BuildFromSource(),Socket.Send("Users.BuildFromSource",!0,{group:["admin"]}),w(),e=t=null})),$("#users, #users-details").toggle(),$("#users-details form").find("input, select, textarea").val("").filter("select").prop("selectedIndex",0)})).on("click","#users-details .user_logins",L).on("click","#users-details .user_logs",(function(e){let t=new FormData($("#users-details").find(".users-details-form").get(0));writeDbLog("USERS","user actions export by id: "+t.get("id"),"admin_logs"),window.open("api/?do=userLogsExport&id="+t.get("id")+"&lang="+localState.lang)})).on("change","#users-details .userCategory",(function(){var e=$(this).val();$("#users-details").find(".userRooms").closest("fieldset").toggleClass("hidden",!1),$("main#users-details").find("[name=slogan], [name=department], [name=university], [name=skill]").attr("disabled","speaker"!==e).closest("fieldset").toggleClass("hidden","speaker"!==e),$(".displayUserFields").toggle("display"===e),c(null,e)})).on("click","#users-details .image-upload",(function(){$(this).siblings("input[name=avatar]").trigger("click")})).on("click","#users-details .image-delete",(function(){if(!confirm("Are sure to delete the avatar?"))return!1;var e=$(this).closest("form").find("[name=id]").val();$.post("api/",{do:"removeAvatarUser",data:e},(function(t){$("main#users-details img.avatar").attr("src","img/profile-picture-placeholder.png"),i(),Socket.Send("Attendees.BuildFromSource",!0),Socket.Send("Speakers.BuildFromSource",!0),Speaker.BuildFromSource(),Socket.Send("Users.BuildFromSource",!0,{group:["admin"]}),Socket.Send("Profile.DeleteProfilePictures",!0),writeDbLog("USERS","remove avatar"+(void 0!==e?" - "+e:""),"admin_logs")}))})).on("click","#users-details .pushtochannel",{bulk:!1},U).on("click","#users-details .pushtoroom",{bulk:!1},x).on("click","#users .bulk_actions_container .bulk_pushtochannel",{bulk:!0},U).on("click","#users .bulk_actions_container .bulk_pushtoroom",{bulk:!0},x).on("change","#users-details form input[name=avatar]",(function(){if(this.files&&this.files[0]){let e=$(this).closest("form").find("[name=id]").val(),t=($(this).closest("form").find("[name=img]").val(),new FormData);t.append("do","uploadAvatarUser"),t.append("id",e),t.append("image",this.files[0]),$.ajax({url:"api/",type:"POST",data:t,contentType:!1,processData:!1,success:function(t){var a=$("main#users-details img.avatar");D({img:t,id:e}),Socket.Send("Attendees.updateAvatar",t),Socket.Send("Speakers.updateAvatar",t),Speaker.BuildFromSource(),Socket.Send("Users.updateAvatar",{img:t,id:e},"admin"),a.attr("src",t+"?r="+Math.random()),writeDbLog("USERS","upload avatar"+(void 0!==e?" - "+e:""),"admin_logs"),a=null}})}this.value=""})).on("click","#users .usersList button.copyToClipboard",(function(e){e.stopPropagation();var t=$(this).attr("data-utype");createShareUrl(t+"s",$(this).attr("data-id"),"users")})).on("click","#users .usersList button.activeUser",{bulk:!1},y).on("click","#users .usersList button.inactiveUser",{bulk:!1},y).on("click","#users .bulk_actions_container button.bulk_activeUser",{bulk:!0},y).on("click","#users .bulk_actions_container button.bulk_inactiveUser",{bulk:!0},y).on("click","#users .usersList button.logOutUser",{bulk:!1},b).on("click","#users .usersList button.refreshUser",{bulk:!1},S).on("click","#users .usersList button.resendConfirm",{bulk:!1},(function(e){e.stopPropagation();let t=this.dataset.id;Modal.confirm("Are you sure you want resend the email?",(function(){writeDbLog("USERS","resend confirm mail user"+(void 0!==t?" - "+t:""),"admin_logs"),$.ajax({method:"post",url:"api/",data:{do:"resendConfirm",uid:t},success:function(e){Modal.alert("Mail resent.")},error:function(){Modal.alert("Error.")}})}))})).on("click","#users .usersList button.stopStream",{bulk:!1},R).on("click","#users .usersList button.cloneUser",(function(e){A(e),$.post("api/",{do:"cloneUser",id:this.dataset.id},(function(e){AppData.users=e.users,l(e.id)}))})).on("click","#users .bulk_actions_container button.bulk_logOutUser",{bulk:!0},b).on("click","#users .bulk_actions_container button.bulk_refreshUser",{bulk:!0},S).on("click","#users .bulk_actions_container button.bulk_stopStream",{bulk:!0},R).on("click","#users .bulk_actions_container button.bulk_user_mod",(function(){let e=!1,t=new FormData($("#filterform").get(0));for(const a of t)("active"!=a[0]||"active"==a[0]&&"all"!=a[1])&&(e=!0);let a=$(".bulk_mod_user_type").val();var s,o;if("filtered"!=a||e){if(!n){n=!0,$("button.bulk_user_mod").html("Applying...");var i=new FormData($("#bulk_form").get(0));i.append("do","bulkModUser"),i.append("userids",C),i.append("apply_type",a);let e=$("#filterform").serialize().replaceAll("%5B%5D",""),t=(s=(e||location.search.slice(1)).split("&"),o={},s.forEach((function(e){var t=e.split("="),a=t[0],s=decodeURIComponent(t[1]||"");o[a]?"[object Array]"===Object.prototype.toString.call(o[a])?o[a].push(s):o[a]=[o[a],s]:o[a]=s})),JSON.stringify(o));i.append("filters",t),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:i,success:function(e){n=!1,AppData.users=e.users,"filtered"==a?r(e.filtered_users):r(),Socket.Send("refreshModule",{module:["Attendees"],appdata:"attendees",data:e.attendees,callback:["UpdateModule"],use_lang:!0},{client:["client"]}),Socket.Send("refreshModule",{module:["Speakers"],appdata:"speakers",data:e.speakers,callback:["UpdateModule"],use_lang:!1},{client:["client"]}),Socket.Send("Chat.BuildFromSource",!0,{client:"client"}),Socket.Send("Users.BuildFromSource",!0,{group:["admin"]}),C=[],$("#usersList").DataTable().draw(),$("button.bulk_user_mod").html("Apply"),Modal.alert("Success.")}})}}else Modal.alert("User list is not filtered, please filter users before bulk modification.")})).on("change","#users .bulk_actions_container .clear_is_speaker",(function(e){e.preventDefault(),$(this).prop("checked")&&$(".is_speaker").prop("checked",!1)})).on("change","#users .bulk_actions_container .is_speaker",(function(e){e.preventDefault(),$(this).prop("checked")&&$(".clear_is_speaker").prop("checked",!1)})).on("click","#users .modal-content-filter .filter_btn",w).on("click","#users .modal-content-filter .load_to_excel_btn",(function(e){let t,a=document.getElementsByClassName("tab_userimport");for(t=0;t<a.length;t++)a[t].remove();Userimport.Init(AppData.filtered_users),Userimport.flushExcel(),$("div[data-target='userimport']").click()})).on("click","#users .modal-content-filter .clear_filter_btn",T).on("click","#users .modal-content-filter .add_target_group_btn",(function(){if(!F){F=!0;let e=$("#users .modal-content-filter .add_to_target_group [name='target_group_id']").val();if(""==e)Modal.alert("Please select a target group"),F=!1;else{let t=new FormData($("#filterform").get(0));t.append("do","addUsersToTargetGroup"),t.append("target_group_id",e),t.append("add_type",$("#users .add_to_group_type").val());for(let e of C)t.append("selected_users[]",e);$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:t,success:function(e){F=!1,Modal.alert("Users successfully added."),$("#users .modal-content-filter .add_to_target_group [name='target_group_id']").val("")},error:function(){F=!1,Modal.alert("Error."),$("#users .modal-content-filter .add_to_target_group [name='target_group_id']").val("")}})}}})).on("click","#users .modal-content-filter .new_target_group_btn",(function(){if(!F){F=!0;let e=$("#users .modal-content-filter .add_to_target_group [name='new_target_group']").val();if(""==e)Modal.alert("Please provide a target group name"),F=!1;else{let t=new FormData($("#filterform").get(0));t.append("do","createAndAddUsersToTargetGroup"),t.append("new_group",e),t.append("add_type",$("#users .add_to_group_type").val());for(let e of C)t.append("selected_users[]",e);$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:t,success:function(e){F=!1,AppData.email_target_groups=e,Emailtargetgroups.BuildFromSource(),v(),Modal.alert("Group created and users successfully added."),$("#users .modal-content-filter .add_to_target_group [name='target_group_id']").val(""),$("#users .modal-content-filter .add_to_target_group [name='new_target_group']").val("")},error:function(){F=!1,v(),Emailtargetgroups.BuildFromSource(),Modal.alert("Error."),$("#users .modal-content-filter .add_to_target_group [name='target_group_id']").val(""),$("#users .modal-content-filter .add_to_target_group [name='new_target_group']").val("")}})}}})).on("click","#users-details .saveuser_btn",(function(e){if(e.preventDefault(),!n){n=!0,$("#users-details .saveuser_btn span").html("Saving...");var t=$(this).serializeObject(),a=!0;a=JSON.stringify(t)!==JSON.stringify(AppData.users.find((function(e){return e.id===t.id})));let e=""===$(".users-details-form [name='id']").val()?"new":"modify";var s=new FormData($(".users-details-form").get(0));s.append("do","saveUser"),s.append("lang",localState.lang),s.append("action",e);let r=s.getAll("menus[]");if($.each(AppData.navigation,(function(e,t){s.append("menus["+e+"][id]",t.id),s.append("menus["+e+"][value]",$.inArray(t.id,r)>-1?"on":"off")})),!a)return t=a=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:s,success:function(e){n=!1,$("#users-details .saveuser_btn span").html("Save"),e?"error"==e.status?Modal.alert(e.message):(AppData.users=e.users,AppData.profile=e.profile,Socket.Send("refreshModule",{module:["Attendees"],appdata:"attendees",data:e.attendees,callback:["UpdateModule"],use_lang:!0},{client:["client"]}),Socket.Send("refreshModule",{module:["Speakers"],appdata:"speakers",data:e.speakers,callback:["UpdateModule"],use_lang:!1},{client:["client"]}),Socket.Send("Chat.BuildFromSource",!0,{client:"client"}),Socket.Send("Users.BuildFromSource",!0,{group:["admin"]}),T(),writeDbLog("USERS","submit"+(void 0!==s.get("id")&&""!==s.get("id")?" - "+s.get("id"):""),"admin_logs"),s.get("id")&&Socket.Send("Profile.update",{},{uid:s.get("id")}),t=a=e=null,$("#users, #users-details").toggle(),$("#users-details form").find("input, select, textarea").not("[type=checkbox]").val("").filter("select").prop("selectedIndex",0)):Modal.alert("This email is already used.")},error:function(){n=!1,$("#users-details .saveuser_btn span").html("Save")}})}})).on("click","#users .actions .close-btn-modal-content-filter",(function(e){e.stopPropagation();let t=$(".modal-content-filter");$("#users .actions .filters").removeClass("active-filter"),$("#users .actions .close-btn-modal-content-filter").css("display","none"),t.hide(),t.find("#filterform #login-active-filter").val("all"),t.find("#filterform #user-type-filter").val("all"),t.find("#filterform #channel-filter").val("all"),t.find("#filterform #presenter-filter").val("all"),t.find("#filterform #in-speaker-list-filter").val("all"),w()})).on("drop","#users-details form.users-details-form",(function(e){void 0!==e.target.dataset.overimage&&e.target.dataset.overimage&&($(this).siblings("input[name=avatar]").val(e.originalEvent.dataTransfer.files).trigger("change"),$(this).find(".inputFileAvatar").get(0).files=e.originalEvent.dataTransfer.files,$(this).find(".inputFileAvatar").trigger("change"))})).on("drag dragstart dragend dragover dragenter dragleave drop","#users-details form.users-details-form",A).on("dragover dragenter","#users-details form.users-details-form",(function(e){void 0!==e.target.dataset.overimage&&e.target.dataset.overimage&&$("#users-details .userAvatar").addClass("is-dragover")})).on("dragleave dragend drop","#users-details form.users-details-form",(function(e){void 0!==e.target.dataset.overimage&&e.target.dataset.overimage&&$("#users-details .userAvatar").removeClass("is-dragover")})),{Init:function(){$("#users-details #tplCustomFields").remove().contents(),e=$("#users-details #customUserMenuTemplate").remove().contents(),t=$("#users #defaultChannelTemplate").remove().contents();for(let e in AppData.select_fields){let t=AppData.select_fields[e],a=$("<fieldset/>"),s=$("<label/>").html(e);a.append(s);let n=$("<div/>").addClass("filter_cont");for(let a in t[localState.lang]){let s=$("<div/>").addClass("filter_chk_cont"),r=$("<label/>").attr("for","filter_chk_"+a).html(t[localState.lang][a]),o=$("<input/>").attr("type","checkbox").attr("value",a).attr("id","filter_chk_"+a).attr("name",e+"[]");s.append(o),s.append(r),s.appendTo(n)}n.appendTo(a),$("#filterform").append(a)}r(),function(){var e=$("#users-details").find(".userRooms"),t=$("#users .bulk_actions_container").find(".channel_list"),a=$(document.createDocumentFragment());if(AppData.channels){$.each(AppData.channels,(function(e,t){$("<option/>").val(t.channel).text(Language.getTranslation(t.name,AppData.settings.lang)+" | "+t.admin_name).appendTo(a)}));let s=a.clone();e.html(a),t.html(s)}e.closest("fieldset").addClass("hidden")}(),v(),k(),_(),m(),v(),$("#users-details .premium_date").datepicker({dateFormat:"yy-mm-dd"}),Layout.addTabs("users",a)},renderList:r,BuildFromSource:i,updateAvatar:D,buildTargetGroupsSelect:v,buildFilterGroupSelect:_}}();
var Videogroups=function(){"use strict";var o=[{target:"ondemandvideos",title:"Videos",active:!1},{target:"videogroups",title:"Groups",active:!0}],i=[{templateName:"title",name:"title"}];function e(){AppData.videogroups.sort((function(o,i){return void 0!==o.sort_id&&void 0!==i.sort_id?parseInt(o.sort_id)-parseInt(i.sort_id):0}))}function t(){e();var o=$(document.createDocumentFragment()),i=$("<tr/>"),t=AppData.videogroups?AppData.videogroups.length:0;$("<th/>").text("").css("width","45px").appendTo(i),$("<th/>").text("Name").appendTo(i),$("<th/>").text("").appendTo(i),i.appendTo(o),$(".videoGroupsListThead").html(o),o=$(document.createDocumentFragment()),$.each(AppData.videogroups,(function(i,e){var t,d,a=$("<tr/>");a.addClass("ddClassVideoGroups"),d=e,(t=a).attr("data-id",d.id).toggleClass("color-red",!1===d.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').css("width","45px").attr("nowrap","nowrap").appendTo(t),$("<td/>").text(d.title[localState.lang]).attr("nowrap","nowrap").appendTo(t),$("<td/>").html('<button data-id="'+d.id+'" class="btn shareUrl" title="Share"><i class="fa fa-share"></i></button>').attr("nowrap","nowrap").appendTo(t),a.appendTo(o),a=null})),$("main#videogroups").find(".videoGroupsTitle").text(t+" group(s)"),$("main#videogroups").find(".videoGroupsList").html(o),o=i=t=null}return $(document).on("click","#videogroups .videoGroupsList tr[data-id]",(function(){var o=$("#videogroups-details"),e=this.dataset.id,t=AppData.videogroups.find((function(o){return o.id==e}));Layout.buildLanguageTabs("#videogroups-details",i,t),$.each(t,(function(i,e){o.find("[name="+i+"]").val(String(e)||"")})),$("#videogroups, #videogroups-details").toggle(),$("#videogroups-details").find(".actions .remove").show(),writeDbLog("VIDEOGROUPS","modify"+(void 0!==e?" + "+e:""),"admin_logs"),o=e=t=null})).on("click","#videogroups .actions .new",(function(){Layout.buildLanguageTabs("#videogroups-details",i);var o=$("#videogroups-details");$("#videogroups, #videogroups-details").toggle(),$("#videogroups-details").find(".actions .remove").hide(),o.find("form").find("input").val(""),o.find('[name="visible"]').val("true"),writeDbLog("VIDEOGROUPS","new","admin_logs"),o=null})).on("click","#videogroups-details .close",(function(){$("#videogroups, #videogroups-details").toggle(),$("#videogroups-details form").find("input").val(""),writeDbLog("VIDEOGROUPS","close","admin_logs")})).on("click","#videogroups-details .remove",(function(o){o.preventDefault();var i=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){writeDbLog("VIDEOGROUPS","remove"+(void 0!==i?" - "+i:""),"admin_logs"),$.post("api/",{do:"removeVideoGroup",data:i},(function(o){AppData.videogroups=o,t(),i=o=null})),$("#videogroups, #videogroups-details").toggle(),$("#videogroups-details form").find("input").val("")}))})).on("click","#videogroups .videoGroupsList .shareUrl",(function(o){o.stopPropagation(),createShareUrl("ondemandvideos",$(this).attr("data-id"),"videogroups")})).on("submit","#videogroups-details form",(function(o){o.preventDefault();var i=$(this).serializeObject();JSON.stringify(i),JSON.stringify(AppData.videogroups.find((function(o){return o.id===i.id})));var e=$(this).serialize();e+="&do=saveVideoGroup",writeDbLog("VIDEOGROUPS","submit"+(void 0!==e.id?" - "+e.id:""),"admin_logs"),$.ajax({method:"post",url:"api/",data:e,success:function(o){AppData.videogroups=o,Socket.Send("Ondemandvideos.BuildFromSource",null),t(),$("#videogroups, #videogroups-details").toggle(),$("#videogroups-details form").find("input, select").val("")}})})),{Init:function(){t(),DragAndDrop.Init({container:".videoGroupsList",rowcontainer:".ddClassVideoGroups",dbname:"video_groups",socketupdate:"Ondemandvideos.BuildFromSource"}),Layout.addTabs("videogroups",o)},renderList:t,BuildFromSource:function(){$.post("api/",{do:"getVideoGroups"},(function(o){AppData.videogroups=o,e(),t(),o=null}))}}}();
var Weblinkgroups=function(){"use strict";var e=[{target:"weblinks",title:"Links",active:!1},{target:"weblinkgroups",title:"Groups",active:!0}],t=[{templateName:"title",name:"title"}];function i(){AppData.weblinkgroups.sort((function(e,t){return void 0!==e.sort_id&&void 0!==t.sort_id?parseInt(e.sort_id)>parseInt(t.sort_id)?1:-1:0}))}function n(){i();var e=$(document.createDocumentFragment()),t=$("<tr/>"),n=AppData.weblinkgroups?AppData.weblinkgroups.length:0;$("<th/>").text("").appendTo(t),$("<th/>").text("Name").appendTo(t),t.appendTo(e),$.each(AppData.weblinkgroups,(function(t,i){var n,o,l=$("<tr/>");l.addClass("ddclassWeblinkgroups"),o=i,(n=l).attr("data-id",o.id).toggleClass("color-red",!1===o.visible),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(n),$("<td/>").text(o.title[localState.lang]).attr("nowrap","nowrap").appendTo(n),l.appendTo(e),l=null})),$("main#weblinkgroups").find(".weblinkGroupsTitle").text(n+" group(s)"),$("main#weblinkgroups").find(".weblinkGroupsList").html(e),e=t=n=null}return $(document).on("click","#weblinkgroups .weblinkGroupsList tr[data-id]",(function(){var e=$("#weblinkgroups-details"),i=this.dataset.id,n=AppData.weblinkgroups.find((function(e){return e.id===i}));Layout.buildLanguageTabs("#weblinkgroups-details",t,n),$.each(n,(function(t,i){e.find("[name="+t+"]").val(String(i)||"")})),$("#weblinkgroups, #weblinkgroups-details").toggle(),$("#weblinkgroups-details").find(".actions .remove").show(),$("#weblinkgroups-details .color").off().colorPicker({opacity:!1}),e=i=n=null})).on("click","#weblinkgroups .actions .new",(function(){Layout.buildLanguageTabs("#weblinkgroups-details",t);var e=$("#weblinkgroups-details");$("#weblinkgroups, #weblinkgroups-details").toggle(),$("#weblinkgroups-details").find(".actions .remove").hide(),e.find("form").find("input").val(""),$("#weblinkgroups-details .color").val("#555555"),$("#weblinkgroups-details .color").off().colorPicker({opacity:!1}),e=null})).on("click","#weblinkgroups-details .close",(function(){$("#weblinkgroups, #weblinkgroups-details").toggle(),$("#weblinkgroups-details form").find("input").val("")})).on("click","#weblinkgroups-details .remove",(function(e){e.preventDefault();var t=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){if(null!=AppData.weblinks.find((function(e){return e.group==t})))return Modal.alert("This group has at least one link associated. It cannot be deleted."),!1;$.post("api/",{do:"removeWeblinkGroup",data:t},(function(e){AppData.weblinkgroups=e,n(),t=e=null})),$("#weblinkgroups, #weblinkgroups-details").toggle(),$("#weblinkgroups-details form").find("input").val("")}))})).on("submit","#weblinkgroups-details form",(function(e){e.preventDefault();var t=$(this).serializeObject(),i=!0;if(i=JSON.stringify(t)!==JSON.stringify(AppData.weblinkgroups.find((function(e){return e.id===t.id}))),$("#weblinkgroups, #weblinkgroups-details").toggle(),$("#weblinkgroups-details form").find("input, select").val(""),!i)return t=i=null,!1;var o=new FormData;o.append("title[en]",t["title[en]"]),o.append("title[hu]",t["title[hu]"]),o.append("titlecolor",t.titlecolor),o.append("alignment",t.alignment),o.append("logo_height",t.logo_height),o.append("id",t.id),o.append("do","saveWeblinkGroup"),$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:o,success:function(e){AppData.weblinkgroups=e,n(),Socket.Send("Weblinks.updateGroups",null,{client:"client"}),t=i=e=null}})})),{Init:function(){n(),Layout.addTabs("weblinkgroups",e),$("#weblinkgroups-details .color").off().colorPicker({opacity:!1}),DragAndDrop.Init({container:".weblinkGroupsList",rowcontainer:".ddclassWeblinkgroups",dbname:"weblinkgroups",socketupdate:"Weblinks.updateGroups"})},renderList:n,BuildFromSource:function(){$.post("api/",{do:"getWeblinkGroups"},(function(e){AppData.weblinkgroups=e,i(),n(),e=null}))}}}();
var Weblinks=function(){"use strict";var n,e=[{target:"weblinks",title:"Links",active:!0},{target:"weblinkgroups",title:"Groups",active:!1}],t=[{templateName:"name",name:"name"}];function i(){AppData.weblinks.sort((function(n,e){return void 0!==n.sort_id&&void 0!==e.sort_id?parseInt(n.sort_id)>parseInt(e.sort_id)?1:-1:0}))}function a(){i();var n=$(document.createDocumentFragment()),e=$("<tr/>"),t=AppData.weblinks?AppData.weblinks.length:0;$("<th/>").text("").appendTo(e),$("<th/>").text("Name").appendTo(e),$("<th/>").text("Group").appendTo(e),$("<th/>").text("Link").appendTo(e),$("<th/>").text("Actions").appendTo(e),e.appendTo(n),$("main#weblinks").find(".weblinksListThead").html(n),n=$(document.createDocumentFragment()),$.each(AppData.weblinks,(function(e,t){var i=$("<tr/>");i.addClass("ddclassWeblinks"),function(n,e){var t=AppData.weblinkgroups||{};n.attr("data-id",e.id).toggleClass("color-red",!1===e.active||void 0===e.active),$("<td/>").html('<i class="fa fa-arrows-alt fa-lg"></i>').attr("nowrap","nowrap").css("width","45px").appendTo(n),$("<td/>").html(e.name[localState.lang]).attr("nowrap","nowrap").appendTo(n);var i=t.find((function(n){return n.id==e.group}));$("<td/>").text(null!=e.group&&""!=e.group&&null!=i?i.title[localState.lang]:"").attr("nowrap","nowrap").appendTo(n),$("<td/>").text(e.link).attr("nowrap","nowrap").appendTo(n),$("<td/>").html('<button data-id="'+e.id+'" data-active="true"  class="btn activeWeblinks '+(!0===e.active?"activeBtn":"")+'" title="Active"><i class="fa fa-check"></i></button><button data-id="'+e.id+'" data-active="false" class="btn activeWeblinks '+(!1===e.active||void 0===e.active?"inactiveBtn":"")+'" title="Inactive"><i class="fa fa-ban"></i></button>').attr("nowrap","nowrap").appendTo(n)}(i,t),i.appendTo(n),i=null})),$("main#weblinks").find(".weblinksTitle").text(t+" link(s)"),$("main#weblinks").find(".weblinksList").html(n),n=e=t=null}function o(){$.post("api/",{do:"getWeblinks"},(function(n){AppData.weblinks=n,i(),a(),n=null}))}function l(n,e){var t=$(document.createDocumentFragment());$('<option value="" selected>...</option>').appendTo(t),$.each(AppData.weblinkgroups,(function(n,e){$("<option/>").val(e.id).text(e.title[localState.lang]).appendTo(t)})),n.find(".selectGroups").html(t),e&&"group"in e&&n.find(".selectGroups").val(e.group),t=null}return $(document).on("click","#weblinks .weblinksList tr[data-id]",(function(){var n=$("#weblinks-details"),e=this.dataset.id,i=AppData.weblinks.find((function(n){return n.id===e}));Layout.buildLanguageTabs("#weblinks-details",t,i),void 0===i.active&&(i.active=!1),$.each(i,(function(e,t){"show_image"==e&&1==t||"open_in_blank"==e&&1==t||"open_in_landing"==e&&1==t||"is_hidden"==e&&1==t||"show_close_button_on_landing"==e&&1==t?n.find("[name="+e+"]").prop("checked",!0):n.find("[name="+e+"]").val(String(t)||"")})),i.file?(n.find(".image_name").html(i.file.filename),n.find(".uploaded_image").show()):n.find(".uploaded_image").hide(),$("#weblinks, #weblinks-details").toggle(),l(n,i),setReqOnFieldsByLang("weblinks",t),$("#weblinks-details").find(".actions .remove").show(),n=e=i=null})).on("click","#weblinks .weblinksList .activeWeblinks",(function(n){n.stopPropagation();var e=new FormData;e.append("do","updateWeblinksActive"),e.append("id",this.dataset.id),e.append("active",this.dataset.active),$.ajax({url:"api/",type:"post",data:e,dataType:"json",processData:!1,contentType:!1,cache:!1,success:function(n){AppData.weblinks=n,a(),Socket.Send("Weblinks.update",!0)},error:function(n){console.log("Error: "+n)}})})).on("click","#weblinks .actions .new",(function(){var n=$("#weblinks-details");$("#weblinks, #weblinks-details").toggle(),$("#weblinks").find(".actions .remove").hide(),n.find(".uploaded_image").hide(),l(n),Layout.buildLanguageTabs("#weblinks-details",t),n.find("form").find("input").val(""),n=null;var e=(AppData.weblinks?AppData.weblinks.length:0)+1;$("#weblinks-details").find('[name ="sort_id"]').val(e),setReqOnFieldsByLang("weblinks",t)})).on("click","#weblinks .actions .exportJson",(function(e){e.stopPropagation(),n.exportJson()})).on("click","#weblinks .actions .importJson",(function(e){e.stopPropagation(),n.openModalWindow()})).on("click","#weblinks-details .close",(function(){$("#weblinks, #weblinks-details").toggle(),$("#weblinks-details form").find("input").val("")})).on("click","#weblinks-details .remove",(function(n){n.preventDefault();var e=$(this).closest("form").find("[name=id]").val();Modal.confirm(Language.getItem("delete-confirm"),(function(){$.post("api/",{do:"removeWeblinks",data:e},(function(n){AppData.weblinks=n,Socket.Send("Weblinks.BuildFromSource",!0),a(),e=n=null})),$("#weblinks, #weblinks-details").toggle(),$("#weblinks-details form").find("input").val("")}))})).on("submit","#weblinks-details form",(function(n){n.preventDefault();var e=$(this).serializeObject(),t=!0;t=JSON.stringify(e)!==JSON.stringify(AppData.users.find((function(n){return n.id===e.id})));var i=new FormData($(this).get(0));if(i.append("do","saveWeblinks"),i.set("show_image",$("[name=show_image]").prop("checked")?1:0),i.set("open_in_blank",$("[name=open_in_blank]").prop("checked")?1:0),i.set("open_in_landing",$("[name=open_in_landing]").prop("checked")?1:0),i.set("is_hidden",$("[name=is_hidden]").prop("checked")?1:0),i.set("show_close_button_on_landing",$("[name=show_close_button_on_landing]").prop("checked")?1:0),$("#weblinks, #weblinks-details").toggle(),$("#weblinks-details form").find("input, select").val(""),!t)return e=t=null,!1;$.ajax({method:"post",url:"api/",processData:!1,contentType:!1,data:i,success:function(n){AppData.weblinks=n,Socket.Send("Weblinks.update",!0),Socket.Send("Weblinks.checkCloseBtn",e.id),a(),e=t=n=null}})})),{Init:function(){a(),Layout.addTabs("weblinks",e),DragAndDrop.Init({container:".weblinksList",rowcontainer:".ddclassWeblinks",dbname:"weblinks",socketupdate:"Weblinks.update"}),(n=new JsonExportImport).Init({module:"weblinks",file:"weblinks.json",callback:function(n){o(),Socket.Send("Weblinks.update",!0)}})},renderList:a,BuildFromSource:o}}();
function serverControll(){var e=$(this),s=e.siblings("a"),d=$(".server-response"),a={cmd:e.data("cmd")};e.addClass("disabled").find("i").removeClass("hidden"),s.addClass("disabled"),d.text("..."),$.post("api/server-controll.php",a,(function(a){d.text(a),e.removeClass("disabled").find("i").addClass("hidden"),s.removeClass("disabled")}))}$(document).on("click","main#websocket .server-controll a.btn",serverControll);
var Modal=function(){"use strict";var t,n,e,i="icon-main far fa-window-restore";return{Init:function(){(t=$("main#modal")).hide(),$(document).on("click","main#modal .btn.accept, main#modal .btn.close",(function(){t.hide(),"function"==typeof n&&(n.call(),n=null)})),$(document).on("click","main#modal .btn.dismiss",(function(){t.hide(),"function"==typeof e&&(e.call(),e=null)})),delete Modal.Init},alert:function(e,o){t.removeClass("dark"),t.find(".modalchk_cont").hide(),t.find(".icon_cont").show(),t.find(".icon_cont i").removeClass().addClass(i),n=o,t.find(".title").text(Language.getItem("modal-alert")),t.find(".text").html(e),t.find(".btn.accept").hide(),t.find(".btn.dismiss").hide(),t.find(".btn.close").show(),t.show()},confirm:function(e,o){t.find(".icon_cont").show(),t.find(".icon_cont i").removeClass().addClass(i),t.removeClass("dark"),t.find(".modalchk_cont").hide(),t.find(".image").removeClass("shown"),n=o,t.find(".title").text(Language.getItem("modal-confirm")),t.find(".text").text(e),t.find(".btn.accept").show(),t.find(".btn.dismiss").show(),t.find(".btn.close").hide(),t.show()},notification:function(e,i){n=i,""!=e.icon||null!=e.icon?(t.find(".icon_cont i").removeClass().addClass("icon-main").addClass(e.icon),t.find(".icon_cont").show()):t.find(".icon_cont").hide(),t.removeClass("dark"),t.find(".modalchk_cont").hide(),t.find(".title").text(e.title[localState.lang]),t.find(".text").text(e.text[localState.lang]),void 0!==e.closebuttontext&&""!==e.closebuttontext[localState.lang]?t.find(".closebutton").text(e.closebuttontext[localState.lang]):t.find(".closebutton").text(AppData.languages[localState.lang].close);var o=e.files||void 0;t.find(".image").removeClass("shown"),o&&null!=o[localState.lang]&&t.find(".image").html('<img src="'+o[localState.lang].path+'">').addClass("shown"),t.find(".btn.accept").hide(),t.find(".btn.dismiss").hide(),e.canClose?t.find(".btn.close").show():t.find(".btn.close").hide(),e.has_checkbox?(t.find(".modalchk_cont").show(),void 0!==e.checkboxtext&&""!==e.checkboxtext[localState.lang]?t.find(".checkboxtext").text(e.checkboxtext[localState.lang]):t.find(".checkboxtext").text(AppData.languages[localState.lang].checkboxtext)):t.find(".modalchk_cont").hide(),e.darkmode?t.addClass("dark"):t.removeClass("dark"),t.show()},resultconfirmation:function(e,i){n=i,t.removeClass("dark"),t.find(".modalchk_cont").hide(),t.find(".title").text(e.title),t.find(".text").text(e.text),t.find(".btn.accept").hide(),t.find(".btn.dismiss").hide(),e.canClose?t.find(".btn.close").show():t.find(".btn.close").hide(),t.show()},confirmWithDismiss:function(o,a,d){t.find(".icon_cont").show(),t.find(".icon_cont i").removeClass().addClass(i),t.removeClass("dark"),t.find(".modalchk_cont").hide(),t.find(".image").removeClass("shown"),n=a,e=d,t.find(".title").text(Language.getItem("modal-confirm")),t.find(".text").text(o),t.find(".btn.accept").show(),t.find(".btn.dismiss").show(),t.find(".btn.close").hide(),t.show()}}}();
function JsonExportImport(){this.uploadJson="./data/live/",this.options,this.Init=function(o){this.options=o},this.exportJson=function(){window.open("api/?do=exportJson&file="+this.uploadJson+this.options.file)},this.importJson=function(){let o=this;if(void 0!==$("#modalJsonExportImportFile").prop("files")[0]){var t=new FormData;t.append("do","importJson"),t.append("filename",$("#modalJsonExportImportFile").prop("files")[0]),$.ajax({url:"api/",dataType:"text",cache:!1,contentType:!1,processData:!1,data:t,type:"post",success:function(t){t?(o.getJsons(),$(".modalJsonExportImport #msg").html("")):$(".modalJsonExportImport #msg").html("Error in file upload!")},error:function(o){$(".modalJsonExportImport #msg").html("Error: "+o)}})}},this.message=function(){void 0!==$("#modalJsonExportImportFile").prop("files")[0]?$(".modalJsonExportImport #msg").html("Selected file: "+$("#modalJsonExportImportFile").prop("files")[0].name):$(".modalJsonExportImport #msg").html("")},this.getJsons=function(){let o=this;var t=this.options.file.match(/(.*).json/);$.post("api/",{do:"getJsonFiles",type:t[1]},(function(t){var n;$(".item").remove();for(var e=0;e<t.length;e++)"."!==t[e]&&".."!==t[e]&&(n='<div class="item"><div id="delete-item-'+e+'" class="delete-item" data-name="'+t[e]+'">x</div><div data-name="'+t[e]+'" id="gridItem-'+e+'">'+t[e]+"</div></div>",$(".item_container").append(n),$("#gridItem-"+e).on("click",(function(t){$.post("api/",{do:"copyJsonFile",filename:this.dataset.name,file:o.options.file},(function(t){void 0!==o.options.callback&&o.options.callback(t),o.closeModalWindow()}))})),$("#delete-item-"+e).on("click",(function(t){var n=this.dataset.name;Modal.confirm("Are you sure to delete?",(function(){$.post("api/",{do:"deleteJsonFile",filename:n},(function(t){o.getJsons()}))}))})))})),$(".modalJsonExportImport").show()},this.openModalWindow=function(){let o=this;$("main#"+o.options.module).append($("template#modalJsonExportImportTemplate").contents().clone()),$(document).on("change","#modalJsonExportImportFile",o.message),$(document).on("click",".modalJsonExportImport #uploadFile",(function(){o.importJson()})),$(document).on("click",".modalJsonExportImport .JsonExportImport-close-btn",(function(){o.closeModalWindow()})),o.getJsons()},this.closeModalWindow=function(){$(".modalJsonExportImport #msg").html(""),$("#modalJsonExportImportFile").val(""),$(".modalJsonExportImport").hide(),$("main#"+this.options.module+" .modalJsonExportImport").remove()}}
/*!
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(t){t.en=Object.assign(t.en||{},{a:"Cannot upload file:",b:"Image toolbar",c:"Table toolbar",d:"Bold",e:"Full size image",f:"Side image",g:"Left aligned image",h:"Centered image",i:"Right aligned image",j:"Block quote",k:"Insert image or file",l:"Insert image",m:"Insert table",n:"Header column",o:"Insert column left",p:"Insert column right",q:"Delete column",r:"Column",s:"Header row",t:"Insert row below",u:"Insert row above",v:"Delete row",w:"Row",x:"Merge cell up",y:"Merge cell right",z:"Merge cell down",aa:"Merge cell left",ab:"Split cell vertically",ac:"Split cell horizontally",ad:"Merge cells",ae:"Numbered List",af:"Bulleted List",ag:"Increase indent",ah:"Decrease indent",ai:"Italic",aj:"image widget",ak:"Choose heading",al:"Heading",am:"Upload failed",an:"Enter image caption",ao:"Insert media",ap:"The URL must not be empty.",aq:"This media URL is not supported.",ar:"media widget",as:"Link",at:"Widget toolbar",au:"Upload in progress",av:"Open in a new tab",aw:"Downloadable",ax:"Unlink",ay:"Edit link",az:"Open link in new tab",ba:"This link has no URL",bb:"Save",bc:"Cancel",bd:"Paste the media URL in the input.",be:"Tip: Paste the URL into the content to embed faster.",bf:"Media URL",bg:"Link URL",bh:"Undo",bi:"Redo",bj:"Rich Text Editor",bk:"Dropdown toolbar",bl:"%0 of %1",bm:"Previous",bn:"Next",bo:"Editor toolbar",bp:"Show more items",bq:"Paragraph",br:"Heading 1",bs:"Heading 2",bt:"Heading 3",bu:"Heading 4",bv:"Heading 5",bw:"Heading 6",bx:"Change image text alternative",by:"Rich Text Editor, %0",bz:"Could not obtain resized image URL.",ca:"Selecting resized image failed",cb:"Could not insert image at the current position.",cc:"Inserting image failed",cd:"Text alternative"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClassicEditor=e():t.ClassicEditor=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=92)}([function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));class i extends Error{constructor(t,e,n){t=o(t),n&&(t+=" "+JSON.stringify(n)),super(t),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new i(t.message,e);throw n.stack=t.stack,n}}function o(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${e[1]}\n`:t}},function(t,e,n){"use strict";var i,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function s(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],o=0;o<t.length;o++){var a=t[o],c=e.base?a[0]+e.base:a[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var h=s(d),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(r[h].references++,r[h].updater(u)):r.push({identifier:d,updater:g(u,e),references:1}),i.push(d)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function u(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,m=0;function g(t,e){var n,i,o;if(e.singleton){var r=m++;n=f||(f=c(e)),i=h.bind(null,n,r,!1),o=h.bind(null,n,r,!0)}else n=c(e),i=u.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=s(n[i]);r[o].references--}for(var c=a(t,e),l=0;l<n.length;l++){var d=s(n[l]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}n=c}}}},,function(t,e,n){"use strict";var i=n(7),o="object"==typeof self&&self&&self.Object===Object&&self,r=i.a||o||Function("return this")();e.a=r},function(t,e,n){"use strict";(function(t){var i=n(3),o=n(12),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===r?i.a.Buffer:void 0,c=(a?a.isBuffer:void 0)||o.a;e.a=c}).call(this,n(9)(t))},function(t,e,n){"use strict";(function(t){var i=n(7),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o&&i.a.process,a=function(){try{return r&&r.require&&r.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=a}).call(this,n(9)(t))},function(t,e,n){"use strict";(function(t){var e=n(0);const i="object"==typeof window?window:t;if(i.CKEDITOR_VERSION)throw new e.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);i.CKEDITOR_VERSION="18.0.0"}).call(this,n(10))},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(10))},function(t,e,n){"use strict";(function(t){var i=n(3),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o?i.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}}).call(this,n(9)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(1),o=n(69);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){var i=n(1),o=n(14);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(t,e,n){var i=n(1),o=n(16);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(t,e,n){var i=n(1),o=n(18);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(t,e,n){var i=n(1),o=n(20);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(t,e,n){var i=n(1),o=n(22);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var i=n(1),o=n(24);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(t,e,n){var i=n(1),o=n(26);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(t,e,n){var i=n(1),o=n(28);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(t,e,n){var i=n(1),o=n(30);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(t,e,n){var i=n(1),o=n(32);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(t,e,n){var i=n(1),o=n(34);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(t,e,n){var i=n(1),o=n(36);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(t,e,n){var i=n(1),o=n(38);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var i=n(1),o=n(40);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(t,e,n){var i=n(1),o=n(42);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(t,e,n){var i=n(1),o=n(44);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(t,e,n){var i=n(1),o=n(46);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(t,e,n){var i=n(1),o=n(48);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(t,e,n){var i=n(1),o=n(50);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(t,e,n){var i=n(1),o=n(52);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(t,e,n){var i=n(1),o=n(54);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(1),o=n(56);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(t,e,n){var i=n(1),o=n(58);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(t,e,n){var i=n(1),o=n(60);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(t,e,n){var i=n(1),o=n(62);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(t,e,n){var i=n(1),o=n(64);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(t,e,n){var i=n(1),o=n(66);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,n){var i=n(1),o=n(68);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e){t.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(t,e,n){var i=n(1),o=n(71);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(t,e,n){var i=n(1),o=n(73);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(t,e,n){var i=n(1),o=n(75);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(t,e,n){var i=n(1),o=n(77);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(1),o=n(79);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(t,e,n){var i=n(1),o=n(81);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(1),o=n(83);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(t,e,n){var i=n(1),o=n(85);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(t,e,n){var i=n(1),o=n(87);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(t,e,n){var i=n(1),o=n(89);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=":root{--ck-table-selected-cell-background:#cee5fd}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{background-color:var(--ck-table-selected-cell-background)!important;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}"},function(t,e,n){var i=n(1),o=n(91);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r=(i(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});t.exports=r},function(t,e){t.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}"},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return ng}));var i=n(3),o=i.a.Symbol,r=Object.prototype,s=r.hasOwnProperty,a=r.toString,c=o?o.toStringTag:void 0,l=Object.prototype.toString,d=o?o.toStringTag:void 0,h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?function(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var i=!0}catch(t){}var o=a.call(t);return i&&(e?t[c]=n:delete t[c]),o}(t):function(t){return l.call(t)}(t)},u=function(t,e){return function(n){return t(e(n))}},f=u(Object.getPrototypeOf,Object),m=function(t){return null!=t&&"object"==typeof t},g=Function.prototype,p=Object.prototype,b=g.toString,w=p.hasOwnProperty,k=b.call(Object),_=function(t){if(!m(t)||"[object Object]"!=h(t))return!1;var e=f(t);if(null===e)return!0;var n=w.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&b.call(n)==k},v=function(t,e){return t===e||t!=t&&e!=e},y=function(t,e){for(var n=t.length;n--;)if(v(t[n][0],e))return n;return-1},x=Array.prototype.splice;function A(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}A.prototype.clear=function(){this.__data__=[],this.size=0},A.prototype.delete=function(t){var e=this.__data__,n=y(e,t);return!(n<0||(n==e.length-1?e.pop():x.call(e,n,1),--this.size,0))},A.prototype.get=function(t){var e=this.__data__,n=y(e,t);return n<0?void 0:e[n][1]},A.prototype.has=function(t){return y(this.__data__,t)>-1},A.prototype.set=function(t,e){var n=this.__data__,i=y(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var C,T=A,P=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},S=function(t){if(!P(t))return!1;var e=h(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},M=i.a["__core-js_shared__"],E=(C=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",I=Function.prototype.toString,N=function(t){if(null!=t){try{return I.call(t)}catch(t){}try{return t+""}catch(t){}}return""},O=/^\[object .+?Constructor\]$/,R=Function.prototype,D=Object.prototype,L=R.toString,j=D.hasOwnProperty,V=RegExp("^"+L.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=function(t){return!(!P(t)||function(t){return!!E&&E in t}(t))&&(S(t)?V:O).test(N(t))},B=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return z(n)?n:void 0},F=B(i.a,"Map"),U=B(Object,"create"),H=Object.prototype.hasOwnProperty,q=Object.prototype.hasOwnProperty;function W(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}W.prototype.clear=function(){this.__data__=U?U(null):{},this.size=0},W.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},W.prototype.get=function(t){var e=this.__data__;if(U){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return H.call(e,t)?e[t]:void 0},W.prototype.has=function(t){var e=this.__data__;return U?void 0!==e[t]:q.call(e,t)},W.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=U&&void 0===e?"__lodash_hash_undefined__":e,this};var Y=W,$=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function G(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}G.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(F||T),string:new Y}},G.prototype.delete=function(t){var e=$(this,t).delete(t);return this.size-=e?1:0,e},G.prototype.get=function(t){return $(this,t).get(t)},G.prototype.has=function(t){return $(this,t).has(t)},G.prototype.set=function(t,e){var n=$(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};var Q=G;function K(t){var e=this.__data__=new T(t);this.size=e.size}K.prototype.clear=function(){this.__data__=new T,this.size=0},K.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},K.prototype.get=function(t){return this.__data__.get(t)},K.prototype.has=function(t){return this.__data__.has(t)},K.prototype.set=function(t,e){var n=this.__data__;if(n instanceof T){var i=n.__data__;if(!F||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Q(i)}return n.set(t,e),this.size=n.size,this};var J=K,Z=function(){try{var t=B(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),X=function(t,e,n){"__proto__"==e&&Z?Z(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},tt=Object.prototype.hasOwnProperty,et=function(t,e,n){var i=t[e];tt.call(t,e)&&v(i,n)&&(void 0!==n||e in t)||X(t,e,n)},nt=function(t,e,n,i){var o=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],c=i?i(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),o?X(n,a,c):et(n,a,c)}return n},it=function(t){return m(t)&&"[object Arguments]"==h(t)},ot=Object.prototype,rt=ot.hasOwnProperty,st=ot.propertyIsEnumerable,at=it(function(){return arguments}())?it:function(t){return m(t)&&rt.call(t,"callee")&&!st.call(t,"callee")},ct=Array.isArray,lt=n(4),dt=/^(?:0|[1-9]\d*)$/,ht=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&dt.test(t))&&t>-1&&t%1==0&&t<e},ut=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;var mt=function(t){return function(e){return t(e)}},gt=n(5),pt=gt.a&&gt.a.isTypedArray,bt=pt?mt(pt):function(t){return m(t)&&ut(t.length)&&!!ft[h(t)]},wt=Object.prototype.hasOwnProperty,kt=function(t,e){var n=ct(t),i=!n&&at(t),o=!n&&!i&&Object(lt.a)(t),r=!n&&!i&&!o&&bt(t),s=n||i||o||r,a=s?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],c=a.length;for(var l in t)!e&&!wt.call(t,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ht(l,c))||a.push(l);return a},_t=Object.prototype,vt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||_t)},yt=u(Object.keys,Object),xt=Object.prototype.hasOwnProperty,At=function(t){return null!=t&&ut(t.length)&&!S(t)},Ct=function(t){return At(t)?kt(t):function(t){if(!vt(t))return yt(t);var e=[];for(var n in Object(t))xt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},Tt=Object.prototype.hasOwnProperty,Pt=function(t){if(!P(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=vt(t),n=[];for(var i in t)("constructor"!=i||!e&&Tt.call(t,i))&&n.push(i);return n},St=function(t){return At(t)?kt(t,!0):Pt(t)},Mt=n(8),Et=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e},It=function(){return[]},Nt=Object.prototype.propertyIsEnumerable,Ot=Object.getOwnPropertySymbols,Rt=Ot?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s)}return r}(Ot(t),(function(e){return Nt.call(t,e)})))}:It,Dt=function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t},Lt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Dt(e,Rt(t)),t=f(t);return e}:It,jt=function(t,e,n){var i=e(t);return ct(t)?i:Dt(i,n(t))},Vt=function(t){return jt(t,Ct,Rt)},zt=function(t){return jt(t,St,Lt)},Bt=B(i.a,"DataView"),Ft=B(i.a,"Promise"),Ut=B(i.a,"Set"),Ht=B(i.a,"WeakMap"),qt=N(Bt),Wt=N(F),Yt=N(Ft),$t=N(Ut),Gt=N(Ht),Qt=h;(Bt&&"[object DataView]"!=Qt(new Bt(new ArrayBuffer(1)))||F&&"[object Map]"!=Qt(new F)||Ft&&"[object Promise]"!=Qt(Ft.resolve())||Ut&&"[object Set]"!=Qt(new Ut)||Ht&&"[object WeakMap]"!=Qt(new Ht))&&(Qt=function(t){var e=h(t),n="[object Object]"==e?t.constructor:void 0,i=n?N(n):"";if(i)switch(i){case qt:return"[object DataView]";case Wt:return"[object Map]";case Yt:return"[object Promise]";case $t:return"[object Set]";case Gt:return"[object WeakMap]"}return e});var Kt=Qt,Jt=Object.prototype.hasOwnProperty,Zt=i.a.Uint8Array,Xt=function(t){var e=new t.constructor(t.byteLength);return new Zt(e).set(new Zt(t)),e},te=/\w*$/,ee=o?o.prototype:void 0,ne=ee?ee.valueOf:void 0,ie=function(t,e){var n=e?Xt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},oe=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return Xt(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var n=e?Xt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ie(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,te.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function(t){return ne?Object(ne.call(t)):{}}(t)}},re=Object.create,se=function(){function t(){}return function(e){if(!P(e))return{};if(re)return re(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ae=function(t){return"function"!=typeof t.constructor||vt(t)?{}:se(f(t))},ce=gt.a&&gt.a.isMap,le=ce?mt(ce):function(t){return m(t)&&"[object Map]"==Kt(t)},de=gt.a&&gt.a.isSet,he=de?mt(de):function(t){return m(t)&&"[object Set]"==Kt(t)},ue={};ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object DataView]"]=ue["[object Boolean]"]=ue["[object Date]"]=ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object Symbol]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Error]"]=ue["[object Function]"]=ue["[object WeakMap]"]=!1;var fe=function t(e,n,i,o,r,s){var a,c=1&n,l=2&n,d=4&n;if(i&&(a=r?i(e,o,r,s):i(e)),void 0!==a)return a;if(!P(e))return e;var h=ct(e);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Jt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!c)return Et(e,a)}else{var u=Kt(e),f="[object Function]"==u||"[object GeneratorFunction]"==u;if(Object(lt.a)(e))return Object(Mt.a)(e,c);if("[object Object]"==u||"[object Arguments]"==u||f&&!r){if(a=l||f?{}:ae(e),!c)return l?function(t,e){return nt(t,Lt(t),e)}(e,function(t,e){return t&&nt(e,St(e),t)}(a,e)):function(t,e){return nt(t,Rt(t),e)}(e,function(t,e){return t&&nt(e,Ct(e),t)}(a,e))}else{if(!ue[u])return r?e:{};a=oe(e,u,c)}}s||(s=new J);var m=s.get(e);if(m)return m;s.set(e,a),he(e)?e.forEach((function(o){a.add(t(o,n,i,o,e,s))})):le(e)&&e.forEach((function(o,r){a.set(r,t(o,n,i,r,e,s))}));var g=d?l?zt:Vt:l?keysIn:Ct,p=h?void 0:g(e);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););}(p||e,(function(o,r){p&&(o=e[r=o]),et(a,r,t(o,n,i,r,e,s))})),a},me=function(t,e){return fe(t,5,e="function"==typeof e?e:void 0)},ge=function(t){return m(t)&&1===t.nodeType&&!_(t)};class pe{constructor(t,e){this._config={},e&&this.define(be(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,i=!1){if(_(e))return void this._setObjectToTarget(t,e,i);const o=e.split(".");e=o.pop();for(const e of o)_(t[e])||(t[e]={}),t=t[e];if(_(n))return _(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,i);i&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const e of n){if(!_(t[e])){t=null;break}t=t[e]}return t?be(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach((i=>{this._setToTarget(t,i,e[i],n)}))}}function be(t){return me(t,we)}function we(t){return ge(t)?t:void 0}class ke{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=function t(){t.called=!0},this.off=function t(){t.called=!0}}}const _e=new Array(256).fill().map(((t,e)=>("0"+e.toString(16)).slice(-2)));function ve(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+_e[t>>0&255]+_e[t>>8&255]+_e[t>>16&255]+_e[t>>24&255]+_e[e>>0&255]+_e[e>>8&255]+_e[e>>16&255]+_e[e>>24&255]+_e[n>>0&255]+_e[n>>8&255]+_e[n>>16&255]+_e[n>>24&255]+_e[i>>0&255]+_e[i>>8&255]+_e[i>>16&255]+_e[i>>24&255]}var ye={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},xe=(n(6),n(0));const Ae=Symbol("listeningTo"),Ce=Symbol("emitterId");var Te={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let i=!1;this.listenTo(this,t,(function(t,...n){i||(i=!0,t.off(),e.call(this,t,...n))}),n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let o,r;this[Ae]||(this[Ae]={});const s=this[Ae];Se(t)||Pe(t);const a=Se(t);(o=s[a])||(o=s[a]={emitter:t,callbacks:{}}),(r=o.callbacks[e])||(r=o.callbacks[e]=[]),r.push(n),function(t,e){const n=Me(t);if(n[e])return;let i=e,o=null;const r=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},r.push(n[i]),o&&n[i].childEvents.push(o),o=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const t of r)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(o)}}(t,e);const c=Ee(t,e),l=ye.get(i.priority),d={callback:n,priority:l};for(const t of c){let e=!1;for(let n=0;n<t.length;n++)if(t[n].priority<l){t.splice(n,0,d),e=!0;break}e||t.push(d)}},stopListening(t,e,n){const i=this[Ae];let o=t&&Se(t);const r=i&&o&&i[o],s=r&&e&&r.callbacks[e];if(!(!i||t&&!r||e&&!s))if(n)Ne(t,e,n);else if(s){for(;n=s.pop();)Ne(t,e,n);delete r.callbacks[e]}else if(r){for(e in r.callbacks)this.stopListening(t,e);delete i[o]}else{for(o in i)this.stopListening(i[o].emitter);delete this[Ae]}},fire(t,...e){try{const n=t instanceof ke?t:new ke(this,t),i=n.name;let o=function t(e,n){let i;return e._events&&(i=e._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null}(this,i);if(n.path.push(this),o){const t=[n,...e];o=Array.from(o);for(let e=0;e<o.length&&(o[e].callback.apply(this,t),n.off.called&&(delete n.off.called,Ne(this,i,o[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(i),o=this._delegations.get("*");t&&Ie(t,n,e),o&&Ie(o,n,e)}return n.return}catch(t){xe.b.rethrowUnexpectedError(t,this)}},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach((t=>{const i=this._delegations.get(t);i?i.set(e,n):this._delegations.set(t,new Map([[e,n]]))}))}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function Pe(t,e){t[Ce]||(t[Ce]=e||ve())}function Se(t){return t[Ce]}function Me(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function Ee(t,e){const n=Me(t)[e];if(!n)return[];let i=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){const o=Ee(t,n.childEvents[e]);i=i.concat(o)}return i}function Ie(t,e,n){for(let[i,o]of t){o?"function"==typeof o&&(o=o(e.name)):o=e.name;const t=new ke(e.source,o);t.path=[...e.path],i.fire(t,...n)}}function Ne(t,e,n){const i=Ee(t,e);for(const t of i)for(let e=0;e<t.length;e++)t[e].callback==n&&(t.splice(e,1),e--)}function Oe(t,...e){e.forEach((e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach((n=>{if(n in t.prototype)return;const i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i)}))}))}class Re{constructor(t={}){this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){let n;const i=this._idProperty;if(i in t){if(n=t[i],"string"!=typeof n)throw new xe.b("collection-add-invalid-id",this);if(this.get(n))throw new xe.b("collection-add-item-already-exists",this)}else t[i]=n=ve();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new xe.b("collection-add-item-invalid-index",this);return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new xe.b("collection-get-invalid-arg: Index or id must be given.",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){let e,n,i,o=!1;const r=this._idProperty;if("string"==typeof t?(n=t,i=this._itemMap.get(n),o=!i,i&&(e=this._items.indexOf(i))):"number"==typeof t?(e=t,i=this._items[e],o=!i,i&&(n=i[r])):(i=t,n=i[r],e=this._items.indexOf(i),o=-1==e||!this._itemMap.get(n)),o)throw new xe.b("collection-remove-404: Item not found.",this);this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,e),i}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(t){if(this._bindToCollection)throw new xe.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding((e=>new t(e)))},using:t=>{"function"==typeof t?this._setUpBindToBinding((e=>t(e))):this._setUpBindToBinding((e=>e[t]))}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,o)=>{const r=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(i);if(r&&s)this._bindToExternalToInternalMap.set(i,s),this._bindToInternalToExternalMap.set(s,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(o);let r=o;for(const t of this._skippedIndexesFromExternal)o>t&&r--;for(const t of e._skippedIndexesFromExternal)r>=t&&r++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,r);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)r<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)n(0,t,e.getIndex(t));this.listenTo(e,"add",n),this.listenTo(e,"remove",((t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t)),[])}))}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Oe(Re,Te);class De{constructor(t,e=[],n=[]){this._context=t,this._plugins=new Map,this._availablePlugins=new Map;for(const t of e)t.pluginName&&this._availablePlugins.set(t.pluginName,t);this._contextPlugins=new Map;for(const[t,e]of n)this._contextPlugins.set(t,e),this._contextPlugins.set(e,t),t.pluginName&&this._availablePlugins.set(t.pluginName,t)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){const e="plugincollection-plugin-not-loaded: The requested plugin is not loaded.";let n=t;throw"function"==typeof t&&(n=t.pluginName||t.name),new xe.b(e,this._context,{plugin:n})}return e}has(t){return this._plugins.has(t)}init(t,e=[]){const n=this,i=this._context,o=new Set,r=[],s=h(t),a=h(e),c=function(t){const e=[];for(const n of t)d(n)||e.push(n);return e.length?e:null}(t);if(c){const t="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(xe.a)(t),{plugins:c}),Promise.reject(new xe.b(t,i,{plugins:c}))}return Promise.all(s.map((function t(s){if(!a.includes(s)&&!n._plugins.has(s)&&!o.has(s))return function(s){return new Promise((a=>{o.add(s),s.requires&&s.requires.forEach((n=>{const o=d(n);if(s.isContextPlugin&&!o.isContextPlugin)throw new xe.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:o.name,requiredBy:s.name});if(e.includes(o))throw new xe.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",i,{plugin:o.name,requiredBy:s.name});t(o)}));const c=n._contextPlugins.get(s)||new s(i);n._add(s,c),r.push(c),a()}))}(s).catch((t=>{throw console.error(Object(xe.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:s}),t}))}))).then((()=>l(r,"init"))).then((()=>l(r,"afterInit"))).then((()=>r));function l(t,e){return t.reduce(((t,i)=>i[e]?n._contextPlugins.has(i)?t:t.then(i[e].bind(i)):t),Promise.resolve())}function d(t){return"function"==typeof t?t:n._availablePlugins.get(t)}function h(t){return t.map((t=>d(t))).filter((t=>!!t))}}destroy(){const t=[];for(const[,e]of this)"function"!=typeof e.destroy||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new xe.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}Oe(De,Te),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const Le=["ar","fa","he","ku","ug"];class je{constructor(t={}){this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Ve(this.uiLanguage),this.contentLanguageDirection=Ve(this.contentLanguage),this.t=(...t)=>this._t(...t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e){let n=function(t,e){const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t]}(t,e)?window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \[context: [^\]]+\]$/,""):e.replace(/ \[context: [^\]]+\]$/,"")}(this.uiLanguage,t);return e&&(n=n.replace(/%(\d+)/g,((t,n)=>n<e.length?e[n]:t))),n}}function Ve(t){return Le.includes(t)?"rtl":"ltr"}class ze{constructor(t){this.config=new pe(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new De(this,e);const n=this.config.get("language")||{};this.locale=new je({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Re,this._contextOwner=null}initPlugins(){const t=this.config.get("plugins")||[];for(const e of t){if("function"!=typeof e)throw new xe.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:e});if(!0!==e.isContextPlugin)throw new xe.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:e})}return this.plugins.init(t)}destroy(){return Promise.all(Array.from(this.editors,(t=>t.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(t,e){if(this._contextOwner)throw new xe.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise((e=>{const n=new this(t);e(n.initPlugins().then((()=>n)))}))}}function Be(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}var Fe=function(t){return fe(t,4)};class Ue{constructor(t){this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new xe.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=Be(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Fe(this);return delete t.parent,t}is(t){return"node"==t||"view:node"==t}}Oe(Ue,Te);class He extends Ue{constructor(t,e){super(t),this._textData=e}is(t){return"text"==t||"view:text"==t||super.is(t)}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof He&&(this===t||this.data===t.data)}_clone(){return new He(this.document,this.data)}}class qe{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new xe.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>t.data.length)throw new xe.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t||"view:textProxy"==t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}function We(t){return!(!t||!t[Symbol.iterator])}function Ye(t){return We(t)?new Map(t):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(t)}class $e{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&("string"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=Ge(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=Ge(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function Ge(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){return t instanceof RegExp?t.test(e):t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=[];for(const i in t){const o=t[i];if(!e.hasAttribute(i))return null;{const t=e.getAttribute(i);if(!0===o)n.push(i);else if(o instanceof RegExp){if(!o.test(t))return null;n.push(i)}else{if(t!==o)return null;n.push(i)}}}return n}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){const n=[];for(const i of t)if(i instanceof RegExp){const t=e.getClassNames();for(const e of t)i.test(e)&&n.push(e);if(0===n.length)return null}else{if(!e.hasClass(i))return null;n.push(i)}return n}(e.classes,t),!n.classes))&&!(e.styles&&(n.styles=function(t,e){const n=[];for(const i in t){const o=t[i];if(!e.hasStyle(i))return null;{const t=e.getStyle(i);if(o instanceof RegExp){if(!o.test(t))return null;n.push(i)}else{if(t!==o)return null;n.push(i)}}}return n}(e.styles,t),!n.styles))&&n}var Qe=function(t){return"symbol"==typeof t||m(t)&&"[object Symbol]"==h(t)},Ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Je=/^\w*$/;function Ze(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=t.apply(this,i);return n.cache=r.set(o,s)||r,s};return n.cache=new(Ze.Cache||Q),n}Ze.Cache=Q;var Xe=Ze,tn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,en=/\\(\\)?/g,nn=function(t){var e=Xe((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tn,(function(t,n,i,o){e.push(i?o.replace(en,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),on=o?o.prototype:void 0,rn=on?on.toString:void 0,sn=function t(e){if("string"==typeof e)return e;if(ct(e))return function(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}(e,t)+"";if(Qe(e))return rn?rn.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},an=function(t){return null==t?"":sn(t)},cn=function(t,e){return ct(t)?t:function(t,e){if(ct(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Qe(t))||Je.test(t)||!Ke.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:nn(an(t))},ln=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},dn=function(t){if("string"==typeof t||Qe(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},hn=function(t,e){for(var n=0,i=(e=cn(e,t)).length;null!=t&&n<i;)t=t[dn(e[n++])];return n&&n==i?t:void 0},un=function(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(o);++i<o;)r[i]=t[i+e];return r},fn=function(t,e){return null==(t=function(t,e){return e.length<2?t:hn(t,un(e,0,-1))}(t,e=cn(e,t)))||delete t[dn(ln(e))]},mn=function(t,e,n){var i=null==t?void 0:hn(t,e);return void 0===i?n:i},gn=function(t,e,n){(void 0!==n&&!v(t[e],n)||void 0===n&&!(e in t))&&X(t,e,n)},pn=function(t,e,n){for(var i=-1,o=Object(t),r=n(t),s=r.length;s--;){var a=r[++i];if(!1===e(o[a],a,o))break}return t},bn=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},wn=function(t,e,n,i,o,r,s){var a=bn(t,n),c=bn(e,n),l=s.get(c);if(l)gn(t,n,l);else{var d=r?r(a,c,n+"",t,e,s):void 0,h=void 0===d;if(h){var u=ct(c),f=!u&&Object(lt.a)(c),g=!u&&!f&&bt(c);d=c,u||f||g?ct(a)?d=a:function(t){return m(t)&&At(t)}(a)?d=Et(a):f?(h=!1,d=Object(Mt.a)(c,!0)):g?(h=!1,d=ie(c,!0)):d=[]:_(c)||at(c)?(d=a,at(a)?d=function(t){return nt(t,St(t))}(a):P(a)&&!S(a)||(d=ae(c))):h=!1}h&&(s.set(c,d),o(d,c,i,r,s),s.delete(c)),gn(t,n,d)}},kn=function t(e,n,i,o,r){e!==n&&pn(n,(function(s,a){if(r||(r=new J),P(s))wn(e,n,a,i,t,o,r);else{var c=o?o(bn(e,a),s,a+"",e,n,r):void 0;void 0===c&&(c=s),gn(e,a,c)}}),St)},_n=function(t){return t},vn=Math.max,yn=function(t){return function(){return t}},xn=Z?function(t,e){return Z(t,"toString",{configurable:!0,enumerable:!1,value:yn(e),writable:!0})}:_n,An=Date.now,Cn=function(t){var e=0,n=0;return function(){var i=An(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(xn),Tn=function(t,e){return Cn(function(t,e,n){return e=vn(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,r=vn(i.length-e,0),s=Array(r);++o<r;)s[o]=i[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=i[o];return a[e]=n(s),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(t,e,_n),t+"")},Pn=function(t){return Tn((function(e,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(o--,r):void 0,s&&function(t,e,n){if(!P(n))return!1;var i=typeof e;return!!("number"==i?At(n)&&ht(e,n.length):"string"==i&&e in n)&&v(n[e],t)}(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),e=Object(e);++i<o;){var a=n[i];a&&t(e,a,i,r)}return e}))},Sn=Pn((function(t,e,n){kn(t,e,n)})),Mn=function(t,e,n){return null==t?t:function(t,e,n,i){if(!P(t))return t;for(var o=-1,r=(e=cn(e,t)).length,s=r-1,a=t;null!=a&&++o<r;){var c=dn(e[o]),l=n;if(o!=s){var d=a[c];void 0===(l=i?i(d,c,a):void 0)&&(l=P(d)?d:ht(e[o+1])?[]:{})}et(a,c,l),a=a[c]}return t}(t,e,n)};class En{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=Array.from(function(t){let e=null,n=0,i=0,o=null;const r=new Map;if(""===t)return r;";"!=t.charAt(t.length-1)&&(t+=";");for(let s=0;s<t.length;s++){const a=t.charAt(s);if(null===e)switch(a){case":":o||(o=t.substr(n,s-n),i=s+1);break;case'"':case"'":e=a;break;case";":{const e=t.substr(i,s-i);o&&r.set(o.trim(),e.trim()),o=null,n=s+1;break}}else a===e&&(e=null)}return r}(t).entries());for(const[t,n]of e)this._styleProcessor.toNormalizedForm(t,n,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find((([e])=>e===t));return Array.isArray(e)}set(t,e){if(P(t))for(const[e,n]of Object.entries(t))this._styleProcessor.toNormalizedForm(e,n,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=Nn(t);(function(t,e){null==t||fn(t,e)})(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map((t=>t.join(":"))).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!P(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find((([e])=>e===t));return Array.isArray(e)?e[1]:void 0}getStyleNames(){return this.isEmpty?[]:this._getStylesEntries().map((([t])=>t))}clear(){this._styles={}}_getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),i=mn(this._styles,n);i&&!Array.from(Object.keys(i)).length&&this.remove(n)}}class In{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(P(e))On(n,Nn(t),e);else if(this._normalizers.has(t)){const i=this._normalizers.get(t),{path:o,value:r}=i(e);On(n,o,r)}else On(n,t,e)}getNormalized(t,e){if(!t)return Sn({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if("string"==typeof n)return mn(e,n);const i=n(t,e);if(i)return i}return mn(e,Nn(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function Nn(t){return t.replace("-",".")}function On(t,e,n){let i=n;P(n)&&(i=Sn({},mn(t,e),n)),Mn(t,e,i)}class Rn extends Ue{constructor(t,e,n,i){if(super(t),this.name=e,this._attrs=function(t){t=Ye(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");Dn(this._classes,t),this._attrs.delete("class")}this._styles=new En(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(t,e=null){const n=t.replace(/^view:/,"");return e?"element"==n&&e==this.name:"element"==n||n==this.name||super.is(t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Rn))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new $e(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map((t=>`${t[0]}="${t[1]}"`)).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":` ${n}`)}_clone(t=!1){const e=[];if(t)for(const n of this.getChildren())e.push(n._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t,e){return"string"==typeof e?[new He(t,e)]:(We(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new He(t,e):e instanceof qe?new He(t,e.data):e)))}(this.document,e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,e.document=this.document,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?Dn(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach((t=>this._classes.add(t)))}_removeClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach((t=>this._classes.delete(t)))}_setStyle(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach((t=>this._styles.remove(t)))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Dn(t,e){const n=e.split(/\s+/);t.clear(),n.forEach((e=>t.add(e)))}class Ln extends Rn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=jn}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"containerElement"==n&&e==this.name||super.is(t,e):"containerElement"==n||super.is(t)}}function jn(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const e of t)if(!e.is("uiElement"))return null;return this.childCount}var Vn=Pn((function(t,e){nt(e,St(e),t)}));const zn=Symbol("observableProperties"),Bn=Symbol("boundObservables"),Fn=Symbol("boundProperties"),Un={set(t,e){if(P(t))return void Object.keys(t).forEach((e=>{this.set(e,t[e])}),this);qn(this);const n=this[zn];if(t in this&&!n.has(t))throw new xe.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const i=n.get(t);let o=this.fire("set:"+t,t,e,i);void 0===o&&(o=e),i===o&&n.has(t)||(n.set(t,o),this.fire("change:"+t,t,o,i))}}),this[t]=e},bind(...t){if(!t.length||!$n(t))throw new xe.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(t).size!==t.length)throw new xe.b("observable-bind-duplicate-properties: Properties must be unique.",this);qn(this);const e=this[Fn];t.forEach((t=>{if(e.has(t))throw new xe.b("observable-bind-rebind: Cannot bind the same property more than once.",this)}));const n=new Map;return t.forEach((t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)})),{to:Wn,toMany:Yn,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!(zn in this))return;const e=this[Fn],n=this[Bn];if(t.length){if(!$n(t))throw new xe.b("observable-unbind-wrong-properties: Properties must be strings.",this);t.forEach((t=>{const i=e.get(t);if(!i)return;let o,r,s,a;i.to.forEach((t=>{o=t[0],r=t[1],s=n.get(o),a=s[r],a.delete(i),a.size||delete s[r],Object.keys(s).length||(n.delete(o),this.stopListening(o,"change"))})),e.delete(t)}))}else n.forEach(((t,e)=>{this.stopListening(e,"change")})),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new xe.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:t});this.on(t,((t,n)=>{t.return=e.apply(this,n)})),this[t]=function(...e){return this.fire(t,e)}}};Vn(Un,Te);var Hn=Un;function qn(t){zn in t||(Object.defineProperty(t,zn,{value:new Map}),Object.defineProperty(t,Bn,{value:new Map}),Object.defineProperty(t,Fn,{value:new Map}))}function Wn(...t){const e=function(...t){if(!t.length)throw new xe.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);const e={to:[]};let n;return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach((t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new xe.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);n={observable:t,properties:[]},e.to.push(n)}})),e}(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new xe.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(i>1&&e.callback)throw new xe.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var o;e.to.forEach((t=>{if(t.properties.length&&t.properties.length!==i)throw new xe.b("observable-bind-to-properties-length: The number of properties must match.",this);t.properties.length||(t.properties=this._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),o=this._observable,this._to.forEach((t=>{const e=o[Bn];let n;e.get(t.observable)||o.listenTo(t.observable,"change",((i,r)=>{n=e.get(t.observable)[r],n&&n.forEach((t=>{Gn(o,t.property)}))}))})),function(t){let e;t._bindings.forEach(((n,i)=>{t._to.forEach((o=>{e=o.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([o.observable,e]),function(t,e,n,i){const o=t[Bn],r=o.get(n),s=r||{};s[i]||(s[i]=new Set),s[i].add(e),r||o.set(n,s)}(t._observable,n,o.observable,e)}))}))}(this),this._bindProperties.forEach((t=>{Gn(this._observable,t)}))}function Yn(t,e,n){if(this._bindings.size>1)throw new xe.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to(...function(t,e){const n=t.map((t=>[t,e]));return Array.prototype.concat.apply([],n)}(t,e),n)}function $n(t){return t.every((t=>"string"==typeof t))}function Gn(t,e){const n=t[Fn].get(e);let i;n.callback?i=n.callback.apply(t,n.to.map((t=>t[0][t[1]]))):(i=n.to[0],i=i[0][i[1]]),t.hasOwnProperty(e)?t[e]=i:t.set(e,i)}class Qn extends Ln{constructor(t,e,n,i){super(t,e,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",(e=>e&&t.selection.editableElement==this)),this.listenTo(t.selection,"change",(()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this}))}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"editableElement"==n&&e==this.name||super.is(t,e):"editableElement"==n||super.is(t)}destroy(){this.stopListening()}}Oe(Qn,Hn);const Kn=Symbol("rootName");class Jn extends Qn{constructor(t,e){super(t,e),this.rootName="main"}is(t,e=null){const n=t.replace(/^view:/,"");return e?"rootElement"==n&&e==this.name||super.is(t,e):"rootElement"==n||super.is(t)}get rootName(){return this.getCustomProperty(Kn)}set rootName(t){this._setCustomProperty(Kn,t)}set _name(t){this.name=t}}class Zn{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new xe.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new xe.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=Xn._createAt(t.startPosition):this.position=Xn._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,i;do{i=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let i;if(n instanceof He){if(t.isAtEnd)return this.position=Xn._createAfter(n),this._next();i=n.data[t.offset]}else i=n.getChild(t.offset);if(i instanceof Rn)return this.shallow?t.offset++:t=new Xn(i,0),this.position=t,this._formatReturnValue("elementStart",i,e,t,1);if(i instanceof He){if(this.singleCharacters)return t=new Xn(i,0),this.position=t,this._next();{let n,o=i.data.length;return i==this._boundaryEndParent?(o=this.boundaries.end.offset,n=new qe(i,0,o),t=Xn._createAfter(n)):(n=new qe(i,0,i.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,o)}}if("string"==typeof i){let i;i=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const o=new qe(n,t.offset,i);return t.offset+=i,this.position=t,this._formatReturnValue("text",o,e,t,i)}return t=Xn._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let i;if(n instanceof He){if(t.isAtStart)return this.position=Xn._createBefore(n),this._previous();i=n.data[t.offset-1]}else i=n.getChild(t.offset-1);if(i instanceof Rn)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",i,e,t,1)):(t=new Xn(i,i.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,e,t));if(i instanceof He){if(this.singleCharacters)return t=new Xn(i,i.data.length),this.position=t,this._previous();{let n,o=i.data.length;if(i==this._boundaryStartParent){const e=this.boundaries.start.offset;n=new qe(i,e,i.data.length-e),o=n.data.length,t=Xn._createBefore(n)}else n=new qe(i,0,i.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,o)}}if("string"==typeof i){let i;if(this.singleCharacters)i=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=t.offset-e}t.offset-=i;const o=new qe(n,t.offset,i);return this.position=t,this._formatReturnValue("text",o,e,t,i)}return t=Xn._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,o){return e instanceof qe&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Xn._createAfter(e.textNode):(i=Xn._createAfter(e.textNode),this.position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Xn._createBefore(e.textNode):(i=Xn._createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:o}}}}class Xn{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Qn);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=Xn._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Zn(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}is(t){return"position"==t||"view:position"==t}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=Be(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Zn(t)}clone(){return new Xn(this.parent,this.offset)}static _createAt(t,e){if(t instanceof Xn)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new xe.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",n)}return new Xn(n,e)}}static _createAfter(t){if(t.is("textProxy"))return new Xn(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new xe.b("view-position-after-root: You can not make position after root.",t,{root:t});return new Xn(t.parent,t.index+1)}static _createBefore(t){if(t.is("textProxy"))return new Xn(t.textNode,t.offsetInText);if(!t.parent)throw new xe.b("view-position-before-root: You can not make position before root.",t,{root:t});return new Xn(t.parent,t.index)}}class ti{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new Zn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(ei,{direction:"backward"}),e=this.end.getLastMatchingPosition(ei);return t.parent.is("text")&&t.isAtStart&&(t=Xn._createBefore(t.parent)),e.parent.is("text")&&e.isAtEnd&&(e=Xn._createAfter(e.parent)),new ti(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(ei);if(t.isAfter(this.end)||t.isEqual(this.end))return new ti(t,t);let e=this.end.getLastMatchingPosition(ei,{direction:"backward"});const n=t.nodeAfter,i=e.nodeBefore;return n&&n.is("text")&&(t=new Xn(n,0)),i&&i.is("text")&&(e=new Xn(i,i.data.length)),new ti(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new ti(this.start,t.start)),this.containsPosition(t.end)&&e.push(new ti(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new ti(e,n)}return null}getWalker(t={}){return t.boundaries=this,new Zn(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new ti(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Zn(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new Zn(t);yield e.position;for(const t of e)yield t.nextPosition}is(t){return"range"==t||"view:range"==t}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,i){return new this(new Xn(t,e),new Xn(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(Xn._createBefore(t),e)}}function ei(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function ni(t){let e=0;for(const n of t)e++;return e}class ii{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=ni(this.getRanges());if(e!=ni(t.getRanges()))return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let n=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),e.start.isEqual(i.start)&&e.end.isEqual(i.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof ii||t instanceof oi)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ti)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof Xn)this._setRanges([new ti(t)]),this._setFakeOptions(e);else if(t instanceof Ue){const i=!!n&&!!n.backward;let o;if(void 0===e)throw new xe.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);o="in"==e?ti._createIn(t):"on"==e?ti._createOn(t):new ti(Xn._createAt(t,e)),this._setRanges([o],i),this._setFakeOptions(n)}else{if(!We(t))throw new xe.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new xe.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);const n=Xn._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new ti(n,i),!0):this._addRange(new ti(i,n)),this.fire("change")}is(t){return"selection"==t||"view:selection"==t}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const e of t)this._addRange(e);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof ti))throw new xe.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new xe.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:t,intersectingRange:e});this._ranges.push(new ti(t.start,t.end))}}Oe(ii,Te);class oi{constructor(t=null,e,n){this._selection=new ii,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return"selection"==t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}Oe(oi,Te);class ri{constructor(t){this.selection=new oi,this.roots=new Re({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map((t=>t.destroy())),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}Oe(ri,Hn);class si extends Rn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=ai,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new xe.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"attributeElement"==n&&e==this.name||super.is(t,e):"attributeElement"==n||super.is(t)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function ai(){if(ci(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(ci(t)>1)return null;t=t.parent}return!t||ci(t)>1?null:this.childCount}function ci(t){return Array.from(t.getChildren()).filter((t=>!t.is("uiElement"))).length}si.DEFAULT_PRIORITY=10;class li extends Rn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=di}is(t,e=null){const n=t.replace(/^view:/,"");return e?"emptyElement"==n&&e==this.name||super.is(t,e):"emptyElement"==n||super.is(t)}_insertChild(t,e){if(e&&(e instanceof Ue||Array.from(e).length>0))throw new xe.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,e])}}function di(){return null}const hi=navigator.userAgent.toLowerCase();var ui={isMac:function(t){return t.indexOf("macintosh")>-1}(hi),isEdge:function(t){return!!t.match(/edge\/(\d+.?\d*)/)}(hi),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(hi),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(hi),isAndroid:function(t){return t.indexOf("android")>-1}(hi),features:{isRegExpUnicodePropertySupported:function(){let t=!1;try{t=0==="Ä".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}};const fi={"â":"ctrl","â§":"shift","âĽ":"alt"},mi={ctrl:"â",shift:"â§",alt:"âĽ"},gi=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++){t[String.fromCharCode(e).toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}();function pi(t){let e;if("string"==typeof t){if(e=gi[t.toLowerCase()],!e)throw new xe.b("keyboard-unknown-key: Unknown key name.",null,{key:t})}else e=t.keyCode+(t.altKey?gi.alt:0)+(t.ctrlKey?gi.ctrl:0)+(t.shiftKey?gi.shift:0);return e}function bi(t){return"string"==typeof t&&(t=ki(t)),t.map((t=>"string"==typeof t?pi(t):t)).reduce(((t,e)=>e+t),0)}function wi(t){return ui.isMac?ki(t).map((t=>mi[t.toLowerCase()]||t)).reduce(((t,e)=>t.slice(-1)in fi?t+e:t+"+"+e)):t}function ki(t){return t.split(/\s*\+\s*/)}class _i extends Rn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=vi}is(t,e=null){const n=t.replace(/^view:/,"");return e?"uiElement"==n&&e==this.name||super.is(t,e):"uiElement"==n||super.is(t)}_insertChild(t,e){if(e&&(e instanceof Ue||Array.from(e).length>0))throw new xe.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}function vi(){return null}class yi{constructor(t,e){this.document=t,this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t||"view:documentFragment"==t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t,e){return"string"==typeof e?[new He(t,e)]:(We(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new He(t,e):e instanceof qe?new He(t,e.data):e)))}(this.document,e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}Oe(yi,Te);class xi{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new He(this.document,t)}createAttributeElement(t,e,n={}){const i=new si(this.document,t,e);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}createContainerElement(t,e){return new Ln(this.document,t,e)}createEditableElement(t,e){const n=new Qn(this.document,t,e);return n._document=this.document,n}createEmptyElement(t,e){return new li(this.document,t,e)}createUIElement(t,e,n){const i=new _i(this.document,t,e);return n&&(i.render=n),i}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){_(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof Xn?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new xe.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!e.parent)throw new xe.b("view-writer-break-root: Trying to break root element.",this.document);if(t.isAtStart)return Xn._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(Xn._createAfter(e),n);const i=new ti(t,Xn._createAt(e,"end")),o=new Xn(n,0);this.move(i,o)}return Xn._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Xn(t,e))}const i=n.getChild(e-1),o=n.getChild(e);if(!i||!o)return t;if(i.is("text")&&o.is("text"))return Si(i,o);if(i.is("attributeElement")&&o.is("attributeElement")&&i.isSimilar(o)){const t=i.childCount;return i._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Xn(i,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new xe.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);const i=e.getChild(e.childCount-1),o=i instanceof He?Xn._createAt(i,"end"):Xn._createAt(e,"end");return this.move(ti._createIn(n),Xn._createAt(e,"end")),this.remove(ti._createOn(n)),o}insert(t,e){!function t(e,n){for(const i of e){if(!Mi.some((t=>i instanceof t)))throw new xe.b("view-writer-insert-invalid-node",n);i.is("text")||t(i.getChildren(),n)}}(e=We(e)?[...e]:[e],this.document);const n=Ai(t);if(!n)throw new xe.b("view-writer-invalid-position-container",this.document);const i=this._breakAttributes(t,!0),o=n._insertChild(i.offset,e);for(const t of e)this._addToClonedElementsGroup(t);const r=i.getShiftedBy(o),s=this.mergeAttributes(i);if(0===o)return new ti(s,s);{s.isEqual(i)||r.offset--;const t=this.mergeAttributes(r);return new ti(s,t)}}remove(t){const e=t instanceof ti?t:ti._createOn(t);if(Ii(e,this.document),e.isCollapsed)return new yi(this.document);const{start:n,end:i}=this._breakAttributesRange(e,!0),o=n.parent,r=i.offset-n.offset,s=o._removeChildren(n.offset,r);for(const t of s)this._removeFromClonedElementsGroup(t);const a=this.mergeAttributes(n);return e.start=a,e.end=a.clone(),new yi(this.document,s)}clear(t,e){Ii(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let o;if(n.is("element")&&e.isSimilar(n))o=ti._createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is("textProxy")){const t=n.getAncestors().find((t=>t.is("element")&&e.isSimilar(t)));t&&(o=ti._createIn(t))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,o=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-o}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof si))throw new xe.b("view-writer-wrap-invalid-attribute",this.document);if(Ii(t,this.document),t.isCollapsed){let i=t.start;i.parent.is("element")&&(n=i.parent,!Array.from(n.getChildren()).some((t=>!t.is("uiElement"))))&&(i=i.getLastMatchingPosition((t=>t.item.is("uiElement")))),i=this._wrapPosition(i,e);const o=this.document.selection;return o.isCollapsed&&o.getFirstPosition().isEqual(t.start)&&this.setSelection(i),new ti(i)}return this._wrapRange(t,e);var n}unwrap(t,e){if(!(e instanceof si))throw new xe.b("view-writer-unwrap-invalid-attribute",this.document);if(Ii(t,this.document),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,r=this._unwrapChildren(o,n.offset,i.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new ti(s,a)}rename(t,e){const n=new Ln(this.document,t,e.getAttributes());return this.insert(Xn._createAfter(e),n),this.move(ti._createIn(e),Xn._createAt(n,0)),this.remove(ti._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return Xn._createAt(t,e)}createPositionAfter(t){return Xn._createAfter(t)}createPositionBefore(t){return Xn._createBefore(t)}createRange(t,e){return new ti(t,e)}createRangeOn(t){return ti._createOn(t)}createRangeIn(t){return ti._createIn(t)}createSelection(t,e,n){return new ii(t,e,n)}_wrapChildren(t,e,n,i){let o=e;const r=[];for(;o<n;){const e=t.getChild(o),n=e.is("text"),s=e.is("attributeElement"),a=e.is("emptyElement"),c=e.is("uiElement");if(s&&this._wrapAttributeElement(i,e))r.push(new Xn(t,o));else if(n||a||c||s&&Ci(i,e)){const n=i._clone();e._remove(),n._appendChild(e),t._insertChild(o,n),this._addToClonedElementsGroup(n),r.push(new Xn(t,o))}else s&&this._wrapChildren(e,0,e.childCount,i);o++}let s=0;for(const t of r)t.offset-=s,t.offset!=e&&(this.mergeAttributes(t).isEqual(t)||(s++,n--));return ti._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,i){let o=e;const r=[];for(;o<n;){const e=t.getChild(o);if(e.is("attributeElement"))if(e.isSimilar(i)){const i=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(o,i),this._removeFromClonedElementsGroup(e),r.push(new Xn(t,o),new Xn(t,o+s)),o+=s,n+=s-1}else this._unwrapAttributeElement(i,e)?(r.push(new Xn(t,o),new Xn(t,o+1)),o++):(this._unwrapChildren(e,0,e.childCount,i),o++);else o++}let s=0;for(const t of r)t.offset-=s,t.offset!=e&&t.offset!=n&&(this.mergeAttributes(t).isEqual(t)||(s++,n--));return ti._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,r=this._wrapChildren(o,n.offset,i.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new ti(s,a)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Ti(t.clone());t.parent.is("text")&&(t=Pi(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const i=new ti(t,t.getShiftedBy(1));this.wrap(i,e);const o=new Xn(n.parent,n.index);n._remove();const r=o.nodeBefore,s=o.nodeAfter;return r instanceof He&&s instanceof He?Si(r,s):Ti(o)}_wrapAttributeElement(t,e){if(!Ni(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!Ni(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(Ii(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new ti(n,n)}const o=this._breakAttributes(i,e),r=o.parent.childCount,s=this._breakAttributes(n,e);return o.offset+=o.parent.childCount-r,new ti(s,o)}_breakAttributes(t,e=!1){const n=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new xe.b("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new xe.b("view-writer-cannot-break-ui-element",this.document);if(!e&&i.is("text")&&Ei(i.parent))return t.clone();if(Ei(i))return t.clone();if(i.is("text"))return this._breakAttributes(Pi(t),e);if(n==i.childCount){const t=new Xn(i.parent,i.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new Xn(i.parent,i.index);return this._breakAttributes(t,e)}{const t=i.index+1,o=i._clone();i.parent._insertChild(t,o),this._addToClonedElementsGroup(o);const r=i.childCount-n,s=i._removeChildren(n,r);o._appendChild(s);const a=new Xn(i.parent,t);return this._breakAttributes(a,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const e of t.getChildren())this._addToClonedElementsGroup(e);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const e of t.getChildren())this._removeFromClonedElementsGroup(e);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function Ai(t){let e=t.parent;for(;!Ei(e);){if(!e)return;e=e.parent}return e}function Ci(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function Ti(t){const e=t.nodeBefore;if(e&&e.is("text"))return new Xn(e,e.data.length);const n=t.nodeAfter;return n&&n.is("text")?new Xn(n,0):t}function Pi(t){if(t.offset==t.parent.data.length)return new Xn(t.parent.parent,t.parent.index+1);if(0===t.offset)return new Xn(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new He(t.root.document,e)),new Xn(t.parent.parent,t.parent.index+1)}function Si(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new Xn(t,n)}const Mi=[He,si,Ln,li,_i];function Ei(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Ii(t,e){const n=Ai(t.start),i=Ai(t.end);if(!n||!i||n!==i)throw new xe.b("view-writer-invalid-range-container",e)}function Ni(t,e){return null===t.id&&null===e.id}function Oi(t){return"[object Text]"==Object.prototype.toString.call(t)}const Ri=t=>t.createTextNode("Â "),Di=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},Li=(()=>{let t="";for(let e=0;e<7;e++)t+="â";return t})();function ji(t){return Oi(t)&&t.data.substr(0,7)===Li}function Vi(t){return 7==t.data.length&&ji(t)}function zi(t){return ji(t)?t.data.slice(7):t.data}function Bi(t,e){if(e.keyCode==gi.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;ji(e)&&n<=7&&t.collapse(e,0)}}}function Fi(t,e,n,i=!1){n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.from(t)),Array.isArray(e)||(e=Array.from(e));const o=function(t,e,n){const i=Ui(t,e,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=Ui(Hi(t,i),Hi(e,i),n);return{firstIndex:i,lastIndexOld:t.length-o,lastIndexNew:e.length-o}}(t,e,n);return i?function(t,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:o}=t;if(-1===n)return Array(e).fill("equal");let r=[];return n>0&&(r=r.concat(Array(n).fill("equal"))),o-n>0&&(r=r.concat(Array(o-n).fill("insert"))),i-n>0&&(r=r.concat(Array(i-n).fill("delete"))),o<e&&(r=r.concat(Array(e-o).fill("equal"))),r}(o,e.length):function(t,e){const n=[],{firstIndex:i,lastIndexOld:o,lastIndexNew:r}=e;return r-i>0&&n.push({index:i,type:"insert",values:t.slice(i,r)}),o-i>0&&n.push({index:i+(r-i),type:"delete",howMany:o-i}),n}(e,o)}function Ui(t,e,n){for(let i=0;i<Math.max(t.length,e.length);i++)if(void 0===t[i]||void 0===e[i]||!n(t[i],e[i]))return i;return-1}function Hi(t,e){return t.slice(e).reverse()}function qi(t,e,n){n=n||function(t,e){return t===e};const i=t.length,o=e.length;if(i>200||o>200||i+o>300)return qi.fastDiff(t,e,n,!0);let r,s;if(o<i){const n=t;t=e,e=n,r="delete",s="insert"}else r="insert",s="delete";const a=t.length,c=e.length,l=c-a,d={},h={};function u(i){const o=(void 0!==h[i-1]?h[i-1]:-1)+1,l=void 0!==h[i+1]?h[i+1]:-1,u=o>l?-1:1;d[i+u]&&(d[i]=d[i+u].slice(0)),d[i]||(d[i]=[]),d[i].push(o>l?r:s);let f=Math.max(o,l),m=f-i;for(;m<a&&f<c&&n(t[m],e[f]);)m++,f++,d[i].push("equal");return f}let f,m=0;do{for(f=-m;f<l;f++)h[f]=u(f);for(f=l+m;f>l;f--)h[f]=u(f);h[l]=u(l),m++}while(h[l]!==c);return d[l].slice(1)}function Wi(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Yi(t){const e=t.parentNode;e&&e.removeChild(t)}function $i(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}qi.fastDiff=Fi;class Gi{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new xe.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(e)}}}render(){let t;for(const t of this.markedChildren)this._updateChildrenMappings(t);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const t of this.markedAttributes)this._updateAttrs(t);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;ji(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=Qi(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(n,i),r=this._findReplaceActions(o,n,i);if(-1!==r.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const o of r)if("replace"===o){const o=e.equal+e.insert,r=e.equal+e.delete,s=t.getChild(o);s&&!s.is("uiElement")&&this._updateElementMappings(s,n[r]),Yi(i[o]),e.equal++}else e[o]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("text")?Xn._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Oi(e.parent)&&ji(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!ji(t))throw new xe.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Vi(t)?t.parentNode.removeChild(t):t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor((t=>t.hasAttribute("contenteditable")));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;const i=t.nodeBefore,o=t.nodeAfter;return!(i instanceof He||o instanceof He)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),o=n.data;let r=i.data;const s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(r=Li+r),o!=r){const t=Fi(o,r);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map((t=>t.name)),i=t.getAttributeKeys();for(const n of i)e.setAttribute(n,t.getAttribute(n));for(const i of n)t.hasAttribute(i)||e.removeAttribute(i)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const i=e.inlineFillerPosition,o=this.domConverter.mapViewToDom(t).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&Qi(n.ownerDocument,r,i.offset);const s=this._diffNodeLists(o,r);let a=0;const c=new Set;for(const t of s)"delete"===t?(c.add(o[a]),Yi(o[a])):"equal"===t&&a++;a=0;for(const t of s)"insert"===t?(Wi(n,a,r[a]),a++):"equal"===t&&(this._markDescendantTextToSync(this.domConverter.domToView(r[a])),a++);for(const t of c)t.parentNode||this.domConverter.unbindDomElement(t)}_diffNodeLists(t,e){return qi(t=function(t,e){const n=Array.from(t);return 0!=n.length&&e?(n[n.length-1]==e&&n.pop(),n):n}(t,this._fakeSelectionContainer),e,Ji.bind(null,this.domConverter))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],o=[],r=[];const s={equal:0,insert:0,delete:0};for(const a of t)"insert"===a?r.push(n[s.equal+s.insert]):"delete"===a?o.push(e[s.equal+s.delete]):(i=i.concat(qi(o,r,Ki).map((t=>"equal"===t?"replace":t))),i.push("equal"),o=[],r=[]),s[a]++;return i.concat(qi(o,r,Ki).map((t=>"equal"===t?"replace":t)))}_markDescendantTextToSync(t){if(t)if(t.is("text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="Â ",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"Â ";const i=e.getSelection(),o=e.createRange();i.removeAllRanges(),o.selectNodeContents(n),i.addRange(o)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset),ui.isGecko&&function(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const i=n.childNodes[t.offset];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0))}(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments)if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Qi(t,e,n){const i=e instanceof Array?e:e.childNodes,o=i[n];if(Oi(o))return o.data=Li+o.data,o;{const o=t.createTextNode(Li);return Array.isArray(e)?i.splice(n,0,o):Wi(e,n,o),o}}function Ki(t,e){return $i(t)&&$i(e)&&!Oi(t)&&!Oi(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function Ji(t,e,n){return e===n||(Oi(e)&&Oi(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}Oe(Gi,Hn);var Zi={window:window,document:document};function Xi(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function to(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}const eo=Di(document);class no{constructor(t,e={}){this.document=t,this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?Di:Ri,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new ii(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.childNodes))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let i;if(t.is("documentFragment"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is("uiElement"))return i=t.render(e),n.bind&&this.bindElements(i,t),i;i=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),n.bind&&this.bindElements(i,t);for(const e of t.getAttributeKeys())i.setAttribute(e,t.getAttribute(e))}if(n.withChildren||void 0===n.withChildren)for(const o of this.viewChildrenToDom(t,e,n))i.appendChild(o);return i}}*viewChildrenToDom(t,e,n={}){const i=t.getFillerOffset&&t.getFillerOffset();let o=0;for(const r of t.getChildren())i===o&&(yield this._blockFiller(e)),yield this.viewToDom(r,e,n),o++;i===o&&(yield this._blockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return ji(n)&&(i+=7),{parent:n,offset:i}}{let n,i,o;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;o=n.childNodes[0]}else{const e=t.nodeBefore;if(i=e.is("text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore),!i)return null;n=i.parentNode,o=i.nextSibling}return Oi(o)&&ji(o)?{parent:o,offset:7}:{parent:n,offset:i?Xi(i)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t,this.blockFillerMode))return null;const n=this.getParentUIElement(t,this._domToViewMapping);if(n)return n;if(Oi(t)){if(Vi(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new He(this.document,e)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new yi(this.document),e.bind&&this.bindDocumentFragments(t,n);else{const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new Rn(this.document,i),e.bind&&this.bindElements(t,n);const o=t.attributes;for(let t=o.length-1;t>=0;t--)n._setAttribute(o[t].name,o[t].value)}if(e.withChildren||void 0===e.withChildren)for(const i of this.domChildrenToView(t,e))n._appendChild(i);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n],o=this.domToView(i,e);null!==o&&(yield o)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Oi(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let e=0;e<t.rangeCount;e++){const i=t.getRangeAt(e),o=this.domRangeToView(i);o&&n.push(o)}return new ii(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new ti(e,n):null}domPositionToView(t,e){if(this.isBlockFiller(t,this.blockFillerMode))return this.domPositionToView(t.parentNode,Xi(t));const n=this.mapDomToView(t);if(n&&n.is("uiElement"))return Xn._createBefore(n);if(Oi(t)){if(Vi(t))return this.domPositionToView(t.parentNode,Xi(t));const n=this.findCorrespondingViewText(t);let i=e;return n?(ji(t)&&(i-=7,i=i<0?0:i),new Xn(n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new Xn(e,0)}else{const n=t.childNodes[e-1],i=Oi(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new Xn(i.parent,i.index+1)}return null}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Vi(t))return null;const e=this.getParentUIElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t)return t.nextSibling instanceof He?t.nextSibling:null}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof He?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=Zi.window,i=[];oo(e,(t=>{const{scrollLeft:e,scrollTop:n}=t;i.push([e,n])})),e.focus(),oo(e,(t=>{const[e,n]=i.shift();t.scrollLeft=e,t.scrollTop=n})),Zi.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(eo):!("BR"!==t.tagName||!ro(t,this.blockElements)||1!==t.parentNode.childNodes.length)||function(t,e){return Oi(t)&&"Â "==t.data&&ro(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getParentUIElement(t){const e=to(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&n.is("uiElement"))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(Oi(t)&&ji(t)&&e<7)return!1;if(this.isElement(t)&&ji(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some((t=>this.preElements.includes(t.name))))return e;if(" "==e.charAt(0)){const n=this._getTouchingViewTextNode(t,!1);(!n||!this._nodeEndsWithSpace(n))&&n||(e="Â "+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingViewTextNode(t,!0);" "!=e.charAt(e.length-2)&&n&&" "!=n.data.charAt(0)||(e=e.substr(0,e.length-1)+"Â ")}return e.replace(/ {2}/g," Â ")}_nodeEndsWithSpace(t){if(t.getAncestors().some((t=>this.preElements.includes(t.name))))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(io(t,this.preElements))return zi(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),o=this._checkShouldLeftTrimDomText(n),r=this._checkShouldRightTrimDomText(t,i);return o&&(e=e.replace(/^ /,"")),r&&(e=e.replace(/ $/,"")),e=zi(new Text(e)),e=e.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(e)||!i||i.data&&" "==i.data.charAt(0))&&(e=e.replace(/\u00A0$/," ")),o&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t){return!t||!!ge(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1))}_checkShouldRightTrimDomText(t,e){return!e&&!ji(t)}_getTouchingViewTextNode(t,e){const n=new Zn({startPosition:e?Xn._createAfter(t):Xn._createBefore(t),direction:e?"forward":"backward"});for(const t of n){if(t.item.is("containerElement"))return null;if(t.item.is("br"))return null;if(t.item.is("textProxy"))return t.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"nextNode":"previousNode",i=t.ownerDocument,o=to(t)[0],r=i.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:t=>Oi(t)||"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});r.currentNode=t;const s=r[n]();if(null!==s){const e=function(t,e){const n=to(t),i=to(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}(t,s);if(e&&!io(t,this.blockElements,e)&&!io(s,this.blockElements,e))return s}return null}}function io(t,e,n){let i=to(t);return n&&(i=i.slice(i.indexOf(n)+1)),i.some((t=>t.tagName&&e.includes(t.tagName.toLowerCase())))}function oo(t,e){for(;t&&t!=Zi.document;)e(t),t=t.parentNode}function ro(t,e){const n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}function so(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}var ao=Vn({},Te,{listenTo(t,...e){if($i(t)||so(t)){const n=this._getProxyEmitter(t)||new co(t);n.attach(...e),t=n}Te.listenTo.call(this,t,...e)},stopListening(t,e,n){if($i(t)||so(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}Te.stopListening.call(this,t,e,n),t instanceof co&&t.detach(e)},_getProxyEmitter(t){return e=this,n=lo(t),e[Ae]&&e[Ae][n]?e[Ae][n].emitter:null;var e,n}});class co{constructor(t){Pe(this,lo(t)),this._domNode=t}}function lo(t){return t["data-ck-expando"]||(t["data-ck-expando"]=ve())}Vn(co.prototype,Te,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=i},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]},n}});class ho{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}Oe(ho,ao);function uo(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Q;++e<n;)this.add(t[e])}uo.prototype.add=uo.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},uo.prototype.has=function(t){return this.__data__.has(t)};var fo=uo,mo=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},go=function(t,e){return t.has(e)},po=function(t,e,n,i,o,r){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=r.get(t);if(l&&r.get(e))return l==e;var d=-1,h=!0,u=2&n?new fo:void 0;for(r.set(t,e),r.set(e,t);++d<a;){var f=t[d],m=e[d];if(i)var g=s?i(m,f,d,e,t,r):i(f,m,d,t,e,r);if(void 0!==g){if(g)continue;h=!1;break}if(u){if(!mo(e,(function(t,e){if(!go(u,e)&&(f===t||o(f,t,n,i,r)))return u.push(e)}))){h=!1;break}}else if(f!==m&&!o(f,m,n,i,r)){h=!1;break}}return r.delete(t),r.delete(e),h},bo=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n},wo=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},ko=o?o.prototype:void 0,_o=ko?ko.valueOf:void 0,vo=Object.prototype.hasOwnProperty,yo=Object.prototype.hasOwnProperty,xo=function(t,e,n,i,o,r){var s=ct(t),a=ct(e),c=s?"[object Array]":Kt(t),l=a?"[object Array]":Kt(e),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),h="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),u=c==l;if(u&&Object(lt.a)(t)){if(!Object(lt.a)(e))return!1;s=!0,d=!1}if(u&&!d)return r||(r=new J),s||bt(t)?po(t,e,n,i,o,r):function(t,e,n,i,o,r,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new Zt(t),new Zt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=bo;case"[object Set]":var c=1&i;if(a||(a=wo),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;i|=2,s.set(t,e);var d=po(a(t),a(e),i,o,r,s);return s.delete(t),d;case"[object Symbol]":if(_o)return _o.call(t)==_o.call(e)}return!1}(t,e,c,n,i,o,r);if(!(1&n)){var f=d&&yo.call(t,"__wrapped__"),m=h&&yo.call(e,"__wrapped__");if(f||m){var g=f?t.value():t,p=m?e.value():e;return r||(r=new J),o(g,p,n,i,r)}}return!!u&&(r||(r=new J),function(t,e,n,i,o,r){var s=1&n,a=Vt(t),c=a.length;if(c!=Vt(e).length&&!s)return!1;for(var l=c;l--;){var d=a[l];if(!(s?d in e:vo.call(e,d)))return!1}var h=r.get(t);if(h&&r.get(e))return h==e;var u=!0;r.set(t,e),r.set(e,t);for(var f=s;++l<c;){var m=t[d=a[l]],g=e[d];if(i)var p=s?i(g,m,d,e,t,r):i(m,g,d,t,e,r);if(!(void 0===p?m===g||o(m,g,n,i,r):p)){u=!1;break}f||(f="constructor"==d)}if(u&&!f){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(u=!1)}return r.delete(t),r.delete(e),u}(t,e,n,i,o,r))},Ao=function t(e,n,i,o,r){return e===n||(null==e||null==n||!m(e)&&!m(n)?e!=e&&n!=n:xo(e,n,i,o,t,r))},Co=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?Ao(t,e,void 0,n):!!i};class To extends ho{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,i=new Set;for(const n of t)if("childList"===n.type){const t=e.mapDomToView(n.target);if(t&&t.is("uiElement"))continue;t&&!this._isBogusBrMutation(n)&&i.add(t)}for(const o of t){const t=e.mapDomToView(o.target);if(!(t&&t.is("uiElement")||"characterData"!==o.type)){const t=e.findCorrespondingViewText(o.target);t&&!i.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:zi(o.target),node:t}):!t&&ji(o.target)&&i.add(e.mapDomToView(o.target.parentNode))}}const o=[];for(const t of n.values())this.renderer.markToSync("text",t.node),o.push(t);for(const t of i){const n=e.mapViewToDom(t),i=Array.from(t.getChildren()),r=Array.from(e.domChildrenToView(n,{withChildren:!1}));Co(i,r,a)||(this.renderer.markToSync("children",t),o.push({type:"children",oldChildren:i,newChildren:r,node:t}))}const r=t[0].target.ownerDocument.getSelection();let s=null;if(r&&r.anchorNode){const t=e.domPositionToView(r.anchorNode,r.anchorOffset),n=e.domPositionToView(r.focusNode,r.focusOffset);t&&n&&(s=new ii(t),s.setFocus(n))}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is("text")||!e.is("text"))&&t.data===e.data}o.length&&(this.document.fire("mutations",o,s),this.view.forceRender())}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}class Po{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Vn(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class So extends ho{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((e=>{this.listenTo(t,e,((t,e)=>{this.isEnabled&&this.onDomEvent(e)}),{useCapture:this.useCapture})}))}fire(t,e,n){this.isEnabled&&this.document.fire(t,new Po(this.view,e,n))}}class Mo extends So{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return pi(this)}})}}var Eo=function(){return i.a.Date.now()},Io=/^\s+|\s+$/g,No=/^[-+]0x[0-9a-f]+$/i,Oo=/^0b[01]+$/i,Ro=/^0o[0-7]+$/i,Do=parseInt,Lo=function(t){if("number"==typeof t)return t;if(Qe(t))return NaN;if(P(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=P(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Io,"");var n=Oo.test(t);return n||Ro.test(t)?Do(t.slice(2),n?2:8):No.test(t)?NaN:+t},jo=Math.max,Vo=Math.min,zo=function(t,e,n){var i,o,r,s,a,c,l=0,d=!1,h=!1,u=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=i,r=o;return i=o=void 0,l=e,s=t.apply(r,n)}function m(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-l>=r}function g(){var t=Eo();if(m(t))return p(t);a=setTimeout(g,function(t){var n=e-(t-c);return h?Vo(n,r-(t-l)):n}(t))}function p(t){return a=void 0,u&&i?f(t):(i=o=void 0,s)}function b(){var t=Eo(),n=m(t);if(i=arguments,o=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(g,e),d?f(t):s}(c);if(h)return clearTimeout(a),a=setTimeout(g,e),f(c)}return void 0===a&&(a=setTimeout(g,e)),s}return e=Lo(e)||0,P(n)&&(d=!!n.leading,r=(h="maxWait"in n)?jo(Lo(n.maxWait)||0,e):r,u="trailing"in n?!!n.trailing:u),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=c=o=a=void 0},b.flush=function(){return void 0===a?s:p(Eo())},b};class Bo extends ho{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=zo((t=>this.document.fire("selectionChangeDone",t)),200)}observe(){const t=this.document;t.on("keydown",((e,n)=>{var i;t.selection.isFake&&((i=n.keyCode)==gi.arrowright||i==gi.arrowleft||i==gi.arrowup||i==gi.arrowdown)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))}),{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new ii(e.getRanges(),{backward:e.isBackward,fake:!1});t!=gi.arrowleft&&t!=gi.arrowup||n.setTo(n.getFirstPosition()),t!=gi.arrowright&&t!=gi.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}class Fo extends ho{constructor(t){super(t),this.mutationObserver=t.getObserver(To),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=zo((t=>this.document.fire("selectionChangeDone",t)),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",(()=>{this._handleSelectionChange(e)})),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled)return;this.mutationObserver.flush();const e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(0!=n.rangeCount&&!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(e)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class Uo extends So{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",(()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout((()=>t.forceRender()),50)})),e.on("blur",((n,i)=>{const o=e.selection.editableElement;null!==o&&o!==i.target||(e.isFocused=!1,t.forceRender())}))}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Ho extends So{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",(()=>{e.isComposing=!0})),e.on("compositionend",(()=>{e.isComposing=!1}))}onDomEvent(t){this.fire(t.type,t)}}class qo extends So{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}function Wo(t){return"[object Range]"==Object.prototype.toString.apply(t)}function Yo(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const $o=["top","right","bottom","left","width","height"];class Go{constructor(t){const e=Wo(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),ge(t)||e)Qo(this,e?Go.getDomRangeRects(t)[0]:t.getBoundingClientRect());else if(so(t)){const{innerWidth:e,innerHeight:n}=t;Qo(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else Qo(this,t)}clone(){return new Go(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new Go(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!Ko(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!Ko(n);){const t=new Go(n),i=e.getIntersection(t);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode}}return e}isEqual(t){for(const e of $o)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,i;if(so(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,i=t.getComputedStyle(t.document.documentElement).direction;else{const o=Yo(this._source);e=t.offsetWidth-t.clientWidth-o.left-o.right,n=t.offsetHeight-t.clientHeight-o.top-o.bottom,i=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===i?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const t of n)e.push(new Go(t));else{let n=t.startContainer;Oi(n)&&(n=n.parentNode);const i=new Go(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}}function Qo(t,e){for(const n of $o)t[n]=e[n]}function Ko(t){return!!ge(t)&&t===t.ownerDocument.body}function Jo({target:t,viewportOffset:e=0}){const n=or(t);let i=n,o=null;for(;i;){let r;r=rr(i==n?t:o),Xo(r,(()=>sr(t,i)));const s=sr(t,i);if(Zo(i,s,e),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return}else i=null}}function Zo(t,e,n){const i=e.clone().moveBy(0,n),o=e.clone().moveBy(0,-n),r=new Go(t).excludeScrollbarsAndBorders();if(![o,i].every((t=>r.contains(t)))){let{scrollX:s,scrollY:a}=t;er(o,r)?a-=r.top-e.top+n:tr(i,r)&&(a+=e.bottom-r.bottom+n),nr(e,r)?s-=r.left-e.left+n:ir(e,r)&&(s+=e.right-r.right+n),t.scrollTo(s,a)}}function Xo(t,e){const n=or(t);let i,o;for(;t!=n.document.body;)o=e(),i=new Go(t).excludeScrollbarsAndBorders(),i.contains(o)||(er(o,i)?t.scrollTop-=i.top-o.top:tr(o,i)&&(t.scrollTop+=o.bottom-i.bottom),nr(o,i)?t.scrollLeft-=i.left-o.left:ir(o,i)&&(t.scrollLeft+=o.right-i.right)),t=t.parentNode}function tr(t,e){return t.bottom>e.bottom}function er(t,e){return t.top<e.top}function nr(t,e){return t.left<e.left}function ir(t,e){return t.right>e.right}function or(t){return Wo(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function rr(t){if(Wo(t)){let e=t.commonAncestorContainer;return Oi(e)&&(e=e.parentNode),e}return t.parentNode}function sr(t,e){const n=or(t),i=new Go(t);if(n===e)return i;{let t=n;for(;t!=e;){const e=t.frameElement,n=new Go(e).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),t=t.parent}}return i}Object.assign({},{scrollViewportToShowTarget:Jo,scrollAncestorsToShowTarget:function(t){Xo(rr(t),(()=>new Go(t)))}});class ar{constructor(t){this.document=new ri(t),this.domConverter=new no(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new Gi(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new xi(this.document),this.addObserver(To),this.addObserver(Fo),this.addObserver(Uo),this.addObserver(Mo),this.addObserver(Bo),this.addObserver(Ho),ui.isAndroid&&this.addObserver(qo),this.document.on("keydown",Bi),function(t){t.document.on("keydown",((e,n)=>function(t,e,n){if(e.keyCode==gi.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=t.focusNode,o=t.focusOffset,r=n.domPositionToView(e,o);if(null===r)return;let s=!1;const a=r.getLastMatchingPosition((t=>(t.item.is("uiElement")&&(s=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement")))));if(s){const e=n.viewPositionToDom(a);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,n,t.domConverter)))}(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0}))}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:e,value:o}of Array.from(t.attributes))i[e]=o,"class"===e?this._writer.addClass(o.split(" "),n):this._writer.setAttribute(e,o,n);this._initialDomRootAttributes.set(t,i);const o=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};o(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",((t,e)=>this._renderer.markToSync("children",e))),n.on("change:attributes",((t,e)=>this._renderer.markToSync("attributes",e))),n.on("change:text",((t,e)=>this._renderer.markToSync("text",e))),n.on("change:isReadOnly",(()=>this.change(o))),n.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const n of this._observers.values())n.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach((({name:t})=>e.removeAttribute(t)));const n=this._initialDomRootAttributes.get(e);for(const t in n)e.setAttribute(t,n[t]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[t,n]of this.domRoots)e.observe(n,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&Jo({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new xe.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){xe.b.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change((()=>{}))}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return Xn._createAt(t,e)}createPositionAfter(t){return Xn._createAfter(t)}createPositionBefore(t){return Xn._createBefore(t)}createRange(t,e){return new ti(t,e)}createRangeOn(t){return ti._createOn(t)}createRangeIn(t){return ti._createIn(t)}createSelection(t,e,n){return new ii(t,e,n)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Oe(ar,Hn);class cr{constructor(t){this.parent=null,this._attrs=Ye(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new xe.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new xe.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=Be(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce(((t,e)=>(t[e[0]]=e[1],t)),{})),t}is(t){return"node"==t||"model:node"==t}_clone(){return new cr(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Ye(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}class lr extends cr{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"text"==t||"model:text"==t||super.is(t)}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new lr(this.data,this.getAttributes())}static fromJSON(t){return new lr(t.data,t.attributes)}}class dr{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new xe.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>t.offsetSize)throw new xe.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(t){return"textProxy"==t||"model:textProxy"==t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class hr{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((t,e)=>t+e.offsetSize),0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce(((t,e)=>t+e.offsetSize),0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new xe.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new xe.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const t of e)if(!(t instanceof cr))throw new xe.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this);this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map((t=>t.toJSON()))}}class ur extends cr{constructor(t,e,n){super(e),this.name=t,this._children=new hr,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){const n=t.replace(/^model:/,"");return e?"element"==n&&e==this.name:"element"==n||n==this.name||super.is(t)}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map((t=>t._clone(!0))):null;return new ur(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new lr(t)]:(We(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new lr(t):t instanceof dr?new lr(t.data,t.getAttributes()):t)))}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)n.name?e.push(ur.fromJSON(n)):e.push(lr.fromJSON(n))}return new ur(t.name,t.attributes,e)}}class fr{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new xe.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new xe.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=gr._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,i,o;do{i=this.position,o=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i,this._visitedParent=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeAfter;if(i instanceof ur)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,mr("elementStart",i,t,e,1);if(i instanceof lr){let o;if(this.singleCharacters)o=1;else{let t=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),o=t-e.offset}const r=e.offset-i.startOffset,s=new dr(i,r,o);return e.offset+=o,this.position=e,mr("text",s,t,e,o)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():mr("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeBefore;if(i instanceof ur)return e.offset--,this.shallow?(this.position=e,mr("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():mr("elementEnd",i,t,e));if(i instanceof lr){let o;if(this.singleCharacters)o=1;else{let t=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),o=e.offset-t}const r=e.offset-i.startOffset,s=new dr(i,r-o,o);return e.offset-=o,this.position=e,mr("text",s,t,e,o)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,mr("elementStart",n,t,e,1)}}function mr(t,e,n,i,o){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:o}}}class gr{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new xe.b("model-position-root-invalid: Position root invalid.",t);if(!(e instanceof Array)||0===e.length)throw new xe.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",t,{path:e});e=t.getPath().concat(e),t=t.root,this.root=t,this.path=e,this.stickiness=n}get offset(){return ln(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new xe.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(t.is("text"))throw new xe.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof lr&&t.startOffset<this.offset?t:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=Be(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new fr(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(t){if(this.root!=t.root)return[];const e=Be(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=gr._createAt(this),n=gr._createAt(t);break;case"after":e=gr._createAt(t),n=gr._createAt(this);break;default:return!1}let i=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==i.maxOffset)return!1;e.path=e.path.slice(0,-1),i=i.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(t){return"position"==t||"model:position"==t}hasSameParentAs(t){return this.root===t.root&&"same"==Be(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=gr._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?gr._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=gr._createAt(this);if(this.root!=t.root)return n;if("same"==Be(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==Be(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=gr._createAt(this);if(this.root!=t.root)return n;if("same"==Be(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==Be(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return gr._createAt(this);const i=this._getTransformedByDeletion(t,n);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=gr._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=i.path.concat(this.path.slice(n+1)),i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof gr)return new gr(t.root,t.path,t.stickiness);{const i=t;if("end"==e)e=i.maxOffset;else{if("before"==e)return this._createBefore(i,n);if("after"==e)return this._createAfter(i,n);if(0!==e&&!e)throw new xe.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,t])}if(!i.is("element")&&!i.is("documentFragment"))throw new xe.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,t]);const o=i.getPath();return o.push(e),new this(i.root,o,n)}}static _createAfter(t,e){if(!t.parent)throw new xe.b("model-position-after-root: You cannot make a position after root.",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new xe.b("model-position-before-root: You cannot make a position before root.",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new gr(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new xe.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",e,{rootName:t.root});return new gr(e.getRoot(t.root),t.path,t.stickiness)}}class pr{constructor(t,e=null){this.start=gr._createAt(t),this.end=e?gr._createAt(e):gr._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new fr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Be(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}containsItem(t){const e=gr._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}is(t){return"range"==t||"model:range"==t}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new pr(this.start,t.start)),this.containsPosition(t.end)&&e.push(new pr(t.end,this.end))):e.push(new pr(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new pr(e,n)}return null}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=gr._createAt(this.start);let i=n.parent;for(;n.path.length>e+1;){const e=i.maxOffset-n.offset;0!==e&&t.push(new pr(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],i=e-n.offset;0!==i&&t.push(new pr(n,n.getShiftedBy(i))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new fr(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new fr(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new fr(t);yield e.position;for(const t of e)yield t.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new pr(this.start,this.end)]}getTransformedByOperations(t){const e=[new pr(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const i=e[t].getTransformedByOperation(n);e.splice(t,1,...i),t+=i.length-1}for(let t=0;t<e.length;t++){const n=e[t];for(let i=t+1;i<e.length;i++){const t=e[i];(n.containsRange(t)||t.containsRange(n)||n.isEqual(t))&&e.splice(i,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,i=t.howMany,o=t.targetPosition;return this._getTransformedByMove(n,o,i,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new pr(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new pr(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=gr._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new pr(e,n)):new pr(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new pr(this.start,t),new pr(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new pr(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,i=!1){if(this.isCollapsed){const i=this.start._getTransformedByMove(t,e,n);return[new pr(i)]}const o=pr._createFromPositionAndShift(t,n),r=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!i&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const i=this.start._getTransformedByMove(t,e,n),o=this.end._getTransformedByMove(t,e,n);return[new pr(i,o)]}let s;const a=this.getDifference(o);let c=null;const l=this.getIntersection(o);if(1==a.length?c=new pr(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new pr(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(r,n,null!==l||i):[],l){const t=new pr(l.start._getCombined(o.start,r),l.end._getCombined(o.start,r));2==s.length?s.splice(1,0,t):s.push(t)}return s}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),i=this.end._getTransformedByDeletion(t,e);return null==n&&null==i?null:(null==n&&(n=t),null==i&&(i=t),new pr(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return new this(gr._createAt(t,0),gr._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(gr._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new xe.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort(((t,e)=>t.start.isAfter(e.start)?1:-1));const n=t.indexOf(e),i=new this(e.start,e.end);if(n>0)for(let e=n-1;t[e].end.isEqual(i.start);e++)i.start=gr._createAt(t[e].start);for(let e=n+1;e<t.length&&t[e].start.isEqual(i.end);e++)i.end=gr._createAt(t[e].end);return i}static fromJSON(t,e){return new this(gr.fromJSON(t.start,e),gr.fromJSON(t.end,e))}}class br{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",((t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this._findPositionIn(n,e.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),i=this._viewToModelMapping.get(n),o=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=gr._createAt(i,o)}),{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t))for(const e of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(e);this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const i=this._elementToMarkerNames.get(t)||new Set;i.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,i)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const i=this._elementToMarkerNames.get(t);i&&(i.delete(e),0==i.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new pr(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new ti(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const t of e)if(t.is("attributeElement"))for(const e of t.getElementsWithSameId())n.add(e);else n.add(t);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("text"))return e;let i=0;for(let n=0;n<e;n++)i+=this.getModelLength(t.getChild(n));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}_findPositionIn(t,e){let n,i=0,o=0,r=0;if(t.is("text"))return new Xn(t,e);for(;o<e;)n=t.getChild(r),i=this.getModelLength(n),o+=i,r++;return o==e?this._moveViewPositionToTextNode(new Xn(t,r)):this._findPositionIn(n,e-(o-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof He?new Xn(e,e.data.length):n instanceof He?new Xn(n,0):t}}Oe(br,Te);class wr{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=kr(e),t instanceof dr&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=kr(e),t instanceof dr&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=kr(e),t instanceof dr&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const i=n.get(e);return void 0===i?null:i}revert(t,e){e=kr(e),t instanceof dr&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const i=Symbol("textProxySymbol");let o,r;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),r=o.get(e),r||(r=new Map,o.set(e,r)),r.set(n,i),i}}function kr(t){const e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}class _r{constructor(t){this.conversionApi=Vn({dispatcher:this},t)}convertChanges(t,e,n){for(const e of t.getMarkersToRemove())this.convertMarkerRemove(e.name,e.range,n);for(const e of t.getChanges())"insert"==e.type?this.convertInsert(pr._createFromPositionAndShift(e.position,e.length),n):"remove"==e.type?this.convertRemove(e.position,e.length,e.name,n):this.convertAttribute(e.range,e.attributeKey,e.attributeOldValue,e.attributeNewValue,n);for(const t of this.conversionApi.mapper.flushUnboundMarkerNames()){const i=e.get(t).getRange();this.convertMarkerRemove(t,i,n),this.convertMarkerAdd(t,i,n)}for(const e of t.getMarkersToAdd())this.convertMarkerAdd(e.name,e.range,n)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const e of t){const t=e.item,n={item:t,range:pr._createFromPositionAndShift(e.previousPosition,e.length)};this._testAndFire("insert",n);for(const e of t.getAttributeKeys())n.attributeKey=e,n.attributeOldValue=null,n.attributeNewValue=t.getAttribute(e),this._testAndFire(`attribute:${e}`,n)}this._clearConversionApi()}convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const o of t){const t={item:o.item,range:pr._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,t)}this._clearConversionApi()}convertSelection(t,e,n){const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of i){const n=e.getRange();if(!vr(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,i,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,e,n){if(!e.root.document||"$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const i="addMarker:"+t,o=new wr;if(o.add(e,i),this.conversionApi.consumable=o,this.fire(i,{markerName:t,markerRange:e},this.conversionApi),o.test(e,i)){this.conversionApi.consumable=this._createConsumableForRange(e,i);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,i))continue;const o={item:n,range:pr._createOn(n),markerName:t,markerRange:e};this.fire(i,o,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(t){const e=new wr;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new wr;for(const i of t.getItems())n.add(i,e);return n}_createSelectionConsumable(t,e){const n=new wr;n.add(t,"selection");for(const i of e)n.add(t,"addMarker:"+i.name);for(const e of t.getAttributeKeys())n.add(t,"attribute:"+e);return n}_testAndFire(t,e){if(!this.conversionApi.consumable.test(e.item,t))return;const n=e.item.name||"$text";this.fire(t+":"+n,e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function vr(t,e,n){const i=e.getRange(),o=Array.from(t.getAncestors());return o.shift(),o.reverse(),!o.some((t=>{if(i.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")}))}Oe(_r,Te);class yr{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new pr(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new pr(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new pr(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof yr)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof pr)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof gr)this._setRanges([new pr(t)]);else if(t instanceof cr){const i=!!n&&!!n.backward;let o;if("in"==e)o=pr._createIn(t);else if("on"==e)o=pr._createOn(t);else{if(void 0===e)throw new xe.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,t]);o=new pr(gr._createAt(t,e))}this._setRanges([o],i)}else{if(!We(t))throw new xe.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,t]);this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some((e=>{if(!(e instanceof pr))throw new xe.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[this,t]);return this._ranges.every((t=>!t.isEqual(e)))}));if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new xe.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,t]);const n=gr._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new pr(n,i)),this._lastRangeBackward=!0):(this._pushRange(new pr(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(t){return"selection"==t||"model:selection"==t}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=Cr(e.start,t);n&&Tr(n,e)&&(yield n);for(const n of e.getWalker()){const i=n.item;"elementEnd"==n.type&&Ar(i,t,e)&&(yield i)}const i=Cr(e.end,t);i&&!e.end.isTouching(gr._createAt(i,0))&&Tr(i,e)&&(yield i)}}containsEntireContent(t=this.anchor.root){const e=gr._createAt(t,0),n=gr._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new pr(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new xe.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function xr(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function Ar(t,e,n){return xr(t,e)&&Tr(t,n)}function Cr(t,e){const n=t.parent.root.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const r=i.find((t=>!o&&(o=n.isLimit(t),!o&&xr(t,e))));return i.forEach((t=>e.add(t))),r}function Tr(t,e){const n=function(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(pr._createOn(n),!0)}Oe(yr,Te);class Pr extends pr{constructor(t,e){super(t,e),Sr.call(this)}detach(){this.stopListening()}is(t){return"liveRange"==t||"model:liveRange"==t||super.is(t)}toRange(){return new pr(this.start,this.end)}static fromRange(t){return new Pr(t.start,t.end)}}function Sr(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&Mr.call(this,n)}),{priority:"low"})}function Mr(t){const e=this.getTransformedByOperation(t),n=pr._createFromRanges(e),i=!n.isEqual(this),o=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let r=null;if(i){"$graveyard"==n.root.rootName&&(r="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:r})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:r})}Oe(Pr,Te);class Er{constructor(t){this._selection=new Ir(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}is(t){return"selection"==t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return"selection:"+t}static _isStoreAttributeKey(t){return t.startsWith("selection:")}}Oe(Er,Te);class Ir extends yr{constructor(t){super(),this.markers=new Re({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.listenTo(this._model,"applyOperation",((t,e)=>{const n=e[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){for(;this._fixGraveyardRangesData.length;){const{liveRange:t,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(t,e)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1}))}}),{priority:"lowest"}),this.on("change:range",(()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new xe.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:t})})),this.listenTo(this._model.markers,"update",(()=>this._updateMarkers())),this.listenTo(this._document,"change",((t,e)=>{!function(t,e){const n=t.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent;i.length===n.maxOffset&&t.enqueueChange(e,(t=>{const e=Array.from(n.getAttributeKeys()).filter((t=>t.startsWith("selection:")));for(const i of e)t.removeAttribute(i,n)}))}}(this._model,e)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._updateAttributes(!0),this._updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this._updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=ve();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new xe.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=Pr.fromRange(t);return e.on("change:range",((t,n,i)=>{this._hasChangedRange=!0,e.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:e,sourcePosition:i.deletionPosition})})),e}_updateMarkers(){const t=[];let e=!1;for(const e of this._model.markers){const n=e.getRange();for(const i of this.getRanges())n.containsRange(i,!i.isCollapsed)&&t.push(e)}const n=Array.from(this.markers);for(const n of t)this.markers.has(n)||(this.markers.add(n),e=!0);for(const n of Array.from(this.markers))t.includes(n)||(this.markers.remove(n),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateAttributes(t){const e=Ye(this._getSurroundingAttributes()),n=Ye(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[t,e]of this._attributePriority)"low"==e&&(this._attrs.delete(t),this._attributePriority.delete(t));this._setAttributesTo(e);const i=[];for(const[t,e]of this.getAttributes())n.has(t)&&n.get(t)===e||i.push(t);for(const[t]of n)this.hasAttribute(t)||i.push(t);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(t))&&super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(t)||(this._attributePriority.set(t,n),!super.hasAttribute(t)||(this._attrs.delete(t),0)))}_setAttributesTo(t){const e=new Set;for(const[e,n]of this.getAttributes())t.get(e)!==n&&this._removeAttribute(e,!1);for(const[n,i]of t)this._setAttribute(n,i,!1)&&e.add(n);return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith("selection:")){const n=e.substr(10);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const e=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=Nr(e)),n||(n=Nr(i)),!this.isGravityOverridden&&!n){let t=e;for(;t&&!n;)t=t.previousSibling,n=Nr(t)}if(!n){let t=i;for(;t&&!n;)t=t.nextSibling,n=Nr(t)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is("element")&&e.isObject(i.item))break;if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(t,e){const n=e.clone(),i=this._model.schema.getNearestSelectionRange(n),o=this._ranges.indexOf(t);if(this._ranges.splice(o,1),t.detach(),i){const t=this._prepareRange(i);this._ranges.splice(o,0,t)}}}function Nr(t){return t instanceof dr||t instanceof lr?t.getAttributes():null}class Or{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}var Rr=function(t){return fe(t,5)};class Dr extends Or{elementToElement(t){return this.add(function(t){return(t=Rr(t)).view=jr(t.view,"container"),e=>{var n;e.on("insert:"+t.model,(n=t.view,(t,e,i)=>{const o=n(e.item,i.writer);if(!o)return;if(!i.consumable.consume(e.item,"insert"))return;const r=i.mapper.toViewPosition(e.range.start);i.mapper.bindElements(e.item,o),i.writer.insert(r,o)}),{priority:t.converterPriority||"normal"})}}(t))}attributeToElement(t){return this.add(function(t){let e="attribute:"+((t=Rr(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const e of t.model.values)t.view[e]=jr(t.view[e],"attribute");else t.view=jr(t.view,"attribute");const n=Vr(t);return i=>{i.on(e,function(t){return(e,n,i)=>{const o=t(n.attributeOldValue,i.writer),r=t(n.attributeNewValue,i.writer);if(!o&&!r)return;if(!i.consumable.consume(n.item,e.name))return;const s=i.writer,a=s.document.selection;if(n.item instanceof yr||n.item instanceof Er)s.wrap(a.getFirstRange(),r);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(t=s.unwrap(t,o)),null!==n.attributeNewValue&&r&&s.wrap(t,r)}}}(n),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e="attribute:"+((t=Rr(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const e of t.model.values)t.view[e]=zr(t.view[e]);else t.view=zr(t.view);const n=Vr(t);return i=>{var o;i.on(e,(o=n,(t,e,n)=>{const i=o(e.attributeOldValue,e),r=o(e.attributeNewValue,e);if(!i&&!r)return;if(!n.consumable.consume(e.item,t.name))return;const s=n.mapper.toViewElement(e.item),a=n.writer;if(!s)throw new xe.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[e,n]);if(null!==e.attributeOldValue&&i)if("class"==i.key){const t=Array.isArray(i.value)?i.value:[i.value];for(const e of t)a.removeClass(e,s)}else if("style"==i.key){const t=Object.keys(i.value);for(const e of t)a.removeStyle(e,s)}else a.removeAttribute(i.key,s);if(null!==e.attributeNewValue&&r)if("class"==r.key){const t=Array.isArray(r.value)?r.value:[r.value];for(const e of t)a.addClass(e,s)}else if("style"==r.key){const t=Object.keys(r.value);for(const e of t)a.setStyle(e,r.value[e],s)}else a.setAttribute(r.key,r.value,s)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){return(t=Rr(t)).view=jr(t.view,"ui"),e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,i)=>{e.isOpening=!0;const o=n(e,i.writer);e.isOpening=!1;const r=n(e,i.writer);if(!o||!r)return;const s=e.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,t.name))return;for(const e of s)if(!i.consumable.consume(e.item,t.name))return;const a=i.mapper,c=i.writer;c.insert(a.toViewPosition(s.start),o),i.mapper.bindElementToMarker(o,e.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),r),i.mapper.bindElementToMarker(r,e.markerName)),t.stop()}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t.view,(t,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){for(const t of i)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,i)=>{if(!e.item)return;if(!(e.item instanceof yr||e.item instanceof Er||e.item.is("textProxy")))return;const o=Br(n,e,i);if(!o)return;if(!i.consumable.consume(e.item,t.name))return;const r=i.writer,s=Lr(r,o),a=r.document.selection;if(e.item instanceof yr||e.item instanceof Er)r.wrap(a.getFirstRange(),s,a);else{const t=i.mapper.toViewRange(e.range),n=r.wrap(t,s);for(const t of n.getItems())if(t.is("attributeElement")&&t.isSimilar(s)){i.mapper.bindElementToMarker(t,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof ur))return;const o=Br(t,n,i);if(!o)return;if(!i.consumable.test(n.item,e.name))return;const r=i.mapper.toViewElement(n.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const t of pr._createIn(n.item))i.consumable.consume(t.item,e.name);r.getCustomProperty("addHighlight")(r,o,i.writer),i.mapper.bindElementToMarker(r,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const o=Br(t,n,i);if(!o)return;const r=Lr(i.writer,o),s=i.mapper.markerNameToElements(n.markerName);if(s){for(const t of s)i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(t),r):t.getCustomProperty("removeHighlight")(t,o.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}function Lr(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),e.priority&&(n._priority=e.priority),n._id=e.id,n}function jr(t,e){return"function"==typeof t?t:(n,i)=>function(t,e,n){let i;"string"==typeof t&&(t={name:t});const o=Object.assign({},t.attributes);if("container"==n)i=e.createContainerElement(t.name,o);else if("attribute"==n){const n={priority:t.priority||si.DEFAULT_PRIORITY};i=e.createAttributeElement(t.name,o,n)}else i=e.createUIElement(t.name,o);if(t.styles){const n=Object.keys(t.styles);for(const o of n)e.setStyle(o,t.styles[o],i)}if(t.classes){const n=t.classes;if("string"==typeof n)e.addClass(n,i);else for(const t of n)e.addClass(t,i)}return i}(t,i,e)}function Vr(t){return t.model.values?(e,n)=>{const i=t.view[e];return i?i(e,n):null}:t.view}function zr(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function Br(t,e,n){const i="function"==typeof t?t(e,n):t;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}class Fr extends Or{elementToElement(t){return this.add(Ur(t))}elementToAttribute(t){return this.add(function(t){qr(t=Rr(t));const e=Wr(t,!1),n=Hr(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e=null;("string"==typeof(t=Rr(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;if("class"==e||"style"==e)n={["class"==e?"classes":"styles"]:t.view.value};else{n={attributes:{[e]:void 0===t.view.value?/[\s\S]*/:t.view.value}}}return t.view.name&&(n.name=t.view.name),t.view=n,e}(t)),qr(t,e);const n=Wr(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){return function(t){const e=t.model;t.model=(t,n)=>{const i="string"==typeof e?e:e(t);return n.createElement("$marker",{"data-name":i})}}(t=Rr(t)),Ur(t)}(t))}}function Ur(t){const e=function(t){const e=t.view?new $e(t.view):null;return(n,i,o)=>{let r={};if(e){const t=e.match(i.viewItem);if(!t)return;r=t.match}r.name=!0;const s=(a=t.model,c=i.viewItem,l=o.writer,a instanceof Function?a(c,l):l.createElement(a));var a,c,l;if(!s)return;if(!o.consumable.test(i.viewItem,r))return;const d=o.splitToAllowedParent(s,i.modelCursor);if(!d)return;o.writer.insert(s,d.position),o.convertChildren(i.viewItem,o.writer.createPositionAt(s,0)),o.consumable.consume(i.viewItem,r);const h=o.getSplitParts(s);i.modelRange=new pr(o.writer.createPositionBefore(s),o.writer.createPositionAfter(h[h.length-1])),d.cursorParent?i.modelCursor=o.writer.createPositionAt(d.cursorParent,0):i.modelCursor=i.modelRange.end}}(t=Rr(t)),n=Hr(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"normal"})}}function Hr(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function qr(t,e=null){const n=null===e||(t=>t.getAttribute(e)),i="object"!=typeof t.model?t.model:t.model.key,o="object"!=typeof t.model||void 0===t.model.value?n:t.model.value;t.model={key:i,value:o}}function Wr(t,e){const n=new $e(t.view);return(i,o,r)=>{const s=n.match(o.viewItem);if(!s)return;const a=t.model.key,c="function"==typeof t.model.value?t.model.value(o.viewItem):t.model.value;null!==c&&(function(t,e){const n="function"==typeof t?t(e):t;return!("object"==typeof n&&!Hr(n))&&(!n.classes&&!n.attributes&&!n.styles)}(t.view,o.viewItem)?s.match.name=!0:delete s.match.name,r.consumable.test(o.viewItem,s.match)&&(o.modelRange||(o=Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor))),function(t,e,n,i){let o=!1;for(const r of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(r,e.key)&&(i.writer.setAttribute(e.key,e.value,r),o=!0);return o}(o.modelRange,{key:a,value:c},e,r)&&r.consumable.consume(o.viewItem,s.match)))}}class Yr{constructor(t,e){this.model=t,this.view=new ar(e),this.mapper=new br,this.downcastDispatcher=new _r({mapper:this.mapper});const n=this.model.document,i=n.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(()=>{this.view.change((t=>{this.downcastDispatcher.convertChanges(n.differ,o,t),this.downcastDispatcher.convertSelection(i,o,t)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,i)=>{const o=i.newSelection,r=new yr,s=[];for(const t of o.getRanges())s.push(e.toModelRange(t));r.setTo(s,{backward:o.isBackward}),r.isEqual(t.document.selection)||t.change((t=>{t.setSelection(r)}))}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",((t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,o=n.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(o,r)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((t,e,n)=>{const i=n.mapper.toViewPosition(e.position),o=e.position.getShiftedBy(e.length),r=n.mapper.toViewPosition(o,{isPhantom:!0}),s=n.writer.createRange(i,r),a=n.writer.remove(s.getTrimmed());for(const t of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(t)}),{priority:"low"}),this.downcastDispatcher.on("selection",((t,e,n)=>{const i=n.writer,o=i.document.selection;for(const t of o.getRanges())t.isCollapsed&&t.end.parent.isAttached()&&n.writer.mergeAttributes(t.start);i.setSelection(null)}),{priority:"low"}),this.downcastDispatcher.on("selection",((t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const o=[];for(const t of i.getRanges()){const e=n.mapper.toViewRange(t);o.push(e)}n.writer.setSelection(o,{backward:i.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const o=n.writer,r=i.getFirstPosition(),s=n.mapper.toViewPosition(r),a=o.breakAttributes(s);o.setSelection(a)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((t=>{if("$graveyard"==t.rootName)return null;const e=new Jn(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e}))}destroy(){this.view.destroy(),this.stopListening()}}Oe(Yr,Hn);class $r{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new xe.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:t});n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class Gr{constructor(){this._consumables=new Map}add(t,e){let n;t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Qr(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const t of n)"style"!=t&&"class"!=t&&e.attributes.push(t);const i=t.getClassNames();for(const t of i)e.classes.push(t);const o=t.getStyleNames();for(const t of o)e.styles.push(t);return e}static createFrom(t,e){if(e||(e=new Gr(t)),t.is("text"))return e.add(t),e;t.is("element")&&e.add(t,Gr.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=Gr.createFrom(n,e);return e}}class Qr{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=ct(e)?e:[e],i=this._consumables[t];for(const e of n){if("attributes"===t&&("class"===e||"style"===e))throw new xe.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(i.set(e,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))i.set(t,!0)}}_test(t,e){const n=ct(e)?e:[e],i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){const t=i.get(e);if(void 0===t)return null;if(!t)return!1}else{const t="class"==e?"classes":"styles",n=this._test(t,[...this._consumables[t].keys()]);if(!0!==n)return n}return!0}_consume(t,e){const n=ct(e)?e:[e],i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){if(i.set(e,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))i.set(t,!1)}else{const t="class"==e?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=ct(e)?e:[e],i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e)!1===i.get(e)&&i.set(e,!0);else{const t="class"==e?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class Kr{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((t,e)=>{e[0]=new Jr(e[0])}),{priority:"highest"}),this.on("checkChild",((t,e)=>{e[0]=new Jr(e[0]),e[1]=this.getDefinition(e[1])}),{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new xe.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new xe.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("text")||t.is("textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!(!e||!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!(!e||!e.isObject)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof gr){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof ur))throw new xe.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(n instanceof ur))throw new xe.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",((e,[n,i])=>{if(!i)return;const o=t(n,i);"boolean"==typeof o&&(e.stop(),e.return=o)}),{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",((e,[n,i])=>{const o=t(n,i);"boolean"==typeof o&&(e.stop(),e.return=o)}),{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(e=t instanceof gr?t.parent:(t instanceof pr?[t]:Array.from(t.getRanges())).reduce(((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new lr("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new pr(t);let n,i;const o=t.getAncestors().reverse().find((t=>this.isLimit(t)))||t.root;"both"!=e&&"backward"!=e||(n=new fr({boundaries:pr._createIn(o),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new fr({boundaries:pr._createIn(o),startPosition:t}));for(const t of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,i)){const e=t.walker==n?"elementEnd":"elementStart",i=t.value;if(i.type==e&&this.isObject(i.item))return pr._createOn(i.item);if(this.checkChild(i.nextPosition,"$text"))return new pr(i.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("text"))cs(this,n,e);else{const t=pr._createIn(n).getPositions();for(const n of t)cs(this,n.nodeBefore||n.parent,e)}}createContext(t){return new Jr(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=Zr(e[i],i);for(const e of n)Xr(t,e);for(const e of n)ts(t,e);for(const e of n)es(t,e),ns(t,e);for(const e of n)is(t,e),os(t,e);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{const t=this.getDefinition(i);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const o of t.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(pr._createIn(o),e)),this.checkAttribute(o,e)||(n.isEqual(i)||(yield new pr(n,i)),n=gr._createAfter(o)),i=gr._createAfter(o);n.isEqual(i)||(yield new pr(n,i))}}Oe(Kr,Hn);class Jr{constructor(t){if(t instanceof Jr)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(as)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Jr([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map((t=>t.name))}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Zr(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter((t=>t.startsWith("is")));for(const i of t)e[i]=n[i]}}(t,n),rs(t,n,"allowIn"),rs(t,n,"allowContentOf"),rs(t,n,"allowWhere"),rs(t,n,"allowAttributes"),rs(t,n,"allowAttributesOf"),rs(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function Xr(t,e){for(const n of t[e].allowContentOf)t[n]&&ss(t,n).forEach((t=>{t.allowIn.push(e)}));delete t[e].allowContentOf}function ts(t,e){for(const n of t[e].allowWhere){const i=t[n];if(i){const n=i.allowIn;t[e].allowIn.push(...n)}}delete t[e].allowWhere}function es(t,e){for(const n of t[e].allowAttributesOf){const i=t[n];if(i){const n=i.allowAttributes;t[e].allowAttributes.push(...n)}}delete t[e].allowAttributesOf}function ns(t,e){const n=t[e];for(const e of n.inheritTypesFrom){const i=t[e];if(i){const t=Object.keys(i).filter((t=>t.startsWith("is")));for(const e of t)e in n||(n[e]=i[e])}}delete n.inheritTypesFrom}function is(t,e){const n=t[e],i=n.allowIn.filter((e=>t[e]));n.allowIn=Array.from(new Set(i))}function os(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function rs(t,e,n){for(const i of t)"string"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&e[n].push(...i[n])}function ss(t,e){const n=t[e];return(i=t,Object.keys(i).map((t=>i[t]))).filter((t=>t.allowIn.includes(n.name)));var i}function as(t){return"string"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function cs(t,e,n){for(const i of e.getAttributeKeys())t.checkAttribute(e,i)||n.removeAttribute(i,e)}class ls{constructor(t={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const i of new Jr(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const o=e.createElement(i.name,t);n&&e.append(o,n),n=gr._createAt(o,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Gr.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),o=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,o);o.markers=function(t,e){const n=new Set,i=new Map,o=pr._createIn(t).getItems();for(const t of o)"$marker"==t.name&&n.add(t);for(const t of n){const n=t.getAttribute("data-name"),o=e.createPositionBefore(t);i.has(n)?i.get(n).end=o.clone():i.set(n,new pr(o.clone())),e.remove(t)}return i}(o,e)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof pr))throw new xe.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){const n=new pr(e);let i=e;for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,i);t.modelRange instanceof pr&&(n.end=t.modelRange.end,i=t.modelCursor)}return{modelRange:n,modelCursor:i}}_splitToAllowedParent(t,e){const n=this.conversionApi.schema.findAllowedParent(e,t);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;const i=this.conversionApi.writer.split(e,n),o=[];for(const t of i.range.getWalker())if("elementEnd"==t.type)o.push(t.item);else{const e=o.pop(),n=t.item;this._registerSplitPair(e,n)}return{position:i.position,cursorParent:i.range.end.parent}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}Oe(ls,Te);class ds{constructor(t,e){this.model=t,this.stylesProcessor=e,this.processor,this.mapper=new br,this.downcastDispatcher=new _r({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",((t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,o=n.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(o,r)}),{priority:"lowest"}),this.upcastDispatcher=new ls({schema:t.schema}),this.viewDocument=new ri(e),this._viewWriter=new xi(this.viewDocument),this.upcastDispatcher.on("text",((t,e,n)=>{if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){const t=n.writer.createText(e.viewItem.data);n.writer.insert(t,e.modelCursor),e.modelRange=pr._createFromPositionAndShift(e.modelCursor,t.offsetSize),e.modelCursor=e.modelRange.end}}),{priority:"lowest"}),this.upcastDispatcher.on("element",((t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}}),{priority:"lowest"}),this.decorate("init"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"})}get(t){const{rootName:e="main",trim:n="empty"}=t||{};if(!this._checkIfRootsExists([e]))throw new xe.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);const i=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i):""}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){const e=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();const i=pr._createIn(t),o=new yi(e);if(this.mapper.bindElements(t,o),this.downcastDispatcher.convertInsert(i,n),!t.is("documentFragment")){const e=function(t){const e=[],n=t.root.document;if(!n)return[];const i=pr._createIn(t);for(const t of n.model.markers){const n=i.getIntersection(t.getRange());n&&e.push([t.name,n])}return e}(t);for(const[t,i]of e)this.downcastDispatcher.convertMarkerAdd(t,i,n)}return o}init(t){if(this.model.document.version)throw new xe.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new xe.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",(t=>{for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.insert(this.parse(e[n],i),i,0)}})),Promise.resolve()}set(t){let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new xe.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",(t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.remove(t.createRangeIn(i)),t.insert(this.parse(e[n],i),i,0)}}))}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change((n=>this.upcastDispatcher.convert(t,n,e)))}addStyleProcessorRules(t){t(this.stylesProcessor)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}Oe(ds,Hn);class hs{constructor(t,e){this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new xe.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new xe.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of us(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of us(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of us(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new xe.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);const i=n?new Dr(e):new Fr(e);this._helpers.set(t,i)}}function*us(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},i=t.view[e],o=t.upcastAlso?t.upcastAlso[e]:void 0;yield*fs(n,i,o)}else yield*fs(t.model,t.view,t.upcastAlso)}function*fs(t,e,n){if(yield{model:t,view:e},n){n=Array.isArray(n)?n:[n];for(const e of n)yield{model:t,view:e}}}class ms{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class gs{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class ps{constructor(t){this.markers=new Map,this._children=new hr,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t||"model:documentFragment"==t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(ur.fromJSON(n)):e.push(lr.fromJSON(n));return new ps(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new lr(t)]:(We(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new lr(t):t instanceof dr?new lr(t.data,t.getAttributes()):t)))}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}}function bs(t,e){const n=(e=_s(e)).reduce(((t,e)=>t+e.offsetSize),0),i=t.parent;ys(t);const o=t.index;return i._insertChild(o,e),vs(i,o+e.length),vs(i,o),new pr(t,t.getShiftedBy(n))}function ws(t){if(!t.isFlat)throw new xe.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);const e=t.start.parent;ys(t.start),ys(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return vs(e,t.start.index),n}function ks(t,e){if(!t.isFlat)throw new xe.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);const n=ws(t);return bs(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function _s(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new lr(t[n]));else if(t[n]instanceof dr)e.push(new lr(t[n].data,t[n].getAttributes()));else if(t[n]instanceof ps||t[n]instanceof hr)for(const i of t[n])e.push(i);else t[n]instanceof cr&&e.push(t[n]);for(let t=1;t<e.length;t++){const n=e[t],i=e[t-1];n instanceof lr&&i instanceof lr&&xs(n,i)&&(e.splice(t-1,2,new lr(i.data+n.data,i.getAttributes())),t--)}return e}function vs(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("text")&&i.is("text")&&xs(n,i)){const o=new lr(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function ys(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);const r=new lr(e.data.substr(0,i),e.getAttributes()),s=new lr(e.data.substr(i),e.getAttributes());n._insertChild(o,[r,s])}}function xs(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const t of n){if(t[1]!==e.getAttribute(t[0]))return!1;i.next()}return i.next().done}var As=function(t,e){return Ao(t,e)};class Cs extends gs{constructor(t,e,n,i,o){super(o),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Cs(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Cs(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new xe.b("attribute-operation-range-not-flat: The range to change is not flat.",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!As(t.getAttribute(this.key),this.oldValue))throw new xe.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new xe.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:t,key:this.key})}}_execute(){As(this.oldValue,this.newValue)||function(t,e,n){ys(t.start),ys(t.end);for(const i of t.getItems({shallow:!0})){const t=i.is("textProxy")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),vs(t.parent,t.index)}vs(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new Cs(pr.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Ts extends gs{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new xe.b("detach-operation-on-document-node: Cannot detach document node.",this)}_execute(){ws(pr._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Ps extends gs{constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new xe.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(t===e&&n<i&&i<n+this.howMany)throw new xe.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Be(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new xe.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}_execute(){ks(pr._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=gr.fromJSON(t.sourcePosition,e),i=gr.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}class Ss extends gs{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new hr(_s(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new hr([...this.nodes].map((t=>t._clone(!0)))),e=new Ss(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new gr(t,[0]);return new Ps(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new xe.b("insert-operation-position-invalid: Insertion position is invalid.",this)}_execute(){const t=this.nodes;this.nodes=new hr([...t].map((t=>t._clone(!0)))),bs(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const e of t.nodes)e.name?n.push(ur.fromJSON(e)):n.push(lr.fromJSON(e));const i=new Ss(gr.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}class Ms extends gs{constructor(t,e,n,i,o,r){super(r),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=o,this._markers=i}get type(){return"marker"}clone(){return new Ms(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ms(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new Ms(t.name,t.oldRange?pr.fromJSON(t.oldRange,e):null,t.newRange?pr.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class Es extends gs{constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new Es(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Es(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof ur))throw new xe.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(t.name!==this.oldName)throw new xe.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Es(gr.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class Is extends gs{constructor(t,e,n,i,o){super(o),this.root=t,this.key=e,this.oldValue=n,this.newValue=i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new Is(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Is(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new xe.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new xe.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new xe.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new xe.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root});return new Is(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Ns extends gs{constructor(t,e,n,i,o){super(o),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new gr(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new pr(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new gr(this.sourcePosition.root,e)._getTransformedByMergeOperation(this),i=new Os(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new xe.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!e.parent)throw new xe.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=t.maxOffset)throw new xe.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}_execute(){const t=this.sourcePosition.parent;ks(pr._createIn(t),this.targetPosition),ks(pr._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=gr.fromJSON(t.sourcePosition,e),i=gr.fromJSON(t.targetPosition,e),o=gr.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,o,t.baseVersion)}}class Os extends gs{constructor(t,e,n,i){super(i),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=Os.getInsertionPosition(t),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new gr(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new pr(this.splitPosition,t)}clone(){const t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new gr(t,[0]);return new Ns(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new xe.b("split-operation-position-invalid: Split position is invalid.",this);if(!t.parent)throw new xe.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new xe.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new xe.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)ks(pr._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();bs(this.insertionPosition,e)}ks(new pr(gr._createAt(t,this.splitPosition.offset),gr._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new gr(t.root,e)}static fromJSON(t,e){const n=gr.fromJSON(t.splitPosition,e),i=gr.fromJSON(t.insertionPosition,e),o=t.graveyardPosition?gr.fromJSON(t.graveyardPosition,e):null,r=new this(n,t.howMany,o,t.baseVersion);return r.insertionPosition=i,r}}class Rs extends ur{constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}is(t,e){const n=t.replace("model:","");return e?"rootElement"==n&&e==this.name||super.is(t,e):"rootElement"==n||super.is(t)}toJSON(){return this.rootName}}class Ds{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new lr(t,e)}createElement(t,e){return new ur(t,e)}createDocumentFragment(){return new ps}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof lr&&""==t.data)return;const i=gr._createAt(e,n);if(t.parent){if(Bs(t.root,i.root))return void this.move(pr._createOn(t),i);if(t.root.document)throw new xe.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(t)}const o=i.root.document?i.root.document.version:null,r=new Ss(i,t,o);if(t instanceof lr&&(r.shouldReceiveAttributes=!0),this.batch.addOperation(r),this.model.applyOperation(r),t instanceof ps)for(const[e,n]of t.markers){const t=gr._createAt(n.root,0),o={range:new pr(n.start._getCombined(t,i),n.end._getCombined(t,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(e)?this.updateMarker(e,o):this.addMarker(e,o)}}insertText(t,e,n,i){e instanceof ps||e instanceof ur||e instanceof gr?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof ps||e instanceof ur||e instanceof gr?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof ps||e instanceof ur?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof ps||e instanceof ur?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof pr){const i=n.getMinimalFlatRanges();for(const n of i)Ls(this,t,e,n)}else js(this,t,e,n)}setAttributes(t,e){for(const[n,i]of Ye(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof pr){const n=e.getMinimalFlatRanges();for(const e of n)Ls(this,t,null,e)}else js(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof pr)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof pr))throw new xe.b("writer-move-invalid-range: Invalid range to move.",this);if(!t.isFlat)throw new xe.b("writer-move-range-not-flat: Range to move is not flat.",this);const i=gr._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Bs(t.root,i.root))throw new xe.b("writer-move-different-document: Range is going to be moved between different documents.",this);const o=t.root.document?t.root.document.version:null,r=new Ps(t.start,t.end.offset-t.start.offset,i,o);this.batch.addOperation(r),this.model.applyOperation(r)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof pr?t:pr._createOn(t)).getMinimalFlatRanges().reverse();for(const t of e)this._addOperationForAffectedMarkers("move",t),zs(t.start,t.end.offset-t.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof ur))throw new xe.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof ur))throw new xe.b("writer-merge-no-element-after: Node after merge position must be an element.",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(pr._createIn(n),gr._createAt(e,"end")),this.remove(n)}_merge(t){const e=gr._createAt(t.nodeBefore,"end"),n=gr._createAt(t.nodeAfter,0),i=t.root.document.graveyard,o=new gr(i,[0]),r=t.root.document.version,s=new Ns(n,t.nodeAfter.maxOffset,e,o,r);this.batch.addOperation(s),this.model.applyOperation(s)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof ur))throw new xe.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);const n=t.root.document?t.root.document.version:null,i=new Es(gr._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,o=t.parent;if(!o.parent)throw new xe.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(e||(e=o.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new xe.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{const e=o.root.document?o.root.document.version:null,r=o.maxOffset-t.offset,s=new Os(t,r,null,e);this.batch.addOperation(s),this.model.applyOperation(s),n||i||(n=o,i=t.parent.nextSibling),o=(t=this.createPositionAfter(t.parent)).parent}while(o!==e);return{position:t,range:new pr(gr._createAt(n,"end"),gr._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new xe.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);const n=e instanceof ur?e:new ur(e);if(n.childCount>0)throw new xe.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new xe.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,t.start);const i=new pr(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,gr._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new xe.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(pr._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new xe.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);const n=e.usingOperation,i=e.range,o=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new xe.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!i)throw new xe.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(Vs(this,t,null,i,o),this.model.markers.get(t)):this.model.markers._set(t,i,n,o)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new xe.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!e)return void this.model.markers._refresh(i);const o="boolean"==typeof e.usingOperation,r="boolean"==typeof e.affectsData,s=r?e.affectsData:i.affectsData;if(!o&&!e.range&&!r)throw new xe.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);const a=i.getRange(),c=e.range?e.range:a;o&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?Vs(this,n,null,c,s):(Vs(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):i.managedUsingOperations?Vs(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new xe.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);const n=this.model.markers.get(e);n.managedUsingOperations?Vs(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[e,n]of Ye(t))this._setSelectionAttribute(e,n)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Er._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=Er._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new xe.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let o=!1;if("move"==t)o=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{const t=e.nodeBefore,n=e.nodeAfter,r=i.start.parent==t&&i.start.isAtEnd,s=i.end.parent==n&&0==i.end.offset,a=i.end.nodeAfter==n,c=i.start.nodeAfter==n;o=r||s||a||c}o&&this.updateMarker(n.name,{range:i})}}}function Ls(t,e,n,i){const o=t.model,r=o.document;let s,a,c,l=i.start;for(const t of i.getWalker({shallow:!0}))c=t.item.getAttribute(e),s&&a!=c&&(a!=n&&d(),l=s),s=t.nextPosition,a=c;function d(){const i=new pr(l,s),c=i.root.document?r.version:null,d=new Cs(i,e,a,n,c);t.batch.addOperation(d),o.applyOperation(d)}s instanceof gr&&s!=l&&a!=n&&d()}function js(t,e,n,i){const o=t.model,r=o.document,s=i.getAttribute(e);let a,c;if(s!=n){if(i.root===i){const t=i.document?r.version:null;c=new Is(i,e,s,n,t)}else{a=new pr(gr._createBefore(i),t.createPositionAfter(i));const o=a.root.document?r.version:null;c=new Cs(a,e,s,n,o)}t.batch.addOperation(c),o.applyOperation(c)}}function Vs(t,e,n,i,o){const r=t.model,s=r.document,a=new Ms(e,n,i,r.markers,o,s.version);t.batch.addOperation(a),r.applyOperation(a)}function zs(t,e,n,i){let o;if(t.root.document){const n=i.document,r=new gr(n.graveyard,[0]);o=new Ps(t,e,r,n.version)}else o=new Ts(t,e);n.addOperation(o),i.applyOperation(o)}function Bs(t,e){return t===e||t instanceof Rs&&e instanceof Rs}class Fs{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);const e=pr._createOn(t);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}this._cachedChanges=null}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=pr._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const i=t.targetPosition.parent;this._isInInsertedElement(i)||this._markInsert(i,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,i){const o=this._changedMarkers.get(t);o?(o.newRange=n,o.affectsData=i,null==o.oldRange&&null==o.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map((t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}})))}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const e=[];for(const t of this._changesInElement.keys()){const n=this._changesInElement.get(t).sort(((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1)),i=this._elementSnapshots.get(t),o=Us(t.getChildren()),r=Hs(i.length,n);let s=0,a=0;for(const n of r)if("i"===n)e.push(this._getInsertDiff(t,s,o[s].name)),s++;else if("r"===n)e.push(this._getRemoveDiff(t,s,i[a].name)),a++;else if("a"===n){const n=o[s].attributes,r=i[a].attributes;let c;if("$text"==o[s].name)c=new pr(gr._createAt(t,s),gr._createAt(t,s+1));else{const e=t.offsetToIndex(s);c=new pr(gr._createAt(t,s),gr._createAt(t.getChild(e),0))}e.push(...this._getAttributesDiff(c,r,n)),s++,a++}else s++,a++}e.sort(((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1));for(let t=1;t<e.length;t++){const n=e[t-1],i=e[t],o="remove"==n.type&&"remove"==i.type&&"$text"==n.name&&"$text"==i.name&&n.position.isEqual(i.position),r="insert"==n.type&&"insert"==i.type&&"$text"==n.name&&"$text"==i.name&&n.position.parent==i.position.parent&&n.position.offset+n.length==i.position.offset,s="attribute"==n.type&&"attribute"==i.type&&n.position.parent==i.position.parent&&n.range.isFlat&&i.range.isFlat&&n.position.offset+n.length==i.position.offset&&n.attributeKey==i.attributeKey&&n.attributeOldValue==i.attributeOldValue&&n.attributeNewValue==i.attributeNewValue;(o||r||s)&&(e[t-1].length++,s&&(e[t-1].range.end=e[t-1].range.end.getShiftedBy(1)),e.splice(t,1),t--)}for(const t of e)delete t.changeCount,"attribute"==t.type&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(qs),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let t=0;t<n.length;t++)n[t].howMany<1&&(n.splice(t,1),t--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Us(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,o=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<o&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<o){const o=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:o-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=o)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<o){const e=o-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<o)if(i<=o){const i=n.howMany;n.howMany=t.offset-n.offset;const o=i-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:o,count:this._changeCount++})}else n.howMany-=o-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>o){const t={type:"attribute",offset:o,howMany:i-o,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<o&&(i>o?(t.nodesToHandle=i-o,t.offset=o):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&i>n.offset){const o={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(o,e),e.push(o),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&i<=o?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=o&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:gr._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:gr._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[o,r]of e){const e=n.has(o)?n.get(o):null;e!==r&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:o,attributeOldValue:r,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(o)}for(const[e,o]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const t of n)if("insert"==t.type&&i>=t.offset&&i<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const i=new pr(gr._createAt(t,e),gr._createAt(t,e+n));for(const t of i.getItems({shallow:!0}))t.is("element")&&(this._elementSnapshots.delete(t),this._changesInElement.delete(t),this._removeAllNestedChanges(t,0,t.maxOffset))}}function Us(t){const e=[];for(const n of t)if(n.is("text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function Hs(t,e){const n=[];let i=0,o=0;for(const t of e){if(t.offset>i){for(let e=0;e<t.offset-i;e++)n.push("e");o+=t.offset-i}if("insert"==t.type){for(let e=0;e<t.howMany;e++)n.push("i");i=t.offset+t.howMany}else if("remove"==t.type){for(let e=0;e<t.howMany;e++)n.push("r");i=t.offset,o+=t.howMany}else n.push(..."a".repeat(t.howMany).split("")),i=t.offset+t.howMany,o+=t.howMany}if(o<t)for(let e=0;e<t-o-i;e++)n.push("e");return n}function qs(t){const e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}class Ws{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=0,e=Number.POSITIVE_INFINITY){return t<0?[]:this._operations.slice(t,e)}getOperation(t){return this._operations[t]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function Ys(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function $s(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}class Gs{constructor(t){this.model=t,this.version=0,this.history=new Ws(this),this.selection=new Er(this),this.roots=new Re({idProperty:"rootName"}),this.differ=new Fs(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new xe.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:n})}),{priority:"highest"}),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)}),{priority:"high"}),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",((t,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on("change",((t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)}))}))}get graveyard(){return this.getRoot("$graveyard")}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new xe.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:e});const n=new Rs(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,(t=>t.rootName)).filter((t=>"$graveyard"!=t))}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Fe(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i)}_validateSelectionRange(t){return Qs(t.start)&&Qs(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break}while(e)}}function Qs(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!Ys(n,i)&&!$s(n,i)}return!0}Oe(Gs,Te);class Ks{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,i=!1){const o=t instanceof Js?t.name:t,r=this._markers.get(o);if(r){const t=r.getRange();let s=!1;return t.isEqual(e)||(r._attachLiveRange(Pr.fromRange(e)),s=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,s=!0),"boolean"==typeof i&&i!=r.affectsData&&(r._affectsData=i,s=!0),s&&this.fire("update:"+o,r,t,e),r}const s=Pr.fromRange(e),a=new Js(o,s,n,i);return this._markers.set(o,a),this.fire("update:"+o,a,null,e),a}_remove(t){const e=t instanceof Js?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof Js?t.name:t,n=this._markers.get(e);if(!n)throw new xe.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);const i=n.getRange();this.fire("update:"+e,n,i,i,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}Oe(Ks,Te);class Js{constructor(t,e,n,i){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new xe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new xe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}getStart(){if(!this._liveRange)throw new xe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new xe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new xe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}is(t){return"marker"==t||"model:marker"==t}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Oe(Js,Te);class Zs extends gs{get type(){return"noop"}clone(){return new Zs(this.baseVersion)}getReversed(){return new Zs(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const Xs={};Xs[Cs.className]=Cs,Xs[Ss.className]=Ss,Xs[Ms.className]=Ms,Xs[Ps.className]=Ps,Xs[Zs.className]=Zs,Xs[gs.className]=gs,Xs[Es.className]=Es,Xs[Is.className]=Is,Xs[Os.className]=Os,Xs[Ns.className]=Ns;class ta extends gr{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new xe.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",t);ea.call(this)}detach(){this.stopListening()}is(t){return"livePosition"==t||"model:livePosition"==t||super.is(t)}toPosition(){return new gr(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function ea(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&na.call(this,n)}),{priority:"low"})}function na(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Oe(ta,Te);class ia{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t,e){t=Array.from(t);for(let n=0;n<t.length;n++){const i=t[n];this._handleNode(i,{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?pr._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new pr(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t,e){this.schema.isObject(t)?this._handleObject(t,e):this._checkAndSplitToAllowedPosition(t,e)?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}_handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}_handleDisallowedNode(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}_insert(t){if(!this.schema.checkChild(this.position,t))throw new xe.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:t,position:this.position});const e=ta.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(t,this.position),this.position=e.toPosition(),e.detach(),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=ta.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ta.fromPosition(t,"toNext"))}_mergeSiblingsOf(t,e){if(!(t instanceof ur))return;const n=this._canMergeLeft(t,e),i=this._canMergeRight(t,e),o=ta._createBefore(t);o.stickiness="toNext";const r=ta._createAfter(t);if(r.stickiness="toNext",n){const t=ta.fromPosition(this.position);t.stickiness="toNext",this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=ta._createAt(o.nodeBefore,"end","toPrevious")),this.writer.merge(o),o.isEqual(this._affectedEnd)&&e.isLast&&(this._affectedEnd.detach(),this._affectedEnd=ta._createAt(o.nodeBefore,"end","toNext")),this.position=t.toPosition(),t.detach()}if(i){if(!this.position.isEqual(r))throw new xe.b("insertcontent-invalid-insertion-position",this);this.position=gr._createAt(r.nodeBefore,"end");const t=ta.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=ta._createAt(r.nodeBefore,"end","toNext")),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&e.isFirst&&(this._affectedStart.detach(),this._affectedStart=ta._createAt(r.nodeBefore,0,"toPrevious")),this.position=t.toPosition(),t.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),o.detach(),r.detach()}_canMergeLeft(t,e){const n=t.previousSibling;return e.isFirst&&n instanceof ur&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}_canMergeRight(t,e){const n=t.nextSibling;return e.isLast&&n instanceof ur&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}_tryAutoparagraphing(t,e){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}function oa(t,e,n){const i=t.createElement("paragraph");t.insert(i,e),ra(t,n,t.createPositionAt(i,0))}function ra(t,e,n){e instanceof Er?t.setSelection(n):e.setTo(n)}function sa(t,e){if("text"==e.type)return"word"===t.unit?function(t,e){let n=t.position.textNode;if(n){let i=t.position.offset-n.startOffset;for(;!ca(n.data,i,e)&&!la(n,i,e);){t.next();const o=e?t.position.nodeAfter:t.position.nodeBefore;if(o&&o.is("text")){const i=o.data.charAt(e?0:o.data.length-1);' ,.?!:;"-()'.includes(i)||(t.next(),n=t.position.textNode)}i=t.position.offset-n.startOffset}}return t.position}(t.walker,t.isForward):function(t,e){const n=t.position.textNode;if(n){const i=n.data;let o=t.position.offset-n.startOffset;for(;Ys(i,o)||"character"==e&&$s(i,o);)t.next(),o=t.position.offset-n.startOffset}return t.position}(t.walker,t.unit,t.isForward);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return gr._createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip((()=>!0));if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}}function aa(t,e){const n=t.root,i=gr._createAt(n,e?"end":0);return e?new pr(t,i):new pr(i,t)}function ca(t,e,n){const i=e+(n?0:-1);return' ,.?!:;"-()'.includes(t.charAt(i))}function la(t,e,n){return e===(n?t.endOffset:0)}function da(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map((t=>e.createRangeOn(t))).filter((e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end)))).forEach((t=>{n.push(t.start.parent),e.remove(t)})),n.forEach((t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}}))}function ha(t,e){return t.isCollapsed?function(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;if(!i.isCollapsed)return i;const o=i.start;return n.isEqual(o)?null:new pr(o)}(t,e):function(t,e){const n=t.start,i=t.end,o=e.checkChild(n,"$text"),r=e.checkChild(i,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(i);if(s===a){if(o&&r)return null;if(function(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),o=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||o}(n,i,e)){const t=n.nodeAfter&&e.isObject(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),o=i.nodeBefore&&e.isObject(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),r=t?t.start:n,s=o?o.start:i;return new pr(r,s)}}const c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const t=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,o=c&&(!t||!fa(n.nodeAfter,e)),r=l&&(!t||!fa(i.nodeBefore,e));let d=n,h=i;return o&&(d=gr._createBefore(ua(s,e))),r&&(h=gr._createAfter(ua(a,e))),new pr(d,h)}return null}(t,e)}function ua(t,e){let n=t,i=n;for(;e.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function fa(t,e){return t&&e.isObject(t)}class ma{constructor(){this.markers=new Ks,this.document=new Gs(this),this.schema=new Kr,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((t=>this.decorate(t))),this.on("applyOperation",((t,e)=>{e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck(((t,e)=>{if("$marker"===e.name)return!0})),function(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.selection,i=e.schema,o=[];let r=!1;for(const t of n.getRanges()){const e=ha(t,i);e?(o.push(e),r=!0):o.push(t)}r&&t.setSelection(function(t){const e=[];e.push(t.shift());for(const n of t){const t=e.pop();if(n.isIntersecting(t)){const i=t.start.isAfter(n.start)?n.start:t.start,o=t.end.isAfter(n.end)?t.end:n.end,r=new pr(i,o);e.push(r)}else e.push(t),e.push(n)}return e}(o),{backward:n.isBackward})}(e,t)))}(this)}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new ms,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){xe.b.rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{"string"==typeof t?t=new ms(t):"function"==typeof t&&(e=t,t=new ms),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){xe.b.rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,n){return function(t,e,n,i){return t.change((o=>{let r;r=n?n instanceof yr||n instanceof Er?n:o.createSelection(n,i):t.document.selection,r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0});const s=new ia(t,o,r.anchor);let a;a=e.is("documentFragment")?e.getChildren():[e],s.handleNodes(a,{isFirst:!0,isLast:!0});const c=s.getSelectionRange();c&&(r instanceof Er?o.setSelection(c):r.setTo(c));const l=s.getAffectedRange()||t.createRange(r.anchor);return s.destroy(),l}))}(this,t,e,n)}deleteContent(t,e){!function(t,e,n={}){if(e.isCollapsed)return;const i=e.getFirstRange();if("$graveyard"==i.root.rootName)return;const o=t.schema;t.change((t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();return i.start.parent!=i.end.parent&&t.checkChild(n,"paragraph")}(o,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),oa(t,t.createPositionAt(n,0),e)}(t,e);const r=i.start,s=ta.fromPosition(i.end,"toNext");i.start.isTouching(i.end)||t.remove(i),n.leaveUnmerged||(function t(e,n,i){const o=n.parent,r=i.parent;if(o!=r&&!e.model.schema.isLimit(o)&&!e.model.schema.isLimit(r)&&function(t,e,n){const i=new pr(t,e);for(const t of i.getWalker())if(n.isLimit(t.item))return!1;return!0}(n,i,e.model.schema)){for(n=e.createPositionAfter(o),(i=e.createPositionBefore(r)).isEqual(n)||e.insert(r,n),e.merge(n);i.parent.isEmpty;){const t=i.parent;i=e.createPositionBefore(t),e.remove(t)}t(e,n,i)}}(t,r,s),o.removeDisallowedAttributes(r.parent.getChildren(),t)),ra(t,e,r),!n.doNotAutoparagraph&&function(t,e){const n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i}(o,r)&&oa(t,r,e),s.detach()}))}(this,t,e)}modifySelection(t,e){!function(t,e,n={}){const i=t.schema,o="backward"!=n.direction,r=n.unit?n.unit:"character",s=e.focus,a=new fr({boundaries:aa(s,o),singleCharacters:!0,direction:o?"forward":"backward"}),c={walker:a,schema:i,isForward:o,unit:r};let l;for(;l=a.next();){if(l.done)return;const n=sa(c,l.value);if(n)return void(e instanceof Er?t.change((t=>{t.setSelectionFocus(n)})):e.setFocus(n))}}(this,t,e)}getSelectedContent(t){return function(t,e){return t.change((t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const o=i.start.root,r=i.start.getCommonPath(i.end),s=o.getNodeByPath(r);let a;a=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(s,i.start.path[r.length]),t.createPositionAt(s,i.end.path[r.length]+1));const c=a.end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(e._clone(!0),n);if(a!=i){const e=i._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],o=t.createRange(t.createPositionAt(n,0),e.start);da(t.createRange(e.end,t.createPositionAt(n,"end")),t),da(o,t)}return n}))}(this,t)}hasContent(t,e){const n=t instanceof ur?pr._createIn(t):t;if(n.isCollapsed)return!1;for(const t of this.markers.getMarkersIntersectingRange(n))if(t.affectsData)return!0;const{ignoreWhitespaces:i=!1}=e||{};for(const t of n.getItems())if(t.is("textProxy")){if(!i)return!0;if(-1!==t.data.search(/\S/))return!0}else if(this.schema.isObject(t))return!0;return!1}createPositionFromPath(t,e,n){return new gr(t,e,n)}createPositionAt(t,e){return gr._createAt(t,e)}createPositionAfter(t){return gr._createAfter(t)}createPositionBefore(t){return gr._createBefore(t)}createRange(t,e){return new pr(t,e)}createRangeIn(t){return pr._createIn(t)}createRangeOn(t){return pr._createOn(t)}createSelection(t,e,n){return new yr(t,e,n)}createBatch(t){return new ms(t)}createOperationFromJSON(t){return class{static fromJSON(t,e){return Xs[t.__className].fromJSON(t,e)}}.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new Ds(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}Oe(ma,Hn);class ga{constructor(){this._listener=Object.create(ao)}listenTo(t){this._listener.listenTo(t,"keydown",((t,e)=>{this._listener.fire("_keydown:"+pi(e),e)}))}set(t,e,n={}){const i=bi(t),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,((t,n)=>{e(n,(()=>{n.preventDefault(),n.stopPropagation(),t.stop()})),t.return=!0}),{priority:o})}press(t){return!!this._listener.fire("_keydown:"+pi(t),t)}destroy(){this._listener.stopListening()}}class pa extends ga{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=(e,n)=>{this.editor.execute(t),n()}}super.set(t,e,n)}}class ba{constructor(t={}){this._context=t.context||new ze({language:t.language}),this._context._addEditor(this,!t.context);const e=Array.from(this.constructor.builtinPlugins||[]);this.config=new pe(t,this.constructor.defaultConfig),this.config.define("plugins",e),this.config.define(this._context._getEditorConfig()),this.plugins=new De(this,e,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new $r,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.set("isReadOnly",!1),this.model=new ma;const n=new In;this.data=new ds(this.model,n),this.editing=new Yr(this.model,n),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new hs([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new pa(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[];return this.plugins.init(e.concat(i),n)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((t=>this.once("ready",t)))),t.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(...t){try{this.commands.execute(...t)}catch(t){xe.b.rethrowUnexpectedError(t,this)}}}Oe(ba,Hn);var wa={setData(t){this.data.set(t)},getData(t){return this.data.get(t)}},ka={updateSourceElement(){if(!this.sourceElement)throw new xe.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var t,e;t=this.sourceElement,e=this.data.get(),t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}};class _a{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class va{constructor(t){this._domParser=new DOMParser,this._domConverter=new no(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new _a}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class ya{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){if(this.has(t))throw new xe.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:t});this._components.set(xa(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new xe.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:t});return this._components.get(xa(t)).callback(this.editor.locale)}has(t){return this._components.has(xa(t))}}function xa(t){return String(t).toLowerCase()}class Aa{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new xe.b("focusTracker-add-element-already-exist",this);this.listenTo(t,"focus",(()=>this._focus(t)),{useCapture:!0}),this.listenTo(t,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}Oe(Aa,ao),Oe(Aa,Hn);class Ca{constructor(t){this.editor=t,this.componentFactory=new ya(t),this.focusTracker=new Aa,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",(()=>this.update()))}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}Oe(Ca,Te),n(13);const Ta=new WeakMap;function Pa(t){const{view:e,element:n,text:i,isDirectHost:o=!0}=t,r=e.document;Ta.has(r)||(Ta.set(r,new Map),r.registerPostFixer((t=>Sa(r,t)))),Ta.get(r).set(n,{text:i,isDirectHost:o}),e.change((t=>Sa(r,t)))}function Sa(t,e){const n=Ta.get(t);let i=!1;for(const[t,o]of n)Ma(e,t,o)&&(i=!0);return i}function Ma(t,e,n){const{text:i,isDirectHost:o}=n,r=o?e:function(t){if(1===t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}(e);let s=!1;return!!r&&(n.hostElement=r,r.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,r),s=!0),function(t){if(!t.isAttached())return!1;const e=!Array.from(t.getChildren()).some((t=>!t.is("uiElement"))),n=t.document;if(!n.isFocused&&e)return!0;const i=n.selection.anchor;return!(!e||!i||i.parent===t)}(r)?function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,r)&&(s=!0):function(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}(t,r)&&(s=!0),s)}class Ea{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach((({element:t,newElement:e})=>{t.style.display="",e&&e.remove()})),this._replacedElements=[]}}class Ia extends Ca{constructor(t,e){var n;super(t),this.view=e,this._toolbarConfig=(n=t.config.get("toolbar"),Array.isArray(n)?{items:n}:n?Object.assign({items:[]},n):{items:[]}),this._elementReplacer=new Ea}get element(){return this.view.element}init(t){const e=this.editor,n=this.view,i=e.editing.view,o=n.editable,r=i.document.getRoot();o.name=r.rootName,n.render();const s=o.element;this.setEditableElement(o.name,s),this.focusTracker.add(s),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(s),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),super.destroy()}_initToolbar(){const t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:i,beforeFocus:o,afterBlur:r}){n.add(i.element),e.set("Alt+F10",((t,e)=>{n.isFocused&&!i.focusTracker.isFocused&&(o&&o(),i.focus(),e())})),i.keystrokes.set("Esc",((e,n)=>{i.focusTracker.isFocused&&(t.focus(),r&&r(),n())}))}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),i=t.sourceElement,o=t.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");o&&Pa({view:e,element:n,text:o,isDirectHost:!1})}}class Na extends Re{constructor(t){super({idProperty:"viewUid"}),this.on("add",((t,e,n)=>{e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])})),this.on("remove",((t,e)=>{e.element&&this._parentElement&&e.element.remove()})),this.locale=t,this._parentElement=null}destroy(){this.map((t=>t.destroy()))}setParent(t){this._parentElement=t}delegate(...t){if(!t.length||!t.every((t=>"string"==typeof t)))throw new xe.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",((n,i)=>{for(const n of t)i.delegate(n).to(e)})),this.on("remove",((n,i)=>{for(const n of t)i.stopDelegating(n,e)}))}}}}class Oa{constructor(t){Object.assign(this,Ha(Ua(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new xe.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)Ga(n)?yield n:Qa(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,i)=>new Da({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,o)=>new La({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:o})}}static extend(t,e){if(t._isRendered)throw new xe.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,t]);!function t(e,n){if(n.attributes&&(e.attributes||(e.attributes={}),Ya(e.attributes,n.attributes)),n.eventListeners&&(e.eventListeners||(e.eventListeners={}),Ya(e.eventListeners,n.eventListeners)),n.text&&e.text.push(...n.text),n.children&&n.children.length){if(e.children.length!=n.children.length)throw new xe.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",e);let i=0;for(const o of n.children)t(e.children[i++],o)}}(t,Ha(Ua(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new xe.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),ja(this.text)?this._bindToObservable({schema:this.text,updater:za(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,i,o;if(!this.attributes)return;const r=t.node,s=t.revertData;for(e in this.attributes)if(i=r.getAttribute(e),n=this.attributes[e],s&&(s.attributes[e]=i),o=P(n[0])&&n[0].ns?n[0].ns:null,ja(n)){const a=o?n[0].value:n;s&&Ja(e)&&a.unshift(i),this._bindToObservable({schema:a,updater:Ba(r,e,o),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(s&&i&&Ja(e)&&n.unshift(i),n=n.map((t=>t&&t.value||t)).reduce(((t,e)=>t.concat(e)),[]).reduce(Wa,""),$a(n)||r.setAttributeNS(o,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const o=t[i];ja(o)?this._bindToObservable({schema:[o],updater:Fa(n,i),data:e}):n.style[i]=o}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let o=0;for(const r of this.children)if(Ka(r)){if(!i){r.setParent(e);for(const t of r)n.appendChild(t.element)}}else if(Ga(r))i||(r.isRendered||r.render(),n.appendChild(r.element));else if($i(r))n.appendChild(r);else if(i){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),r._renderNode({node:n.childNodes[o++],isApplying:!0,revertData:e})}else n.appendChild(r.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map((n=>{const[i,o]=e.split("@");return n.activateDomEventListener(i,o,t)}));t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;Va(t,e,n);const o=t.filter((t=>!$a(t))).filter((t=>t.observable)).map((i=>i.activateAttributeListener(t,e,n)));i&&i.bindings.push(o)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}Oe(Oa,Te);class Ra{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>Va(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,i)}}}class Da extends Ra{activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class La extends Ra{getValue(t){return!$a(super.getValue(t))&&(this.valueIfTrue||!0)}}function ja(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(ja):t instanceof Ra)}function Va(t,e,{node:n}){let i=function(t,e){return t.map((t=>t instanceof Ra?t.getValue(e):t))}(t,n);i=1==t.length&&t[0]instanceof La?i[0]:i.reduce(Wa,""),$a(i)?e.remove():e.set(i)}function za(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function Ba(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function Fa(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function Ua(t){return me(t,(t=>{if(t&&(t instanceof Ra||Qa(t)||Ga(t)||Ka(t)))return t}))}function Ha(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){Array.isArray(t.text)||(t.text=[t.text])}(t),t.on&&(t.eventListeners=function(t){for(const e in t)qa(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),qa(t,e)}(t.attributes);const e=[];if(t.children)if(Ka(t.children))e.push(t.children);else for(const n of t.children)Qa(n)||Ga(n)||$i(n)?e.push(n):e.push(new Oa(n));t.children=e}return t}function qa(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function Wa(t,e){return $a(e)?t:$a(t)?e:`${t} ${e}`}function Ya(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function $a(t){return!t&&0!==t}function Ga(t){return t instanceof Za}function Qa(t){return t instanceof Oa}function Ka(t){return t instanceof Na}function Ja(t){return"class"==t||"style"==t}n(15);class Za{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Re,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((e,n)=>{n.locale=t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Oa.bind(this,this)}createCollection(){const t=new Na;return this._viewCollections.add(t),t}registerChild(t){We(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){We(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new Oa(t)}extendTemplate(t){Oa.extend(this.template,t)}render(){if(this.isRendered)throw new xe.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((t=>t.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}Oe(Za,ao),Oe(Za,Hn);var Xa=function(t){return"string"==typeof t||!ct(t)&&m(t)&&"[object String]"==h(t)};class tc extends Na{attachToDom(){this._bodyCollectionContainer=new Oa({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=function(t,e,n={},i=[]){const o=n&&n.xmlns,r=o?t.createElementNS(o,e):t.createElement(e);for(const t in n)r.setAttribute(t,n[t]);!Xa(i)&&We(i)||(i=[i]);for(let e of i)Xa(e)&&(e=t.createTextNode(e)),r.appendChild(e);return r}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}n(17);class ec extends Za{constructor(t){super(t),this.body=new tc(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}n(19);class nc extends Za{constructor(t){super(t),this.set("text"),this.set("for"),this.id=`ck-editor__label_${ve()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class ic extends ec{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new nc;return e.text=t("bj"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class oc extends Za{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change((n=>{const i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)}))}t.isRenderingInProgress?function n(i){t.once("change:isRenderingInProgress",((t,o,r)=>{r?n(i):e(i)}))}(this):e(this)}}class rc extends oc{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change((n=>{const i=t.document.getRoot(this.name);n.setAttribute("aria-label",e("by",[this.name]),i)}))}}function sc(t){return e=>e+t}n(21);const ac=sc("px");class cc extends Za{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Oa({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",(t=>t?"block":"none")),height:e.to("isSticky",(t=>t?ac(this._panelRect.height):null))}}}).render(),this._contentPanel=new Oa({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",(t=>t?ac(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:e.to("_hasViewportTopOffset",(t=>t?ac(this.viewportTopOffset):null)),bottom:e.to("_isStickyToTheLimiter",(t=>t?ac(this.limiterBottomOffset):null)),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Zi.window,"scroll",(()=>{this._checkIfShouldBeSticky()})),this.listenTo(this,"change:isActive",(()=>{this._checkIfShouldBeSticky()}))}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ac(-Zi.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class lc{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,((t,n)=>{this[e](),n()}))}}get first(){return this.focusables.find(dc)||null}get last(){return this.focusables.filter(dc).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i})),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let i=(e+n+t)%n;do{const e=this.focusables.get(i);if(dc(e))return e;i=(i+n+t)%n}while(i!==e);return null}}function dc(t){return!(!t.focus||"none"==Zi.window.getComputedStyle(t.element).display)}class hc extends Za{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class uc{constructor(t,e){uc._observerInstance||uc._createObserver(),this._element=t,this._callback=e,uc._addElementCallback(t,e),uc._observerInstance.observe(t)}destroy(){uc._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){uc._elementCallbacks||(uc._elementCallbacks=new Map);let n=uc._elementCallbacks.get(t);n||(n=new Set,uc._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=uc._getElementCallbacks(t);n&&(n.delete(e),n.size||(uc._elementCallbacks.delete(t),uc._observerInstance.unobserve(t))),uc._elementCallbacks&&!uc._elementCallbacks.size&&(uc._observerInstance=null,uc._elementCallbacks=null)}static _getElementCallbacks(t){return uc._elementCallbacks?uc._elementCallbacks.get(t):null}static _createObserver(){let t;t="function"==typeof Zi.window.ResizeObserver?Zi.window.ResizeObserver:fc,uc._observerInstance=new t((t=>{for(const e of t){const t=uc._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}}))}}uc._observerInstance=null,uc._elementCallbacks=null;class fc{constructor(t){this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const t=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(Zi.window,"resize",(()=>{this._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=setTimeout(t,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const t=[];for(const e of this._elements)this._hasRectChanged(e)&&t.push({target:e,contentRect:this._previousRects.get(e)});t.length&&this._callback(t)}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t))return!1;const e=new Go(t),n=this._previousRects.get(t),i=!n||!n.isEqual(e);return this._previousRects.set(t,e),i}}Oe(fc,ao);class mc extends Za{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",(t=>`ck-dropdown__panel_${t}`)),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to((t=>t.preventDefault()))}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}function gc({element:t,target:e,positions:n,limiter:i,fitInViewport:o}){S(e)&&(e=e()),S(i)&&(i=i());const r=function(t){for(;t&&"html"!=t.tagName.toLowerCase();){if("static"!=Zi.window.getComputedStyle(t).position)return t;t=t.parentElement}return null}(t.parentElement),s=new Go(t),a=new Go(e);let c,l;if(i||o){const t=i&&new Go(i).getVisible(),e=o&&new Go(Zi.window);[l,c]=function(t,e,n,i,o){let r,s,a=0,c=0;const l=n.getArea();return t.some((t=>{const[d,h]=pc(t,e,n);let u,f;if(i)if(o){const t=i.getIntersection(o);u=t?t.getIntersectionArea(h):0}else u=i.getIntersectionArea(h);function m(){c=f,a=u,r=h,s=d}return o&&(f=o.getIntersectionArea(h)),o&&!i?f>c&&m():!o&&i?u>a&&m():(f>c&&u>=a||f>=c&&u>a)&&m(),u===l})),r?[s,r]:null}(n,a,s,t,e)||pc(n[0],a,s)}else[l,c]=pc(n[0],a,s);let{left:d,top:h}=bc(c);if(r){const t=bc(new Go(r)),e=Yo(r);d-=t.left,h-=t.top,d+=r.scrollLeft,h+=r.scrollTop,d-=e.left,h-=e.top}return{left:d,top:h,name:l}}function pc(t,e,n){const{left:i,top:o,name:r}=t(e,n);return[r,n.clone().moveTo(i,o)]}function bc({left:t,top:e}){const{scrollX:n,scrollY:i}=Zi.window;return{left:t+n,top:e+i}}n(23);class wc extends Za{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.focusTracker=new Aa,this.keystrokes=new ga,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",(t=>!t))],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(()=>{this.isOpen&&("auto"===this.panelPosition?this.panelView.position=wc._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)})),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",((t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())})),this.keystrokes.set("arrowright",((t,e)=>{this.isOpen&&e()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:n,northWest:i}=wc.defaultPanelPositions;return"ltr"===this.locale.uiLanguageDirection?[t,e,n,i]:[e,t,i,n]}}wc.defaultPanelPositions={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"})},wc._getOptimalPosition=gc,n(25);class kc extends Za{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((t=>{t.style.fill=this.fillColor}))}}n(27);class _c extends Za{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",(t=>"ck-tooltip_"+t)),e.if("text","ck-hidden",(t=>!t.trim()))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}n(29);class vc extends Za{constructor(t){super(t);const e=this.bindTemplate,n=ve();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new kc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",(t=>!t)),e.if("isVisible","ck-hidden",(t=>!t)),e.to("isOn",(t=>t?"ck-on":"ck-off")),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",(t=>t||"button")),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,(t=>!t)),"aria-pressed":e.to("isOn",(t=>!!this.isToggleable&&String(t)))},children:this.children,on:{mousedown:e.to((t=>{t.preventDefault()})),click:e.to((t=>{this.isEnabled?this.fire("execute"):t.preventDefault()}))}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const t=new _c;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new Za,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_createKeystrokeView(){const t=new Za;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(t=>wi(t)))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=wi(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}class yc extends vc{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new kc;return t.content='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}n(31);class xc extends Za{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Aa,this.keystrokes=new ga,this._focusCycler=new lc({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Ac extends Za{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class Cc extends Za{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(33);class Tc extends vc{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Za;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}function Pc({emitter:t,activator:e,callback:n,contextElements:i}){t.listenTo(document,"mousedown",((t,{target:o})=>{if(e()){for(const t of i)if(t.contains(o))return;n()}}))}function Sc(t,e=yc){const n=new e(t),i=new mc(t),o=new wc(t,n,i);return n.bind("isEnabled").to(o),n instanceof yc?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),function(t){(function(t){t.on("render",(()=>{Pc({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})}))})(t),function(t){t.on("execute",(e=>{e.source instanceof Tc||(t.isOpen=!1)}))}(t),function(t){t.keystrokes.set("arrowdown",((e,n)=>{t.isOpen&&(t.panelView.focus(),n())})),t.keystrokes.set("arrowup",((e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())}))}(t)}(o),o}function Mc(t,e){const n=t.locale,i=t.listView=new xc(n);i.items.bindTo(e).using((({type:t,model:e})=>{if("separator"===t)return new Cc(n);if("button"===t||"switchbutton"===t){const i=new Ac(n);let o;return o="button"===t?new vc(n):new Tc(n),o.bind(...Object.keys(e)).to(e),o.delegate("execute").to(i),i.children.add(o),i}})),t.panelView.children.add(i),i.items.delegate("execute").to(t)}n(35),n(37),n(39);class Ec extends Za{constructor(t,e){super(t);const n=this.bindTemplate,i=this.t;var o;this.options=e||{},this.set("ariaLabel",i("bo")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Aa,this.keystrokes=new ga,this.set("class"),this.set("isCompact",!1),this.itemsView=new Ic(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new lc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(o=this,o.bindTemplate.to((t=>{t.target===o.element&&t.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new Oc(this):new Nc(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){t.map((t=>{"|"==t?this.items.add(new hc):e.has(t)?this.items.add(e.create(t)):console.warn(Object(xe.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:t})}))}}class Ic extends Za{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Nc{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((t=>t)),t.focusables.bindTo(t.items).using((t=>t)),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Oc{constructor(t){this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,t.itemsView.children.bindTo(this.ungroupedItems).using((t=>t)),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("add",((t,e,n)=>{n>this.ungroupedItems.length?this.groupedItems.add(e,n-this.ungroupedItems.length):this.ungroupedItems.add(e,n),this._updateGrouping()})),t.items.on("remove",((t,e,n)=>{n>this.ungroupedItems.length?this.groupedItems.remove(e):this.ungroupedItems.remove(e),this._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new Go(t.lastChild),i=new Go(t);if(!this.cachedPadding){const n=Zi.window.getComputedStyle(t),i="ltr"===e?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[i])}return"ltr"===e?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new uc(this.viewElement,(e=>{t&&t===e.contentRect.width||(this._updateGrouping(),t=e.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new hc),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Sc(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",function(t,e){const n=t.locale,i=n.t,o=t.toolbarView=new Ec(n);o.set("ariaLabel",i("bk")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),[].map((t=>o.items.add(t))),t.panelView.children.add(o),o.items.delegate("execute").to(t)}(n),n.buttonView.set({label:e("bp"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using((t=>t)),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((t=>{this.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}n(41);class Rc extends ic{constructor(t,e,n={}){super(t),this.stickyPanel=new cc(t),this.toolbar=new Ec(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new rc(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Dc extends ba{constructor(t,e){super(e),ge(t)&&(this.sourceElement=t),this.data.processor=new va(this.data.viewDocument),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=new Rc(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new Ia(this,i),function(t){if(!S(t.updateSourceElement))throw new xe.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",t);const e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){let n;const i=e.form,o=()=>t.updateSourceElement();S(i.submit)&&(n=i.submit,i.submit=()=>{o(),n.apply(i)}),i.addEventListener("submit",o),t.on("destroy",(()=>{i.removeEventListener("submit",o),n&&(i.submit=n)}))}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise((n=>{const i=new this(t,e);n(i.initPlugins().then((()=>i.ui.init(ge(t)?t:null))).then((()=>{if(!ge(t)&&e.initialData)throw new xe.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);const n=e.initialData||function(t){return ge(t)?(e=t)instanceof HTMLTextAreaElement?e.value:e.innerHTML:t;var e}(t);return i.data.init(n)})).then((()=>i.fire("ready"))).then((()=>i)))}))}}Oe(Dc,wa),Oe(Dc,ka);class Lc{constructor(t){this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",jc,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",jc),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function jc(t){t.return=!1,t.stop()}Oe(Lc,Hn);class Vc{constructor(t){this.files=function(t){const e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];return e.length?e:n.filter((t=>"file"===t.kind)).map((t=>t.getAsFile()))}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}class zc extends So{constructor(t){super(t);const e=this.document;function n(t,n){n.preventDefault();const i=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges()),o=new ke(e,"clipboardInput");e.fire(o,{dataTransfer:n.dataTransfer,targetRanges:i}),o.stop.called&&n.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(e,"paste",n,{priority:"low"}),this.listenTo(e,"drop",n,{priority:"low"})}onDomEvent(t){const e={dataTransfer:new Vc(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=function(t,e){const n=e.target.ownerDocument,i=e.clientX,o=e.clientY;let r;return n.caretRangeFromPoint&&n.caretRangeFromPoint(i,o)?r=n.caretRangeFromPoint(i,o):e.rangeParent&&(r=n.createRange(),r.setStart(e.rangeParent,e.rangeOffset),r.collapse(!0)),r?t.domConverter.domRangeToView(r):t.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,e)}}const Bc=["figcaption","li"];class Fc extends Lc{static get pluginName(){return"Clipboard"}init(){const t=this.editor,e=t.model.document,n=t.editing.view,i=n.document;function o(n,o){const r=o.dataTransfer;o.preventDefault();const s=t.data.toView(t.model.getSelectedContent(e.selection));i.fire("clipboardOutput",{dataTransfer:r,content:s,method:n.name})}this._htmlDataProcessor=new va(i),n.addObserver(zc),this.listenTo(i,"clipboardInput",(e=>{t.isReadOnly&&e.stop()}),{priority:"highest"}),this.listenTo(i,"clipboardInput",((t,e)=>{const i=e.dataTransfer;let o="";var r;i.getData("text/html")?o=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>1==e.length?" ":e))}(i.getData("text/html")):i.getData("text/plain")&&((r=(r=i.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(r=`<p>${r}</p>`),o=r),o=this._htmlDataProcessor.toView(o),this.fire("inputTransformation",{content:o,dataTransfer:i}),n.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((t,e)=>{if(!e.content.isEmpty){const t=this.editor.data,n=this.editor.model,i=t.toModel(e.content,"$clipboardHolder");if(0==i.childCount)return;n.insertContent(i)}}),{priority:"low"}),this.listenTo(i,"copy",o,{priority:"low"}),this.listenTo(i,"cut",((e,n)=>{t.isReadOnly?n.preventDefault():o(e,n)}),{priority:"low"}),this.listenTo(i,"clipboardOutput",((n,i)=>{i.content.isEmpty||(i.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",function t(e){let n="";if(e.is("text")||e.is("textProxy"))n=e.data;else if(e.is("img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else{let i=null;for(const o of e.getChildren()){const e=t(o);i&&(i.is("containerElement")||o.is("containerElement"))&&(Bc.includes(i.name)||Bc.includes(o.name)?n+="\n":n+="\n\n"),n+=e,i=o}}return n}(i.content))),"cut"==i.method&&t.model.deleteContent(e.selection)}),{priority:"low"})}}class Uc{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.on("execute",(t=>{this.isEnabled||t.stop()}),{priority:"high"}),this.listenTo(t,"change:isReadOnly",((t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}))}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Hc,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Hc),this.refresh())}execute(){}destroy(){this.stopListening()}}function Hc(t){t.return=!1,t.stop()}function*qc(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}Oe(Uc,Hn);class Wc extends Uc{execute(){const t=this.editor.model,e=t.document;t.change((n=>{!function(t,e,n,i){const o=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,a=r.end.parent;if(i.isLimit(s)||i.isLimit(a))o||s!=a||t.deleteContent(n);else if(o){const t=qc(e.model.schema,n.getAttributes());Yc(e,r.start),e.setSelectionAttribute(t)}else{const i=!(r.start.isAtStart&&r.end.isAtEnd),o=s==a;t.deleteContent(n,{leaveUnmerged:i}),i&&(o?Yc(e,n.focus):e.setSelection(a,0))}}(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})}))}}function Yc(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}class $c extends ho{constructor(t){super(t);const e=this.document;e.on("keydown",((t,n)=>{if(this.isEnabled&&n.keyCode==gi.enter){let i;e.once("enter",(t=>i=t),{priority:"highest"}),e.fire("enter",new Po(e,n.domEvent,{isSoft:n.shiftKey})),i&&i.stop.called&&t.stop()}}))}observe(){}}class Gc extends Lc{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver($c),t.commands.add("enter",new Wc(t)),this.listenTo(n,"enter",((n,i)=>{i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())}),{priority:"low"})}}class Qc extends Uc{execute(){const t=this.editor.model,e=t.document;t.change((n=>{!function(t,e,n){const i=n.isCollapsed,o=n.getFirstRange(),r=o.start.parent,s=o.end.parent,a=r==s;if(i){const i=qc(t.schema,n.getAttributes());Kc(t,e,o.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(i)}else{const i=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),a?Kc(t,e,n.focus):i&&e.setSelection(s,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})}))}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),o=i.start.parent,r=i.end.parent;return!Jc(o,t)&&!Jc(r,t)||o===r}(t.schema,e.selection)}}function Kc(t,e,n){const i=e.createElement("softBreak");t.insertContent(i,n),e.setSelection(i,"after")}function Jc(t,e){return!t.is("rootElement")&&(e.isLimit(t)||Jc(t.parent,e))}class Zc extends Lc{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,o=i.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(t,e)=>e.createEmptyElement("br")}),i.addObserver($c),t.commands.add("shiftEnter",new Qc(t)),this.listenTo(o,"enter",((e,n)=>{n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection())}),{priority:"low"})}}class Xc{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=(t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class tl extends Uc{constructor(t,e){super(t),this._buffer=new Xc(t.model,e),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",o=i.length,r=t.range?e.createSelection(t.range):n.selection,s=t.resultRange;e.enqueueChange(this._buffer.batch,(t=>{this._buffer.lock(),e.deleteContent(r),i&&e.insertContent(t.createText(i,n.selection.getAttributes()),r),s?t.setSelection(s):r.is("documentSelection")||t.setSelection(r),this._buffer.unlock(),this._buffer.input(o),this._batches.add(this._buffer.batch)}))}}const el=[pi("arrowUp"),pi("arrowRight"),pi("arrowDown"),pi("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let t=112;t<=135;t++)el.push(t);function nl(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=function(t,e){const n=[];let i,o=0;return t.forEach((t=>{"equal"==t?(r(),o++):"insert"==t?(s("insert")?i.values.push(e[o]):(r(),i={type:"insert",index:o,values:[e[o]]}),o++):s("delete")?i.howMany++:(r(),i={type:"delete",index:o,howMany:1})})),r(),n;function r(){i&&(n.push(i),i=null)}function s(t){return i&&i.type==t}}(qi(t.oldChildren,t.newChildren,il),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]&&n.values[0].is("text")?n:void 0}function il(t,e){return t&&t.is("text")&&e&&e.is("text")?t.data===e.data:t===e}class ol{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(function(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!nl(e))return!0;return!1}(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map((t=>t.node)).reduce(((t,e)=>t.getCommonAncestor(e,{includeSelf:!0})));if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find((t=>t.is("containerElement")||t.is("rootElement")))}(t);if(!n)return;const i=this.editor.editing.view.domConverter.mapViewToDom(n),o=new no(this.editor.editing.view.document),r=this.editor.data.toModel(o.domToView(i)).getChild(0),s=this.editor.editing.mapper.toModelElement(n);if(!s)return;const a=Array.from(r.getChildren()),c=Array.from(s.getChildren()),l=a[a.length-1],d=c[c.length-1];l&&l.is("softBreak")&&d&&!d.is("softBreak")&&a.pop();const h=this.editor.model.schema;if(!rl(a,h)||!rl(c,h))return;const u=a.map((t=>t.is("text")?t.data:"@")).join("").replace(/\u00A0/g," "),f=c.map((t=>t.is("text")?t.data:"@")).join("").replace(/\u00A0/g," ");if(f===u)return;const m=qi(f,u),{firstChangeAt:g,insertions:p,deletions:b}=sl(m);let w=null;e&&(w=this.editing.mapper.toModelRange(e.getFirstRange()));const k=u.substr(g,p),_=this.editor.model.createRange(this.editor.model.createPositionAt(s,g),this.editor.model.createPositionAt(s,g+b));this.editor.execute("input",{text:k,range:_,resultRange:w})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),i=t.oldText.replace(/\u00A0/g," ");if(i===n)return;const o=qi(i,n),{firstChangeAt:r,insertions:s,deletions:a}=sl(o);let c=null;e&&(c=this.editing.mapper.toModelRange(e.getFirstRange()));const l=this.editing.view.createPositionAt(t.node,r),d=this.editing.mapper.toModelPosition(l),h=this.editor.model.createRange(d,d.getShiftedBy(a)),u=n.substr(r,s);this.editor.execute("input",{text:u,range:h,resultRange:c})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=nl(t),n=this.editing.view.createPositionAt(t.node,e.index),i=this.editing.mapper.toModelPosition(n),o=e.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}function rl(t,e){return t.every((t=>e.isInline(t)))}function sl(t){let e=null,n=null;for(let i=0;i<t.length;i++)"equal"!=t[i]&&(e=null===e?i:e,n=i);let i=0,o=0;for(let r=e;r<=n;r++)"insert"!=t[r]&&i++,"delete"!=t[r]&&o++;return{insertions:o,deletions:i,firstChangeAt:e}}class al extends Lc{static get pluginName(){return"Input"}init(){const t=this.editor,e=new tl(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),function(t){let e=null;const n=t.model,i=t.editing.view,o=t.commands.get("input");function r(t){const r=n.document,a=i.document.isComposing,c=e&&e.isEqual(r.selection);e=null,o.isEnabled&&(function(t){return!!t.ctrlKey||el.includes(t.keyCode)}(t)||r.selection.isCollapsed||a&&229===t.keyCode||!a&&229===t.keyCode&&c||s())}function s(){const t=o.buffer;t.lock(),n.enqueueChange(t.batch,(()=>{n.deleteContent(n.document.selection)})),t.unlock()}ui.isAndroid?i.document.on("beforeinput",((t,e)=>r(e)),{priority:"lowest"}):i.document.on("keydown",((t,e)=>r(e)),{priority:"lowest"}),i.document.on("compositionstart",(function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||s()}),{priority:"lowest"}),i.document.on("compositionend",(()=>{e=n.createSelection(n.document.selection)}),{priority:"lowest"})}(t),function(t){t.editing.view.document.on("mutations",((e,n,i)=>{new ol(t).handle(n,i)}))}(t)}isInput(t){return this.editor.commands.get("input")._batches.has(t)}}class cl extends Uc{constructor(t,e){super(t),this.direction=e,this._buffer=new Xc(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,(i=>{this._buffer.lock();const o=i.createSelection(t.selection||n.selection),r=o.isCollapsed;if(o.isCollapsed&&e.modifySelection(o,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void this._replaceEntireContentWithParagraph(i);if(o.isCollapsed)return;let s=0;o.getFirstRange().getMinimalFlatRanges().forEach((t=>{s+=ni(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),e.deleteContent(o,{doNotResetEntireContent:r,direction:this.direction}),this._buffer.input(s),i.setSelection(o),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!e.schema.checkChild(i,"paragraph"))return!1;const o=i.getChild(0);return!o||"paragraph"!==o.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n),o=t.createElement("paragraph");t.remove(t.createRangeIn(i)),t.insert(o,i),t.setSelection(o,0)}}class ll extends ho{constructor(t){super(t);const e=t.document;let n=0;function i(t,n,i){let o;e.once("delete",(t=>o=t),{priority:Number.POSITIVE_INFINITY}),e.fire("delete",new Po(e,n,i)),o&&o.stop.called&&t.stop()}e.on("keyup",((t,e)=>{e.keyCode!=gi.delete&&e.keyCode!=gi.backspace||(n=0)})),e.on("keydown",((t,e)=>{const o={};if(e.keyCode==gi.delete)o.direction="forward",o.unit="character";else{if(e.keyCode!=gi.backspace)return;o.direction="backward",o.unit="codePoint"}const r=ui.isMac?e.altKey:e.ctrlKey;o.unit=r?"word":o.unit,o.sequence=++n,i(t,e.domEvent,o)})),ui.isAndroid&&e.on("beforeinput",((e,n)=>{if("deleteContentBackward"!=n.domEvent.inputType)return;const o={unit:"codepoint",direction:"backward",sequence:1},r=n.domTarget.ownerDocument.defaultView.getSelection();r.anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset&&(o.selectionToRemove=t.domConverter.domSelectionToView(r)),i(e,n.domEvent,o)}))}observe(){}}class dl extends Lc{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;if(e.addObserver(ll),t.commands.add("forwardDelete",new cl(t,"forward")),t.commands.add("delete",new cl(t,"backward")),this.listenTo(n,"delete",((n,i)=>{const o={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){const e=t.model.createSelection(),n=[];for(const e of i.selectionToRemove.getRanges())n.push(t.editing.mapper.toModelRange(e));e.setTo(n),o.selection=e}t.execute("forward"==i.direction?"forwardDelete":"delete",o),i.preventDefault(),e.scrollToTheSelection()})),ui.isAndroid){let t=null;this.listenTo(n,"delete",((e,n)=>{const i=n.domTarget.ownerDocument.defaultView.getSelection();t={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}}),{priority:"lowest"}),this.listenTo(n,"keyup",((e,n)=>{if(t){const e=n.domTarget.ownerDocument.defaultView.getSelection();e.collapse(t.anchorNode,t.anchorOffset),e.extend(t.focusNode,t.focusOffset),t=null}}))}}}class hl extends Lc{static get requires(){return[al,dl]}static get pluginName(){return"Typing"}}const ul=new Map;function fl(t,e,n){let i=ul.get(t);i||(i=new Map,ul.set(t,i)),i.set(e,n)}function ml(t){return[t]}function gl(t,e,n={}){const i=function(t,e){const n=ul.get(t);return n&&n.has(e)?n.get(e):ml}(t.constructor,e.constructor);try{return i(t=t.clone(),e,n)}catch(t){throw t}}function pl(t,e,n){t=t.slice(),e=e.slice();const i=new bl(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(t),i.setOriginalOperations(e);const o=i.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:o};const r=new WeakMap;for(const e of t)r.set(e,0);const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;for(;a<t.length;){const n=t[a],o=r.get(n);if(o==e.length){a++;continue}const s=e[o],c=gl(n,s,i.getContext(n,s,!0)),l=gl(s,n,i.getContext(s,n,!1));i.updateRelation(n,s),i.setOriginalOperations(c,n),i.setOriginalOperations(l,s);for(const t of c)r.set(t,o+l.length);t.splice(a,1,...c),e.splice(o,1,...l)}if(n.padWithNoOps){const n=t.length-s.originalOperationsACount,i=e.length-s.originalOperationsBCount;kl(t,i-n),kl(e,n-i)}return wl(t,s.nextBaseVersionB),wl(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:o}}class bl{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const e of t)this.originalOperations.set(e,n||e)}updateRelation(t,e){switch(t.constructor){case Ps:switch(e.constructor){case Ns:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case Ps:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case Os:switch(e.constructor){case Ns:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case Ps:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore")}break;case Ns:switch(e.constructor){case Ns:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case Os:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case Ms:{const n=t.newRange;if(!n)return;switch(e.constructor){case Ps:{const i=pr._createFromPositionAndShift(e.sourcePosition,e.howMany),o=i.containsPosition(n.start)||i.start.isEqual(n.start),r=i.containsPosition(n.end)||i.end.isEqual(n.end);!o&&!r||i.containsRange(n)||this._setRelation(t,e,{side:o?"left":"right",path:o?n.start.path.slice():n.end.path.slice()});break}case Ns:{const i=n.start.isEqual(e.targetPosition),o=n.start.isEqual(e.deletionPosition),r=n.end.isEqual(e.deletionPosition),s=n.end.isEqual(e.sourcePosition);(i||o||r||s)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:r,wasInRightElement:s});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const o=this.originalOperations.get(t),r=this._relations.get(o);return r&&r.get(i)||null}_setRelation(t,e,n){const i=this.originalOperations.get(t),o=this.originalOperations.get(e);let r=this._relations.get(i);r||(r=new Map,this._relations.set(i,r)),r.set(o,n)}}function wl(t,e){for(const n of t)n.baseVersion=e++}function kl(t,e){for(let n=0;n<e;n++)t.push(new Zs(0))}function _l(t,e,n){const i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;const o=new pr(t.position,t.position.getShiftedBy(t.howMany));return new Cs(o,e,i,n,0)}function vl(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function yl(t,e){const n=[];for(let i=0;i<t.length;i++){const o=t[i],r=new Ps(o.start,o.end.offset-o.start.offset,e,0);n.push(r);for(let e=i+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return n}fl(Cs,Cs,((t,e,n)=>{if(t.key===e.key){const i=t.range.getDifference(e.range).map((e=>new Cs(e,t.key,t.oldValue,t.newValue,0))),o=t.range.getIntersection(e.range);return o&&n.aIsStrong&&i.push(new Cs(o,e.key,e.newValue,t.newValue,0)),0==i.length?[new Zs(0)]:i}return[t]})),fl(Cs,Ss,((t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map((e=>new Cs(e,t.key,t.oldValue,t.newValue,t.baseVersion)));if(e.shouldReceiveAttributes){const i=_l(e,t.key,t.oldValue);i&&n.unshift(i)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),fl(Cs,Ns,((t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(pr._createFromPositionAndShift(e.graveyardPosition,1));const i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map((e=>new Cs(e,t.key,t.oldValue,t.newValue,t.baseVersion)))})),fl(Cs,Ps,((t,e)=>function(t,e){const n=pr._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,o=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(o=t.getDifference(n),i=t.getIntersection(n)):o=[t];const r=[];for(let t of o){t=t._getTransformedByDeletion(e.sourcePosition,e.howMany);const n=e.getMovedRangeStart(),i=t.start.hasSameParentAs(n);t=t._getTransformedByInsertion(n,e.howMany,i),r.push(...t)}return i&&r.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),r}(t.range,e).map((e=>new Cs(e,t.key,t.oldValue,t.newValue,t.baseVersion))))),fl(Cs,Os,((t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new pr(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),fl(Ss,Cs,((t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const i=_l(t,e.key,e.newValue);i&&n.push(i)}return n})),fl(Ss,Ss,((t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]))),fl(Ss,Ps,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),fl(Ss,Os,((t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]))),fl(Ss,Ns,((t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]))),fl(Ms,Ss,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]))),fl(Ms,Ms,((t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new Zs(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),fl(Ms,Ns,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]))),fl(Ms,Ps,((t,e,n)=>{if(t.oldRange&&(t.oldRange=pr._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const i=pr._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=i.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=i.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=pr._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]})),fl(Ms,Os,((t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const i=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=gr._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=gr._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=gr._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=gr._createAt(e.insertionPosition):t.newRange.end=i.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),fl(Ns,Ss,((t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]))),fl(Ns,Ns,((t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new gr(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new Zs(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==t.targetPosition.root.rootName,o="$graveyard"==e.targetPosition.root.rootName;if(o&&!i||!(i&&!o)&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),i=t.targetPosition._getTransformedByMergeOperation(e);return[new Ps(n,t.howMany,i,0)]}return[new Zs(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),fl(Ns,Ps,((t,e,n)=>{const i=pr._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new Zs(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),fl(Ns,Os,((t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const i=0!=e.howMany,o=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(i||o||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),fl(Ps,Ss,((t,e)=>{const n=pr._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),fl(Ps,Ps,((t,e,n)=>{const i=pr._createFromPositionAndShift(t.sourcePosition,t.howMany),o=pr._createFromPositionAndShift(e.sourcePosition,e.howMany);let r,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),r=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vl(t,e)&&vl(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),yl([i],r);if(o.containsPosition(t.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),yl([i],r);const c=Be(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),yl([i],r);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const l=[],d=i.getDifference(o);for(const t of d){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany),t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const n="same"==Be(t.start.getParentPath(),e.getMovedRangeStart().getParentPath()),i=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,n);l.push(...i)}const h=i.getIntersection(o);return null!==h&&s&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(h):1==l.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?l.unshift(h):l.push(h):l.splice(1,0,h)),0===l.length?[new Zs(t.baseVersion)]:yl(l,r)})),fl(Ps,Os,((t,e,n)=>{let i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));const o=pr._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let t=new pr(e.splitPosition,o.end);return t=t._getTransformedBySplitOperation(e),yl([new pr(o.start,e.splitPosition),t],i)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);const r=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const i=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);t.howMany>1&&i&&!n.aWasUndone&&r.push(pr._createFromPositionAndShift(e.insertionPosition,1))}return yl(r,i)})),fl(Ps,Ns,((t,e,n)=>{const i=pr._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new Zs(0)]}else if(!n.aWasUndone){const n=[];let i=e.graveyardPosition.clone(),o=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new Ps(t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),o=o._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const r=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),s=new Ps(i,1,r,0),a=s.getMovedRangeStart().path.slice();a.push(0);const c=new gr(s.targetPosition.root,a);o=o._getTransformedByMove(i,r,1);const l=new Ps(o,e.howMany,c,0);return n.push(s),n.push(l),n}const o=pr._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=o.start,t.howMany=o.end.offset-o.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),fl(Es,Ss,((t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]))),fl(Es,Ns,((t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]))),fl(Es,Ps,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),fl(Es,Es,((t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new Zs(0)];t.oldName=e.newName}return[t]})),fl(Es,Os,((t,e)=>{if("same"==Be(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const e=new Es(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),fl(Is,Is,((t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new Zs(0)];t.oldValue=e.newValue}return[t]})),fl(Os,Ss,((t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=Os.getInsertionPosition(t.splitPosition),[t]))),fl(Os,Ns,((t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new gr(e.graveyardPosition.root,n),o=Os.getInsertionPosition(new gr(e.graveyardPosition.root,n)),r=new Os(i,0,null,0);return r.insertionPosition=o,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Os.getInsertionPosition(t.splitPosition),t.graveyardPosition=r.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[r,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Os.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),fl(Os,Ps,((t,e,n)=>{const i=pr._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const o=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&o){const n=t.splitPosition._getTransformedByMoveOperation(e),i=t.graveyardPosition._getTransformedByMoveOperation(e),o=i.path.slice();o.push(0);const r=new gr(i.root,o);return[new Ps(n,t.howMany,r,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=n,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=Os.getInsertionPosition(t.splitPosition),[t]}return!t.splitPosition.isEqual(e.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=Os.getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=Os.getInsertionPosition(t.splitPosition),[t])})),fl(Os,Os,((t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new Zs(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new Zs(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const i="$graveyard"==t.splitPosition.root.rootName,o="$graveyard"==e.splitPosition.root.rootName;if(o&&!i||!(i&&!o)&&n.aIsStrong){const n=[];return e.howMany&&n.push(new Ps(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new Ps(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new Zs(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const i=new gr(e.insertionPosition.root,n);return[t,new Ps(t.insertionPosition,1,i,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=Os.getInsertionPosition(t.splitPosition),[t]}));class xl extends Uc{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const i=this.editor.model,o=i.document,r=[];for(const e of t){const t=Al(e,n).find((t=>t.start.root!=o.graveyard));t&&r.push(t)}r.length&&i.change((t=>{t.setSelection(r,{backward:e})}))}_undo(t,e){const n=this.editor.model,i=n.document;this._createdBatches.add(e);const o=t.operations.slice().filter((t=>t.isDocumentOperation));o.reverse();for(const t of o){const o=t.baseVersion+1,r=Array.from(i.history.getOperations(o)),s=pl([t.getReversed()],r,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const o of s)e.addOperation(o),n.applyOperation(o),i.history.setOperationAsUndone(t,o)}}}function Al(t,e){const n=t.getTransformedByOperations(e);n.sort(((t,e)=>t.start.isBefore(e.start)?-1:1));for(let t=1;t<n.length;t++){const e=n[t-1],i=n[t];e.end.isTouching(i.start)&&(e.end=i.end,n.splice(t,1),t--)}return n}class Cl extends xl{execute(t=null){const e=t?this._stack.findIndex((e=>e.batch==t)):this._stack.length-1,n=this._stack.splice(e,1)[0],i=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(i,(()=>{this._undo(n.batch,i);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire("revert",n.batch,i)})),this.refresh()}}class Tl extends xl{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(e,(()=>{const n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,i=this.editor.model.document.history.getOperations(n);this._restoreSelection(t.selection.ranges,t.selection.isBackward,i),this._undo(t.batch,e)})),this.refresh()}}class Pl extends Lc{static get pluginName(){return"UndoEditing"}constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new Cl(t),this._redoCommand=new Tl(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",((t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const i=n.batch,o=this._redoCommand._createdBatches.has(i),r=this._undoCommand._createdBatches.has(i);this._batchRegistry.has(i)||"transparent"==i.type&&!o&&!r||(o?this._undoCommand.addBatch(i):r||(this._undoCommand.addBatch(i),this._redoCommand.clearStack()),this._batchRegistry.add(i))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((t,e,n)=>{this._redoCommand.addBatch(n)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}var Sl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Ml='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class El extends Lc{init(){const t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?Sl:Ml,o="ltr"==e.uiLanguageDirection?Ml:Sl;this._addButton("undo",n("bh"),"CTRL+Z",i),this._addButton("redo",n("bi"),"CTRL+Y",o)}_addButton(t,e,n,i){const o=this.editor;o.ui.componentFactory.add(t,(r=>{const s=o.commands.get(t),a=new vc(r);return a.set({label:e,icon:i,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",(()=>{o.execute(t),o.editing.view.focus()})),a}))}}class Il extends Lc{static get requires(){return[Pl,El]}static get pluginName(){return"Undo"}}class Nl{constructor(t){this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}Oe(Nl,Hn);class Ol extends Nl{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Re({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new xe.b("pendingactions-add-invalid-message: The message must be a string.",this);const e=Object.create(Hn);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class Rl{constructor(){const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise(((n,i)=>{e.onload=()=>{const t=e.result;this._data=t,n(t)},e.onerror=()=>{i("error")},e.onabort=()=>{i("aborted")},this._reader.readAsDataURL(t)}))}abort(){this._reader.abort()}}Oe(Rl,Hn);class Dl extends Lc{static get pluginName(){return"FileRepository"}static get requires(){return[Ol]}init(){this.loaders=new Re,this.loaders.on("add",(()=>this._updatePendingAction())),this.loaders.on("remove",(()=>this._updatePendingAction())),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0))}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return console.warn(Object(xe.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;const e=new Ll(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then((t=>{this._loadersMap.set(t,e)})).catch((()=>{})),e.on("change:uploaded",(()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t})),e.on("change:uploadTotal",(()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t})),e}destroyLoader(t){const e=t instanceof Ll?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach(((t,n)=>{t===e&&this._loadersMap.delete(n)}))}_updatePendingAction(){const t=this.editor.plugins.get(Ol);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("au")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}Oe(Dl,Hn);class Ll{constructor(t,e){this.id=ve(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new Rl,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((t=>this._filePromiseWrapper?t:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new xe.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then((t=>this._reader.read(t))).then((t=>(this.status="idle",t))).catch((t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t}))}upload(){if("idle"!=this.status)throw new xe.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((t=>(this.uploadResponse=t,this.status="idle",t))).catch((t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t}))}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise(((n,i)=>{e.rejecter=i,e.isFulfilled=!1,t.then((t=>{e.isFulfilled=!0,n(t)})).catch((t=>{e.isFulfilled=!0,i(t)}))})),e}}Oe(Ll,Hn);class jl extends Lc{static get requires(){return[Dl]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Dl).createUploadAdapter=e=>new Vl(e,t,this.editor.t))}}class Vl{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then((t=>new Promise(((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const i=this.xhr,o=this.loader,r=(0,this.t)("a")+` ${n.name}.`;i.addEventListener("error",(()=>e(r))),i.addEventListener("abort",(()=>e())),i.addEventListener("load",(()=>{const n=i.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:r);t({default:n.url})})),i.upload&&i.upload.addEventListener("progress",(t=>{t.lengthComputable&&(o.uploadTotal=t.total,o.uploaded=t.loaded)}))}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",function(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("=");if(decodeURIComponent(e[0].trim().toLowerCase())===t)return decodeURIComponent(e[1])}return null}("ckCsrfToken");var e;return t&&40==t.length||(t=function(t){let e="";const n=new Uint8Array(40);window.crypto.getRandomValues(n);for(let t=0;t<n.length;t++){const i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(n[t]%36);e+=Math.random()>.5?i.toUpperCase():i}return e}(),e=t,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),t}()),this.xhr.send(e)}}class zl{static get pluginName(){return"BlockAutoformatEditing"}constructor(t,e,n){let i,o=null;"function"==typeof n?i=n:(o=t.commands.get(n),i=()=>{t.execute(n)}),t.model.document.on("change",((n,r)=>{if(o&&!o.isEnabled)return;if("transparent"==r.type)return;const s=Array.from(t.model.document.differ.getChanges()),a=s[0];if(1!=s.length||"insert"!==a.type||"$text"!=a.name||1!=a.length)return;const c=a.position.parent;if(!c.is("paragraph")||1!==c.childCount)return;const l=e.exec(c.getChild(0).data);l&&t.model.enqueueChange((t=>{const e=t.createPositionAt(c,0),n=t.createPositionAt(c,l[0].length),o=new Pr(e,n);!1!==i({match:l})&&t.remove(o),o.detach()}))}))}}function Bl(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce(((t,i)=>i.is("text")||i.is("textProxy")?t+i.data:(n=e.createPositionAfter(i),"")),""),range:e.createRange(n,t.end)}}class Fl{static get pluginName(){return"InlineAutoformatEditing"}constructor(t,e,n){let i,o,r,s;e instanceof RegExp?i=e:r=e,"string"==typeof n?o=n:s=n,r=r||(t=>{let e;const n=[],o=[];for(;null!==(e=i.exec(t))&&!(e&&e.length<4);){let{index:t,1:i,2:r,3:s}=e;const a=i+r+s;t+=e[0].length-a.length;const c=[t,t+i.length],l=[t+i.length+r.length,t+i.length+r.length+s.length];n.push(c),n.push(l),o.push([t+i.length,t+i.length+r.length])}return{remove:n,format:o}}),s=s||((e,n)=>{const i=t.model.schema.getValidRanges(n,o);for(const t of i)e.setAttribute(o,!0,t);e.removeSelectionAttribute(o)}),t.model.document.on("change",((e,n)=>{if("transparent"==n.type)return;const i=t.model,o=i.document.selection;if(!o.isCollapsed)return;const a=Array.from(i.document.differ.getChanges()),c=a[0];if(1!=a.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const l=o.focus,d=l.parent,{text:h,range:u}=Bl(i.createRange(i.createPositionAt(d,0),l),i),f=r(h),m=Ul(u.start,f.format,i),g=Ul(u.start,f.remove,i);m.length&&g.length&&i.enqueueChange((t=>{if(!1!==s(t,m))for(const e of g.reverse())t.remove(e)}))}))}}function Ul(t,e,n){return e.filter((t=>void 0!==t[0]&&void 0!==t[1])).map((e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))))}function Hl(t,e){return(n,i)=>{if(!t.commands.get(e).isEnabled)return!1;const o=t.model.schema.getValidRanges(i,e);for(const t of o)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}class ql extends Uc{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const o=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of o)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}}))}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const t of n.getRanges())for(const n of t.getItems())if(e.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}class Wl extends Lc{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"bold"}),t.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");return e?"bold"==e||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add("bold",new ql(t,"bold")),t.keystrokes.set("CTRL+B","bold")}}class Yl extends Lc{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("bold",(n=>{const i=t.commands.get("bold"),o=new vc(n);return o.set({label:e("d"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(o,"execute",(()=>{t.execute("bold"),t.editing.view.focus()})),o}))}}class $l extends Lc{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"italic"}),t.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add("italic",new ql(t,"italic")),t.keystrokes.set("CTRL+I","italic")}}class Gl extends Lc{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("italic",(n=>{const i=t.commands.get("italic"),o=new vc(n);return o.set({label:e("ai"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(o,"execute",(()=>{t.execute("italic"),t.editing.view.focus()})),o}))}}function Ql(t){const e=t.next();return e.done?null:e.value}class Kl extends Uc{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,i=e.document.selection,o=Array.from(i.getSelectedBlocks()),r=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(r){const e=o.filter((t=>Jl(t)||Xl(n,t)));this._applyQuote(t,e)}else this._removeQuote(t,o.filter(Jl))}))}_getValue(){const t=Ql(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Jl(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Ql(t.getSelectedBlocks());return!!n&&Xl(e,n)}_removeQuote(t,e){Zl(t,e).reverse().forEach((e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)}))}_applyQuote(t,e){const n=[];Zl(t,e).reverse().forEach((e=>{let i=Jl(e.start);i||(i=t.createElement("blockQuote"),t.wrap(e,i)),n.push(i)})),n.reverse().reduce(((e,n)=>e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n))}}function Jl(t){return"blockQuote"==t.parent.name?t.parent:null}function Zl(t,e){let n,i=0;const o=[];for(;i<e.length;){const r=e[i],s=e[i+1];n||(n=t.createPositionBefore(r)),s&&r.nextSibling==s||(o.push(t.createRange(n,t.createPositionAfter(r))),n=null),i++}return o}function Xl(t,e){const n=t.checkChild(e.parent,"blockQuote"),i=t.checkChild(["$root","blockQuote"],e);return n&&i}class td extends Lc{static get pluginName(){return"BlockQuoteEditing"}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new Kl(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),e.addChildCheck(((t,e)=>{if(t.endsWith("blockQuote")&&"blockQuote"==e.name)return!1})),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer((n=>{const i=t.model.document.differ.getChanges();for(const t of i)if("insert"==t.type){const i=t.position.nodeAfter;if(!i)continue;if(i.is("blockQuote")&&i.isEmpty)return n.remove(i),!0;if(i.is("blockQuote")&&!e.checkChild(t.position,i))return n.unwrap(i),!0;if(i.is("element")){const t=n.createRangeIn(i);for(const i of t.getItems())if(i.is("blockQuote")&&!e.checkChild(n.createPositionBefore(i),i))return n.unwrap(i),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1}))}afterInit(){const t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",((e,n)=>{const i=this.editor.model.document,o=i.selection.getLastPosition().parent;i.selection.isCollapsed&&o.isEmpty&&t.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())}))}}n(43);class ed extends Lc{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",(n=>{const i=t.commands.get("blockQuote"),o=new vc(n);return o.set({label:e("j"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(o,"execute",(()=>{t.execute("blockQuote"),t.editing.view.focus()})),o}))}}class nd extends Lc{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t;e.add("ckfinder",(e=>{const i=t.commands.get("ckfinder"),o=new vc(e);return o.set({label:n("k"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),o.bind("isEnabled").to(i),o.on("execute",(()=>{t.execute("ckfinder"),t.editing.view.focus()})),o}))}}class id extends ho{observe(t){this.listenTo(t,"load",((t,e)=>{"IMG"==e.target.tagName&&this._fireEvents(e)}),{useCapture:!0})}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class od{constructor(){this._stack=[]}add(t,e){const n=this._stack,i=n[0];this._insertDescriptor(t);const o=n[0];i===o||rd(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:e})}remove(t,e){const n=this._stack,i=n[0];this._removeDescriptor(t);const o=n[0];i===o||rd(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex((e=>e.id===t.id));if(rd(t,e[n]))return;n>-1&&e.splice(n,1);let i=0;for(;e[i]&&sd(e[i],t);)i++;e.splice(i,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex((e=>e.id===t));n>-1&&e.splice(n,1)}}function rd(t,e){return t&&e&&t.priority==e.priority&&ad(t.classes)==ad(e.classes)}function sd(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&ad(t.classes)>ad(e.classes)}function ad(t){return Array.isArray(t)?t.sort().join(","):t}function cd(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function ld(t,e,n={}){return ui.isEdge||e.setAttribute("contenteditable","false",t),e.addClass("ck-widget",t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=fd,n.label&&function(t,e,n){n.setCustomProperty("widgetLabel",e,t)}(t,n.label,e),n.hasSelectionHandle&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){const e=this.toDomElement(t),n=new kc;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),e.appendChild(n.element),e}));e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),function(t,e,n,i){const o=new od;o.on("change:top",((e,o)=>{o.oldDescriptor&&i(t,o.oldDescriptor,o.writer),o.newDescriptor&&n(t,o.newDescriptor,o.writer)})),e.setCustomProperty("addHighlight",((t,e,n)=>o.add(e,n)),t),e.setCustomProperty("removeHighlight",((t,e,n)=>o.remove(e,n)),t)}(t,e,((t,e,n)=>n.addClass(i(e.classes),t)),((t,e,n)=>n.removeClass(i(e.classes),t))),t;function i(t){return Array.isArray(t)?t:[t]}}function dd(t){const e=t.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function hd(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),ui.isEdge||(e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",((n,i,o)=>{e.setAttribute("contenteditable",o?"false":"true",t)}))),t.on("change:isFocused",((n,i,o)=>{o?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)})),t}function ud(t,e){const n=t.getSelectedElement();if(n&&e.schema.isBlock(n))return e.createPositionAfter(n);const i=t.getSelectedBlocks().next().value;if(i){if(i.isEmpty)return e.createPositionAt(i,0);const n=e.createPositionAfter(i);return t.focus.isTouching(n)?n:e.createPositionBefore(i)}return t.focus}function fd(){return null}function md(t){const e=t.getSelectedElement();return e&&function(t){return!!t.getCustomProperty("image")&&cd(t)}(e)?e:null}function gd(t){return!!t&&t.is("image")}function pd(t,e,n={}){const i=t.createElement("image",n),o=ud(e.document.selection,e);e.insertContent(i,o),i.parent&&t.setSelection(i,"on")}function bd(t){const e=t.schema,n=t.document.selection;return function(t,e,n){const i=function(t,e){const n=ud(t,e).parent;return n.isEmpty&&!n.is("$root")?n.parent:n}(t,n);return e.checkChild(i,"image")}(n,e,t)&&!function(t,e){const n=t.getSelectedElement();return n&&e.isObject(n)}(n,e)&&function(t){return[...t.focus.getAncestors()].every((t=>!t.is("image")))}(n)}function wd(t){return Array.from(t.getChildren()).find((t=>t.is("img")))}function kd(t){return n=>{n.on(`attribute:${t}:image`,e)};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,o=wd(n.mapper.toViewElement(e.item));null!==e.attributeNewValue?i.setAttribute(e.attributeKey,e.attributeNewValue,o):i.removeAttribute(e.attributeKey,o)}}Oe(od,Te);class _d extends Uc{refresh(){this.isEnabled=bd(this.editor.model)}execute(t){const e=this.editor.model;e.change((n=>{const i=Array.isArray(t.source)?t.source:[t.source];for(const t of i)pd(n,e,{src:t})}))}}class vd extends Lc{static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion;t.editing.view.addObserver(id),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").elementToElement({model:"image",view:(t,e)=>yd(e)}),i.for("editingDowncast").elementToElement({model:"image",view:(t,e)=>{return i=yd(e),o=e,r=n("aj"),o.setCustomProperty("image",!0,i),ld(i,o,{label:function(){const t=wd(i).getAttribute("alt");return t?`${t} ${r}`:r}});var i,o,r}}),i.for("downcast").add(kd("src")).add(kd("alt")).add(function(){return e=>{e.on("attribute:srcset:image",t)};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,o=wd(n.mapper.toViewElement(e.item));if(null===e.attributeNewValue){const t=e.attributeOldValue;t.data&&(i.removeAttribute("srcset",o),i.removeAttribute("sizes",o),t.width&&i.removeAttribute("width",o))}else{const t=e.attributeNewValue;t.data&&(i.setAttribute("srcset",t.data,o),i.setAttribute("sizes","100vw",o),t.width&&i.setAttribute("width",t.width,o))}}}()),i.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(t,e)=>e.createElement("image",{src:t.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}}).add(function(){return e=>{e.on("element:figure",t)};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:"image"}))return;const i=wd(e.viewItem);if(!i||!i.hasAttribute("src")||!n.consumable.test(i,{name:!0}))return;const o=n.convertItem(i,e.modelCursor),r=Ql(o.modelRange.getItems());r&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(r,0)),e.modelRange=o.modelRange,e.modelCursor=o.modelCursor)}}()),t.commands.add("imageInsert",new _d(t))}}function yd(t){const e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert(t.createPositionAt(n,0),e),n}function xd(t,e,n){return n.createRange(Ad(t,e,!0,n),Ad(t,e,!1,n))}function Ad(t,e,n,i){let o=t.textNode||(n?t.nodeBefore:t.nodeAfter),r=null;for(;o&&o.getAttribute("linkHref")==e;)r=o,o=n?o.previousSibling:o.nextSibling;return r?i.createPositionAt(r,n?"before":"after"):t}class Cd extends Uc{constructor(t){super(t),this.manualDecorators=new Re}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("linkHref");for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id);this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref")}execute(t,e={}){const n=this.editor.model,i=n.document.selection,o=[],r=[];for(const t in e)e[t]?o.push(t):r.push(t);n.change((e=>{if(i.isCollapsed){const s=i.getFirstPosition();if(i.hasAttribute("linkHref")){const a=xd(s,i.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,a),o.forEach((t=>{e.setAttribute(t,!0,a)})),r.forEach((t=>{e.removeAttribute(t,a)})),e.setSelection(a)}else if(""!==t){const r=Ye(i.getAttributes());r.set("linkHref",t),o.forEach((t=>{r.set(t,!0)}));const a=e.createText(t,r);n.insertContent(a,s),e.setSelection(e.createRangeOn(a))}}else{const s=n.schema.getValidRanges(i.getRanges(),"linkHref");for(const n of s)e.setAttribute("linkHref",t,n),o.forEach((t=>{e.setAttribute(t,!0,n)})),r.forEach((t=>{e.removeAttribute(t,n)}))}}))}_getDecoratorStateFromModel(t){return this.editor.model.document.selection.getAttribute(t)||!1}}class Td extends Uc{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const t=this.editor,e=this.editor.model,n=e.document.selection,i=t.commands.get("link");e.change((t=>{const o=n.isCollapsed?[xd(n.getFirstPosition(),n.getAttribute("linkHref"),e)]:n.getRanges();for(const e of o)if(t.removeAttribute("linkHref",e),i)for(const n of i.manualDecorators)t.removeAttribute(n.id,e)}))}}var Pd=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Sd=function(t){return Pd.test(t)},Md="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ed="\\ud83c[\\udffb-\\udfff]",Id="[^\\ud800-\\udfff]",Nd="(?:\\ud83c[\\udde6-\\uddff]){2}",Od="[\\ud800-\\udbff][\\udc00-\\udfff]",Rd="(?:"+Md+"|"+Ed+")?",Dd="[\\ufe0e\\ufe0f]?"+Rd+"(?:\\u200d(?:"+[Id,Nd,Od].join("|")+")[\\ufe0e\\ufe0f]?"+Rd+")*",Ld="(?:"+[Id+Md+"?",Md,Nd,Od,"[\\ud800-\\udfff]"].join("|")+")",jd=RegExp(Ed+"(?="+Ed+")|"+Ld+Dd,"g"),Vd=function(t){return Sd(t)?function(t){return t.match(jd)||[]}(t):function(t){return t.split("")}(t)},zd=function(t){t=an(t);var e=Sd(t)?Vd(t):void 0,n=e?e[0]:t.charAt(0),i=e?function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:un(t,e,n)}(e,1).join(""):t.slice(1);return n.toUpperCase()+i};const Bd=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Fd=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function Ud(t,e){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function Hd(t){return function(t){return t.replace(Bd,"").match(Fd)}(t=String(t))?t:"#"}class qd{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach((t=>this._definitions.add(t))):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",((t,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;const i=n.writer,o=i.document.selection;for(const t of this._definitions){const r=i.createAttributeElement("a",t.attributes,{priority:5});i.setCustomProperty("link",!0,r),t.callback(e.attributeNewValue)?e.item.is("selection")?i.wrap(o.getFirstRange(),r):i.wrap(n.mapper.toViewRange(e.range),r):i.unwrap(n.mapper.toViewRange(e.range),r)}}),{priority:"high"})}}}class Wd{constructor({id:t,label:e,attributes:n}){this.id=t,this.set("value"),this.label=e,this.attributes=n}}Oe(Wd,Hn);class Yd{constructor(t,e,n){this.model=t,this.attribute=n,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",((t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&$d(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())}))}handleForwardMovement(t,e){const n=this.attribute;if(!(this._isGravityOverridden||t.isAtStart&&this._hasSelectionAttribute))return Kd(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):Gd(t,n)||Qd(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0}handleBackwardMovement(t,e){const n=this.attribute;return this._isGravityOverridden?Kd(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):Kd(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&Qd(t,n)?this._hasSelectionAttribute?void(Jd(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(Jd(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change((t=>t.overrideSelectionGravity()))}_restoreGravity(){this.model.change((t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}_preventCaretMovement(t){t.preventDefault()}_removeSelectionAttribute(){this.model.change((t=>{t.removeSelectionAttribute(this.attribute)}))}_setSelectionAttributeFromTheNodeBefore(t){const e=this.attribute;this.model.change((n=>{n.setSelectionAttribute(this.attribute,t.nodeBefore.getAttribute(e))}))}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function $d(t,e){return Gd(t,e)||Qd(t,e)}function Gd(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e);return!!i&&i.hasAttribute(e)&&(!o||n.getAttribute(e)!==i.getAttribute(e))}function Qd(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e),r=!!i&&i.hasAttribute(e);return o&&(!r||n.getAttribute(e)!==i.getAttribute(e))}function Kd(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e);if(i&&i.hasAttribute(e)&&o)return i.getAttribute(e)!==n.getAttribute(e)}function Jd(t,e){return $d(t.getShiftedBy(-1),e)}n(45);const Zd=/^(https?:)?\/\//;class Xd extends Lc{static get pluginName(){return"LinkEditing"}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor,e=t.locale;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ud}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>Ud(Hd(t),e)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new Cd(t)),t.commands.add("unlink",new Td(t));const n=function(t,e){const n={"Open in a new tab":t("av"),Downloadable:t("aw")};return e.forEach((t=>(t.label&&n[t.label]&&(t.label=n[t.label]),t))),e}(t.t,function(t){const e=[];if(t)for(const[n,i]of Object.entries(t)){const t=Object.assign({},i,{id:`link${zd(n)}`});e.push(t)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((t=>"automatic"===t.mode))),this._enableManualDecorators(n.filter((t=>"manual"===t.mode))),function({view:t,model:e,emitter:n,attribute:i,locale:o}){const r=new Yd(e,n,i),s=e.document.selection;n.listenTo(t.document,"keydown",((t,e)=>{if(!s.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==gi.arrowright,i=e.keyCode==gi.arrowleft;if(!n&&!i)return;const a=s.getFirstPosition(),c=o.contentLanguageDirection;let l;l="ltr"===c&&n||"rtl"===c&&i?r.handleForwardMovement(a,e):r.handleBackwardMovement(a,e),l&&t.stop()}),{priority:ye.get("high")+1})}({view:t.editing.view,model:t.model,emitter:this,attribute:"linkHref",locale:e}),this._setupLinkHighlight()}_enableAutomaticDecorators(t){const e=this.editor,n=new qd;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:t=>Zd.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach((t=>{e.model.schema.extend("$text",{allowAttributes:t.id}),n.add(new Wd(t)),e.conversion.for("downcast").attributeToElement({model:t.id,view:(e,i)=>{if(e){const e=n.get(t.id).attributes,o=i.createAttributeElement("a",e,{priority:5});return i.setCustomProperty("link",!0,o),o}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(t.id).attributes},model:{key:t.id}})}))}_setupLinkHighlight(){const t=this.editor,e=t.editing.view,n=new Set;e.document.registerPostFixer((e=>{const i=t.model.document.selection;let o=!1;if(i.hasAttribute("linkHref")){const r=xd(i.getFirstPosition(),i.getAttribute("linkHref"),t.model),s=t.editing.mapper.toViewRange(r);for(const t of s.getItems())t.is("a")&&!t.hasClass("ck-link_selected")&&(e.addClass("ck-link_selected",t),n.add(t),o=!0)}return o})),t.conversion.for("editingDowncast").add((t=>{function i(){e.change((t=>{for(const e of n.values())t.removeClass("ck-link_selected",e),n.delete(e)}))}t.on("insert",i,{priority:"highest"}),t.on("remove",i,{priority:"highest"}),t.on("attribute",i,{priority:"highest"}),t.on("selection",i,{priority:"highest"})}))}}class th extends Nl{static get pluginName(){return"Notification"}init(){this.on("show:warning",((t,e)=>{window.alert(e.message)}),{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=`show:${t.type}`+(t.namespace?`:${t.namespace}`:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class eh extends Uc{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",(()=>this.refresh()),{priority:"low"})}refresh(){const t=this.editor.commands.get("imageInsert"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new xe.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const i=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=e=>{i&&i(e),e.on("files:choose",(n=>{const i=n.data.files.toArray(),o=i.filter((t=>!t.isImage())),r=i.filter((t=>t.isImage()));for(const e of o)t.execute("link",e.getUrl());const s=[];for(const t of r){const n=t.getUrl();s.push(n||e.request("file:getProxyUrl",{file:t}))}s.length&&nh(t,s)})),e.on("file:choose:resizedImage",(e=>{const n=e.data.resizedUrl;if(n)nh(t,[n]);else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("bz"),{title:n("ca"),namespace:"ckfinder"})}}))},window.CKFinder[e](n)}}function nh(t,e){if(t.commands.get("imageInsert").isEnabled)t.execute("imageInsert",{source:e});else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("cb"),{title:n("cc"),namespace:"ckfinder"})}}class ih extends Lc{static get pluginName(){return"CKFinderEditing"}static get requires(){return[th,vd,Xd]}init(){const t=this.editor;t.commands.add("ckfinder",new eh(t))}}const oh=/^data:(\S*?);base64,/;class rh{constructor(t,e,n){if(!t)throw new xe.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!e)throw new xe.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!n)throw new xe.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(oh);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(oh)[1],i=atob(t.replace(oh,"")),o=[];for(let t=0;t<i.length;t+=e){const n=i.slice(t,t+e),r=new Array(n.length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);o.push(new Uint8Array(r))}return new Blob(o,{type:n})}catch(t){throw new xe.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",((e,n)=>t(n))),this}onError(t){return this.once("error",((e,n)=>t(n))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire("error",e)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",(t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})})),e.addEventListener("load",(()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)}))}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise(((n,i)=>{e.addEventListener("load",(()=>{const t=e.status,o=e.response;return t<200||t>299?o.message?i(new xe.b("fileuploader-uploading-data-failed: Uploading file failed.",this,{message:o.message})):i(o.error):n(o)})),e.addEventListener("error",(()=>i(new Error("Network Error")))),e.addEventListener("abort",(()=>i(new Error("Abort")))),e.send(t)}))}}Oe(rh,Te);const sh={refreshInterval:36e5,autoRefresh:!0};class ah{constructor(t,e=sh){if(!t)throw new xe.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return e=t,new Promise(((t,n)=>{const i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",(()=>{const e=i.status,o=i.response;return e<200||e>299?n(new xe.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):t(o)})),i.addEventListener("error",(()=>n(new Error("Network Error")))),i.addEventListener("abort",(()=>n(new Error("Abort")))),i.send()}));var e},this._options=Object.assign({},sh,e)}init(){return new Promise(((t,e)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?t(this):this._refreshToken().then(t).catch(e)}))}_refreshToken(){return this._refresh().then((t=>this.set("value",t))).then((()=>this))}destroy(){this._stopRefreshing()}_startRefreshing(){this._refreshInterval=setInterval((()=>this._refreshToken()),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(t,e=sh){return new ah(t,e).init()}}Oe(ah,Hn);var ch=ah;class lh extends Nl{static get pluginName(){return"CloudServices"}init(){const t=this.context.config.get("cloudServices")||{};for(const e in t)this[e]=t[e];if(this.tokenUrl)return this.token=new lh.Token(this.tokenUrl),this.token.init();this.token=null}}lh.Token=ch;class dh extends Lc{static get requires(){return[Dl,lh]}init(){const t=this.editor,e=t.plugins.get(lh),n=e.token,i=e.uploadUrl;n&&(this._uploadGateway=new dh._UploadGateway(n,i),t.plugins.get(Dl).createUploadAdapter=t=>new hh(this._uploadGateway,t))}}class hh{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then((t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",((t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded})),this.fileUploader.send())))}abort(){this.fileUploader.abort()}}dh._UploadGateway=class{constructor(t,e){if(!t)throw new xe.b("uploadgateway-missing-token: Token must be provided.",null);if(!e)throw new xe.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=t,this._apiAddress=e}upload(t){return new rh(t,this._token,this._apiAddress)}};class uh extends So{constructor(t){super(t),this.domEventType="mousedown"}onDomEvent(t){this.fire(t.type,t)}}n(47);const fh=bi("Ctrl+A");class mh extends Lc{static get pluginName(){return"Widget"}init(){const t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",((t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,o=i.document.selection,r=o.getSelectedElement();let s=null;for(const t of o.getRanges())for(const e of t){const t=e.item;cd(t)&&!gh(t,s)&&(i.addClass("ck-widget_selected",t),this._previouslySelected.add(t),s=t,t==r&&i.setSelection(o.getRanges(),{fake:!0,label:dd(r)}))}}),{priority:"low"}),t.addObserver(uh),this.listenTo(e,"mousedown",((...t)=>this._onMousedown(...t))),this.listenTo(e,"keydown",((...t)=>this._onKeydown(...t)),{priority:"high"}),this.listenTo(e,"delete",((t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())}),{priority:"high"})}_onMousedown(t,e){const n=this.editor,i=n.editing.view,o=i.document;let r=e.target;if(function(t){for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(cd(t))return!1;t=t.parent}return!1}(r)){if(ui.isSafari&&e.domEvent.detail>=3){const t=n.editing.mapper.toModelElement(r);this.editor.model.change((n=>{e.preventDefault(),n.setSelection(t,"in")}))}return}if(!cd(r)&&(r=r.findAncestor(cd),!r))return;e.preventDefault(),o.isFocused||i.focus();const s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_onKeydown(t,e){const n=e.keyCode,i="ltr"===this.editor.locale.contentLanguageDirection,o=n==gi.arrowdown||n==gi[i?"arrowright":"arrowleft"];let r=!1;!function(t){return t==gi.arrowright||t==gi.arrowleft||t==gi.arrowup||t==gi.arrowdown}(n)?function(t){return pi(t)==fh}(e)?r=this._selectAllNestedEditableContent()||this._selectAllContent():n===gi.enter&&(r=this._handleEnterKey(e.shiftKey)):r=this._handleArrowKeys(o),r&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change((t=>{let i=e.anchor.parent;for(;i.isEmpty;){const e=i;i=e.parent,t.remove(e)}this._setSelectionOverElement(n)})),!0):void 0}_handleArrowKeys(t){const e=this.editor.model,n=e.schema,i=e.document.selection,o=i.getSelectedElement();if(o&&n.isObject(o)){const o=t?i.getLastPosition():i.getFirstPosition(),r=n.getNearestSelectionRange(o,t?"forward":"backward");return r&&e.change((t=>{t.setSelection(r)})),!0}if(!i.isCollapsed)return;const r=this._getObjectElementNextToSelection(t);return r&&n.isObject(r)?(this._setSelectionOverElement(r),!0):void 0}_handleEnterKey(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();if(i=n,o=e.schema,i&&o.isObject(i)&&!o.isInline(i))return e.change((i=>{let o=i.createPositionAt(n,t?"before":"after");const r=i.createElement("paragraph");if(e.schema.isBlock(n.parent)){const t=e.schema.findAllowedParent(o,r);o=i.split(o,t).position}i.insert(r,o),i.setSelection(r,"in")})),!0;var i,o}_selectAllNestedEditableContent(){const t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);return e.getFirstRange().root!=n&&(t.change((t=>{t.setSelection(t.createRangeIn(n))})),!0)}_selectAllContent(){const t=this.editor.model,e=this.editor.editing,n=e.view.document.selection.getSelectedElement();if(n&&cd(n)){const i=e.mapper.toModelElement(n.parent);return t.change((t=>{t.setSelection(t.createRangeIn(i))})),!0}return!1}_setSelectionOverElement(t){this.editor.model.change((e=>{e.setSelection(e.createRangeOn(t))}))}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,i=e.document.selection,o=e.createSelection(i);e.modifySelection(o,{direction:t?"forward":"backward"});const r=t?o.focus.nodeBefore:o.focus.nodeAfter;return r&&n.isObject(r)?r:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass("ck-widget_selected",e);this._previouslySelected.clear()}}function gh(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class ph extends Uc{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=gd(t),gd(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change((e=>{e.setAttribute("alt",t.newValue,n)}))}}class bh extends Lc{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new ph(this.editor))}}n(49);class wh extends Za{constructor(t,e){super(t);const n=`ck-input-${ve()}`,i=`ck-status-${ve()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.set("infoText",null),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(e,n,i),this.statusView=this._createStatusView(i),this.bind("_statusText").to(this,"errorText",this,"infoText",((t,e)=>t||e));const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",o.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(t){const e=new nc(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createInputView(t,e,n){const i=new t(this.locale,n);return i.id=e,i.ariaDescribedById=n,i.bind("value").to(this),i.bind("isReadOnly").to(this),i.bind("hasError").to(this,"errorText",(t=>!!t)),i.on("input",(()=>{this.errorText=null})),i}_createStatusView(t){const e=new Za(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",(t=>!t))],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}select(){this.inputView.select()}focus(){this.inputView.focus()}}n(51);class kh extends Za{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to("input")}})}render(){super.render();const t=t=>{this.element.value=t||0===t?t:""};t(this.value),this.on("change:value",((e,n,i)=>{t(i)}))}select(){this.element.select()}focus(){this.element.focus()}}function _h({view:t}){t.listenTo(t.element,"submit",((e,n)=>{n.preventDefault(),t.fire("submit")}),{useCapture:!0})}var vh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',yh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(53);class xh extends Za{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new Aa,this.keystrokes=new ga,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("bb"),vh,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("bc"),yh,"ck-button-cancel","cancel"),this._focusables=new Na,this._focusCycler=new lc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),_h({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)}))}_createButton(t,e,n,i){const o=new vc(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}_createLabeledInputView(){const t=this.locale.t,e=new wh(this.locale,kh);return e.label=t("cd"),e.inputView.placeholder=t("cd"),e}}n(55);const Ah=sc("px"),Ch=Zi.document.body;class Th extends Za{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",(t=>`ck-balloon-panel_${t}`)),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Ah),left:e.to("left",Ah)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Th.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast],limiter:Ch,fitInViewport:!0},t),i=Th._getOptimalPosition(n),o=parseInt(i.left),r=parseInt(i.top),s=i.name;Object.assign(this,{top:r,left:o,position:s})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Ph(t.target),n=t.limiter?Ph(t.limiter):Ch;this.listenTo(Zi.document,"scroll",((i,o)=>{const r=o.target,s=e&&r.contains(e),a=n&&r.contains(n);!s&&!a&&e&&n||this.attachTo(t)}),{useCapture:!0}),this.listenTo(Zi.window,"resize",(()=>{this.attachTo(t)}))}_stopPinning(){this.stopListening(Zi.document,"scroll"),this.stopListening(Zi.window,"resize")}}function Ph(t){return ge(t)?t:Wo(t)?t.commonAncestorContainer:"function"==typeof t?Ph(t()):null}function Sh(t,e){return t.top-e.height-Th.arrowVerticalOffset}function Mh(t){return t.bottom+Th.arrowVerticalOffset}Th.arrowHorizontalOffset=25,Th.arrowVerticalOffset=10,Th._getOptimalPosition=gc,Th.defaultPositions={northWestArrowSouthWest:(t,e)=>({top:Sh(t,e),left:t.left-Th.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(t,e)=>({top:Sh(t,e),left:t.left-.25*e.width-Th.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(t,e)=>({top:Sh(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(t,e)=>({top:Sh(t,e),left:t.left-.75*e.width+Th.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(t,e)=>({top:Sh(t,e),left:t.left-e.width+Th.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:Sh(t,e),left:t.left+t.width/2-Th.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(t,e)=>({top:Sh(t,e),left:t.left+t.width/2-.25*e.width-Th.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(t,e)=>({top:Sh(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(t,e)=>({top:Sh(t,e),left:t.left+t.width/2-.75*e.width+Th.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(t,e)=>({top:Sh(t,e),left:t.left+t.width/2-e.width+Th.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:Sh(t,e),left:t.right-Th.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(t,e)=>({top:Sh(t,e),left:t.right-.25*e.width-Th.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(t,e)=>({top:Sh(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(t,e)=>({top:Sh(t,e),left:t.right-.75*e.width+Th.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(t,e)=>({top:Sh(t,e),left:t.right-e.width+Th.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(t,e)=>({top:Mh(t),left:t.left-Th.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(t,e)=>({top:Mh(t),left:t.left-.25*e.width-Th.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(t,e)=>({top:Mh(t),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(t,e)=>({top:Mh(t),left:t.left-.75*e.width+Th.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(t,e)=>({top:Mh(t),left:t.left-e.width+Th.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:Mh(t),left:t.left+t.width/2-Th.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(t,e)=>({top:Mh(t),left:t.left+t.width/2-.25*e.width-Th.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(t,e)=>({top:Mh(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(t,e)=>({top:Mh(t),left:t.left+t.width/2-.75*e.width+Th.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(t,e)=>({top:Mh(t),left:t.left+t.width/2-e.width+Th.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:Mh(t),left:t.right-Th.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(t,e)=>({top:Mh(t),left:t.right-.25*e.width-Th.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(t,e)=>({top:Mh(t),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(t,e)=>({top:Mh(t),left:t.right-.75*e.width+Th.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(t,e)=>({top:Mh(t),left:t.right-e.width+Th.arrowHorizontalOffset,name:"arrow_ne"})},n(57),n(59);const Eh=sc("px");class Ih extends Lc{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.view=new Th(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new xe.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new xe.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new xe.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find((e=>e[1]===t))[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new Nh(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>1)),t.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((t,n)=>{if(n<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("bl",[i,n])})),t.buttonNextView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),t.buttonPrevView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),t}_createFakePanelsView(){const t=new Oh(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>=2?Math.min(t-1,2):0)),t.listenTo(this.view,"change:top",(()=>t.updatePosition())),t.listenTo(this.view,"change:left",(()=>t.updatePosition())),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}class Nh extends Za{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Aa,this.buttonPrevView=this._createButtonView(e("bm"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(e("bn"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(t=>t?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new vc(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class Oh extends Za{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(t=>t?"":"ck-hidden"))],style:{top:n.to("top",Eh),left:n.to("left",Eh),width:n.to("width",Eh),height:n.to("height",Eh)}},children:this.content}),this.on("change:numberOfPanels",((t,e,n,i)=>{n>i?this._addPanels(n-i):this._removePanels(i-n),this.updatePosition()}))}_addPanels(t){for(;t--;){const t=new Za;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:i}=new Go(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:i})}}}function Rh(t){const e=t.editing.view,n=Th.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class Dh extends Lc{static get requires(){return[Ih]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",(n=>{const i=t.commands.get("imageTextAlternative"),o=new vc(n);return o.set({label:e("bx"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),o.bind("isEnabled").to(i,"isEnabled"),this.listenTo(o,"execute",(()=>{this._showForm()})),o}))}_createForm(){const t=this.editor,e=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new xh(t.locale),this._form.render(),this.listenTo(this._form,"submit",(()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((t,e)=>{this._hideForm(!0),e()})),this.listenTo(t.ui,"update",(()=>{md(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(md(t.editing.view.document.selection)){const n=Rh(t);e.updatePosition(n)}}(t):this._hideForm(!0)})),Pc({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Rh(t)}),n.value=n.inputView.element.value=e.value||"",this._form.labeledInput.select()}_hideForm(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Lh extends Lc{static get requires(){return[bh,Dh]}static get pluginName(){return"ImageTextAlternative"}}n(61);class jh extends Lc{static get requires(){return[vd,mh,Lh]}static get pluginName(){return"Image"}}class Vh extends Za{constructor(t){super(t),this.buttonView=new vc(t),this._fileInputView=new zh(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",(()=>{this._fileInputView.open()}))}focus(){this.buttonView.focus()}}class zh extends Za{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to((()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}function Bh(t){const e=t.map((t=>t.replace("+","\\+")));return new RegExp(`^image\\/(${e.join("|")})$`)}function Fh(t){return new Promise(((e,n)=>{const i=t.getAttribute("src");fetch(i).then((t=>t.blob())).then((t=>{const o=function(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(t,i),r=function(t,e,n){try{return new File([t],e,{type:n})}catch(t){return null}}(t,`image.${o.replace("image/","")}`,o);r?e(r):n()})).catch(n)}))}class Uh extends Lc{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",(n=>{const i=new Vh(n),o=t.commands.get("imageUpload"),r=t.config.get("image.upload.types"),s=Bh(r);return i.set({acceptedType:r.map((t=>`image/${t}`)).join(","),allowMultipleFiles:!0}),i.buttonView.set({label:e("l"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),i.buttonView.bind("isEnabled").to(o),i.on("done",((e,n)=>{const i=Array.from(n).filter((t=>s.test(t.type)));i.length&&t.execute("imageUpload",{file:i})})),i}))}}n(63),n(65),n(67);class Hh extends Lc{constructor(t){super(t),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",((...t)=>this.uploadStatusChange(...t)))}uploadStatusChange(t,e,n){const i=this.editor,o=e.item,r=o.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const s=i.plugins.get(Dl),a=r?e.attributeNewValue:null,c=this.placeholder,l=i.editing.mapper.toViewElement(o),d=n.writer;if("reading"==a)return qh(l,d),void Wh(c,l,d);if("uploading"==a){const t=s.loaders.get(r);return qh(l,d),void(t?(Yh(l,d),function(t,e,n,i){const o=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),o),n.on("change:uploadedPercent",((t,e,n)=>{i.change((t=>{t.setStyle("width",n+"%",o)}))}))}(l,d,t,i.editing.view),function(t,e,n){if(n.data){const i=wd(t);e.setAttribute("src",n.data,i)}}(l,d,t)):Wh(c,l,d))}"complete"==a&&s.loaders.get(r)&&!ui.isEdge&&function(t,e,n){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),i),setTimeout((()=>{n.change((t=>t.remove(t.createRangeOn(i))))}),3e3)}(l,d,i.editing.view),function(t,e){Gh(t,e,"progressBar")}(l,d),Yh(l,d),function(t,e){e.removeClass("ck-appear",t)}(l,d)}}function qh(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function Wh(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const i=wd(e);i.getAttribute("src")!==t&&n.setAttribute("src",t,i),$h(e,"placeholder")||n.insert(n.createPositionAfter(i),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(n))}function Yh(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),Gh(t,e,"placeholder")}function $h(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function Gh(t,e,n){const i=$h(t,n);i&&e.remove(e.createRangeOn(i))}class Qh{constructor(t){this.document=t}createDocumentFragment(t){return new yi(this.document,t)}createElement(t,e,n){return new Rn(this.document,t,e,n)}createText(t){return new He(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new Rn(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){_(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return Xn._createAt(t,e)}createPositionAfter(t){return Xn._createAfter(t)}createPositionBefore(t){return Xn._createBefore(t)}createRange(t,e){return new ti(t,e)}createRangeOn(t){return ti._createOn(t)}createRangeIn(t){return ti._createIn(t)}createSelection(t,e,n){return new ii(t,e,n)}}class Kh extends Uc{refresh(){this.isEnabled=bd(this.editor.model)}execute(t){const e=this.editor,n=e.model,i=e.plugins.get(Dl);n.change((e=>{const o=Array.isArray(t.file)?t.file:[t.file];for(const t of o)Jh(e,n,i,t)}))}}function Jh(t,e,n,i){const o=n.createLoader(i);o&&pd(t,e,{uploadId:o.id})}class Zh extends Lc{static get requires(){return[Dl,th,Fc]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const t=this.editor,e=t.model.document,n=t.model.schema,i=t.conversion,o=t.plugins.get(Dl),r=Bh(t.config.get("image.upload.types"));n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new Kh(t)),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",((e,n)=>{if(i=n.dataTransfer,Array.from(i.types).includes("text/html")&&""!==i.getData("text/html"))return;var i;const o=Array.from(n.dataTransfer.files).filter((t=>!!t&&r.test(t.type))),s=n.targetRanges.map((e=>t.editing.mapper.toModelRange(e)));t.model.change((n=>{n.setSelection(s),o.length&&(e.stop(),t.model.enqueueChange("default",(()=>{t.execute("imageUpload",{file:o})})))}))})),this.listenTo(t.plugins.get(Fc),"inputTransformation",((e,n)=>{const i=Array.from(t.editing.view.createRangeIn(n.content)).filter((t=>{return!(!(e=t.item).is("element","img")||!e.getAttribute("src"))&&(e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||e.getAttribute("src").match(/^blob:/g))&&!t.item.getAttribute("uploadProcessed");var e})).map((t=>({promise:Fh(t.item),imageElement:t.item})));if(!i.length)return;const r=new Qh(t.editing.view.document);for(const t of i){r.setAttribute("uploadProcessed",!0,t.imageElement);const e=o.createLoader(t.promise);e&&(r.setAttribute("src","",t.imageElement),r.setAttribute("uploadId",e.id,t.imageElement))}})),t.editing.view.document.on("dragover",((t,e)=>{e.preventDefault()})),e.on("change",(()=>{const n=e.differ.getChanges({includeChangesInGraveyard:!0});for(const e of n)if("insert"==e.type&&"$text"!=e.name){const n=e.position.nodeAfter,i="$graveyard"==e.position.root.rootName;for(const e of Xh(t,n)){const t=e.getAttribute("uploadId");if(!t)continue;const n=o.loaders.get(t);n&&(i?n.abort():"idle"==n.status&&this._readAndUpload(n,e))}}}))}_readAndUpload(t,e){const n=this.editor,i=n.model,o=n.locale.t,r=n.plugins.get(Dl),s=n.plugins.get(th);return i.enqueueChange("transparent",(t=>{t.setAttribute("uploadStatus","reading",e)})),t.read().then((()=>{const o=t.upload();if(ui.isSafari){const t=wd(n.editing.mapper.toViewElement(e));n.editing.view.once("render",(()=>{if(!t.parent)return;const e=n.editing.view.domConverter.mapViewToDom(t.parent);if(!e)return;const i=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=i}))}return i.enqueueChange("transparent",(t=>{t.setAttribute("uploadStatus","uploading",e)})),o})).then((t=>{i.enqueueChange("transparent",(n=>{n.setAttributes({uploadStatus:"complete",src:t.default},e),this._parseAndSetSrcsetAttributeOnImage(t,e,n)})),a()})).catch((n=>{if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&n&&s.showWarning(n,{title:o("am"),namespace:"upload"}),a(),i.enqueueChange("transparent",(t=>{t.remove(e)}))}));function a(){i.enqueueChange("transparent",(t=>{t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e)})),r.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let i=0;const o=Object.keys(t).filter((t=>{const e=parseInt(t,10);if(!isNaN(e))return i=Math.max(i,e),!0})).map((e=>`${t[e]} ${e}w`)).join(", ");""!=o&&n.setAttribute("srcset",{data:o,width:i},e)}}function Xh(t,e){return Array.from(t.model.createRangeOn(e)).filter((t=>t.item.is("image"))).map((t=>t.item))}class tu extends Lc{static get pluginName(){return"ImageUpload"}static get requires(){return[Zh,Uh,Hh]}}class eu extends Uc{refresh(){const t=this.editor.model,e=Ql(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("paragraph"),this.isEnabled=!!e&&nu(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change((i=>{const o=(t.selection||n.selection).getSelectedBlocks();for(const t of o)!t.is("paragraph")&&nu(t,e.schema)&&i.rename(t,"paragraph")}))}}function nu(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class iu extends Lc{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model,n=t.data;t.commands.add("paragraph",new eu(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,e)=>iu.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,converterPriority:"low"}),n.upcastDispatcher.on("element",((t,e,n)=>{n.consumable.test(e.viewItem,{name:e.viewItem.name})&&ru(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,ou(e.viewItem,e.modelCursor,n))}),{priority:"low"}),n.upcastDispatcher.on("text",((t,e,n)=>{e.modelRange||ru(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,ou(e.viewItem,e.modelCursor,n))}),{priority:"lowest"}),e.document.registerPostFixer((t=>this._autoparagraphEmptyRoots(t))),t.data.on("ready",(()=>{e.enqueueChange("transparent",(t=>this._autoparagraphEmptyRoots(t)))}),{priority:"lowest"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const n of e.document.getRootNames()){const i=e.document.getRoot(n);if(i.isEmpty&&"$graveyard"!=i.rootName&&e.schema.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0}}}function ou(t,e,n){const i=n.writer.createElement("paragraph");return n.writer.insert(i,e),n.convertItem(t,n.writer.createPositionAt(i,0))}function ru(t,e,n){const i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}iu.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class su extends Uc{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Ql(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((e=>au(t,e,this.editor.model.schema)))}execute(t){const e=this.editor.model,n=e.document,i=t.value;e.change((t=>{const o=Array.from(n.selection.getSelectedBlocks()).filter((t=>au(t,i,e.schema)));for(const e of o)e.is(i)||t.rename(e,i)}))}}function au(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}class cu extends Lc{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[iu]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const i of e)"paragraph"!==i.model&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new su(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",((e,i)=>{const o=t.model.document.selection.getFirstPosition().parent;n.some((t=>o.is(t.model)))&&!o.is("paragraph")&&0===o.childCount&&i.writer.rename(o,"paragraph")}))}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ye.get("low")+1})}}class lu{constructor(t,e){e&&Vn(this,e),t&&this.set(t)}}Oe(lu,Hn),n(11);class du extends Lc{init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("bq"),"Heading 1":e("br"),"Heading 2":e("bs"),"Heading 3":e("bt"),"Heading 4":e("bu"),"Heading 5":e("bv"),"Heading 6":e("bw")};return t.config.get("heading.options").map((t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t}))}(t),i=e("ak"),o=e("al");t.ui.componentFactory.add("heading",(e=>{const r={},s=new Re,a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];for(const t of n){const e={type:"button",model:new lu({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",(e=>e===t.model)),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),r[t.model]=t.title}const d=Sc(e);return Mc(d,s),d.buttonView.set({isOn:!1,withText:!0,tooltip:o}),d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),d.bind("isEnabled").toMany(l,"isEnabled",((...t)=>t.some((t=>t)))),d.buttonView.bind("label").to(a,"value",c,"value",((t,e)=>{const n=t||e&&"paragraph";return r[n]?r[n]:i})),this.listenTo(d,"execute",(e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()})),d}))}}function hu(t){for(const e of t.getChildren())if(e&&e.is("caption"))return e;return null}function uu(t){const e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null}class fu extends Lc{static get pluginName(){return"ImageCaptionEditing"}init(){const t=this.editor,e=t.editing.view,n=t.model.schema,i=t.data,o=t.editing,r=t.t;n.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer((t=>this._insertMissingModelCaptionElement(t))),t.conversion.for("upcast").elementToElement({view:uu,model:"caption"}),i.downcastDispatcher.on("insert:caption",mu((t=>t.createContainerElement("figcaption")),!1));const s=function(t,e){return n=>{const i=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,i),Pa({view:t,element:i,text:e}),hd(i,n)}}(e,r("an"));o.downcastDispatcher.on("insert:caption",mu(s)),o.downcastDispatcher.on("insert",this._fixCaptionVisibility((t=>t.item)),{priority:"high"}),o.downcastDispatcher.on("remove",this._fixCaptionVisibility((t=>t.position.parent)),{priority:"high"}),e.document.registerPostFixer((t=>this._updateCaptionVisibility(t)))}_updateCaptionVisibility(t){const e=this.editor.editing.mapper,n=this._lastSelectedCaption;let i;const o=this.editor.model.document.selection,r=o.getSelectedElement();if(r&&r.is("image")){const t=hu(r);i=e.toViewElement(t)}const s=gu(o.getFirstPosition().parent);if(s&&(i=e.toViewElement(s)),i)return n?(n===i||(pu(n,t),this._lastSelectedCaption=i),bu(i,t)):(this._lastSelectedCaption=i,bu(i,t));if(n){const e=pu(n,t);return this._lastSelectedCaption=null,e}return!1}_fixCaptionVisibility(t){return(e,n,i)=>{const o=gu(t(n)),r=this.editor.editing.mapper,s=i.writer;if(o){const t=r.toViewElement(o);t&&(o.childCount?s.removeClass("ck-hidden",t):s.addClass("ck-hidden",t))}}}_insertMissingModelCaptionElement(t){const e=this.editor.model,n=e.document.differ.getChanges(),i=[];for(const t of n)if("insert"==t.type&&"$text"!=t.name){const n=t.position.nodeAfter;if(n.is("image")&&!hu(n)&&i.push(n),!n.is("image")&&n.childCount)for(const t of e.createRangeIn(n).getItems())t.is("image")&&!hu(t)&&i.push(t)}for(const e of i)t.appendElement("caption",e);return!!i.length}}function mu(t,e=!0){return(n,i,o)=>{const r=i.item;if((r.childCount||e)&&gd(r.parent)){if(!o.consumable.consume(i.item,"insert"))return;const e=o.mapper.toViewElement(i.range.start.parent),n=t(o.writer),s=o.writer;r.childCount||s.addClass("ck-hidden",n),function(t,e,n,i){const o=i.writer.createPositionAt(n,"end");i.writer.insert(o,t),i.mapper.bindElements(e,t)}(n,i.item,e,o)}}}function gu(t){const e=t.getAncestors({includeSelf:!0}).find((t=>"caption"==t.name));return e&&e.parent&&"image"==e.parent.name?e:null}function pu(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0)}function bu(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0)}n(70);class wu extends Uc{constructor(t,e){super(t),this.defaultStyle=!1,this.styles=e.reduce(((t,e)=>(t[e.name]=e,e.isDefault&&(this.defaultStyle=e.name),t)),{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=gd(t),t)if(t.hasAttribute("imageStyle")){const e=t.getAttribute("imageStyle");this.value=!!this.styles[e]&&e}else this.value=this.defaultStyle;else this.value=!1}execute(t){const e=t.value,n=this.editor.model,i=n.document.selection.getSelectedElement();n.change((t=>{this.styles[e].isDefault?t.removeAttribute("imageStyle",i):t.setAttribute("imageStyle",e,i)}))}}function ku(t,e){for(const n of e)if(n.name===t)return n}var _u='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',vu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',yu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',xu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';const Au={full:{name:"full",title:"Full size image",icon:_u,isDefault:!0},side:{name:"side",title:"Side image",icon:xu,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:vu,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:yu,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:xu,className:"image-style-align-right"}},Cu={full:_u,left:vu,right:xu,center:yu};function Tu(t=[]){return t.map(Pu)}function Pu(t){if("string"==typeof t){const e=t;Au[e]?t=Object.assign({},Au[e]):(console.warn(Object(xe.a)("image-style-not-found: There is no such image style of given name."),{name:e}),t={name:e})}else if(Au[t.name]){const e=Au[t.name],n=Object.assign({},t);for(const i in e)t.hasOwnProperty(i)||(n[i]=e[i]);t=n}return"string"==typeof t.icon&&Cu[t.icon]&&(t.icon=Cu[t.icon]),t}class Su extends Lc{static get pluginName(){return"ImageStyleEditing"}init(){const t=this.editor,e=t.model.schema,n=t.data,i=t.editing;t.config.define("image.styles",["full","side"]);const o=Tu(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});const r=function(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const o=ku(n.attributeNewValue,t),r=ku(n.attributeOldValue,t),s=i.mapper.toViewElement(n.item),a=i.writer;r&&a.removeClass(r.className,s),o&&a.addClass(o.className,s)}}(o);i.downcastDispatcher.on("attribute:imageStyle:image",r),n.downcastDispatcher.on("attribute:imageStyle:image",r),n.upcastDispatcher.on("element:figure",function(t){const e=t.filter((t=>!t.isDefault));return(t,n,i)=>{if(!n.modelRange)return;const o=n.viewItem,r=Ql(n.modelRange.getItems());if(i.schema.checkAttribute(r,"imageStyle"))for(const t of e)i.consumable.consume(o,{classes:t.className})&&i.writer.setAttribute("imageStyle",t.name,r)}}(o),{priority:"low"}),t.commands.add("imageStyle",new wu(t,o))}}n(72);class Mu extends Lc{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t("e"),"Side image":t("f"),"Left aligned image":t("g"),"Centered image":t("h"),"Right aligned image":t("i")}}init(){const t=function(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}(Tu(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(const e of t)this._createButton(e)}_createButton(t){const e=this.editor,n=`imageStyle:${t.name}`;e.ui.componentFactory.add(n,(n=>{const i=e.commands.get("imageStyle"),o=new vc(n);return o.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(i,"isEnabled"),o.bind("isOn").to(i,"value",(e=>e===t.name)),this.listenTo(o,"execute",(()=>{e.execute("imageStyle",{value:t.name}),e.editing.view.focus()})),o}))}}class Eu extends Lc{static get requires(){return[Ih]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",(e=>{(function(t){const e=t.getSelectedElement();return!(!e||!cd(e))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:i,balloonClassName:o="ck-toolbar-container"}){const r=this.editor,s=r.t,a=new Ec(r.locale);if(a.ariaLabel=e||s("at"),this._toolbarDefinitions.has(t))throw new xe.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t});a.fillFromConfig(n,r.ui.componentFactory),this._toolbarDefinitions.set(t,{view:a,getRelatedElement:i,balloonClassName:o})}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const i of this._toolbarDefinitions.values()){const o=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&o)if(this.editor.ui.focusTracker.isFocused){const r=o.getAncestors().length;r>t&&(t=r,e=o,n=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?Iu(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:Nu(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const t of this._toolbarDefinitions.values())if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);Iu(this.editor,e)}})))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function Iu(t,e){const n=t.plugins.get("ContextualBalloon"),i=Nu(t,e);n.updatePosition(i)}function Nu(t,e){const n=t.editing.view,i=Th.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast]}}class Ou extends Uc{constructor(t){super(t),this._childCommands=[]}refresh(){}execute(...t){this._getFirstEnabledCommand().execute(t)}registerChildCommand(t){this._childCommands.push(t),t.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find((t=>t.isEnabled))}}class Ru extends Lc{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Ou(t)),t.commands.add("outdent",new Ou(t))}}var Du='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Lu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class ju extends Lc{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?Du:Lu,o="ltr"==e.uiLanguageDirection?Lu:Du;this._defineButton("indent",n("ag"),i),this._defineButton("outdent",n("ah"),o)}_defineButton(t,e,n){const i=this.editor;i.ui.componentFactory.add(t,(o=>{const r=i.commands.get(t),s=new vc(o);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",(()=>{i.execute(t),i.editing.view.focus()})),s}))}}class Vu extends So{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}n(74);class zu extends Za{constructor(t,e=[]){super(t);const n=t.t;this.focusTracker=new Aa,this.keystrokes=new ga,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("bb"),vh,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("bc"),yh,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e),this._focusables=new Na,this._focusCycler=new lc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form"];e.length&&i.push("ck-link-form_layout-vertical"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((t,e)=>(t[e.name]=e.isOn,t)),{})}render(){super.render(),_h({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new wh(this.locale,kh);return e.label=t("bg"),e.inputView.placeholder="https://example.com",e}_createButton(t,e,n,i){const o=new vc(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t){const t=new Tc(this.locale);t.set({name:n.id,label:n.label,withText:!0}),t.bind("isOn").to(n,"value"),t.on("execute",(()=>{n.set("value",!t.isOn)})),e.add(t)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new Za;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}n(76);class Bu extends Za{constructor(t){super(t);const e=t.t;this.focusTracker=new Aa,this.keystrokes=new ga,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("ax"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("ay"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new Na,this._focusCycler=new lc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new vc(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const t=new vc(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("az")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",(t=>t&&Hd(t))),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",(t=>t||n("ba"))),t.bind("isEnabled").to(this,"href",(t=>!!t)),t.template.tag="a",t.template.eventListeners={},t}}class Fu extends Lc{static get requires(){return[Ih]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(Vu),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(Ih),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const t=this.editor,e=new Bu(t.locale),n=t.commands.get("link"),i=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(e,"edit",(()=>{this._addFormView()})),this.listenTo(e,"unlink",(()=>{t.execute("unlink"),this._hideUI()})),e.keystrokes.set("Esc",((t,e)=>{this._hideUI(),e()})),e.keystrokes.set("Ctrl+K",((t,e)=>{this._addFormView(),e()})),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=new zu(t.locale,e.manualDecorators);return n.urlInputView.bind("value").to(e,"value"),n.urlInputView.bind("isReadOnly").to(e,"isEnabled",(t=>!t)),n.saveButtonView.bind("isEnabled").to(e),this.listenTo(n,"submit",(()=>{t.execute("link",n.urlInputView.inputView.element.value,n.getDecoratorSwitchesState()),this._closeFormView()})),this.listenTo(n,"cancel",(()=>{this._closeFormView()})),n.keystrokes.set("Esc",((t,e)=>{this._closeFormView(),e()})),n}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set("Ctrl+K",((t,e)=>{e(),this._showUI(!0)})),t.ui.componentFactory.add("link",(t=>{const i=new vc(t);return i.isEnabled=!0,i.label=n("as"),i.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',i.keystroke="Ctrl+K",i.tooltip=!0,i.isToggleable=!0,i.bind("isEnabled").to(e,"isEnabled"),i.bind("isOn").to(e,"value",(t=>!!t)),this.listenTo(i,"execute",(()=>this._showUI(!0))),i}))}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),this.editor.keystrokes.set("Tab",((t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((t,e)=>{this._isUIVisible&&(this._hideUI(),e())})),Pc({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(t=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=r();const o=()=>{const t=this._getSelectedLinkElement(),e=r();n&&!t||!n&&e!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=t,i=e};function r(){return e.selection.focus.getAncestors().reverse().find((t=>t.is("element")))}this.listenTo(t.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement();return{target:n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection;if(e.isCollapsed)return Uu(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),i=Uu(n.start),o=Uu(n.end);return i&&i==o&&t.createRangeIn(i).getTrimmed().isEqual(n)?i:null}}}function Uu(t){return t.getAncestors().find((t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e}))}class Hu extends Uc{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document,n=Array.from(e.selection.getSelectedBlocks()).filter((e=>Wu(e,t.schema))),i=!0===this.value;t.change((t=>{if(i){let e=n[n.length-1].nextSibling,i=Number.POSITIVE_INFINITY,o=[];for(;e&&"listItem"==e.name&&0!==e.getAttribute("listIndent");){const t=e.getAttribute("listIndent");t<i&&(i=t);const n=t-i;o.push({element:e,listIndent:n}),e=e.nextSibling}o=o.reverse();for(const e of o)t.setAttribute("listIndent",e.listIndent,e.element)}if(!i){let t=Number.POSITIVE_INFINITY;for(const e of n)e.is("listItem")&&e.getAttribute("listIndent")<t&&(t=e.getAttribute("listIndent"));t=0===t?1:t,qu(n,!0,t),qu(n,!1,t)}for(const e of n.reverse())i&&"listItem"==e.name?t.rename(e,"paragraph"):i||"listItem"==e.name?i||"listItem"!=e.name||e.getAttribute("listType")==this.type||t.setAttribute("listType",this.type,e):(t.setAttributes({listType:this.type,listIndent:0},e),t.rename(e,"listItem"))}))}_getValue(){const t=Ql(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Ql(t.getSelectedBlocks());return!!n&&Wu(n,e)}}function qu(t,e,n){const i=e?t[0]:t[t.length-1];if(i.is("listItem")){let o=i[e?"previousSibling":"nextSibling"],r=i.getAttribute("listIndent");for(;o&&o.is("listItem")&&o.getAttribute("listIndent")>=n;)r>o.getAttribute("listIndent")&&(r=o.getAttribute("listIndent")),o.getAttribute("listIndent")==r&&t[e?"unshift":"push"](o),o=o[e?"previousSibling":"nextSibling"]}}function Wu(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}class Yu extends Uc{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change((t=>{const e=n[n.length-1];let i=e.nextSibling;for(;i&&"listItem"==i.name&&i.getAttribute("listIndent")>e.getAttribute("listIndent");)n.push(i),i=i.nextSibling;this._indentBy<0&&(n=n.reverse());for(const e of n){const n=e.getAttribute("listIndent")+this._indentBy;n<0?t.rename(e,"paragraph"):t.setAttribute("listIndent",n,e)}}))}_checkEnabled(){const t=Ql(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let i=t.previousSibling;for(;i&&i.is("listItem")&&i.getAttribute("listIndent")>=e;){if(i.getAttribute("listIndent")==e)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}function $u(t,e,n,i){const o=e.parent,r=n.mapper,s=n.writer;let a=r.toViewPosition(i.createPositionBefore(t));const c=Ku(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),l=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=r.toViewElement(c);a=s.breakContainer(s.createPositionAfter(t))}else a=l&&"listItem"==l.name?r.toViewPosition(i.createPositionAt(l,"end")):r.toViewPosition(i.createPositionBefore(t));if(a=Qu(a),s.insert(a,o),l&&"listItem"==l.name){const t=r.toViewElement(l),n=s.createRange(s.createPositionAt(t,0),a).getWalker({ignoreElementEnd:!0});for(const t of n)if(t.item.is("li")){const i=s.breakContainer(s.createPositionBefore(t.item)),o=t.item.parent,r=s.createPositionAt(e,"end");Gu(s,r.nodeBefore,r.nodeAfter),s.move(s.createRangeOn(o),r),n.position=i}}else{const n=o.nextSibling;if(n&&(n.is("ul")||n.is("ol"))){let i=null;for(const e of n.getChildren()){const n=r.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;i=e}i&&(s.breakContainer(s.createPositionAfter(i)),s.move(s.createRangeOn(i.parent),s.createPositionAt(e,"end")))}}Gu(s,o,o.nextSibling),Gu(s,o.previousSibling,o)}function Gu(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function Qu(t){return t.getLastMatchingPosition((t=>t.item.is("uiElement")))}function Ku(t,e){const n=!!e.sameIndent,i=!!e.smallerIndent,o=e.listIndent;let r=t;for(;r&&"listItem"==r.name;){const t=r.getAttribute("listIndent");if(n&&o==t||i&&o>t)return r;r=r.previousSibling}return null}function Ju(t,e,n,i){t.ui.componentFactory.add(e,(o=>{const r=t.commands.get(e),s=new vc(o);return s.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.on("execute",(()=>{t.execute(e),t.editing.view.focus()})),s}))}function Zu(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:jn.call(this)}function Xu(t){return(e,n,i)=>{const o=i.consumable;if(!o.test(n.item,"insert")||!o.test(n.item,"attribute:listType")||!o.test(n.item,"attribute:listIndent"))return;o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");const r=n.item;$u(r,function(t,e){const n=e.mapper,i=e.writer,o="numbered"==t.getAttribute("listType")?"ol":"ul",r=function(t){const e=t.createContainerElement("li");return e.getFillerOffset=Zu,e}(i),s=i.createContainerElement(o,null);return i.insert(i.createPositionAt(s,0),r),n.bindElements(t,r),r}(r,i),i,t)}}function tf(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const i=n.mapper.toViewElement(e.item),o=n.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));const r=i.parent,s="numbered"==e.attributeNewValue?"ol":"ul";o.rename(s,r)}function ef(t,e,n){const i=n.mapper.toViewElement(e.item).parent,o=n.writer;Gu(o,i,i.nextSibling),Gu(o,i.previousSibling,i);for(const t of e.item.getChildren())n.consumable.consume(t,"insert")}function nf(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const i=n.writer,o=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&(t=i.breakContainer(t),"li"==t.parent.name);){const e=t,n=i.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=i.remove(i.createRange(e,n));o.push(t)}t=i.createPositionAfter(t.parent)}if(o.length>0){for(let e=0;e<o.length;e++){const n=t.nodeBefore;if(t=i.insert(t,o[e]).end,e>0){const e=Gu(i,n,n.nextSibling);e&&e.parent==n&&t.offset--}}Gu(i,t.nodeBefore,t.nodeAfter)}}}function of(t,e,n){const i=n.mapper.toViewPosition(e.position),o=i.nodeBefore,r=i.nodeAfter;Gu(n.writer,o,r)}function rf(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,i=t.createElement("listItem"),o=function(t){let e=0,n=t.parent;for(;n;){if(n.is("li"))e++;else{const t=n.previousSibling;t&&t.is("li")&&e++}n=n.parent}return e}(e.viewItem);t.setAttribute("listIndent",o,i);const r=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";t.setAttribute("listType",r,i);const s=n.splitToAllowedParent(i,e.modelCursor);if(!s)return;t.insert(i,s.position);const a=function(t,e,n){const{writer:i,schema:o}=n;let r=i.createPositionAfter(t);for(const s of e)if("ul"==s.name||"ol"==s.name)r=n.convertItem(s,r).modelCursor;else{const e=n.convertItem(s,i.createPositionAt(t,"end")),a=e.modelRange.start.nodeAfter;a&&a.is("element")&&!o.checkChild(t,a.name)&&(t=e.modelCursor.parent.is("listItem")?e.modelCursor.parent:df(e.modelCursor),r=i.createPositionAfter(t))}return r}(i,e.viewItem.getChildren(),n);e.modelRange=t.createRange(e.modelCursor,a),s.cursorParent?e.modelCursor=t.createPositionAt(s.cursorParent,0):e.modelCursor=e.modelRange.end}}function sf(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)!e.is("li")&&!uf(e)&&e._remove()}}function af(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,i=!0;for(const e of t)n&&!uf(e)&&e._remove(),e.is("text")?(i&&(e._data=e.data.replace(/^\s+/,"")),e.nextSibling&&!uf(e.nextSibling)||(e._data=e.data.replace(/\s+$/,""))):uf(e)&&(n=!0),i=!1}}function cf(t){return(e,n)=>{if(n.isPhantom)return;const i=n.modelPosition.nodeBefore;if(i&&i.is("listItem")){const e=n.mapper.toViewElement(i),o=e.getAncestors().find(uf),r=t.createPositionAt(e,0).getWalker();for(const t of r){if("elementStart"==t.type&&t.item.is("li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==o){n.viewPosition=t.nextPosition;break}}}}}function lf(t,[e,n]){let i,o=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n):this.document.selection,o&&o.is("listItem")){const t=i.getFirstPosition();let e=null;if(t.parent.is("listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;o&&o.is("listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+t),o=o.nextSibling}}}function df(t){const e=new fr({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("listItem"));return n.value.item}function hf(t,e,n,i,o,r){const s=Ku(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),a=o.mapper,c=o.writer,l=s?s.getAttribute("listIndent"):null;let d;if(s)if(l==t){const t=a.toViewElement(s).parent;d=c.createPositionAfter(t)}else{const t=r.createPositionAt(s,"end");d=a.toViewPosition(t)}else d=n;d=Qu(d);for(const t of[...i.getChildren()])uf(t)&&(d=c.move(c.createRangeOn(t),d).end,Gu(c,t,t.nextSibling),Gu(c,t.previousSibling,t))}function uf(t){return t.is("ol")||t.is("ul")}class ff extends Lc{static get pluginName(){return"ListEditing"}static get requires(){return[iu]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;var i;t.model.document.registerPostFixer((e=>function(t,e){const n=t.document.differ.getChanges(),i=new Map;let o=!1;for(const i of n)if("insert"==i.type&&"listItem"==i.name)r(i.position);else if("insert"==i.type&&"listItem"!=i.name){if("$text"!=i.name){const n=i.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),o=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),o=!0);for(const e of Array.from(t.createRangeIn(n)).filter((t=>t.item.is("listItem"))))r(e.previousPosition)}r(i.position.getShiftedBy(i.length))}else"remove"==i.type&&"listItem"==i.name?r(i.position):("attribute"==i.type&&"listIndent"==i.attributeKey||"attribute"==i.type&&"listType"==i.attributeKey)&&r(i.range.start);for(const t of i.values())s(t),a(t);return o;function r(t){const e=t.nodeBefore;if(e&&e.is("listItem")){let n=e;if(i.has(n))return;for(;n.previousSibling&&n.previousSibling.is("listItem");)if(n=n.previousSibling,i.has(n))return;i.set(t.nodeBefore,n)}else{const e=t.nodeAfter;e&&e.is("listItem")&&i.set(e,e)}}function s(t){let n=0,i=null;for(;t&&t.is("listItem");){const r=t.getAttribute("listIndent");if(r>n){let s;null===i?(i=r-n,s=n):(i>r&&(i=r),s=r-i),e.setAttribute("listIndent",s,t),o=!0}else i=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function a(t){let n=[],i=null;for(;t&&t.is("listItem");){const r=t.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){const i=n[r];t.getAttribute("listType")!=i&&(e.setAttribute("listType",i,t),o=!0)}else n[r]=t.getAttribute("listType");i=t,t=t.nextSibling}}}(t.model,e))),n.mapper.registerViewToModelLength("li",mf),e.mapper.registerViewToModelLength("li",mf),n.mapper.on("modelToViewPosition",cf(n.view)),n.mapper.on("viewToModelPosition",(i=t.model,(t,e)=>{const n=e.viewPosition,o=n.parent,r=e.mapper;if("ul"==o.name||"ol"==o.name){if(n.isAtEnd){const t=r.toModelElement(n.nodeBefore),o=r.getModelLength(n.nodeBefore);e.modelPosition=i.createPositionBefore(t).getShiftedBy(o)}else{const t=r.toModelElement(n.nodeAfter);e.modelPosition=i.createPositionBefore(t)}t.stop()}else if("li"==o.name&&n.nodeBefore&&("ul"==n.nodeBefore.name||"ol"==n.nodeBefore.name)){const s=r.toModelElement(o);let a=1,c=n.nodeBefore;for(;c&&uf(c);)a+=r.getModelLength(c),c=c.previousSibling;e.modelPosition=i.createPositionBefore(s).getShiftedBy(a),t.stop()}})),e.mapper.on("modelToViewPosition",cf(n.view)),t.conversion.for("editingDowncast").add((e=>{e.on("insert",nf,{priority:"high"}),e.on("insert:listItem",Xu(t.model)),e.on("attribute:listType:listItem",tf,{priority:"high"}),e.on("attribute:listType:listItem",ef,{priority:"low"}),e.on("attribute:listIndent:listItem",function(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,"attribute:listIndent"))return;const o=i.mapper.toViewElement(n.item),r=i.writer;r.breakContainer(r.createPositionBefore(o)),r.breakContainer(r.createPositionAfter(o));const s=o.parent,a=s.previousSibling,c=r.createRangeOn(s);r.remove(c),a&&a.nextSibling&&Gu(r,a,a.nextSibling),hf(n.attributeOldValue+1,n.range.start,c.start,o,i,t),$u(n.item,o,i,t);for(const t of n.item.getChildren())i.consumable.consume(t,"insert")}}(t.model)),e.on("remove:listItem",function(t){return(e,n,i)=>{const o=i.mapper.toViewPosition(n.position).getLastMatchingPosition((t=>!t.item.is("li"))).nodeAfter,r=i.writer;r.breakContainer(r.createPositionBefore(o)),r.breakContainer(r.createPositionAfter(o));const s=o.parent,a=s.previousSibling,c=r.createRangeOn(s),l=r.remove(c);a&&a.nextSibling&&Gu(r,a,a.nextSibling),hf(i.mapper.toModelElement(o).getAttribute("listIndent")+1,n.position,c.start,o,i,t);for(const t of r.createRangeIn(l).getItems())i.mapper.unbindViewElement(t);e.stop()}}(t.model)),e.on("remove",of,{priority:"low"})})),t.conversion.for("dataDowncast").add((e=>{e.on("insert",nf,{priority:"high"}),e.on("insert:listItem",Xu(t.model))})),t.conversion.for("upcast").add((t=>{t.on("element:ul",sf,{priority:"high"}),t.on("element:ol",sf,{priority:"high"}),t.on("element:li",af,{priority:"high"}),t.on("element:li",rf)})),t.model.on("insertContent",lf,{priority:"high"}),t.commands.add("numberedList",new Hu(t,"numbered")),t.commands.add("bulletedList",new Hu(t,"bulleted")),t.commands.add("indentList",new Yu(t,"forward")),t.commands.add("outdentList",new Yu(t,"backward"));const o=n.view.document;this.listenTo(o,"enter",((t,e)=>{const n=this.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==i.name&&i.isEmpty&&(this.editor.execute("outdentList"),e.preventDefault(),t.stop())})),this.listenTo(o,"delete",((t,e)=>{if("backward"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const i=n.getFirstPosition();if(!i.isAtStart)return;const o=i.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(this.editor.execute("outdentList"),e.preventDefault(),t.stop()))}),{priority:"high"});const r=t=>(e,n)=>{this.editor.commands.get(t).isEnabled&&(this.editor.execute(t),n())};t.keystrokes.set("Tab",r("indentList")),t.keystrokes.set("Shift+Tab",r("outdentList"))}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}function mf(t){let e=1;for(const n of t.getChildren())if("ul"==n.name||"ol"==n.name)for(const t of n.getChildren())e+=mf(t);return e}class gf extends Lc{init(){const t=this.editor.t;Ju(this.editor,"numberedList",t("ae"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Ju(this.editor,"bulletedList",t("af"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function pf(t,e){return t=>{t.on("attribute:url:media",n)};function n(n,i,o){if(!o.consumable.consume(i.item,n.name))return;const r=i.attributeNewValue,s=o.writer,a=o.mapper.toViewElement(i.item);s.remove(s.createRangeIn(a));const c=t.getMediaViewElement(s,r,e);s.insert(s.createPositionAt(a,0),c)}}function bf(t,e,n,i){const o=t.createContainerElement("figure",{class:"media"});return o.getFillerOffset=_f,t.insert(t.createPositionAt(o,0),e.getMediaViewElement(t,n,i)),o}function wf(t){const e=t.getSelectedElement();return e&&e.is("media")?e:null}function kf(t,e,n){t.change((i=>{const o=i.createElement("media",{url:e});t.insertContent(o,n),i.setSelection(o,"on")}))}function _f(){return null}class vf extends Uc{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,i=e.getFirstPosition(),o=wf(e);let r=i.parent;r!=r.root&&(r=r.parent),this.value=o?o.getAttribute("url"):null,this.isEnabled=n.checkChild(r,"media")}execute(t){const e=this.editor.model,n=e.document.selection,i=wf(n);if(i)e.change((e=>{e.setAttribute("url",t,i)}));else{const i=ud(n,e);kf(e,t,i)}}}class yf{constructor(t,e){const n=e.providers,i=e.extraProviders||[],o=new Set(e.removeProviders),r=n.concat(i).filter((t=>{const e=t.name;return e?!o.has(e):(console.warn(Object(xe.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:t}),!1)}));this.locale=t,this.providerDefinitions=r}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new xf(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html;let i=e.url;Array.isArray(i)||(i=[i]);for(const e of i){const i=this._getUrlMatches(t,e);if(i)return new xf(this.locale,t,i,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let i=t.replace(/^https?:\/\//,"");return n=i.match(e),n||(i=i.replace(/^www\./,""),n=i.match(e),n||null)}}class xf{constructor(t,e,n,i){this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=i}getViewElement(t,e){const n={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(e);return t.createUIElement("div",n,(function(t){const e=this.toDomElement(t);return e.innerHTML=i,e}))}return this.url&&(n.url=this.url),t.createEmptyElement("oembed",n)}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new _c,e=new kc;return t.text=this._t("Open media in new tab"),e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Oa({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}n(78);class Af extends Lc{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new yf(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion,o=t.config.get("mediaEmbed.previewsInData"),r=this.registry;t.commands.add("mediaEmbed",new vf(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").elementToElement({model:"media",view:(t,e)=>{const n=t.getAttribute("url");return bf(e,r,n,{renderMediaPreview:n&&o})}}),i.for("dataDowncast").add(pf(r,{renderMediaPreview:o})),i.for("editingDowncast").elementToElement({model:"media",view:(t,e)=>{const i=t.getAttribute("url");return o=bf(e,r,i,{renderForEditingView:!0}),s=e,a=n("ar"),s.setCustomProperty("media",!0,o),ld(o,s,{label:a});var o,s,a}}),i.for("editingDowncast").add(pf(r,{renderForEditingView:!0})),i.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:(t,e)=>{const n=t.getAttribute("url");if(r.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,e)=>{const n=t.getAttribute("data-oembed-url");if(r.hasMedia(n))return e.createElement("media",{url:n})}})}}const Cf=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;class Tf extends Lc{static get requires(){return[Fc,Il]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(Fc),"inputTransformation",(()=>{const t=e.selection.getFirstRange(),n=ta.fromPosition(t.start);n.stickiness="toPrevious";const i=ta.fromPosition(t.end);i.stickiness="toNext",e.once("change:data",(()=>{this._embedMediaBetweenPositions(n,i),n.detach(),i.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(()=>{this._timeoutId&&(Zi.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,i=n.plugins.get(Af).registry,o=new Pr(t,e),r=o.getWalker({ignoreElementEnd:!0});let s="";for(const t of r)t.item.is("textProxy")&&(s+=t.item.data);s=s.trim(),s.match(Cf)&&i.hasMedia(s)&&n.commands.get("mediaEmbed").isEnabled&&(this._positionToInsert=ta.fromPosition(t),this._timeoutId=Zi.window.setTimeout((()=>{n.model.change((t=>{let e;this._timeoutId=null,t.remove(o),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),kf(n.model,s,e),this._positionToInsert.detach(),this._positionToInsert=null}))}),100))}}n(80);class Pf extends Za{constructor(t,e){super(e);const n=e.t;this.focusTracker=new Aa,this.keystrokes=new ga,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("bb"),vh,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("bc"),yh,"ck-button-cancel","cancel"),this._focusables=new Na,this._focusCycler=new lc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),_h({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",((t,e)=>{e.stopPropagation()}),{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.inputView.element.value.trim()}set url(t){this.urlInputView.inputView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new wh(this.locale,kh),n=e.inputView;return this._urlInputViewInfoDefault=t("bd"),this._urlInputViewInfoTip=t("be"),e.label=t("bf"),e.infoText=this._urlInputViewInfoDefault,n.placeholder="https://example.com",n.on("input",(()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault})),e}_createButton(t,e,n,i){const o=new vc(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}}class Sf extends Lc{static get requires(){return[Af]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(Af).registry;this.form=new Pf(function(t,e){return[e=>{if(!e.url.length)return t("ap")},n=>{if(!e.hasMedia(n.url))return t("aq")}]}(t.t,n),t.locale),t.ui.componentFactory.add("mediaEmbed",(n=>{const i=Sc(n);return this._setUpDropdown(i,this.form,e,t),this._setUpForm(this.form,i,e),i}))}_setUpDropdown(t,e,n){const i=this.editor,o=i.t,r=t.buttonView;function s(){i.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),r.set({label:o("ao"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>\n',tooltip:!0}),r.on("open",(()=>{e.url=n.value||"",e.urlInputView.select(),e.focus()}),{priority:"low"}),t.on("submit",(()=>{e.isValid()&&(i.execute("mediaEmbed",e.url),s())})),t.on("change:isOpen",(()=>e.resetFormStatus())),t.on("cancel",(()=>s()))}_setUpForm(t,e,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",(t=>!t)),t.saveButtonView.bind("isEnabled").to(n)}}function Mf(t,e,n){const i=e.parent,o=n.createElement(t.type),r=i.getChildIndex(e)+1;return n.insertChild(r,o,i),o}function Ef(t){const e={},n=t.getStyle("mso-list");if(n){const t=n.match(/(^|\s+)l(\d+)/i),i=n.match(/\s*lfo(\d+)/i),o=n.match(/\s*level(\d+)/i);t&&i&&o&&(e.id=t[2],e.order=i[1],e.indent=o[1])}return e}n(82);const If=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Nf{constructor(t){this.document=t}isActive(t){return If.test(t)}execute(t){const e=new Qh(this.document);!function(t,e){for(const n of t.getChildren())if(n.is("b")&&"normal"===n.getStyle("font-weight")){const i=t.getChildIndex(n);e.remove(n),e.insertChild(i,n.getChildren(),t)}}(t.content,e),function(t,e){for(const n of e.createRangeIn(t)){const t=n.item;if(t.is("li")){const n=t.getChild(0);n.is("p")&&e.unwrapElement(n)}}}(t.content,e)}}function Of(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>1===e.length?" ":Array(e.length+1).join("Â  ").substr(0,e.length)))}const Rf=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Df=/xmlns:o="urn:schemas-microsoft-com/i;class Lf{isActive(t){return Rf.test(t)||Df.test(t)}execute(t){const{body:e,stylesString:n}=function(t){const e=new DOMParser,n=function(t){return Of(Of(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"Â </").replace(/ <o:p><\/o:p>/g,"Â <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(t){const e=t.match(/<\/body>(.*?)(<\/html>|$)/);return e&&e[1]&&(t=t.slice(0,e.index)+t.slice(e.index).replace(e[1],"")),t}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),i=e.parseFromString(n,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach((t=>{const e=t.childNodes&&t.childNodes[0]&&t.childNodes[0].data&&t.childNodes[0].data.length||0;t.innerHTML=Array(e+1).join("Â  ").substr(0,e)}))}(i);const o=i.body.innerHTML,r=function(t){const e=new ri(new In),n=new no(e,{blockFillerMode:"nbsp"}),i=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return n.domToView(i)}(i),s=function(t){const e=[],n=[],i=Array.from(t.getElementsByTagName("style"));for(const t of i)t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length&&(e.push(t.sheet),n.push(t.innerHTML));return{styles:e,stylesString:n.join(" ")}}(i);return{body:r,bodyString:o,styles:s.styles,stylesString:s.stylesString}}(t.dataTransfer.getData("text/html"));(function(t,e){if(!t.childCount)return;const n=new Qh(t.document),i=function(t,e){const n=e.createRangeIn(t),i=new $e({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[];for(const t of n)if("elementStart"===t.type&&i.match(t.item)){const e=Ef(t.item);o.push({element:t.item,id:e.id,order:e.order,indent:e.indent})}return o}(t,n);if(!i.length)return;let o=null,r=1;i.forEach(((t,s)=>{const a=function(t,e){if(!t)return!0;if(t.id!==e.id)return!0;const n=e.element.previousSibling;return!n||!((i=n).is("ol")||i.is("ul"));var i}(i[s-1],t),c=(d=t,(l=a?null:i[s-1])?d.indent-l.indent:d.indent-1);var l,d;if(a&&(o=null,r=1),!o||0!==c){const i=function(t,e){const n=/mso-level-number-format:([^;]*);/gi,i=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi").exec(e);let o="decimal";if(i&&i[1]){const t=n.exec(i[1]);t&&t[1]&&(o=t[1].trim())}return{type:"bullet"!==o&&"image"!==o?"ol":"ul",style:o}}(t,e);if(o){if(t.indent>r){const t=o.getChild(o.childCount-1),e=t.getChild(t.childCount-1);o=Mf(i,e,n),r+=1}else if(t.indent<r){const e=r-t.indent;o=function(t,e){const n=t.getAncestors({parentFirst:!0});let i=null,o=0;for(const t of n)if("ul"!==t.name&&"ol"!==t.name||o++,o===e){i=t;break}return i}(o,e),r=parseInt(t.indent)}}else o=Mf(i,t.element,n);t.indent<=r&&(o.is(i.type)||(o=n.rename(i.type,o)))}const h=function(t,e){return function(t,e){const n=new $e({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(t);for(const t of i)"elementStart"===t.type&&n.match(t.item)&&e.remove(t.item)}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(h,o)}))})(e,n),function(t,e){if(!t.childCount)return;const n=new Qh;!function(t,e,n){const i=n.createRangeIn(e),o=new $e({name:"img"}),r=[];for(const e of i)if(o.match(e.item)){const n=e.item,i=n.getAttribute("v:shapes")?n.getAttribute("v:shapes").split(" "):[];i.length&&i.every((e=>t.indexOf(e)>-1))?r.push(n):n.getAttribute("src")||r.push(n)}for(const t of r)n.remove(t)}(function(t,e){const n=e.createRangeIn(t),i=new $e({name:/v:(.+)/}),o=[];for(const t of n){const e=t.item,n=e.previousSibling&&e.previousSibling.name||null;i.match(e)&&e.getAttribute("o:gfxdata")&&"v:shapetype"!==n&&o.push(t.item.getAttribute("id"))}return o}(t,n),t,n),function(t,e){const n=e.createRangeIn(t),i=new $e({name:/v:(.+)/}),o=[];for(const t of n)i.match(t.item)&&o.push(t.item);for(const t of o)e.remove(t)}(t,n);const i=function(t,e){const n=e.createRangeIn(t),i=new $e({name:"img"}),o=[];for(const t of n)i.match(t.item)&&t.item.getAttribute("src").startsWith("file://")&&o.push(t.item);return o}(t,n);i.length&&function(t,e,n){if(t.length===e.length)for(let o=0;o<t.length;o++){const r=`data:${e[o].type};base64,${i=e[o].hex,btoa(i.match(/\w{2}/g).map((t=>String.fromCharCode(parseInt(t,16)))).join(""))}`;n.setAttribute("src",r,t[o])}var i}(i,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=t.match(n),o=[];if(i)for(const t of i){let n=!1;t.includes("\\pngblip")?n="image/png":t.includes("\\jpegblip")&&(n="image/jpeg"),n&&o.push({hex:t.replace(e,"").replace(/[^\da-fA-F]/g,""),type:n})}return o}(e),n)}(e,t.dataTransfer.getData("text/rtf")),t.content=e}}function jf(t,e){let n=e.parent;for(;n;){if(n.name===t)return n;n=n.parent}}function Vf(t,e,n,i,o=1){e>o?i.setAttribute(t,e,n):i.removeAttribute(t,n)}function zf(t,e,n={}){const i=t.createElement("tableCell",n);t.insertElement("paragraph",i),t.insert(i,e)}function Bf(t,e){const n=e.parent.parent,i=parseInt(n.getAttribute("headingColumns")||0),{column:o}=t.getCellLocation(e);return!!i&&o<i}function Ff(t){return e=>{e.on(`element:${t}`,((t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const o=n.writer.createElement("tableCell"),r=n.splitToAllowedParent(o,e.modelCursor);if(!r)return;n.writer.insert(o,r.position),n.consumable.consume(i,{name:!0});const s=n.writer.createPositionAt(o,0);n.convertChildren(i,s),o.childCount||n.writer.insertElement("paragraph",s),e.modelRange=n.writer.createRange(n.writer.createPositionBefore(o),n.writer.createPositionAfter(o)),e.modelCursor=e.modelRange.end}))}}function Uf(t){let e=0,n=0;const i=Array.from(t.getChildren()).filter((t=>"th"===t.name||"td"===t.name));for(;n<i.length&&"th"===i[n].name;){const t=i[n];e+=parseInt(t.getAttribute("colspan")||1),n++}return e}class Hf{constructor(t,e={}){this.table=t,this.startRow=e.startRow||0,this.endRow="number"==typeof e.endRow?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column="number"==typeof e.column?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this.table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};let e,n,i;if(this._isSpanned(this._row,this._column))e=this._getSpanned(this._row,this._column),n=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(e,this._column,!0);else{if(e=t.getChild(this._cellIndex),!e)return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();const o=parseInt(e.getAttribute("colspan")||1),r=parseInt(e.getAttribute("rowspan")||1);(o>1||r>1)&&this._recordSpans(this._row,this._column,r,o,e),this._nextCellAtColumn=this._column+o,n=this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(e,this._column,!1,r,o)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,n?this.next():i}skipRow(t){this._skipRows.add(t)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(t,e,n,i=1,o=1){return{done:!1,value:{cell:t,row:this._row,column:e,isSpanned:n,rowspan:i,colspan:o,cellIndex:this._cellIndex}}}_shouldSkipRow(){const t=this._row<this.startRow,e=this._skipRows.has(this._row);return t||e}_shouldSkipColumn(){return void 0!==this.column&&this.column!=this._column}_isSpanned(t,e){return!!this._spannedCells.has(t)&&this._spannedCells.get(t).has(e)}_getSpanned(t,e){return this._spannedCells.get(t).get(e)}_recordSpans(t,e,n,i,o){for(let n=e+1;n<=e+i-1;n++)this._markSpannedCell(t,n,o);for(let r=t+1;r<t+n;r++)for(let t=e;t<=e+i-1;t++)this._markSpannedCell(r,t,o)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}function qf(t){return!!t.getCustomProperty("table")&&cd(t)}function Wf(t){const e=t.getSelectedElement();return e&&qf(e)?e:null}function Yf(t){const e=jf("table",t.getFirstPosition());return e&&qf(e.parent)?e.parent:null}function $f(t){const e=[];for(const i of(n=t.getRanges(),Array.from(n).sort(Kf))){const t=i.getContainedElement();t&&t.is("tableCell")&&e.push(t)}var n;return e}function Gf(t){const e=[];for(const n of t.getRanges()){const t=jf("tableCell",n.start);t&&e.push(t)}return e}function Qf(t){const e=$f(t);return e.length?e:Gf(t)}function Kf(t,e){const n=t.start,i=e.start;return n.isEqual(i)?0:n.isBefore(i)?-1:1}function Jf(t={}){return e=>e.on("insert:table",((e,n,i)=>{const o=n.item;if(!i.consumable.consume(o,"insert"))return;i.consumable.consume(o,"attribute:headingRows:table"),i.consumable.consume(o,"attribute:headingColumns:table");const r=t&&t.asWidget,s=i.writer.createContainerElement("figure",{class:"table"}),a=i.writer.createContainerElement("table");let c;var l,d;i.writer.insert(i.writer.createPositionAt(s,0),a),r&&(l=s,(d=i.writer).setCustomProperty("table",!0,l),c=ld(l,d,{hasSelectionHandle:!0}));const h=new Hf(o),u={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},f=new Map;for(const e of h){const{row:n,cell:r}=e,s=cm(am(n,u),a,i),c=o.getChild(n),l=f.get(n)||rm(c,n,s,i);f.set(n,l),i.consumable.consume(r,"insert"),om(e,u,i.writer.createPositionAt(l,"end"),i,t)}const m=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(o,r?c:s),i.writer.insert(m,r?c:s)}))}function Zf(t={}){return e=>e.on("insert:tableRow",((e,n,i)=>{const o=n.item;if(!i.consumable.consume(o,"insert"))return;const r=o.parent,s=um(i.mapper.toViewElement(r)),a=r.getChildIndex(o),c=new Hf(r,{startRow:a,endRow:a}),l={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},d=new Map;for(const e of c){const n=cm(am(a,l),s,i),r=d.get(a)||rm(o,a,n,i);d.set(a,r),i.consumable.consume(e.cell,"insert"),om(e,l,i.writer.createPositionAt(r,"end"),i,t)}}))}function Xf(t={}){return e=>e.on("insert:tableCell",((e,n,i)=>{const o=n.item;if(!i.consumable.consume(o,"insert"))return;const r=o.parent,s=r.parent,a=s.getChildIndex(r),c=new Hf(s,{startRow:a,endRow:a}),l={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0};for(const e of c)if(e.cell===o){const n=i.mapper.toViewElement(r);return void om(e,l,i.writer.createPositionAt(n,r.getChildIndex(o)),i,t)}}))}function tm(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingRows:table",((t,n,i)=>{const o=n.item;if(!i.consumable.consume(n.item,t.name))return;const r=um(i.mapper.toViewElement(o)),s=n.attributeOldValue,a=n.attributeNewValue;if(a>s){const t=Array.from(o.getChildren()).filter((({index:t})=>c(t,s-1,a)));hm(t,cm("thead",r,i),i,"end");for(const n of t)for(const t of n.getChildren())nm(t,"th",i,e);dm("tbody",r,i)}else{hm(Array.from(o.getChildren()).filter((({index:t})=>c(t,a-1,s))).reverse(),cm("tbody",r,i),i,0);const t=new Hf(o,{startRow:a?a-1:a,endRow:s-1}),n={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};for(const o of t)im(o,n,i,e);dm("thead",r,i)}function c(t,e,n){return t>e&&t<n}}))}function em(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingColumns:table",((t,n,i)=>{const o=n.item;if(!i.consumable.consume(n.item,t.name))return;const r={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},s=n.attributeOldValue,a=n.attributeNewValue,c=(s>a?s:a)-1;for(const t of new Hf(o))t.column>c||im(t,r,i,e)}))}function nm(t,e,n,i){const o=n.writer,r=n.mapper.toViewElement(t);if(!r)return;let s;i?(s=hd(o.createEditableElement(e,r.getAttributes()),o),o.insert(o.createPositionAfter(r),s),o.move(o.createRangeIn(r),o.createPositionAt(s,0)),o.remove(o.createRangeOn(r))):s=o.rename(e,r),n.mapper.unbindViewElement(r),n.mapper.bindElements(t,s)}function im(t,e,n,i){const{cell:o}=t,r=sm(t,e),s=n.mapper.toViewElement(o);s&&s.name!==r&&nm(o,r,n,i)}function om(t,e,n,i,o){const r=o&&o.asWidget,s=sm(t,e),a=r?hd(i.writer.createEditableElement(s),i.writer):i.writer.createContainerElement(s),c=t.cell,l=c.getChild(0),d=1===c.childCount&&"paragraph"===l.name;if(i.writer.insert(n,a),d&&![...l.getAttributeKeys()].length){const t=c.getChild(0),e=i.writer.createPositionAt(a,"end");if(i.consumable.consume(t,"insert"),o.asWidget){const n=i.writer.createContainerElement("span",{style:"display:inline-block"});i.mapper.bindElements(t,n),i.writer.insert(e,n),i.mapper.bindElements(c,a)}else i.mapper.bindElements(c,a),i.mapper.bindElements(t,a)}else i.mapper.bindElements(c,a)}function rm(t,e,n,i){i.consumable.consume(t,"insert");const o=i.writer.createContainerElement("tr");i.mapper.bindElements(t,o);const r=t.parent.getAttribute("headingRows")||0,s=r>0&&e>=r?e-r:e,a=i.writer.createPositionAt(n,s);return i.writer.insert(a,o),o}function sm(t,e){const{row:n,column:i}=t,{headingColumns:o,headingRows:r}=e;return r&&r>n||o&&o>i?"th":"td"}function am(t,e){return t<e.headingRows?"thead":"tbody"}function cm(t,e,n){return lm(t,e)||function(t,e,n){const i=n.writer.createContainerElement(t),o=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(o,i),i}(t,e,n)}function lm(t,e){for(const n of e.getChildren())if(n.name==t)return n}function dm(t,e,n){const i=lm(t,e);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i))}function hm(t,e,n,i){for(const o of t){const t=n.mapper.toViewElement(o);t&&n.writer.move(n.writer.createRangeOn(t),n.writer.createPositionAt(e,i))}}function um(t){for(const e of t.getChildren())if("table"===e.name)return e}class fm extends Uc{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,i=function(t){const e=t.parent;return e===e.root?e:e.parent}(e.getFirstPosition());this.isEnabled=n.checkChild(i,"table")}execute(t={}){const e=this.editor.model,n=e.document.selection,i=this.editor.plugins.get("TableUtils"),o=parseInt(t.rows)||2,r=parseInt(t.columns)||2,s=ud(n,e);e.change((t=>{const n=i.createTable(t,o,r);e.insertContent(n,s),t.setSelection(t.createPositionAt(n.getNodeByPath([0,0,0]),0))}))}}class mm extends Uc{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=jf("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i="above"===this.order,o=i?e.getFirstPosition():e.getLastPosition(),r=((i?e.getFirstRange():e.getLastRange()).getContainedElement()||jf("tableCell",o)).parent,s=r.parent,a=s.getChildIndex(r);n.insertRows(s,{rows:1,at:"below"===this.order?a+1:a})}}class gm extends Uc{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=jf("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i="left"===this.order,o=i?e.getFirstPosition():e.getLastPosition(),r=(i?e.getFirstRange():e.getLastRange()).getContainedElement()||jf("tableCell",o),s=r.parent.parent,{column:a}=n.getCellLocation(r);n.insertColumns(s,{columns:1,at:i?a:a+1})}}class pm extends Uc{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=Qf(this.editor.model.document.selection);this.isEnabled=1===t.length}execute(){const t=Qf(this.editor.model.document.selection)[0],e="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2)}}class bm extends Uc{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=Gf(t.document.selection)[0],n=this.value,i=this.direction;t.change((t=>{const o="right"==i||"down"==i,r=o?e:n,s=o?n:e,a=s.parent;!function(t,e,n){wm(t)||(wm(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}(s,r,t);const c=this.isHorizontal?"colspan":"rowspan",l=parseInt(e.getAttribute(c)||1),d=parseInt(n.getAttribute(c)||1);t.setAttribute(c,l+d,r),t.setSelection(t.createRangeIn(r)),a.childCount||function(t,e){const n=t.parent,i=n.getChildIndex(t);for(const{cell:t,row:o,rowspan:r}of new Hf(n,{endRow:i}))o+r-1>=i&&Vf("rowspan",r-1,t,e);e.remove(t)}(a,t)}))}_getMergeableCell(){const t=Gf(this.editor.model.document.selection)[0];if(!t)return;const e=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(t,e,n){const i=t.parent.parent,o="right"==e?t.nextSibling:t.previousSibling,r=(i.getAttribute("headingColumns")||0)>0;if(!o)return;const s="right"==e?t:o,a="right"==e?o:t,{column:c}=n.getCellLocation(s),{column:l}=n.getCellLocation(a),d=parseInt(s.getAttribute("colspan")||1),h=Bf(n,s),u=Bf(n,a);return r&&h!=u?void 0:c+d===l?o:void 0}(t,this.direction,e):function(t,e){const n=t.parent,i=n.parent,o=i.getChildIndex(n);if("down"==e&&o===i.childCount-1||"up"==e&&0===o)return;const r=parseInt(t.getAttribute("rowspan")||1),s=i.getAttribute("headingRows")||0;if(s&&("down"==e&&o+r===s||"up"==e&&o===s))return;const a=parseInt(t.getAttribute("rowspan")||1),c="down"==e?o+a:o,l=[...new Hf(i,{endRow:c})],d=l.find((e=>e.cell===t)).column,h=l.find((({row:t,rowspan:n,column:i})=>i===d&&("down"==e?t===c:c===t+n)));return h&&h.cell}(t,this.direction);if(!n)return;const i=this.isHorizontal?"rowspan":"colspan",o=parseInt(t.getAttribute(i)||1);return parseInt(n.getAttribute(i)||1)===o?n:void 0}}function wm(t){return 1==t.childCount&&t.getChild(0).is("paragraph")&&t.getChild(0).isEmpty}class km extends Uc{refresh(){const t=Qf(this.editor.model.document.selection),e=t[0];if(e){const n=e.parent.parent,i=this.editor.plugins.get("TableUtils").getRows(n),o=[...new Hf(n)].filter((e=>t.includes(e.cell))).map((t=>t.row)),r=o[0],s=o[o.length-1];this.isEnabled=s-r<i-1}else this.isEnabled=!1}execute(){const t=Qf(this.editor.model.document.selection),e=function(t){const e=t.map((t=>t.parent.index)).sort();return{first:e[0],last:e[e.length-1]}}(t),n=t[0],i=n.parent.parent,o=[...new Hf(i,{endRow:e.last})],r=this.editor.model.createBatch(),s=function(t,e){return t.find((t=>t.cell===e)).column}(o,n);let a;this.editor.model.enqueueChange(r,(t=>{t.setSelection(t.createSelection(i,"on"))}));for(let t=e.last;t>=e.first;t--)this.editor.model.enqueueChange(r,(e=>{const n=t;this._removeRow(n,i,e,o),a=_m(i,n,s)}));this.editor.model.enqueueChange(r,(t=>{t.setSelection(t.createPositionAt(a,0))}))}_removeRow(t,e,n,i){const o=new Map,r=e.getChild(t),s=e.getAttribute("headingRows")||0;s&&t<s&&Vf("headingRows",s-1,e,n,0),i.filter((({row:e,rowspan:n})=>e===t&&n>1)).forEach((({column:t,cell:e,rowspan:n})=>o.set(t,{cell:e,rowspanToSet:n-1}))),i.filter((({row:e,rowspan:n})=>e<=t-1&&e+n>t)).forEach((({cell:t,rowspan:e})=>Vf("rowspan",e-1,t,n)));const a=t+1,c=new Hf(e,{includeSpanned:!0,startRow:a,endRow:a});let l;for(const{row:t,column:i,cell:r}of[...c])if(o.has(i)){const{cell:r,rowspanToSet:s}=o.get(i),a=l?n.createPositionAfter(l):n.createPositionAt(e.getChild(t),0);n.move(n.createRangeOn(r),a),Vf("rowspan",s,r,n),l=r}else l=r;n.remove(r)}}function _m(t,e,n){const i=t.getChild(e)||t.getChild(t.childCount-1);let o=i.getChild(0),r=0;for(const t of i.getChildren()){if(r>n)return o;o=t,r+=parseInt(t.getAttribute("colspan")||1)}return o}class vm extends Uc{refresh(){const t=Qf(this.editor.model.document.selection),e=t[0];if(e){const n=e.parent.parent,i=this.editor.plugins.get("TableUtils").getColumns(n),o=[...new Hf(n)].filter((e=>t.includes(e.cell))).map((t=>t.column)).sort(),r=o[0],s=o[o.length-1];this.isEnabled=s-r<i-1}else this.isEnabled=!1}execute(){const[t,e]=function(t){const e=Qf(t),n=e[0],i=e.pop(),o=[n,i];return n.isBefore(i)?o:o.reverse()}(this.editor.model.document.selection),n=t.parent.parent,i=[...new Hf(n)],o={first:i.find((e=>e.cell===t)).column,last:i.find((t=>t.cell===e)).column},r=function(t,e,n,i){return parseInt(n.getAttribute("colspan")||1)>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:i.first?t.reverse().find((({column:t})=>t<i.first)).cell:t.reverse().find((({column:t})=>t>i.last)).cell}(i,t,e,o);this.editor.model.change((t=>{t.setSelection(t.createRangeOn(n)),function(t,e,n){const i=t.getAttribute("headingColumns")||0;if(i&&e.first<=i){const o=Math.min(i-1,e.last)-e.first+1;n.setAttribute("headingColumns",i-o,t)}}(n,o,t);for(let e=o.last;e>=o.first;e--)for(const{cell:n,column:o,colspan:r}of i)if(o<=e&&r>1&&o+r>e)Vf("colspan",r-1,n,t);else if(o===e){const e=n.parent;t.remove(n),e.childCount||t.remove(e)}t.setSelection(t.createPositionAt(r,0))}))}}class ym extends Uc{refresh(){const t=Qf(this.editor.model.document.selection),e=t.length>0;this.isEnabled=e,this.value=e&&t.every((t=>this._isInHeading(t,t.parent.parent)))}execute(t={}){const e=this.editor.model,n=Qf(e.document.selection),i=n[0],o=n[n.length-1],r=i.parent.parent,s=r.getAttribute("headingRows")||0,[a,c]=[i.parent.index,o.parent.index].sort();if(t.forceValue===this.value)return;const l=this.value?a:c+1;e.change((t=>{if(l){const e=function(t,e,n){const i=[],o=new Hf(t,{startRow:e>n?n:0,endRow:e-1});for(const{row:t,rowspan:n,cell:r}of o)n>1&&t+n>e&&i.push(r);return i}(r,l,s);for(const n of e)xm(n,l,t)}Vf("headingRows",l,r,t,0)}))}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}function xm(t,e,n){const i=t.parent,o=i.parent,r=e-i.index,s={},a=parseInt(t.getAttribute("rowspan"))-r;a>1&&(s.rowspan=a);const c=parseInt(t.getAttribute("colspan")||1);c>1&&(s.colspan=c);const l=o.getChildIndex(i),d=l+r,h=[...new Hf(o,{startRow:l,endRow:d,includeSpanned:!0})];let u;for(const{row:e,column:i,cell:r,cellIndex:a}of h)if(r===t&&void 0===u&&(u=i),void 0!==u&&u===i&&e===d){const t=o.getChild(e),i=n.createPositionAt(t,a);zf(n,i,s)}Vf("rowspan",r,t,n)}class Am extends Uc{refresh(){const t=Qf(this.editor.model.document.selection),e=this.editor.plugins.get("TableUtils"),n=t.length>0;this.isEnabled=n,this.value=n&&t.every((t=>Bf(e,t)))}execute(t={}){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),i=Qf(e.document.selection),o=i[0],r=i[i.length-1],s=o.parent.parent,[a,c]=[n.getCellLocation(o).column,n.getCellLocation(r).column].sort();if(t.forceValue===this.value)return;const l=this.value?a:c+1;e.change((t=>{Vf("headingColumns",l,s,t,0)}))}}class Cm extends Lc{static get pluginName(){return"TableUtils"}getCellLocation(t){const e=t.parent,n=e.parent,i=n.getChildIndex(e),o=new Hf(n,{startRow:i,endRow:i});for(const{cell:e,row:n,column:i}of o)if(e===t)return{row:n,column:i}}createTable(t,e,n){const i=t.createElement("table");return Tm(t,i,0,e,n),i}insertRows(t,e={}){const n=this.editor.model,i=e.at||0,o=e.rows||1;n.change((e=>{const n=t.getAttribute("headingRows")||0;if(n>i&&e.setAttribute("headingRows",n+o,t),0===i||i===t.childCount)return void Tm(e,t,i,o,this.getColumns(t));const r=new Hf(t,{endRow:i});let s=0;for(const{row:t,rowspan:n,colspan:a,cell:c}of r){t<i&&t+n>i&&e.setAttribute("rowspan",n+o,c),t===i&&(s+=a)}Tm(e,t,i,o,s)}))}insertColumns(t,e={}){const n=this.editor.model,i=e.at||0,o=e.columns||1;n.change((e=>{const n=t.getAttribute("headingColumns");i<n&&e.setAttribute("headingColumns",n+o,t);const r=this.getColumns(t);if(0===i||r===i){for(const n of t.getChildren())Pm(o,e,e.createPositionAt(n,i?"end":0));return}const s=new Hf(t,{column:i,includeSpanned:!0});for(const{row:n,cell:r,cellIndex:a}of s){const c=parseInt(r.getAttribute("rowspan")||1),l=parseInt(r.getAttribute("colspan")||1);if(r.index!==i&&l>1){if(e.setAttribute("colspan",l+o,r),s.skipRow(n),c>1)for(let t=n+1;t<n+c;t++)s.skipRow(t)}else{const i=e.createPositionAt(t.getChild(n),a);Pm(o,e,i)}}}))}splitCellVertically(t,e=2){const n=this.editor.model,i=t.parent.parent,o=parseInt(t.getAttribute("rowspan")||1),r=parseInt(t.getAttribute("colspan")||1);n.change((n=>{if(r>1){const{newCellsSpan:i,updatedSpan:s}=Sm(r,e);Vf("colspan",s,t,n);const a={};i>1&&(a.colspan=i),o>1&&(a.rowspan=o),Pm(r>e?e-1:r-1,n,n.createPositionAfter(t),a)}if(r<e){const s=e-r,a=[...new Hf(i)],{column:c}=a.find((({cell:e})=>e===t)),l=a.filter((({cell:e,colspan:n,column:i})=>e!==t&&i===c||i<c&&i+n>c));for(const{cell:t,colspan:e}of l)n.setAttribute("colspan",e+s,t);const d={};o>1&&(d.rowspan=o),Pm(s,n,n.createPositionAfter(t),d);const h=i.getAttribute("headingColumns")||0;h>c&&Vf("headingColumns",h+s,i,n)}}))}splitCellHorizontally(t,e=2){const n=this.editor.model,i=t.parent,o=i.parent,r=o.getChildIndex(i),s=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change((n=>{if(s>1){const i=[...new Hf(o,{startRow:r,endRow:r+s-1,includeSpanned:!0})],{newCellsSpan:c,updatedSpan:l}=Sm(s,e);Vf("rowspan",l,t,n);const{column:d}=i.find((({cell:e})=>e===t)),h={};c>1&&(h.rowspan=c),a>1&&(h.colspan=a);for(const{column:t,row:e,cellIndex:s}of i){if(e>=r+l&&t===d&&(e+r+l)%c==0){const t=n.createPositionAt(o.getChild(e),s);Pm(1,n,t,h)}}}if(s<e){const i=e-s,c=[...new Hf(o,{startRow:0,endRow:r})];for(const{cell:e,rowspan:o,row:s}of c)if(e!==t&&s+o>r){const t=o+i;n.setAttribute("rowspan",t,e)}const l={};a>1&&(l.colspan=a),Tm(n,o,r+1,i,1,l);const d=o.getAttribute("headingRows")||0;d>r&&Vf("headingRows",d+i,o,n)}}))}getColumns(t){return[...t.getChild(0).getChildren()].reduce(((t,e)=>t+parseInt(e.getAttribute("colspan")||1)),0)}getRows(t){return t.childCount}}function Tm(t,e,n,i,o,r={}){for(let s=0;s<i;s++){const i=t.createElement("tableRow");t.insert(i,e,n),Pm(o,t,t.createPositionAt(i,"end"),r)}}function Pm(t,e,n,i={}){for(let o=0;o<t;o++)zf(e,n,i)}function Sm(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}function Mm(t,e){let n=!1;const i=function(t){const e=parseInt(t.getAttribute("headingRows")||0),n=t.childCount,i=[];for(const{row:o,rowspan:r,cell:s}of new Hf(t)){if(r<2)continue;const t=o<e?e:n;if(o+r>t){const e=t-o;i.push({cell:s,rowspan:e})}}return i}(t);if(i.length){n=!0;for(const t of i)Vf("rowspan",t.rowspan,t.cell,e,1)}return n}function Em(t,e){let n=!1;const i=function(t){const e={};for(const{row:n}of new Hf(t,{includeSpanned:!0}))e[n]||(e[n]=0),e[n]+=1;return e}(t),o=i[0];if(!Object.values(i).every((t=>t===o))){const o=Object.values(i).reduce(((t,e)=>e>t?e:t),0);for(const[r,s]of Object.entries(i)){const i=o-s;if(i){for(let n=0;n<i;n++)zf(e,e.createPositionAt(t.getChild(r),"end"));n=!0}}}return n}function Im(t){const e="attribute"===t.type,n=t.attributeKey;return e&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function Nm(t,e){let n=!1;for(const i of t.getChildren())n=Om(i,e)||n;return n}function Om(t,e){let n=!1;for(const i of t.getChildren())n=Rm(i,e)||n;return n}function Rm(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter((t=>t.is("text")));for(const t of n)e.wrap(e.createRangeOn(t),"paragraph");return!!n.length}function Dm(t){return!(!t.position||!t.position.parent.is("tableCell"))&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function Lm(t,e){if(!Array.from(t.getChildren()).some((t=>t.is("paragraph"))))return!1;if("attribute"==e){const e=Array.from(t.getChild(0).getAttributeKeys()).length;return 1===t.childCount&&e<2}return t.childCount<=("insert"==e?2:1)}n(84);class jm extends Lc{static get pluginName(){return"TableEditing"}init(){const t=this.editor,e=t.model,n=e.schema,i=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck(((t,e)=>{if("table"==e.name&&Array.from(t.getNames()).includes("table"))return!1})),i.for("upcast").add((t=>{t.on("element:table",((t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:o,headingRows:r,headingColumns:s}=function(t){const e={headingRows:0,headingColumns:0},n=[],i=[];let o;for(const r of Array.from(t.getChildren()))if("tbody"===r.name||"thead"===r.name||"tfoot"===r.name){"thead"!==r.name||o||(o=r);const t=Array.from(r.getChildren()).filter((t=>t.is("element","tr")));for(const r of t)if("thead"===r.parent.name&&r.parent===o)e.headingRows++,n.push(r);else{i.push(r);const t=Uf(r);t>e.headingColumns&&(e.headingColumns=t)}}return e.rows=[...n,...i],e}(i),a={};s&&(a.headingColumns=s),r&&(a.headingRows=r);const c=n.writer.createElement("table",a),l=n.splitToAllowedParent(c,e.modelCursor);if(l){if(n.writer.insert(c,l.position),n.consumable.consume(i,{name:!0}),o.length)o.forEach((t=>n.convertItem(t,n.writer.createPositionAt(c,"end"))));else{const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(c,"end")),zf(n.writer,n.writer.createPositionAt(t,"end"))}e.modelRange=n.writer.createRange(n.writer.createPositionBefore(c),n.writer.createPositionAfter(c)),l.cursorParent?e.modelCursor=n.writer.createPositionAt(l.cursorParent,0):e.modelCursor=e.modelRange.end}}))})),i.for("editingDowncast").add(Jf({asWidget:!0})),i.for("dataDowncast").add(Jf()),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("editingDowncast").add(Zf({asWidget:!0})),i.for("dataDowncast").add(Zf()),i.for("downcast").add((t=>t.on("remove:tableRow",((t,e,n)=>{t.stop();const i=n.writer,o=n.mapper,r=o.toViewPosition(e.position).getLastMatchingPosition((t=>!t.item.is("tr"))).nodeAfter,s=r.parent,a=i.createRangeOn(r),c=i.remove(a);for(const t of i.createRangeIn(c).getItems())o.unbindViewElement(t);s.childCount||i.remove(i.createRangeOn(s))}),{priority:"higher"}))),i.for("upcast").add(Ff("td")),i.for("upcast").add(Ff("th")),i.for("editingDowncast").add(Xf({asWidget:!0})),i.for("dataDowncast").add(Xf()),i.attributeToAttribute({model:"colspan",view:"colspan"}),i.attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("editingDowncast").add(em({asWidget:!0})),i.for("dataDowncast").add(em()),i.for("editingDowncast").add(tm({asWidget:!0})),i.for("dataDowncast").add(tm()),t.commands.add("insertTable",new fm(t)),t.commands.add("insertTableRowAbove",new mm(t,{order:"above"})),t.commands.add("insertTableRowBelow",new mm(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new gm(t,{order:"left"})),t.commands.add("insertTableColumnRight",new gm(t,{order:"right"})),t.commands.add("removeTableRow",new km(t)),t.commands.add("removeTableColumn",new vm(t)),t.commands.add("splitTableCellVertically",new pm(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new pm(t,{direction:"horizontally"})),t.commands.add("mergeTableCellRight",new bm(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new bm(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new bm(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new bm(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Am(t)),t.commands.add("setTableRowHeader",new ym(t)),function(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.differ.getChanges();let i=!1;const o=new Set;for(const e of n){let n;"table"==e.name&&"insert"==e.type&&(n=e.position.nodeAfter),"tableRow"!=e.name&&"tableCell"!=e.name||(n=jf("table",e.position)),Im(e)&&(n=jf("table",e.range.start)),n&&!o.has(n)&&(i=Mm(n,t)||i,i=Em(n,t)||i,o.add(n))}return i}(e,t)))}(e),function(t){t.document.registerPostFixer((()=>function(t){const e=t.document.differ,n=new Set;for(const t of e.getChanges()){const e="insert"==t.type||"remove"==t.type?t.position.parent:t.range.start.parent;e.is("tableCell")&&Lm(e,t.type)&&n.add(e)}if(n.size){for(const t of n.values())e.refreshItem(t);return!0}return!1}(t)))}(e),function(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.differ.getChanges();let i=!1;for(const e of n)"insert"==e.type&&"table"==e.name&&(i=Nm(e.position.nodeAfter,t)||i),"insert"==e.type&&"tableRow"==e.name&&(i=Om(e.position.nodeAfter,t)||i),"insert"==e.type&&"tableCell"==e.name&&(i=Rm(e.position.nodeAfter,t)||i),Dm(e)&&(i=Rm(e.position.parent,t)||i);return i}(e,t)))}(e),this.editor.keystrokes.set("Tab",((...t)=>this._handleTabOnSelectedTable(...t)),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[Cm]}_handleTabOnSelectedTable(t,e){const n=this.editor,i=n.model.document.selection;if(!i.isCollapsed&&1===i.rangeCount&&i.getFirstRange().isFlat){const t=i.getSelectedElement();if(!t||!t.is("table"))return;e(),n.model.change((e=>{e.setSelection(e.createRangeIn(t.getChild(0).getChild(0)))}))}}_getTabHandler(t){const e=this.editor;return(n,i)=>{const o=Gf(e.model.document.selection)[0];if(!o)return;i();const r=o.parent,s=r.parent,a=s.getChildIndex(r),c=r.getChildIndex(o),l=0===c;if(!t&&l&&0===a)return;const d=c===r.childCount-1,h=a===s.childCount-1;if(t&&h&&d&&(e.execute("insertTableRowBelow"),a===s.childCount-1))return;let u;if(t&&d){const t=s.getChild(a+1);u=t.getChild(0)}else if(!t&&l){const t=s.getChild(a-1);u=t.getChild(t.childCount-1)}else u=r.getChild(c+(t?1:-1));e.model.change((t=>{t.setSelection(t.createRangeIn(u))}))}}}n(86);class Vm extends Za{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((t,e)=>`${e} Ă ${t}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to((t=>{t.preventDefault()})),click:e.to((()=>{this.fire("execute")}))}});for(let t=0;t<100;t++){const e=new zm;e.on("over",(()=>{const e=Math.floor(t/10),n=t%10;this.set("rows",e+1),this.set("columns",n+1)})),this.items.add(e)}this.on("change:columns",(()=>{this._highlightGridBoxes()})),this.on("change:rows",(()=>{this._highlightGridBoxes()}))}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map(((n,i)=>{const o=Math.floor(i/10)<t&&i%10<e;n.set("isOn",o)}))}}class zm extends Za{constructor(t){super(t);const e=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")]},on:{mouseover:e.to("over")}})}}class Bm extends Lc{init(){const t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(n=>{const i=t.commands.get("insertTable"),o=Sc(n);let r;return o.bind("isEnabled").to(i),o.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("m"),tooltip:!0}),o.on("change:isOpen",(()=>{r||(r=new Vm(n),o.panelView.children.add(r),r.delegate("execute").to(o),o.buttonView.on("open",(()=>{r.rows=0,r.columns=0})),o.on("execute",(()=>{t.execute("insertTable",{rows:r.rows,columns:r.columns}),t.editing.view.focus()})))})),o})),t.ui.componentFactory.add("tableColumn",(t=>{const i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("n"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("o")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("p")}},{type:"button",model:{commandName:"removeTableColumn",label:e("q")}}];return this._prepareDropdown(e("r"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,t)})),t.ui.componentFactory.add("tableRow",(t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("s"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:e("t")}},{type:"button",model:{commandName:"insertTableRowAbove",label:e("u")}},{type:"button",model:{commandName:"removeTableRow",label:e("v")}}];return this._prepareDropdown(e("w"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,t)})),t.ui.componentFactory.add("mergeTableCells",(t=>{const i=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("x")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("y")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("z")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("aa")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("ab")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("ac")}}];return this._prepareDropdown(e("ad"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,t)}))}_prepareDropdown(t,e,n,i){const o=this.editor,r=Sc(i),s=[],a=new Re;for(const t of n)Fm(t,o,s,a);return Mc(r,a,o.ui.componentFactory),r.buttonView.set({label:t,icon:e,tooltip:!0}),r.bind("isEnabled").toMany(s,"isEnabled",((...t)=>t.some((t=>t)))),this.listenTo(r,"execute",(t=>{o.execute(t.source.commandName),o.editing.view.focus()})),r}}function Fm(t,e,n,i){const o=t.model=new lu(t.model),{commandName:r,bindIsOn:s}=t.model;if("button"===t.type||"switchbutton"===t.type){const t=e.commands.get(r);n.push(t),o.set({commandName:r}),o.bind("isEnabled").to(t),s&&o.bind("isOn").to(t,"value")}o.set({withText:!0}),i.add(t)}class Um extends So{constructor(t){super(t),this.domEventType=["mousemove","mouseup","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}n(88);class Hm extends Lc{static get pluginName(){return"TableSelection"}static get requires(){return[Cm]}init(){const t=this.editor,e=t.model;this.listenTo(e,"deleteContent",((t,e)=>this._handleDeleteContent(t,e)),{priority:"high"}),t.editing.view.addObserver(Um),this._defineSelectionConverter(),this._enableShiftClickSelection(),this._enableMouseDragSelection()}getSelectedTableCells(){const t=$f(this.editor.model.document.selection);return 0==t.length?null:t}getSelectionAsFragment(){const t=this.getSelectedTableCells();return t?this.editor.model.change((e=>{const n=e.createDocumentFragment(),i=function(t,e,n){const i=Array.from(t),o=i[0],r=i[i.length-1],{row:s,column:a}=e.getCellLocation(o),c=function(t,e,n,i){const o=n.createElement("table"),r=new Map,s=new Map;for(const e of t){const t=jf("tableRow",e);if(!r.has(t)){const e=t._clone();n.append(e,o),r.set(t,e)}const a=e._clone(!0),{column:c}=i.getCellLocation(e);s.set(a,c),n.append(a,r.get(t))}return function(t,e,n,i,o){for(const r of t.getChildren())for(const t of Array.from(r.getChildren())){const{column:r}=o.getCellLocation(t),s=n.get(t)-e;if(r!==s)for(let e=0;e<s-r;e++){const e=i.createElement("tableCell");i.insert(e,i.createPositionBefore(t));const n=i.createElement("paragraph");i.insert(n,e,0),i.insertText("",n,0)}}}(o,e,s,n,i),o}(i,a,n,e),{row:l,column:d}=e.getCellLocation(r);return function(t,e,n,i,o){for(const r of t.getChildren())for(const t of r.getChildren()){const r=parseInt(t.getAttribute("colspan")||1),s=parseInt(t.getAttribute("rowspan")||1),{row:a,column:c}=o.getCellLocation(t);if(c+r>e){const n=e-c;n>1?i.setAttribute("colspan",n,t):i.removeAttribute("colspan",t)}if(a+s>n){const e=n-a;e>1?i.setAttribute("rowspan",e,t):i.removeAttribute("rowspan",t)}}}(c,d-a+1,l-s+1,n,e),function(t,e,n,i,o){const r=parseInt(e.getAttribute("headingRows")||0);if(r>0){const e=r-n;o.setAttribute("headingRows",e,t)}const s=parseInt(e.getAttribute("headingColumns")||0);if(s>0){const e=s-i;o.setAttribute("headingColumns",e,t)}}(c,jf("table",o),s,a,n),c}(t,this.editor.plugins.get("TableUtils"),e);return e.insert(i,n,0),n})):null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add((t=>t.on("selection",((t,n,i)=>{const o=i.writer;!function(t){for(const n of e)t.removeClass("ck-editor__editable_selected",n);e.clear()}(o);const r=this.getSelectedTableCells();if(!r)return;for(const t of r){const n=i.mapper.toViewElement(t);o.addClass("ck-editor__editable_selected",n),e.add(n)}const s=i.mapper.toViewElement(r[r.length-1]);o.setSelection(s,0)}),{priority:"lowest"})))}_enableShiftClickSelection(){const t=this.editor;let e=!1;this.listenTo(t.editing.view.document,"mousedown",((n,i)=>{if(!this.isEnabled)return;if(!i.domEvent.shiftKey)return;const o=Gf(t.model.document.selection)[0];if(!o)return;const r=this._getModelTableCellFromDomEvent(i);r&&qm(o,r)&&(e=!0,this._setCellSelection(o,r),i.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{e=!1})),this.listenTo(t.editing.view.document,"selectionChange",(t=>{e&&t.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,i=!1,o=!1;this.listenTo(t.editing.view.document,"mousedown",((t,n)=>{this.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(n)))})),this.listenTo(t.editing.view.document,"mousemove",((t,r)=>{if(!r.domEvent.buttons)return;if(!e)return;const s=this._getModelTableCellFromDomEvent(r);s&&qm(e,s)&&(n=s,i||n==e||(i=!0)),i&&(o=!0,this._setCellSelection(e,n),r.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{i=!1,o=!1,e=null,n=null})),this.listenTo(t.editing.view.document,"selectionChange",(t=>{o&&t.stop()}),{priority:"highest"})}_handleDeleteContent(t,e){const[n,i]=e,o=this.editor.model,r=!i||"backward"==i.direction,s=$f(n);s.length&&(t.stop(),o.change((t=>{const e=s[r?s.length-1:0];o.change((t=>{for(const e of s)o.deleteContent(t.createSelection(e,"in"))}));const i=o.schema.getNearestSelectionRange(t.createPositionAt(e,0));i&&(n.is("documentSelection")?t.setSelection(i):n.setTo(i))})))}_setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change((t=>{t.setSelection(n.cells.map((e=>t.createRangeOn(e))),{backward:n.backward})}))}_getModelTableCellFromDomEvent(t){const e=t.target,n=this.editor.editing.view.createPositionAt(e,0),i=this.editor.editing.mapper.toModelPosition(n).parent;if(i)return i.is("tableCell")?i:jf("tableCell",i)}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(t),o=n.getCellLocation(e),r=Math.min(i.row,o.row),s=Math.max(i.row,o.row),a=Math.min(i.column,o.column),c=Math.max(i.column,o.column),l=[];for(const e of new Hf(jf("table",t),{startRow:r,endRow:s}))e.column>=a&&e.column<=c&&l.push(e.cell);return function(t,e){return t.row>e.row||t.row==e.row&&t.column>e.column}(i,o)?{cells:l.reverse(),backward:!0}:{cells:l,backward:!1}}}function qm(t,e){return t.parent.parent==e.parent.parent}class Wm extends Lc{static get pluginName(){return"TableClipboard"}static get requires(){return[Hm]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"copy",((t,e)=>this._onCopyCut(t,e))),this.listenTo(t,"cut",((t,e)=>this._onCopyCut(t,e)))}_onCopyCut(t,e){const n=this.editor.plugins.get("TableSelection");if(!n.getSelectedTableCells())return;if("cut"==t.name&&this.editor.isReadOnly)return;e.preventDefault(),t.stop();const i=this.editor.data,o=this.editor.editing.view.document,r=i.toView(n.getSelectionAsFragment());o.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:r,method:t.name})}}n(90);class Ym{constructor(t,e){this.model=t,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))})),this._startListening()}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",((e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))})),this.listenTo(t,"change:data",((t,e)=>{"transparent"!=e.type&&this._evaluateTextBeforeSelection("data",{batch:e})}))}_evaluateTextBeforeSelection(t,e={}){const n=this.model,i=n.document.selection,o=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),{text:r,range:s}=Bl(o,n),a=this.testCallback(r);if(!a&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!a,a){const n=Object.assign(e,{text:r,range:s});"object"==typeof a&&Object.assign(n,a),this.fire(`matched:${t}`,n)}}}Oe(Ym,Hn);var $m=/[\\^$.*+?()[\]{}|]/g,Gm=RegExp($m.source);const Qm={copyright:{from:"(c)",to:"ÂŠ"},registeredTrademark:{from:"(r)",to:"ÂŽ"},trademark:{from:"(tm)",to:"â˘"},oneHalf:{from:"1/2",to:"Â˝"},oneThird:{from:"1/3",to:"â"},twoThirds:{from:"2/3",to:"â"},oneForth:{from:"1/4",to:"Âź"},threeQuarters:{from:"3/4",to:"Âž"},lessThanOrEqual:{from:"<=",to:"â¤"},greaterThanOrEqual:{from:">=",to:"âĽ"},notEqual:{from:"!=",to:"â "},arrowLeft:{from:"<-",to:"â"},arrowRight:{from:"->",to:"â"},horizontalEllipsis:{from:"...",to:"âŚ"},enDash:{from:/(^| )(--)( )$/,to:[null,"â",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"â",null]},quotesPrimary:{from:eg('"'),to:[null,"â",null,"â"]},quotesSecondary:{from:eg("'"),to:[null,"â",null,"â"]},quotesPrimaryEnGb:{from:eg("'"),to:[null,"â",null,"â"]},quotesSecondaryEnGb:{from:eg('"'),to:[null,"â",null,"â"]},quotesPrimaryPl:{from:eg('"'),to:[null,"â",null,"â"]},quotesSecondaryPl:{from:eg("'"),to:[null,"â",null,"â"]}},Km={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Jm=["symbols","mathematical","typography","quotes"];function Zm(t){return"string"==typeof t?new RegExp(`(${function(t){return(t=an(t))&&Gm.test(t)?t.replace($m,"\\$&"):t}(t)})$`):t}function Xm(t){return"string"==typeof t?()=>[t]:t instanceof Array?()=>t:t}function tg(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function eg(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}class ng extends Dc{}ng.builtinPlugins=[class extends Lc{static get requires(){return[Fc,Gc,Zc,hl,Il]}static get pluginName(){return"Essentials"}},jl,class extends Lc{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&new zl(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new zl(this.editor,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=Hl(this.editor,"bold");new Fl(this.editor,/(\*\*)([^*]+)(\*\*)$/g,t),new Fl(this.editor,/(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=Hl(this.editor,"italic");new Fl(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,t),new Fl(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=Hl(this.editor,"code");new Fl(this.editor,/(`)([^`]+)(`)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter((t=>t.match(/^heading[1-6]$/))).forEach((e=>{const n=e[7],i=new RegExp(`^(#{${n}})\\s$`);new zl(this.editor,i,(()=>{if(!t.isEnabled)return!1;this.editor.execute("heading",{value:e})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new zl(this.editor,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&new zl(this.editor,/^```$/,"codeBlock")}},class extends Lc{static get requires(){return[Wl,Yl]}static get pluginName(){return"Bold"}},class extends Lc{static get requires(){return[$l,Gl]}static get pluginName(){return"Italic"}},class extends Lc{static get requires(){return[td,ed]}static get pluginName(){return"BlockQuote"}},class extends Lc{static get pluginName(){return"CKFinder"}static get requires(){return[ih,nd,jl]}},class extends Lc{static get requires(){return[dh,jh,tu]}static get pluginName(){return"EasyImage"}},class extends Lc{static get requires(){return[cu,du]}static get pluginName(){return"Heading"}},jh,class extends Lc{static get requires(){return[fu]}static get pluginName(){return"ImageCaption"}},class extends Lc{static get requires(){return[Su,Mu]}static get pluginName(){return"ImageStyle"}},class extends Lc{static get requires(){return[Eu]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.t;t.plugins.get(Eu).register("image",{ariaLabel:e("b"),items:t.config.get("image.toolbar")||[],getRelatedElement:md})}},tu,class extends Lc{static get pluginName(){return"Indent"}static get requires(){return[Ru,ju]}},class extends Lc{static get requires(){return[Xd,Fu]}static get pluginName(){return"Link"}},class extends Lc{static get requires(){return[ff,gf]}static get pluginName(){return"List"}},class extends Lc{static get requires(){return[Af,Sf,Tf,mh]}static get pluginName(){return"MediaEmbed"}},iu,class extends Lc{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Fc]}init(){const t=this.editor,e=[];e.push(new Lf),e.push(new Nf(t.editing.view.document)),t.plugins.get("Clipboard").on("inputTransformation",((t,n)=>{if(n.isTransformedWithPasteFromOffice)return;const i=n.dataTransfer.getData("text/html"),o=e.find((t=>t.isActive(i)));o&&(o.execute(n),n.isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}},class extends Lc{static get requires(){return[jm,Bm,Hm,Wm,mh]}static get pluginName(){return"Table"}},class extends Lc{static get requires(){return[Eu]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(Eu),i=t.config.get("table.contentToolbar"),o=t.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:e("c"),items:i,getRelatedElement:Yf}),o&&n.register("table",{ariaLabel:e("c"),items:o,getRelatedElement:Wf})}},class extends Lc{static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:Jm}})}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Input"),i=function(t){const e=t.extra||[],n=t.remove||[],i=t=>!n.includes(t);return function(t){const e=new Set;for(const n of t)if(Km[n])for(const t of Km[n])e.add(t);else e.add(n);return Array.from(e)}(t.include.concat(e).filter(i)).filter(i).map((t=>Qm[t]||t)).map((t=>({from:Zm(t.from),to:Xm(t.to)})))}(t.config.get("typing.transformations")),o=new Ym(t.model,(t=>{for(const e of i)if(e.from.test(t))return{normalizedTransformation:e}}));o.on("matched:data",((t,i)=>{if(!n.isInput(i.batch))return;const{from:o,to:r}=i.normalizedTransformation,s=o.exec(i.text),a=r(s.slice(1)),c=i.range;let l=s.index;e.enqueueChange((t=>{for(let n=1;n<s.length;n++){const i=s[n],o=a[n-1];if(null==o){l+=i.length;continue}const r=c.start.getShiftedBy(l),d=e.createRange(r,r.getShiftedBy(i.length)),h=tg(r);e.insertContent(t.createText(o,h),d),l+=o.length}}))})),o.bind("isEnabled").to(this)}}],ng.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default}));
if(!jSuites&&"function"==typeof require)var jSuites=require("jsuites");var _$_33a9=["use strict","7.12.3","https://jspreadsheet.com/","worksheets","cloud","options","init","loadSocket","isArray","length","push","pending","function","JEXCEL: el is not a valid DOM element","error","tagName","TABLE","createFromTable","helpers","div","createElement","insertBefore","parentNode","remove","el","worksheet","corner","contextMenu","textarea","content","table","thead","tbody","rows","results","toolbar","pagination","pageNumber","horizontalView","headerContainer","colgroupContainer","progress","plugins","helper","headers","records","borders","history","formula","colgroup","selectedCell","cursor","historyIndex","historyGroup","ignoreCloud","ignoreEvents","ignoreHistory","ignorePersistance","edition","sequence","element","textAlign","style","right","fontSize","10px","pointer","onclick","href","location","v7","host","run","label","k","","join","apply","sha512","charCodeAt","fromCharCode","result","undefined","license","atob",",","split","parse","date","getTime","plan","licenseTo","name"," (Expired)","hostname","localhost",".","isNumeric","indexOf","domain","jexcel","getItem","setItem","img","src","logo.png","display","none","appendChild","innerText","License required","A valid license is required","A new license is required","Your license is expired","createTextNode","status","isEditable","getConfig","setConfig","keys","substring","on","columnDrag","draggable","add","classList","columnResize","resizable","rowDrag","rowResize","filters","jexcel_filters_icon","jexcel_filters_icon_active","columns","hideToolbar","showToolbar","minDimensions","insertColumn","insertRow","dispatchMethod","loadConfig","Jspreadsheet Pro","center","700px","No records found","Showing page {0} of {1} entries","Show ","Search"," entries","Column name","Change column type","Insert a new column before","Insert a new column after","Delete selected columns","Rename this column","Order ascending","Order descending","Insert a new row before","Insert a new row after","Delete selected rows","Edit comments","Add comments","Comments","Clear comments","Copy","Paste","Save as","About","Are you sure to delete the selected rows?","Are you sure to delete the selected columns?","This action will destroy any existing merged cells. Are you sure?","This action will clear your search results. Are you sure?","There is a conflict with another merged cell","Invalid merged properties","Cell already merged","No cells selected","Rename this worksheet","Delete this worksheet","Are you sure to delete this worksheet?","It was not possible to rename worksheet due conflict name","Cut","Hide","Unhide","Select All","Blanks","hasOwnProperty","text","defaultcontextMenu","lazyLoading","tableOverflow","fullscreen","JEXCEL: The lazyLoading only works when tableOverflow = yes or fullscreen = yes","lazyColumns","freezeColumns","JEXCEL: The lazyColums is not compatible with freezeColumns, it has been disabled.","footers","JEXCEL: The lazyColums is not compatible with footers, it has been disabled.","secureFormulas","JEXCEL ALERT: secureFormulas is set to false.","log","setPlugins","jtabs","contains","tabs","createWorksheet","openWorksheet","moveWorksheet","allowMoveWorksheet","className","jexcel_textarea","tabIndex","-1","jexcel_contextmenu","close","contextmenu","create","filter","jexcel_helper","jexcel_container","children","lastChild","worksheetName","Sheet ","nextNumber","getWorksheetName","appendElement","jexcel_worksheet","with-tabs","save","onbeforesave","dispatch","setProgress","POST","json","stringify","Authorization","Bearer ","setRequestHeader","disconected","message","application","isVisible","notification","Jspreadsheet Pro: ","success","data","value","updateCells","Sorry, something went wrong, refreshing your spreadsheet...","_top","open","onsave","ajax","prepare","setData","getData","setValue","setFormula","prepareJson","setWidth","setHeight","setHeader","setMerge","removeMerge","destroyMerged","setMeta","setStyle","resetStyle","setComments","orderBy","moveRow","deleteRow","moveColumn","deleteColumn","updateNestedHeader","setProperty","setFooter","resetFooter","renameWorksheet","deleteWorksheet","emit","persistance","url","onevent","call","slice","prototype","prepareTable","type","autocomplete","dropdown","editor","title","colHeaders","width","colWidths","defaultColWidth","source","GET","index","createTable","jexcel_content","wheel","scrollControls","addEventListener","scroll","jexcel_toolbar","search","paginationOptions","paginationDropdown","select","jexcel_pagination_dropdown","onchange","page","option","innerHTML","show","entries","jexcel_filter","col","50","setAttribute","nestedHeaders","createNestedHeader","JEXCEL: There is an error in the nestedHeaders init.","tr","td","jexcel_selectall","createCellHeader","lazyNumber","cellpadding","0","cellspacing","unselectable","yes","textOverflow","jexcel_overflow","jexcel_corner","onselectstart","return false","selectionCopy","jexcel_table","jexcel_pagination","jexcel_progress_container","jexcel_progress","tableHeight","overflow-y","auto","maxHeight","boxShadow","2px 2px 5px 0.1px #ddd","tableWidth","overflow-x","maxWidth","tableOverflowResizable","resize","both","mergeCells","meta","comments","onload","editable","refresh","loadingSpin","loading","hide","parseData","row","getPrimaryKey","id","string","JEXCEL: Pagination will be disable due the lazyLoading","appendRow","updatePagination","updateTable","updateTableMandatoryDimensions","getHighlighted","getJson","getJsonRow","primaryKey","byName","get","set","getColumnIdByName","getColumn","setColumn","getNextSequence","getById","getRowId","setRowId","onchangerowid","x","y","newValue","newStyle","getRowData","setRowData","getColumnData","setColumnData","createRow","data-y","height","jexcel_row","createCell","data-x","getAttribute","renderRow","removeChild","applyCellProperies","getEditor","applyCellValues","=","secureFormula","v","cache","getColumnNameFromId","align","defaultColAlign","wordWrap","whiteSpace","pre-wrap","readOnly","readonly","overflow","hidden","getColumnOptions","cells","editors","getType","getProperties","setType","JEXCEL: Column does not exists.","closeEditor","destroyCell","data-title","tooltip","refreshBorders","setHistory","getColumnName","stripHTML","colspan","jexcel_nested","data-nested-x","data-nested-y","getNestedColumns","plugin","JEXCEL: All plugins must have name and plugin properties defined","JEXCEL: Plugin is already defined: ","Plugin not found: ","object","items","defaultToolbar","getSelected","color","i","with-toolbar","merge","range",":","shiftFormula","verify","getCoordsFromColumnName","getColumnNameFromCoords","Merged cells are not available with lazyloading","Merged cells are not available with pagination","Merged cells are not available with search mode active","noCellsSelected","invalidMergeProperties","applyDestroy","thereIsAConflictWithAnotherMergedCell","applyCreate","updateSelectionFromCoords","onmerge","updateRange","getTokensFromRange","getRangeFromTokens","destroy","isMerged","removeAttribute","rowspan","getMerge","isColMerged","isRowMerged","openEditor","oneditionstart","oncreateeditor","internationalKeyboard","childNodes","onblur","oneditionend","jexcel_editor","getCell","getIdFromColumnName","getCellFromCoords","Not yet in the DOM due lazyloading, searching or pagination","getLabel","getLabelFromCoords","getValue","getValueFromCoords","force","updateCell","onafterchanges","setValueFromCoords","setCheckRadioValue","checkbox","onbeforechange","oldValue","setBorder","jexcel_border","copying","jexcel_border_copying","cloning","jexcel_border_cloning","main","jexcel_border_main","randomColor","borderColor","#","toString","doubleDigitFormat","backgroundColor","15","x1","y1","x2","y2","top","-2000px","left","active","firstChild","borderLeftWidth","0px","borderRightWidth","borderTopWidth","borderBottomWidth","visible","getBoundingClientRect","scrollLeft","scrollTop","getFreezeWidth","jexcel_freezed","px","t","l","w","h","addSelectionStyle","resetBorders","removeSelectionStyle","jexcel_cursor","selected","resetSelection","updateSelection","onfocus","onselection","focus","removeCopySelection","updateCopySelection","getWidth","onresizecolumn","getHeight","onresizerow","tfoot","substr","parseFormulas","executeFormula","onbeforecreateworksheet","worksheetId","guid","oncreateworksheet","toUpperCase"," ","replace","deleteElement","splice","ondeleteworksheet","itWasNotPossibleToRenameWorksheetDueConflictName","rename","onrenameworksheet","nextSibling","onmoveworksheet","current","jexcel_worksheet_","onopenworksheet","getWorksheet","getWorksheetActive","getActive","getWorksheetInstance","getHeader","columnName","onchangeheader","getHeaders","csvDelimiter","getCells","setCells","getMeta","JEXCEL:","No meta key defined","JEXCEL: column not found: ","onchangemeta","getStyle","No cell provided","onresetstyle",";","trim","; ",": ","onchangestyle","getComments","oncomments","arrow-down","percent","autonumber","progressbar","rating","calendar","radio","number","numeric","toLowerCase","sort","onbeforesort","thisActionWillDestroyAnyExistingMergedCellsAreYouSure","updateOrder","updateOrderArrow","onsort","arrow-up","updateTableReferences","input","reset","values","formulas","thisActionWillClearYourSearchResultsAreYouSure","update","onmoverow","allowInsertRow","JEXCEL: Insert row is not enabled in the table configuration","JEXCEL: Reset filter & search for adding a new row","standardize","onbeforeinsertrow","onbeforeinsertrow returned false","concat","oninsertrow","allowDeleteRow","JEXCEL: Delete row is not enabled in the table configuration","getSelectedRows","JEXCEL: it is not possible to delete the last row","onbeforedeleterow","onbeforedeleterow returned false","getChainFormulas","whichPage","ondeleterow","onmovecolumn","allowInsertColumn","JEXCEL: Insert column is not enabled in the table configuration","onbeforeinsertcolumn","onbeforeinsertcolumn returned false","injectArray","oninsertcolumn","allowDeleteColumn","JEXCEL: Delete column is not enabled in the table configuration","getSelectedColumns","JEXCEL: it is not possible to delete the last column","onbeforedeletecolumn","onbeforedeletecolumn returned false","ondeletecolumn","isSelected","getCellsFromCoords","updatePropertyReferencies","updateFormulas","minSpareRows","minSpareCols","isReadOnly","setReadOnly","showRow","hideRow","showColumn","hideColumn","showIndex","jexcel_hidden_index","hideIndex","getTokens","Something went wrong","updateFormula","!","#LOOP","Reference loop detected","[","]","match","#SELF","Self Reference detected","#ERROR","Table does not exist or is not loaded yet","autoCasting","decimal","parseType","COLUMN","ROW","CELL","VALUE","THISROWCELL","TRUE","FALSE","NULL","var "," = ",";\n","!=","+","; return ","debugFormulas","ignore","selectAll","JEXCEL: No pagination defined","ceil","quantityOfPages","JEXCEL pagination not defined","onbeforechangepage","updateFreezePosition","onchangepage","onlazyloading","goto","offsetTop","offsetHeight","pageHorizontal","noRecordsFound","jexcel_page","<","jexcel_page_selected",">","showingPage","copyData","autoIncrement","getDate","setDate","getFullYear","-","getMonth","00:00:00","applyPaste","email","\t",'"',"g",'""',"\r\n","download","copyCompatibility","allowExport","Export not allowed","includeHeadersOnDownload","\ufeff","text/csv;charset=utf-8;","navigator","msSaveOrOpenBlob","csvFileName",".csv","a","createObjectURL","body","click","cut","copy","clear","oncopy","clipboard","execCommand","then","writeText","paste","hash","onbeforepaste","parseCSV","setHistoryGroup","forceUpdateOnPaste","onpaste","setCellAttributes","undo","action","rowNumber","numOfRows","attributes","columnNumber","numOfColumns","properties","info","column","direction","oldStyle","f","selection","onundo","redo","onredo","\r","\n","resizingColumn","mousePosition","columnId","start","end","cancel","draggingColumn","destination","JEXCEL: This column is part of a merged cell.","jexcel_dragging","block","1px","jexcel_helper_col","resizingRow","rowId","draggingRow","JEXCEL: This row is part of a merged cell","JEXCEL: Please clear your search before perform this action","51px","jexcel_helper_row","JEXCEL: This row is part of a merged cell.","bottom","gi","onbeforesearch","onsearch","jexcel_search","resetSearch","placeholder","jexcel_filters_search","jexcel_filters_options","button","Ok","jexcel_filters_apply","jexcel_filters","JEXCEL: filters not enabled.",'<input type="checkbox"> (',")","checked","(","blanks","render","\\","onbeforefilter","onfilter","openFilter","resetFilters","closeFilter","build","root","jspreadsheet","socket","getSocket","tabindex","csv","csvHeaders","shift","up","updatePosition","down","first","last","loadUp","scrollHeight","loadDown","loadLeft","loadRight","scrollUpdate","clientHeight","offsetWidth","offsetLeft","clientWidth","scrollLoading","repositionScroll","scrollWidth","timeControl","freezeNested","setDictionary","setExtensions","timeControlLoading","mouseup","mouseUpControls","removeEventListener","mousedown","mouseDownControls","mousemove","mouseMoveControls","mouseover","mouseOverControls","dblclick","doubleClickControls","pasteControls","contextMenuControls","touchstart","touchStartControls","touchend","touchEndControls","touchcancel","touchmove","touchMoveControls","keydown","keyDownControls","which","preventDefault","target","altKey","selectionStart","selectionEnd","blur","shiftKey","ctrlKey","selectedRow","areYouSureToDeleteTheSelectedRows","selectedHeader","areYouSureToDeleteTheSelectedColumns","allowManualInsertRow","allowManualInsertColumn","metaKey","keyCode","key","validLetter","isMouseAction","event","buttons","findElement","getElement","jexcel_object","selectedCorner","offsetY","offsetX","pageX","allowRenameColumn","pageY","A","mailto:","_blank","jclose","clientX","col-resize","clientY","row-resize","move","changedTouches","columnSorting","clipboardData","tmpElement","isTouchAction","INPUT","THEAD","TBODY","createTabs","fromSpreadsheet","fn","format","mask","locale","extract","parseValue","createEditor","disabledMaskOnEdition","data-mask","data-locale","\\[Red\\]","red","\\(","truncate","notes","jexcel_notes","200px","parseNumber","textEditor","%","jexcel_dropdown","fromLabel","delimiter","filterOptions","multiple","opened","100%","minHeight","position","onclose","getText","image","<div class='jexcel_dropdown_icon' style='background-color: ","'></div>","<div class='jexcel_dropdown_icon' style='background-image: ","&lt;","getFormat","fromNumber","extractDateFromString","getDateString","timepicker","time","YYYY-MM-DD","round","two"," 00:00:00","toNumber","square","100px","outerHTML","true","disabled","false","getSequence","ERROR","jexcel_progressbar","DIV","min","max","setCell","jexcel_rating"," stars","material-icons","star","IMG",'<img src="','">',"html","jexcel_richtext","border","tracking","<div>","</div>","api","/","version","Version:","Licensed to: ","website","Pro","Jspreadsheet "," Spreadsheet","exec","pow","tokenize","test","#REF!","'",".00","tokenIdentifier","$","*","^","{","}","|","random","00","xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx","Element is not a table","colgroup > col","querySelectorAll","data-celltype","thead > tr","table > tr, tbody tr","parseTableFirstRowAsHeader","data-formula","parseTableAutoCellType","floating","jexcel_floating_editor","closeButton","innerWidth","innerHeight","jtabs-headers","allowRenameWorksheet","renameThisWorksheet","allowDeleteWorksheet","deleteThisWorksheet","areYouSureDeleteThisWorksheet","line","Ctrl + X","Ctrl + C","readText","Ctrl + V","insertANewColumnBefore","insertANewColumnAfter","deleteSelectedColumns","renameThisColumn","orderAscending","orderDescending","insertANewRowBefore","insertANewRowAfter","deleteSelectedRows","allowComments","editComments","addComments","clearComments","saveAs","Ctrl + S","about","divisor","160px","Verdana","Arial","Courier New",'<span style="font-family:',"</span>","font-family","48px","format_size","x-small","small","medium","large","x-large",'<span style="font-size:',"font-size","50px","format_align_left","format_align_center","format_align_right","format_align_justify",'<i class="material-icons">',"</i>","text-align","justify","format_bold","font-weight","bold","format_color_text","format_color_fill","background-color","Normal","Medium","Large","Extra","jexcel_row_medium","jexcel_row_large","jexcel_row_extra","fullscreen_exit","Toggle Fullscreen","This method has been remoted from the native distribution. You can find more information on https://jexcel.net","nil","#NULL!","div0","#DIV/0!","#VALUE!","ref","#NAME?","num","#NUM!","na","#N/A","#ERROR!","#GETTING_DATA","flattenShallow","reduce","isFlat","flatten","argsToArray","arrayEach","numbers","cleanFloat","parseBool","boolean","parseNumberArray","parseMatrix","UTC","parseDate","parseDateArray","anyIsError","arrayValuesToNumbers","rest","initial","transpose","map","datetime","DATE","DATEVALUE","DAY","DAYS","DAYS360","EDATE","setMonth","EOMONTH","HOUR","getHours","INTERVAL","floor","Y","M","D","H","S","P","T","ISOWEEKNUM","setHours","getDay","MINUTE","getMinutes","MONTH","NETWORKDAYS","INTL","NOW","SECOND","getSeconds","TIME","TIMEVALUE","TODAY","WEEKDAY","WEEKNUM","WORKDAY","YEAR","YEARFRAC","database","FINDFIELD","DAVERAGE","DCOUNT","DCOUNTA","DGET","DMAX","DMIN","DPRODUCT","DSTDEV","DSTDEVP","DSUM","DVAR","DVARP","MATCH","engineering","BESSELI","BESSELJ","BESSELK","BESSELY","BIN2DEC","1","BIN2HEX","BIN2OCT","BITAND","BITLSHIFT","abs","BITOR","BITRSHIFT","BITXOR","COMPLEX","j","CONVERT","a.u. of action","?","a.u. of charge","e","electric_charge","a.u. of energy","Eh","energy","a.u. of length","a?","a.u. of mass","m?","mass","a.u. of time","?/Eh","admiralty knot","admkn","speed","ampere","electric_current","ampere per meter","A/m","magnetic_field_intensity","ĂĽngstrĂśm","Ă","ang","are","ar","area","astronomical unit","ua","bar","pressure","barn","b","becquerel","Bq","radioactivity","bit","information","btu","BTU","byte","candela","cd","luminous_intensity","candela per square metre","cd/m?","luminance","coulomb","C","cubic ĂĽngstrĂśm","ang3","ang^3","volume","cubic foot","ft3","ft^3","cubic inch","in3","in^3","cubic light-year","ly3","ly^3","cubic metre","cubic mile","mi3","mi^3","cubic nautical mile","Nmi3","Nmi^3","cubic Pica","Pica3","Picapt3","Pica^3","Picapt^3","cubic yard","yd3","yd^3","cup","dalton","Da","u","day","d","degree","Â°","angle","degrees Rankine","Rank","temperature","dyne","dyn","dy","electronvolt","eV","ev","ell","erg","farad","F","electric_capacitance","fluid ounce","oz","foot","ft","foot-pound","flb","gal","Gal","acceleration","gallon","gauss","G","ga","magnetic_flux_density","grain","gram","gray","Gy","absorbed_dose","gross registered ton","GRT","regton","hectare","ha","henry","inductance","hertz","Hz","frequency","horsepower","HP","power","horsepower-hour","HPh","hh","hph","hour","hr","imperial gallon (U.K.)","uk_gal","imperial hundredweight","lcwt","uk_cwt","hweight","imperial quart (U.K)","uk_qt","imperial ton","brton","uk_ton","LTON","inch","in","international acre","uk_acre","IT calorie","cal","joule","J","katal","kat","catalytic_activity","kelvin","K","kel","kilogram","kg","knot","kn","light-year","ly","litre","L","lt","lumen","lm","luminous_flux","lux","lx","illuminance","maxwell","Mx","magnetic_flux","measurement ton","MTON","meter per hour","m/h","m/hr","meter per second","m/s","m/sec","meter per second squared","m?s??","parsec","pc","meter squared per second","m?/s","kinematic_viscosity","metre","m","miles per hour","mph","millimetre of mercury","mmHg","minute","mn","modern teaspoon","tspm","mole","mol","amount_of_substance","morgen","Morgen","n.u. of action","n.u. of mass","n.u. of speed","c?","n.u. of time","?/(me?c??)","nautical mile","Nmi","newton","N","Ĺrsted","Oe ","ohm","ÎŠ","electric_resistance","ounce mass","ozm","pascal","Pa","pascal second","Pa?s","dynamic_viscosity","pferdestĂ¤rke","PS","phot","ph","pica (1/6 inch)","pica","pica (1/72 inch)","Pica","Picapt","poise","pond","pound force","lbf","pound mass","lbm","quart","qt","radian","rad","second","s","sec","short hundredweight","cwt","shweight","siemens","electrical_conductance","sievert","Sv","equivalent_dose","slug","sg","square ĂĽngstrĂśm","ang2","ang^2","square foot","ft2","ft^2","square inch","in2","in^2","square light-year","ly2","ly^2","square meter","square mile","mi2","mi^2","square nautical mile","Nmi2","Nmi^2","square Pica","Pica2","Picapt2","Pica^2","Picapt^2","square yard","yd2","yd^2","statute mile","mi","steradian","sr","solid_angle","stilb","sb","stokes","St","stone","tablespoon","tbs","teaspoon","tsp","tesla","thermodynamic calorie","c","ton","tonne","U.K. pint","uk_pt","U.S. bushel","bushel","U.S. oil barrel","barrel","U.S. pint","pt","us_pt","U.S. survey mile","survey_mi","U.S. survey/statute acre","us_acre","volt","V","voltage","watt","W","watt-hour","Wh","wh","weber","Wb","yard","yd","year","yr","yobi","Yi","yotta","zebi","Zi","zetta","exbi","Ei","exa","pebi","Pi","peta","tebi","Ti","tera","gibi","Gi","giga","mebi","Mi","mega","kibi","ki","kilo","Z","E","hecto","dekao","deci","centi","milli","micro","nano","n","pico","p","femto","atto","zepto","z","yocto","da","DEC2BIN","DEC2HEX","DEC2OCT","DELTA","ERF","PRECISE","ERFC","GESTEP","HEX2BIN","HEX2DEC","HEX2OCT","IMABS","IMREAL","IMAGINARY","sqrt","-j","-1j","+j","+1j","-i","-1i","+i","+1i","IMARGUMENT","PI","atan","IMCONJUGATE","IMCOS","cos","exp","sin","IMCOSH","IMCOT","IMSIN","IMDIV","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","1i","1j","IMSEC","IMSECH","IMSINH","IMSQRT","IMCSC","IMCSCH","IMSUB","IMSUM","IMTAN","OCT2BIN","7","OCT2DEC","OCT2HEX","ff","financial","ACCRINT","ACCRINTM","AMORDEGRC","AMORLINC","COUPDAYBS","COUPDAYS","COUPDAYSNC","COUPNCD","COUPNUM","COUPPCD","CUMIPMT","PMT","FV","CUMPRINC","DB","toFixed","DDB","DISC","DOLLARDE","LN10","LN2","DOLLARFR","DURATION","EFFECT","FVSCHEDULE","INTRATE","IPMT","IRR","ISPMT","MDURATION","MIRR","NPV","NOMINAL","NPER","ODDFPRICE","ODDFYIELD","ODDLPRICE","ODDLYIELD","PDURATION","PPMT","PRICE","PRICEDISC","PRICEMAT","PV","RATE","NaN","RECEIVED","RRI","SLN","SYD","TBILLEQ","TBILLPRICE","TBILLYIELD","VDB","XIRR","XNPV","YIELD","YIELDDISC","YIELDMAT","TYPE","INFO","ISBLANK","ISBINARY","ISERR","ISERROR","ISEVEN","ISFORMULA","ISLOGICAL","ISNA","ISNONTEXT","ISNUMBER","ISODD","ISREF","ISTEXT","NA","SHEET","SHEETS","logical","AND","CHOOSE","IF","IFERROR","IFNA","NOT","OR","XOR","SWITCH","math","ABS","ACOS","acos","ACOSH","ACOT","ACOTH","AGGREGATE","ARABIC","ASIN","asin","ASINH","ATAN","ATAN2","atan2","ATANH","BASE","CEILING","MATH","COMBIN","FACT","COMBINA","COS","COSH","COT","tan","COTH","CSC","CSCH","DECIMAL","DEGREES","EVEN","EXP","FACTDOUBLE","FLOOR","GCD","INT","LCM","pop","LN","LOG","LOG10","MDETERM","MINVERSE","MMULT","MOD","MROUND","MULTINOMIAL","MUNIT","ODD","POWER","PRODUCT","QUOTIENT","RADIANS","RAND","RANDBETWEEN","ROMAN","ROUND","ROUNDDOWN","ROUNDUP","SEC","SECH","SERIESSUM","SIGN","SIN","SINH","SQRT","SQRTPI","SUBTOTAL","ADD","MINUS","DIVIDE","MULTIPLY","GTE","LT","LTE","EQ","NE","POW","SUM","SUMIF","SUMIFS"," && ","SUMPRODUCT","SUMSQ","SUMX2MY2","SUMX2PY2","SUMXMY2","TAN","TANH","TRUNC","misc","UNIQUE","FLATTEN","ARGS2ARRAY","REFERENCE","JOIN","NUMBERS","NUMERAL","ASC","BAHTTEXT","CHAR","CLEAN","CODE","CONCATENATE","DBCS","DOLLAR","EXACT","FIND","FIXED","HTML2TEXT","forEach","LEFT","LEN","LOWER","MID","NUMBERVALUE","PRONETIC","PROPER","charAt","REGEXEXTRACT","REGEXMATCH","REGEXREPLACE","REPLACE","REPT","RIGHT","SEARCH","SPLIT","SUBSTITUTE","TEXT","TRIM","UNICHAR","UNICODE","UPPER","stats","AVEDEV","AVERAGE","AVERAGEA","AVERAGEIF","AVERAGEIFS","COUNT","COUNTA","COUNTBLANK","COUNTIN","COUNTIF",'=="',"COUNTIFS","COUNTUNIQUE","FISHER","FISHERINV","FREQUENCY","LARGE","MAX","MAXA","MIN","MINA","MODE","MULT","SNGL","PERCENTILE","EXC","INC","PERCENTRANK","PERMUT","PERMUTATIONA","PHI","PROB","QUARTILE","RANK","AVG","RSQ","PEARSON","SMALL","STANDARDIZE","STDEV","VAR","STDEVA","VARA","STDEVPA","VARPA","WEIBULL","DIST","TEST","NORM","utils","PROGRESS",'<div style="width:',"%;height:4px;background-color:",';margin-top:1px;"></div>',"RATING",'<div class="jrating">','<div class="jrating-selected"></div>',"<div></div>","Not implemented","exports","amd"];!function(_,a){typeof exports===_$_33a9[449]&&typeof module!==_$_33a9[82]?module[_$_33a9[1959]]=a():typeof define===_$_33a9[12]&&define[_$_33a9[1960]]?define(a):_[_$_33a9[847]]=_[_$_33a9[100]]=a()}(this,(function(){_$_33a9[0];var W=_$_33a9[1],V=_$_33a9[2],p=function(_,a,$){if(a[_$_33a9[3]]&&(a=a[_$_33a9[3]]),a[_$_33a9[4]]&&!p[_$_33a9[4]][_$_33a9[5]])return p[_$_33a9[4]][_$_33a9[5]]=a,p[_$_33a9[4]][_$_33a9[7]]((function(){p[_$_33a9[4]][_$_33a9[6]](_,a)})),!0;if(Array[_$_33a9[8]](a)){for(var e=[],n=0;n<a[_$_33a9[9]];n++)e[_$_33a9[10]](p(_,a[n]));return p[_$_33a9[11]](),typeof $==_$_33a9[12]&&$(e),e}if(!(_ instanceof Element||_ instanceof HTMLDocument))return console[_$_33a9[14]](_$_33a9[13]),!1;if(_[_$_33a9[15]]==_$_33a9[16]){if(!(a=p[_$_33a9[18]][_$_33a9[17]](_,a)))return console[_$_33a9[14]](_$_33a9[13]),!1;$=document[_$_33a9[20]](_$_33a9[19]),_[_$_33a9[22]][_$_33a9[21]]($,_),_[_$_33a9[23]](),_=$}var r={};r[_$_33a9[5]]={},r[_$_33a9[24]]=_,r[_$_33a9[25]]=null,r[_$_33a9[26]]=null,r[_$_33a9[27]]=null,r[_$_33a9[28]]=null,r[_$_33a9[29]]=null,r[_$_33a9[30]]=null,r[_$_33a9[31]]=null,r[_$_33a9[32]]=null,r[_$_33a9[33]]=[],r[_$_33a9[34]]=null,r[_$_33a9[35]]=null,r[_$_33a9[36]]=null,r[_$_33a9[37]]=null,r[_$_33a9[38]]=null,r[_$_33a9[39]]=null,r[_$_33a9[40]]=null,r[_$_33a9[41]]=null,r[_$_33a9[42]]={},r[_$_33a9[43]]=null,r[_$_33a9[44]]=[],r[_$_33a9[45]]=[],r[_$_33a9[46]]=[],r[_$_33a9[47]]=[],r[_$_33a9[48]]=[],r[_$_33a9[49]]=[],r[_$_33a9[50]]=null,r[_$_33a9[51]]=null,r[_$_33a9[52]]=0,r[_$_33a9[53]]=!1,r[_$_33a9[54]]=!1,r[_$_33a9[55]]=!1,r[_$_33a9[56]]=!1,r[_$_33a9[57]]=!1,r[_$_33a9[58]]=null,r[_$_33a9[59]]=0;var t,u=((t=function(_){return t[_$_33a9[60]]||(_?t[_$_33a9[60]]=_:(t[_$_33a9[60]]=document[_$_33a9[20]](_$_33a9[19]),t[_$_33a9[60]][_$_33a9[62]][_$_33a9[61]]=_$_33a9[63],t[_$_33a9[60]][_$_33a9[62]][_$_33a9[64]]=_$_33a9[65],t[_$_33a9[60]][_$_33a9[62]][_$_33a9[51]]=_$_33a9[66],t[_$_33a9[60]][_$_33a9[67]]=function(){window[_$_33a9[69]][_$_33a9[68]]=p[_$_33a9[71]](_$_33a9[70])})),t[_$_33a9[72]](),t[_$_33a9[73]](),t[_$_33a9[60]]})[_$_33a9[74]]=[74,50,48,50,48,33][_$_33a9[76]](_$_33a9[75]),t[_$_33a9[77]]=function(_,a){var $=jSuites[_$_33a9[78]],e=_$_33a9[75],n=_$_33a9[75];128<_[_$_33a9[9]]&&(_=$(_));for(var r=0;128>r;r++){var t=_[r]?_[r][_$_33a9[79]](0):0;e+=String[_$_33a9[80]](54^t),n+=String[_$_33a9[80]](92^t)}return $(n+$(e+a))},t[_$_33a9[72]]=function(){if(typeof t[_$_33a9[81]]==_$_33a9[82]){t[_$_33a9[81]]=1;try{if(r[_$_33a9[5]][_$_33a9[83]]){var _=window[_$_33a9[84]](r[_$_33a9[5]][_$_33a9[83]]);if((_=_[_$_33a9[86]](_$_33a9[85]))[1])if(_[1]=window[_$_33a9[84]](_[1]),_[0]!=t[_$_33a9[77]](t[_$_33a9[74]],_[1]))t[_$_33a9[81]]=3;else if(_[1]=JSON[_$_33a9[87]](_[1]),_[1][_$_33a9[88]]){var a=new Date,$=parseInt(a[_$_33a9[89]]()/1e3);_[1][_$_33a9[88]]<$?(t[_$_33a9[81]]=_[1][_$_33a9[88]]+2592e3<$&&!_[1][_$_33a9[90]]?5:6,p[_$_33a9[91]]=_[1][_$_33a9[92]]+_$_33a9[93]):(a=(a=window[_$_33a9[69]][_$_33a9[94]]||_$_33a9[95])[_$_33a9[86]](_$_33a9[96]),$=[],1<a[_$_33a9[9]]&&!jSuites[_$_33a9[97]](a[a[_$_33a9[9]]-1])?($[_$_33a9[10]](a[a[_$_33a9[9]]-2]),$[_$_33a9[10]](a[a[_$_33a9[9]]-1]),$=$[_$_33a9[76]](_$_33a9[96])):$=a[_$_33a9[76]](_$_33a9[96]),a=a[_$_33a9[76]](_$_33a9[96]),-1==_[1][_$_33a9[99]][_$_33a9[98]]($)&&-1==_[1][_$_33a9[99]][_$_33a9[98]](a)?t[_$_33a9[81]]=5:t[_$_33a9[81]]=7,p[_$_33a9[91]]=_[1][_$_33a9[92]])}else t[_$_33a9[81]]=4;else t[_$_33a9[81]]=2}}catch(_){}}return t[_$_33a9[81]]},t[_$_33a9[73]]=function(){if(t[_$_33a9[81]])try{if(typeof sessionStorage!==_$_33a9[82]&&!sessionStorage[_$_33a9[101]](_$_33a9[100])){sessionStorage[_$_33a9[102]](_$_33a9[100],!0);var _=document[_$_33a9[20]](_$_33a9[103]);_[_$_33a9[104]]=p[_$_33a9[71]](_$_33a9[70])+_$_33a9[105],_[_$_33a9[62]][_$_33a9[106]]=_$_33a9[107],t[_$_33a9[60]][_$_33a9[108]](_)}}catch(_){}t[_$_33a9[60]][_$_33a9[109]]=_$_33a9[75],_=_$_33a9[75],1==t[_$_33a9[81]]?_=_$_33a9[110]:2==t[_$_33a9[81]]||3==t[_$_33a9[81]]||4==t[_$_33a9[81]]?_=_$_33a9[111]:5==t[_$_33a9[81]]?_=_$_33a9[112]:6==t[_$_33a9[81]]&&(_=_$_33a9[113]),t[_$_33a9[60]][_$_33a9[108]](document[_$_33a9[114]](_))},t[_$_33a9[115]]=function(){return t[_$_33a9[81]]},t),o=function(){return!0};r[_$_33a9[116]]=function(){return o()},r[_$_33a9[117]]=function(){return r[_$_33a9[5]]},r[_$_33a9[118]]=function(_){for(var a=Object[_$_33a9[119]](_),$=0;$<a[_$_33a9[9]];$++)typeof r[_$_33a9[5]][a[$]]!==_$_33a9[82]?a[$][_$_33a9[120]](0,2)!==_$_33a9[121]&&(r[_$_33a9[5]][a[$]]=_[a[$]]):_[a[$]]=null;if(1==r[_$_33a9[5]][_$_33a9[122]]?r[_$_33a9[31]][_$_33a9[125]][_$_33a9[124]](_$_33a9[123]):r[_$_33a9[31]][_$_33a9[125]][_$_33a9[23]](_$_33a9[123]),1==r[_$_33a9[5]][_$_33a9[126]]?r[_$_33a9[31]][_$_33a9[125]][_$_33a9[124]](_$_33a9[127]):r[_$_33a9[31]][_$_33a9[125]][_$_33a9[23]](_$_33a9[127]),1==r[_$_33a9[5]][_$_33a9[128]]?r[_$_33a9[32]][_$_33a9[125]][_$_33a9[124]](_$_33a9[123]):r[_$_33a9[32]][_$_33a9[125]][_$_33a9[23]](_$_33a9[123]),1==r[_$_33a9[5]][_$_33a9[129]]?r[_$_33a9[32]][_$_33a9[125]][_$_33a9[124]](_$_33a9[127]):r[_$_33a9[32]][_$_33a9[125]][_$_33a9[23]](_$_33a9[127]),1==r[_$_33a9[5]][_$_33a9[130]])for($=0;$<r[_$_33a9[44]][_$_33a9[9]];$++)r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[124]](_$_33a9[131]);else for($=0;$<r[_$_33a9[44]][_$_33a9[9]];$++)r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[23]](_$_33a9[131]),r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[23]](_$_33a9[132]),r[_$_33a9[5]][_$_33a9[133]][$][_$_33a9[130]]=null;0==r[_$_33a9[5]][_$_33a9[35]]?r[_$_33a9[134]]():r[_$_33a9[135]](),r[_$_33a9[5]][_$_33a9[136]]&&r[_$_33a9[5]][_$_33a9[136]][0]&&(0<(a=parseInt(r[_$_33a9[5]][_$_33a9[136]][0])-r[_$_33a9[44]][_$_33a9[9]])&&r[_$_33a9[137]](a),0<(a=parseInt(r[_$_33a9[5]][_$_33a9[136]][1])-r[_$_33a9[33]][_$_33a9[9]])&&r[_$_33a9[138]](a)),r[_$_33a9[139]](_$_33a9[118],_)},r[_$_33a9[140]]=function(a){var $,e={application:_$_33a9[141],cloud:null,root:null,sequence:!0,persistance:!1,copyCompatibility:!1,internationalKeyboard:!1,url:null,data:null,json:null,rows:[],columns:[],cells:{},colHeaders:[],colWidths:[],colAlignments:[],nestedHeaders:null,footers:null,defaultColWidth:50,defaultColAlign:_$_33a9[142],minSpareRows:0,minSpareCols:0,minDimensions:[0,0],allowExport:!0,includeHeadersOnDownload:!1,forceUpdateOnPaste:!1,columnSorting:!0,columnDrag:!0,columnResize:!0,rowResize:!0,rowDrag:!0,editable:!0,allowInsertRow:!0,allowManualInsertRow:!0,allowInsertColumn:!0,allowManualInsertColumn:!0,allowDeleteRow:!0,allowDeletingAllRows:!1,allowDeleteColumn:!0,allowRenameColumn:!0,allowComments:!0,wordWrap:!1,csv:null,csvFileName:_$_33a9[100],csvHeaders:!0,csvDelimiter:_$_33a9[85],selectionCopy:!0,mergeCells:{},toolbar:null,search:!1,pagination:!1,paginationOptions:null,lazyLoading:!1,lazyColumns:!1,lazyNumber:100,loadingSpin:!1,comments:null,meta:null,style:null,parseFormulas:!0,autoIncrement:!0,autoCasting:!0,cache:!0,secureFormulas:!0,debugFormulas:!1,stripHTML:!0,freezeColumns:0,freezeNested:0,orderBy:null,fullscreen:!1,tableOverflow:!1,tableOverflowResizable:!1,tableHeight:_$_33a9[143],tableWidth:null,textOverflow:!1,tabs:!1,worksheetId:_$_33a9[75],worksheetName:null,allowDeleteWorksheet:!0,allowRenameWorksheet:!0,allowMoveWorksheet:!0,onundo:null,onredo:null,onload:null,onchange:null,onbeforechange:null,onafterchanges:null,onbeforeinsertrow:null,oninsertrow:null,onbeforeinsertcolumn:null,oninsertcolumn:null,onbeforedeleterow:null,ondeleterow:null,onbeforedeletecolumn:null,ondeletecolumn:null,onmoverow:null,onmovecolumn:null,onresizerow:null,onresizecolumn:null,onbeforesort:null,onsort:null,onselection:null,oncopy:null,onpaste:null,onbeforepaste:null,onmerge:null,onfocus:null,onblur:null,onchangeheader:null,oncreateeditor:null,oneditionstart:null,oneditionend:null,onchangestyle:null,onchangemeta:null,onevent:null,onbeforesave:null,onsave:null,onbeforechangepage:null,onchangepage:null,onlazyloading:null,onbeforecreateworksheet:null,oncreateworksheet:null,onrenameworksheet:null,ondeleteworksheet:null,onmoveworksheet:null,onopenworksheet:null,onchangerowid:null,onbeforesearch:null,onsearch:null,onbeforefilter:null,onfilter:null,oncomments:null,updateTable:null,contextMenu:null,parseTableFirstRowAsHeader:!1,parseTableAutoCellType:!1,filters:!1,plugins:null,text:{noRecordsFound:_$_33a9[144],showingPage:_$_33a9[145],show:_$_33a9[146],search:_$_33a9[147],entries:_$_33a9[148],columnName:_$_33a9[149],changeColumnType:_$_33a9[150],insertANewColumnBefore:_$_33a9[151],insertANewColumnAfter:_$_33a9[152],deleteSelectedColumns:_$_33a9[153],renameThisColumn:_$_33a9[154],orderAscending:_$_33a9[155],orderDescending:_$_33a9[156],insertANewRowBefore:_$_33a9[157],insertANewRowAfter:_$_33a9[158],deleteSelectedRows:_$_33a9[159],editComments:_$_33a9[160],addComments:_$_33a9[161],comments:_$_33a9[162],clearComments:_$_33a9[163],copy:_$_33a9[164],paste:_$_33a9[165],saveAs:_$_33a9[166],about:_$_33a9[167],areYouSureToDeleteTheSelectedRows:_$_33a9[168],areYouSureToDeleteTheSelectedColumns:_$_33a9[169],thisActionWillDestroyAnyExistingMergedCellsAreYouSure:_$_33a9[170],thisActionWillClearYourSearchResultsAreYouSure:_$_33a9[171],thereIsAConflictWithAnotherMergedCell:_$_33a9[172],invalidMergeProperties:_$_33a9[173],cellAlreadyMerged:_$_33a9[174],noCellsSelected:_$_33a9[175],renameThisWorksheet:_$_33a9[176],deleteThisWorksheet:_$_33a9[177],areYouSureDeleteThisWorksheet:_$_33a9[178],itWasNotPossibleToRenameWorksheetDueConflictName:_$_33a9[179],cut:_$_33a9[180],hide:_$_33a9[181],unhide:_$_33a9[182],selectAll:_$_33a9[183],blanks:_$_33a9[184]},about:!0,license:null,licenseManager:!1,focus:!1,formify:null};for($ in e)if(a&&a[_$_33a9[185]]($))if($===_$_33a9[186])for(var n in r[_$_33a9[5]][$]=e[$],a[$])a[$][_$_33a9[185]](n)&&(r[_$_33a9[5]][$][n]=a[$][n]);else r[_$_33a9[5]][$]=a[$];else r[_$_33a9[5]][$]=e[$];r[_$_33a9[5]][_$_33a9[83]]?p[_$_33a9[83]]=r[_$_33a9[5]][_$_33a9[83]]:p[_$_33a9[83]]&&(r[_$_33a9[5]][_$_33a9[83]]=p[_$_33a9[83]]),r[_$_33a9[5]][_$_33a9[27]]||(r[_$_33a9[5]][_$_33a9[27]]=p[_$_33a9[18]][_$_33a9[187]]),1==r[_$_33a9[5]][_$_33a9[188]]&&0==r[_$_33a9[5]][_$_33a9[189]]&&0==r[_$_33a9[5]][_$_33a9[190]]&&(console[_$_33a9[14]](_$_33a9[191]),r[_$_33a9[5]][_$_33a9[188]]=!1),1==r[_$_33a9[5]][_$_33a9[192]]&&(0<r[_$_33a9[5]][_$_33a9[193]]&&(console[_$_33a9[14]](_$_33a9[194]),r[_$_33a9[5]][_$_33a9[192]]=!1),r[_$_33a9[5]][_$_33a9[195]]&&(console[_$_33a9[14]](_$_33a9[196]),r[_$_33a9[5]][_$_33a9[192]]=!1)),1!=r[_$_33a9[5]][_$_33a9[197]]&&console[_$_33a9[199]](_$_33a9[198]),r[_$_33a9[5]][_$_33a9[42]]&&r[_$_33a9[200]](r[_$_33a9[5]][_$_33a9[42]]),_[_$_33a9[125]][_$_33a9[202]](_$_33a9[201])?(r[_$_33a9[28]]=_[_$_33a9[219]][2],r[_$_33a9[27]]=_[_$_33a9[219]][3],r[_$_33a9[216]][_$_33a9[60]]=_[_$_33a9[219]][4],r[_$_33a9[43]]=_[_$_33a9[219]][5],u(_[_$_33a9[220]])):(jSuites[_$_33a9[203]](_,{allowCreate:!!r[_$_33a9[5]][_$_33a9[203]],onbeforecreate:function(){return r[_$_33a9[204]](),!1},onclick:function(_,a,$,e,n){0<=$&&r[_$_33a9[205]]($,!1)},onchangeposition:function(_,a,$){r[_$_33a9[206]](a,$,!1)},allowChangePosition:r[_$_33a9[5]][_$_33a9[207]],hideHeaders:!r[_$_33a9[5]][_$_33a9[203]]}),r[_$_33a9[28]]=document[_$_33a9[20]](_$_33a9[28]),r[_$_33a9[28]][_$_33a9[208]]=_$_33a9[209],r[_$_33a9[28]][_$_33a9[210]]=_$_33a9[211],_[_$_33a9[108]](r[_$_33a9[28]]),r[_$_33a9[27]]=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[27]][_$_33a9[208]]=_$_33a9[212],jSuites[_$_33a9[214]](r[_$_33a9[27]],{onclick:function(_,a,$){_[_$_33a9[213]]()}}),_[_$_33a9[108]](r[_$_33a9[27]]),a=document[_$_33a9[20]](_$_33a9[19]),_[_$_33a9[108]](a),r[_$_33a9[216]][_$_33a9[215]](a),r[_$_33a9[43]]=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[43]][_$_33a9[208]]=_$_33a9[217],_[_$_33a9[108]](r[_$_33a9[43]]),_[_$_33a9[108]](u()),_[_$_33a9[125]][_$_33a9[124]](_$_33a9[218])),r[_$_33a9[5]][_$_33a9[221]]||(r[_$_33a9[5]][_$_33a9[221]]=_$_33a9[222]+_[_$_33a9[203]][_$_33a9[223]]()),a=r[_$_33a9[224]](),window[a]=r,r[_$_33a9[25]]=_[_$_33a9[203]][_$_33a9[225]](r[_$_33a9[5]][_$_33a9[221]]),r[_$_33a9[25]][_$_33a9[125]][_$_33a9[124]](_$_33a9[226]),r[_$_33a9[25]][_$_33a9[100]]=r,_[_$_33a9[203]][_$_33a9[44]][_$_33a9[22]][_$_33a9[62]][_$_33a9[106]]!=_$_33a9[107]&&_[_$_33a9[125]][_$_33a9[124]](_$_33a9[227])},r[_$_33a9[228]]=function(a,$,e){var n=r[_$_33a9[230]](_$_33a9[229],_,r,$);if(n)$=n;else if(!1===n)return!1;r[_$_33a9[231]](!0),setTimeout((function(){r[_$_33a9[231]](!1)}),1e3),jSuites[_$_33a9[252]]({url:a,method:_$_33a9[232],dataType:_$_33a9[233],data:{data:JSON[_$_33a9[234]]($)},queue:!0,beforeSend:function(_){e&&_[_$_33a9[237]](_$_33a9[235],_$_33a9[236]+e)},success:function(a){_[_$_33a9[125]][_$_33a9[202]](_$_33a9[238])&&_[_$_33a9[125]][_$_33a9[23]](_$_33a9[238]),a&&a[_$_33a9[239]]&&(a[_$_33a9[92]]=r[_$_33a9[5]][_$_33a9[240]],jSuites[_$_33a9[242]][_$_33a9[241]]()?console[_$_33a9[199]](_$_33a9[243]+a[_$_33a9[239]]):jSuites[_$_33a9[242]](a),a[_$_33a9[244]]?a[_$_33a9[245]]&&a[_$_33a9[245]][0]&&a[_$_33a9[245]][0][_$_33a9[246]]&&r[_$_33a9[247]](a[_$_33a9[245]]):a[_$_33a9[14]]&&(alert(_$_33a9[248]),window[_$_33a9[250]](window[_$_33a9[69]][_$_33a9[68]],_$_33a9[249]))),r[_$_33a9[230]](_$_33a9[251],_,r,$,a)},error:function(){_[_$_33a9[125]][_$_33a9[124]](_$_33a9[238])}})},r[_$_33a9[253]]=function(_,a){var $=null;return _[0]==_$_33a9[254]?$={setData:r[_$_33a9[255]]()}:_[0]==_$_33a9[256]||_[0]==_$_33a9[257]?$=a?{updateData:r[_$_33a9[258]](_[1],!0)}:{setValue:r[_$_33a9[258]](_[1])}:_[0]==_$_33a9[259]?$={setWidth:{column:_[1],width:_[2]}}:_[0]==_$_33a9[260]?$={setHeight:{row:_[1],height:_[2]}}:_[0]==_$_33a9[261]?$={setHeader:{column:_[1],title:_[2]}}:_[0]==_$_33a9[262]?$={setMerge:{cell:_[1],colspan:_[2],rowspan:_[3],force:_[4]}}:_[0]==_$_33a9[263]?$={removeMerge:{cell:_[1]}}:_[0]==_$_33a9[264]?$={destroyMerged:!0}:_[0]==_$_33a9[265]?$={setMeta:_[1]}:_[0]==_$_33a9[266]?$={setStyle:_[1]}:_[0]==_$_33a9[267]?$={resetStyle:_[1]}:_[0]==_$_33a9[268]?$={setComments:_[1]}:_[0]==_$_33a9[269]?$={orderBy:[_[1],_[2],_[3]]}:_[0]==_$_33a9[270]?$={moveRow:[_[1],_[2]]}:_[0]==_$_33a9[138]?$={insertRow:{numOfRows:_[1],rowNumber:_[2],insertBefore:_[3],data:_[4]}}:_[0]==_$_33a9[271]?$={deleteRow:{rowNumber:_[1],numOfRows:_[2]}}:_[0]==_$_33a9[272]?$={moveColumn:[_[1],_[2]]}:_[0]==_$_33a9[137]?$={insertColumn:{numOfColumns:_[1],columnNumber:_[2],insertBefore:_[3],properties:_[4],data:_[5]}}:_[0]==_$_33a9[273]?$={deleteColumn:{columnNumber:_[1],numOfColumns:_[2]}}:_[0]==_$_33a9[274]?$={updateNestedHeader:{x:_[1],y:_[2],properties:_[3]}}:_[0]==_$_33a9[118]?$={setConfig:_[1]}:_[0]==_$_33a9[275]?$={setProperty:{column:_[1],options:_[2]}}:_[0]==_$_33a9[276]?$={setFooter:_[1]}:_[0]==_$_33a9[277]?$={resetFooter:!0}:_[0]==_$_33a9[204]?$={createWorksheet:_[1]}:_[0]==_$_33a9[278]?$={renameWorksheet:{worksheet:_[1],newValue:_[2]}}:_[0]==_$_33a9[279]?$={deleteWorksheet:_[1]}:_[0]==_$_33a9[206]&&($={moveWorksheet:[_[1],_[2]]}),$},r[_$_33a9[139]]=function(){if(r[_$_33a9[5]][_$_33a9[4]]&&typeof p[_$_33a9[4]][_$_33a9[280]]==_$_33a9[12]&&p[_$_33a9[4]][_$_33a9[280]](r,arguments),!r[_$_33a9[57]]&&r[_$_33a9[5]][_$_33a9[281]]){var _=1==r[_$_33a9[5]][_$_33a9[281]]&&r[_$_33a9[5]][_$_33a9[282]]?r[_$_33a9[5]][_$_33a9[282]]:r[_$_33a9[5]][_$_33a9[281]],a=r[_$_33a9[253]](arguments);a&&r[_$_33a9[228]](_,a)}},r[_$_33a9[230]]=function(_){if(!r[_$_33a9[55]]){if(typeof r[_$_33a9[5]][_$_33a9[283]]==_$_33a9[12])var a=r[_$_33a9[5]][_$_33a9[283]][_$_33a9[77]](this,arguments);if(typeof r[_$_33a9[5]][_]==_$_33a9[12]&&(a=r[_$_33a9[5]][_][_$_33a9[77]](this,Array[_$_33a9[286]][_$_33a9[285]][_$_33a9[284]](arguments,1))),r[_$_33a9[42]])for(var $=Object[_$_33a9[119]](r[_$_33a9[42]]),e=0;e<$[_$_33a9[9]];e++)typeof r[_$_33a9[42]][$[e]][_$_33a9[283]]==_$_33a9[12]&&r[_$_33a9[42]][$[e]][_$_33a9[283]][_$_33a9[77]](this,arguments);return a}},r[_$_33a9[231]]=function(_){r[_$_33a9[41]][_$_33a9[62]][_$_33a9[106]]=1==_?_$_33a9[75]:_$_33a9[107],setTimeout((function(){r[_$_33a9[41]][_$_33a9[62]][_$_33a9[106]]!=_$_33a9[107]&&(r[_$_33a9[41]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107])}),5e3)},r[_$_33a9[190]]=function(a){null==a&&(a=!r[_$_33a9[5]][_$_33a9[190]]),r[_$_33a9[5]][_$_33a9[190]]!=a&&(r[_$_33a9[5]][_$_33a9[190]]=a,1==a?_[_$_33a9[125]][_$_33a9[124]](_$_33a9[190]):_[_$_33a9[125]][_$_33a9[23]](_$_33a9[190]))},r[_$_33a9[287]]=function(){var _=r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]];if(r[_$_33a9[5]][_$_33a9[245]]&&typeof r[_$_33a9[5]][_$_33a9[245]][0]!==_$_33a9[82]){var a=r[_$_33a9[5]][_$_33a9[245]][0][_$_33a9[245]]&&0<Object[_$_33a9[119]](r[_$_33a9[5]][_$_33a9[245]][0][_$_33a9[245]])[_$_33a9[9]]?Object[_$_33a9[119]](r[_$_33a9[5]][_$_33a9[245]][0][_$_33a9[245]]):Object[_$_33a9[119]](r[_$_33a9[5]][_$_33a9[245]][0]);a[_$_33a9[9]]>_&&(_=a[_$_33a9[9]])}r[_$_33a9[5]][_$_33a9[136]][0]>_&&(_=r[_$_33a9[5]][_$_33a9[136]][0]);for(var $=[],e=0;e<_;e++)r[_$_33a9[5]][_$_33a9[133]][e]?r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[288]]||(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[288]]=_$_33a9[186]):r[_$_33a9[5]][_$_33a9[133]][e]={type:_$_33a9[186]},r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[288]]==_$_33a9[289]&&(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[288]]=_$_33a9[290],r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[289]]=!0),r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[291]]&&(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[288]]=r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[291]]),!r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[92]]&&a&&a[e]&&Number(a[e])!=a[e]&&(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[92]]=a[e]),r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[5]]||(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[5]]={}),r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[292]]||(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[292]]=r[_$_33a9[5]][_$_33a9[293]][e]?r[_$_33a9[5]][_$_33a9[293]][e]:_$_33a9[75]),r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[294]]||(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[294]]=r[_$_33a9[5]][_$_33a9[295]][e]?r[_$_33a9[5]][_$_33a9[295]][e]:r[_$_33a9[5]][_$_33a9[296]]),r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[297]]||(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[297]]=[]),r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[282]]&&$[_$_33a9[10]]({url:r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[282]],index:e,method:_$_33a9[298],dataType:_$_33a9[233],success:function(_){r[_$_33a9[5]][_$_33a9[133]][this[_$_33a9[299]]][_$_33a9[297]]=_}});$[_$_33a9[9]]?jSuites[_$_33a9[252]]($,(function(){r[_$_33a9[300]]()})):r[_$_33a9[300]]()},r[_$_33a9[300]]=function(){r[_$_33a9[30]]=document[_$_33a9[20]](_$_33a9[30]),r[_$_33a9[31]]=document[_$_33a9[20]](_$_33a9[31]),r[_$_33a9[32]]=document[_$_33a9[20]](_$_33a9[32]),r[_$_33a9[44]]=[],r[_$_33a9[49]]=[],r[_$_33a9[29]]=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[29]][_$_33a9[125]][_$_33a9[124]](_$_33a9[301]),r[_$_33a9[29]][_$_33a9[304]](_$_33a9[302],r[_$_33a9[303]]),r[_$_33a9[29]][_$_33a9[304]](_$_33a9[305],r[_$_33a9[303]]),r[_$_33a9[35]]=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[35]][_$_33a9[125]][_$_33a9[124]](_$_33a9[306]);var a=r[_$_33a9[307]][_$_33a9[215]](),$=document[_$_33a9[20]](_$_33a9[19]);if(0<r[_$_33a9[5]][_$_33a9[36]]&&r[_$_33a9[5]][_$_33a9[308]]&&0<r[_$_33a9[5]][_$_33a9[308]][_$_33a9[9]]){r[_$_33a9[309]]=document[_$_33a9[20]](_$_33a9[310]),r[_$_33a9[309]][_$_33a9[125]][_$_33a9[124]](_$_33a9[311]),r[_$_33a9[309]][_$_33a9[312]]=function(){r[_$_33a9[5]][_$_33a9[36]]=parseInt(this[_$_33a9[246]]),r[_$_33a9[313]](0)};for(var e=0;e<r[_$_33a9[5]][_$_33a9[308]][_$_33a9[9]];e++){var n=document[_$_33a9[20]](_$_33a9[314]);n[_$_33a9[246]]=r[_$_33a9[5]][_$_33a9[308]][e],n[_$_33a9[315]]=r[_$_33a9[5]][_$_33a9[308]][e],r[_$_33a9[309]][_$_33a9[108]](n)}r[_$_33a9[309]][_$_33a9[246]]=r[_$_33a9[5]][_$_33a9[36]],$[_$_33a9[108]](document[_$_33a9[114]](r[_$_33a9[5]][_$_33a9[186]][_$_33a9[316]])),$[_$_33a9[108]](r[_$_33a9[309]]),$[_$_33a9[108]](document[_$_33a9[114]](r[_$_33a9[5]][_$_33a9[186]][_$_33a9[317]]))}if((n=document[_$_33a9[20]](_$_33a9[19]))[_$_33a9[125]][_$_33a9[124]](_$_33a9[318]),n[_$_33a9[108]]($),n[_$_33a9[108]](a),r[_$_33a9[40]]=document[_$_33a9[20]](_$_33a9[49]),(a=document[_$_33a9[20]](_$_33a9[319]))[_$_33a9[321]](_$_33a9[294],_$_33a9[320]),r[_$_33a9[40]][_$_33a9[108]](a),r[_$_33a9[5]][_$_33a9[322]]&&0<r[_$_33a9[5]][_$_33a9[322]][_$_33a9[9]])if(r[_$_33a9[5]][_$_33a9[322]][0]&&r[_$_33a9[5]][_$_33a9[322]][0][0])for(a=0;a<r[_$_33a9[5]][_$_33a9[322]][_$_33a9[9]];a++)r[_$_33a9[31]][_$_33a9[108]](r[_$_33a9[323]](r[_$_33a9[5]][_$_33a9[322]][a],a));else console[_$_33a9[199]](_$_33a9[324]);for(r[_$_33a9[39]]=document[_$_33a9[20]](_$_33a9[325]),(a=document[_$_33a9[20]](_$_33a9[326]))[_$_33a9[125]][_$_33a9[124]](_$_33a9[327]),r[_$_33a9[39]][_$_33a9[108]](a),e=0;e<r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]];e++)r[_$_33a9[328]](e),1==r[_$_33a9[5]][_$_33a9[188]]&&1==r[_$_33a9[5]][_$_33a9[192]]&&e>=r[_$_33a9[5]][_$_33a9[329]]||(r[_$_33a9[39]][_$_33a9[108]](r[_$_33a9[44]][e]),r[_$_33a9[40]][_$_33a9[108]](r[_$_33a9[49]][e]));r[_$_33a9[31]][_$_33a9[108]](r[_$_33a9[39]]),r[_$_33a9[30]]=document[_$_33a9[20]](_$_33a9[30]),r[_$_33a9[30]][_$_33a9[125]][_$_33a9[124]](_$_33a9[100]),r[_$_33a9[30]][_$_33a9[321]](_$_33a9[330],_$_33a9[331]),r[_$_33a9[30]][_$_33a9[321]](_$_33a9[332],_$_33a9[331]),r[_$_33a9[30]][_$_33a9[321]](_$_33a9[333],_$_33a9[334]),r[_$_33a9[30]][_$_33a9[108]](r[_$_33a9[40]]),r[_$_33a9[30]][_$_33a9[108]](r[_$_33a9[31]]),r[_$_33a9[30]][_$_33a9[108]](r[_$_33a9[32]]),r[_$_33a9[5]][_$_33a9[335]]||r[_$_33a9[30]][_$_33a9[125]][_$_33a9[124]](_$_33a9[336]),r[_$_33a9[26]]=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[26]][_$_33a9[208]]=_$_33a9[337],r[_$_33a9[26]][_$_33a9[321]](_$_33a9[333],_$_33a9[121]),r[_$_33a9[26]][_$_33a9[321]](_$_33a9[338],_$_33a9[339]),0==r[_$_33a9[5]][_$_33a9[340]]&&(r[_$_33a9[26]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107]),document[_$_33a9[20]](_$_33a9[19])[_$_33a9[125]][_$_33a9[124]](_$_33a9[341]),r[_$_33a9[36]]=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[36]][_$_33a9[125]][_$_33a9[124]](_$_33a9[342]),a=document[_$_33a9[20]](_$_33a9[19]),$=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[36]][_$_33a9[108]](a),r[_$_33a9[36]][_$_33a9[108]]($),r[_$_33a9[5]][_$_33a9[36]]||(r[_$_33a9[36]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107]),1==r[_$_33a9[5]][_$_33a9[307]]&&r[_$_33a9[25]][_$_33a9[108]](n),(n=document[_$_33a9[20]](_$_33a9[19]))[_$_33a9[125]][_$_33a9[124]](_$_33a9[343]),r[_$_33a9[41]]=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[41]][_$_33a9[125]][_$_33a9[124]](_$_33a9[344]),r[_$_33a9[41]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107],n[_$_33a9[108]](r[_$_33a9[41]]),r[_$_33a9[29]][_$_33a9[108]](r[_$_33a9[30]]),r[_$_33a9[29]][_$_33a9[108]](r[_$_33a9[26]]),r[_$_33a9[25]][_$_33a9[108]](n),r[_$_33a9[25]][_$_33a9[108]](r[_$_33a9[35]]),r[_$_33a9[25]][_$_33a9[108]](r[_$_33a9[29]]),r[_$_33a9[25]][_$_33a9[108]](r[_$_33a9[36]]),1==r[_$_33a9[5]][_$_33a9[190]]?_[_$_33a9[125]][_$_33a9[124]](_$_33a9[190]):1==r[_$_33a9[5]][_$_33a9[189]]&&(r[_$_33a9[5]][_$_33a9[345]]&&(r[_$_33a9[29]][_$_33a9[62]][_$_33a9[346]]=_$_33a9[347],r[_$_33a9[29]][_$_33a9[62]][_$_33a9[348]]=r[_$_33a9[5]][_$_33a9[345]],r[_$_33a9[29]][_$_33a9[62]][_$_33a9[349]]=_$_33a9[350]),r[_$_33a9[5]][_$_33a9[351]]&&(r[_$_33a9[29]][_$_33a9[62]][_$_33a9[352]]=_$_33a9[347],r[_$_33a9[29]][_$_33a9[62]][_$_33a9[353]]=r[_$_33a9[5]][_$_33a9[351]]),1==r[_$_33a9[5]][_$_33a9[354]]&&(r[_$_33a9[29]][_$_33a9[62]][_$_33a9[355]]=_$_33a9[356])),r[_$_33a9[5]][_$_33a9[35]]&&r[_$_33a9[135]](),1==r[_$_33a9[5]][_$_33a9[122]]&&r[_$_33a9[31]][_$_33a9[125]][_$_33a9[124]](_$_33a9[123]),1==r[_$_33a9[5]][_$_33a9[126]]&&r[_$_33a9[31]][_$_33a9[125]][_$_33a9[124]](_$_33a9[127]),1==r[_$_33a9[5]][_$_33a9[128]]&&r[_$_33a9[32]][_$_33a9[125]][_$_33a9[124]](_$_33a9[123]),1==r[_$_33a9[5]][_$_33a9[129]]&&r[_$_33a9[32]][_$_33a9[125]][_$_33a9[124]](_$_33a9[127]),r[_$_33a9[54]]=!0,r[_$_33a9[55]]=!0,r[_$_33a9[56]]=!0,r[_$_33a9[57]]=!0,r[_$_33a9[254]](),r[_$_33a9[5]][_$_33a9[357]]&&(n=r[_$_33a9[5]][_$_33a9[357]],r[_$_33a9[5]][_$_33a9[357]]={},r[_$_33a9[262]](n)),r[_$_33a9[5]][_$_33a9[358]]&&r[_$_33a9[265]](r[_$_33a9[5]][_$_33a9[358]]),r[_$_33a9[5]][_$_33a9[62]]&&r[_$_33a9[266]](r[_$_33a9[5]][_$_33a9[62]],null,null,1),r[_$_33a9[5]][_$_33a9[359]]&&r[_$_33a9[268]](r[_$_33a9[5]][_$_33a9[359]]),r[_$_33a9[5]][_$_33a9[269]]&&r[_$_33a9[269]](r[_$_33a9[5]][_$_33a9[269]][0]||0,r[_$_33a9[5]][_$_33a9[269]][1]||0),r[_$_33a9[54]]=!1,r[_$_33a9[55]]=!1,r[_$_33a9[56]]=!1,r[_$_33a9[57]]=!1,r[_$_33a9[230]](_$_33a9[360],_,r),o=function(){var _;return(_=!0===r[_$_33a9[5]][_$_33a9[361]])&&(_=!0==(6==(_=u[_$_33a9[115]]())||7==_)),!!_}},r[_$_33a9[362]]=function(){r[_$_33a9[5]][_$_33a9[282]]?(1==r[_$_33a9[5]][_$_33a9[363]]&&jSuites[_$_33a9[364]][_$_33a9[316]](),jSuites[_$_33a9[252]]({url:r[_$_33a9[5]][_$_33a9[282]],method:_$_33a9[298],dataType:_$_33a9[233],success:function(_){r[_$_33a9[5]][_$_33a9[245]]=_[_$_33a9[245]]?_[_$_33a9[245]]:_,r[_$_33a9[254]](),1==r[_$_33a9[5]][_$_33a9[363]]&&jSuites[_$_33a9[364]][_$_33a9[365]]()}})):r[_$_33a9[254]]()},r[_$_33a9[366]]=function(_){var a=[],$=[];_&&_[0]&&null!=_[0][_$_33a9[367]]&&_[0][_$_33a9[245]]&&Array[_$_33a9[8]](_[0][_$_33a9[245]])&&2==Object[_$_33a9[119]](_[0])[_$_33a9[9]]||(r[_$_33a9[5]][_$_33a9[233]]=r[_$_33a9[5]][_$_33a9[245]]);for(var e=r[_$_33a9[368]](),n=0;n<_[_$_33a9[9]];n++){var t=[];if(_[n][_$_33a9[245]]){var u=_[n][_$_33a9[367]]?_[n][_$_33a9[367]]:n;_[n][_$_33a9[369]]&&(a[u]=_[n][_$_33a9[369]])}else u=n;for(var o=0;o<r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]];o++){var i=r[_$_33a9[5]][_$_33a9[133]][o][_$_33a9[92]]?r[_$_33a9[5]][_$_33a9[133]][o][_$_33a9[92]]:o;t[o]=_[n][_$_33a9[245]]?_[n][_$_33a9[245]][i]:_[n][i]}null===e||a[u]||(a[u]=t[e]),$[u]=t}return[$,a]},r[_$_33a9[254]]=function(_){if(_&&(typeof _==_$_33a9[370]&&(_=JSON[_$_33a9[87]](_)),r[_$_33a9[5]][_$_33a9[245]]=_),r[_$_33a9[5]][_$_33a9[245]]||(r[_$_33a9[5]][_$_33a9[245]]=r[_$_33a9[5]][_$_33a9[233]]?r[_$_33a9[5]][_$_33a9[233]]:[]),r[_$_33a9[5]][_$_33a9[245]]&&r[_$_33a9[5]][_$_33a9[245]][0]&&!Array[_$_33a9[8]](r[_$_33a9[5]][_$_33a9[245]][0])){var a=r[_$_33a9[366]](r[_$_33a9[5]][_$_33a9[245]]);r[_$_33a9[5]][_$_33a9[245]]=a[0]}var $=r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]],e=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]],n=r[_$_33a9[5]][_$_33a9[136]][0],t=r[_$_33a9[5]][_$_33a9[136]][1];for($=n>$?n:$,n=t>e?t:e,e=0;e<n;e++)for(t=0;t<$;t++)null==r[_$_33a9[5]][_$_33a9[245]][e]&&(r[_$_33a9[5]][_$_33a9[245]][e]=[]),null==r[_$_33a9[5]][_$_33a9[245]][e][t]&&(r[_$_33a9[5]][_$_33a9[245]][e][t]=_$_33a9[75]);r[_$_33a9[33]]=[],r[_$_33a9[34]]=null,r[_$_33a9[45]]=[],r[_$_33a9[47]]=[],r[_$_33a9[52]]=0,r[_$_33a9[32]][_$_33a9[315]]=_$_33a9[75],1==r[_$_33a9[5]][_$_33a9[188]]?(1==r[_$_33a9[5]][_$_33a9[192]]&&(r[_$_33a9[38]]||(r[_$_33a9[38]]=[0,r[_$_33a9[5]][_$_33a9[329]]])),r[_$_33a9[37]]||(r[_$_33a9[37]]=0),$=0,n=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]<r[_$_33a9[5]][_$_33a9[329]]?r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]:r[_$_33a9[5]][_$_33a9[329]],r[_$_33a9[5]][_$_33a9[36]]&&(r[_$_33a9[5]][_$_33a9[36]]=!1,console[_$_33a9[14]](_$_33a9[371]))):r[_$_33a9[5]][_$_33a9[36]]?(r[_$_33a9[37]]||(r[_$_33a9[37]]=0),$=r[_$_33a9[5]][_$_33a9[36]]*r[_$_33a9[37]],n=r[_$_33a9[5]][_$_33a9[36]]*r[_$_33a9[37]]+r[_$_33a9[5]][_$_33a9[36]],r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]<n&&(n=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]])):($=0,n=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]);var u=r[_$_33a9[368]]();for(e=0;e<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];e++){for((t=a&&a[1]&&a[1][e]?a[1][e]:null!==u?r[_$_33a9[5]][_$_33a9[245]][e][u]:null)&&t>r[_$_33a9[59]]&&(r[_$_33a9[59]]=t),r[_$_33a9[33]][e]={element:null,y:e,id:t},r[_$_33a9[45]][e]=[],t=0;t<r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]];t++)r[_$_33a9[45]][e][t]={element:null,x:t,y:e,v:null};e>=$&&e<n&&r[_$_33a9[372]](e)}1!=r[_$_33a9[5]][_$_33a9[188]]&&r[_$_33a9[5]][_$_33a9[36]]&&r[_$_33a9[373]](),r[_$_33a9[374]](),r[_$_33a9[375]](),r[_$_33a9[139]](_$_33a9[254],_)},r[_$_33a9[255]]=function(_,a){if(_){var $=r[_$_33a9[376]]();if(!$)return[];_=$[0],e=$[1],n=$[2],$=$[3]}else{var e=_=0,n=r[_$_33a9[44]][_$_33a9[9]]-1;$=r[_$_33a9[33]][_$_33a9[9]]-1}for(var t=[];e<=$;e++){for(var u=[],o=_;o<=n;o++)a?u[_$_33a9[10]](v(o,e)):u[_$_33a9[10]](r[_$_33a9[5]][_$_33a9[245]][e][o]);t[_$_33a9[10]](u)}return t},r[_$_33a9[377]]=function(_,a){if(_){var $=r[_$_33a9[376]]();_=$[0],e=$[1],n=$[2],$=$[3]}else{var e=_=0,n=r[_$_33a9[44]][_$_33a9[9]]-1;$=r[_$_33a9[33]][_$_33a9[9]]-1}for(r[_$_33a9[5]][_$_33a9[233]]||(r[_$_33a9[5]][_$_33a9[233]]=[]);e<=$;e++){for(var t={},u=_;u<=n;u++)t[r[_$_33a9[5]][_$_33a9[133]][u][_$_33a9[92]]?r[_$_33a9[5]][_$_33a9[133]][u][_$_33a9[92]]:u]=a?v(u,e):r[_$_33a9[5]][_$_33a9[245]][e][u];null!=t&&(r[_$_33a9[5]][_$_33a9[233]][e]||(r[_$_33a9[5]][_$_33a9[233]][e]={}),r[_$_33a9[5]][_$_33a9[233]][e]=t)}return r[_$_33a9[5]][_$_33a9[233]]},r[_$_33a9[378]]=function(_){_=r[_$_33a9[5]][_$_33a9[245]][_];for(var a=r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]],$={},e=0;e<a;e++)r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[92]]||(r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[92]]=e),$[r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[92]]]=_[e];return $},r[_$_33a9[133]]=function(){var _={};return _[_$_33a9[379]]=function(){for(var _=0;_<r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]];_++)if(1==r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[379]])return _;return!1},_[_$_33a9[380]]=function(_){for(var a=0;a<r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]];a++)if(r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[92]]==_)return a;return!1},_[_$_33a9[381]]=function(_){return!!r[_$_33a9[5]][_$_33a9[133]][_]&&r[_$_33a9[5]][_$_33a9[133]][_]},_[_$_33a9[382]]=function(_,a){return r[_$_33a9[275]](_,a),!1},_}(),r[_$_33a9[368]]=function(){return r[_$_33a9[133]][_$_33a9[379]]()},r[_$_33a9[383]]=function(_){return r[_$_33a9[133]][_$_33a9[380]](_)},r[_$_33a9[384]]=function(_){return r[_$_33a9[133]][_$_33a9[381]](_)},r[_$_33a9[385]]=function(_,a){return r[_$_33a9[133]][_$_33a9[382]](_,a)},r[_$_33a9[386]]=function(){return 1==r[_$_33a9[5]][_$_33a9[59]]?++r[_$_33a9[59]]:null},r[_$_33a9[387]]=function(_,a){if(a||(a=0),_&&Number(_)){var $=r[_$_33a9[368]]();if($){for(e=0;e<r[_$_33a9[33]][_$_33a9[9]];e++)if(r[_$_33a9[5]][_$_33a9[133]][e][$]==_)return r[_$_33a9[5]][_$_33a9[245]][e][a]}else for(var e=0;e<r[_$_33a9[33]][_$_33a9[9]];e++)if(r[_$_33a9[33]][e]&&r[_$_33a9[33]][e][_$_33a9[369]]==_)return r[_$_33a9[5]][_$_33a9[245]][e][a]}return!1},r[_$_33a9[388]]=function(_){var a=r[_$_33a9[33]][_]&&r[_$_33a9[33]][_][_$_33a9[369]]?r[_$_33a9[33]][_][_$_33a9[369]]:null;if(!a){var $=r[_$_33a9[368]]();null!=$&&(a=r[_$_33a9[5]][_$_33a9[245]][_]&&r[_$_33a9[5]][_$_33a9[245]][_][$]?r[_$_33a9[5]][_$_33a9[245]][_][$]:null)}return a},r[_$_33a9[389]]=function(a,$){if(void 0!==$&&0<=parseInt(a)){var e={};e[a]=$}else e=a;if((a=Object[_$_33a9[119]](e))[_$_33a9[9]]){for(var n=0;n<a[_$_33a9[9]];n++)$=e[a[n]],r[_$_33a9[33]][a[n]][_$_33a9[369]]=$,$>r[_$_33a9[59]]&&(r[_$_33a9[59]]=$);r[_$_33a9[139]](_$_33a9[389],e),r[_$_33a9[230]](_$_33a9[390],_,r,e)}},r[_$_33a9[258]]=function(_,a){for(var $=[],e={},n=0;n<_[_$_33a9[9]];n++){var t=_[n][_$_33a9[391]],u=_[n][_$_33a9[392]];t=1==a?t:r[_$_33a9[5]][_$_33a9[133]][t][_$_33a9[92]]?r[_$_33a9[5]][_$_33a9[133]][t][_$_33a9[92]]:t;var o=r[_$_33a9[388]](u);o||(e[u]?o=e[u]:(o=r[_$_33a9[386]]())&&(e[u]=o)),$[u]||($[u]={id:o,row:u,data:{}}),$[u][_$_33a9[245]][t]=_[n][_$_33a9[393]],_[n][_$_33a9[394]]&&($[u][_$_33a9[62]]||($[u][_$_33a9[62]]={}),$[u][_$_33a9[62]][t]=_[n][_$_33a9[394]])}return r[_$_33a9[389]](e),$[_$_33a9[216]]((function(_){return null!=_}))},r[_$_33a9[395]]=function(_,a){for(var $=[],e=0;e<r[_$_33a9[5]][_$_33a9[245]][_][_$_33a9[9]];e++){var n=a?v(e,_):r[_$_33a9[5]][_$_33a9[245]][_][e];$[_$_33a9[10]](n)}return $},r[_$_33a9[396]]=function(_,a){for(var $=[],e=0;e<r[_$_33a9[44]][_$_33a9[9]];e++)null!==a[e]&&$[_$_33a9[10]]({x:e,y:_,value:a[e]});$[_$_33a9[9]]&&r[_$_33a9[256]]($)},r[_$_33a9[397]]=function(_,a){for(var $=[],e=0;e<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];e++){var n=a?v(_,e):r[_$_33a9[5]][_$_33a9[245]][e][_];$[_$_33a9[10]](n)}return $},r[_$_33a9[398]]=function(_,a){for(var $=[],e=0;e<r[_$_33a9[33]][_$_33a9[9]];e++)null!==a[e]&&$[_$_33a9[10]]({x:_,y:e,value:a[e]});$[_$_33a9[9]]&&r[_$_33a9[256]]($)},r[_$_33a9[399]]=function(_,a){r[_$_33a9[33]][_]||(r[_$_33a9[33]][_]={element:null,y:_}),r[_$_33a9[45]][_]||(r[_$_33a9[45]][_]=[]);var $=r[_$_33a9[5]][_$_33a9[245]][_],e=document[_$_33a9[20]](_$_33a9[325]);e[_$_33a9[321]](_$_33a9[400],_),r[_$_33a9[33]][_][_$_33a9[60]]=e;var n=null;for(!1!==a&&r[_$_33a9[5]][_$_33a9[33]][_]&&(r[_$_33a9[5]][_$_33a9[33]][_][_$_33a9[62]]&&e[_$_33a9[321]](_$_33a9[62],r[_$_33a9[5]][_$_33a9[33]][_][_$_33a9[62]]),r[_$_33a9[5]][_$_33a9[33]][_][_$_33a9[401]]&&(e[_$_33a9[62]][_$_33a9[401]]=r[_$_33a9[5]][_$_33a9[33]][_][_$_33a9[401]]),r[_$_33a9[5]][_$_33a9[33]][_][_$_33a9[292]]&&(n=r[_$_33a9[5]][_$_33a9[33]][_][_$_33a9[292]])),n||(n=parseInt(_+1)),(a=document[_$_33a9[20]](_$_33a9[326]))[_$_33a9[315]]=n,a[_$_33a9[321]](_$_33a9[400],_),a[_$_33a9[208]]=_$_33a9[402],e[_$_33a9[108]](a),n=0;n<r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]];n++)a=r[_$_33a9[403]](n,_,$&&void 0!==$[n]?$[n]:_$_33a9[75]),(1!=r[_$_33a9[5]][_$_33a9[188]]||1!=r[_$_33a9[5]][_$_33a9[192]]||n>=r[_$_33a9[38]][0]&&n<r[_$_33a9[38]][1])&&e[_$_33a9[108]](a);return e},r[_$_33a9[372]]=function(_,a){r[_$_33a9[33]][_]&&r[_$_33a9[33]][_][_$_33a9[60]]?1==r[_$_33a9[5]][_$_33a9[188]]&&1==r[_$_33a9[5]][_$_33a9[192]]&&parseInt(r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[219]][1][_$_33a9[405]](_$_33a9[404]))!=r[_$_33a9[38]][0]&&r[_$_33a9[406]](_):r[_$_33a9[399]](_),a?r[_$_33a9[32]][_$_33a9[21]](r[_$_33a9[33]][_][_$_33a9[60]],a):r[_$_33a9[32]][_$_33a9[108]](r[_$_33a9[33]][_][_$_33a9[60]])},r[_$_33a9[406]]=function(_){for(var a=r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[219]][_$_33a9[9]],$=1;$<a;$++)r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[407]](r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[219]][1]);for($=r[_$_33a9[38]][0];$<r[_$_33a9[38]][1];$++)r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[108]](r[_$_33a9[45]][_][$][_$_33a9[60]])},r[_$_33a9[403]]=function(_,a,$){var e=document[_$_33a9[20]](_$_33a9[326]);e[_$_33a9[321]](_$_33a9[404],_),e[_$_33a9[321]](_$_33a9[400],a),r[_$_33a9[408]](e,_,a);var n=r[_$_33a9[409]](_,a);return n[0]&&typeof n[0][_$_33a9[403]]==_$_33a9[12]&&(void 0!==(n=n[0][_$_33a9[403]](e,$,_,a,r,n[1]))&&($=n)),$=r[_$_33a9[410]](_,a,$),r[_$_33a9[45]][a][_]={element:e,x:_,y:a,v:$},e},r[_$_33a9[410]]=function(_,a,$){if($&&$[0]==_$_33a9[411]&&1==r[_$_33a9[5]][_$_33a9[197]]){var e=p[_$_33a9[18]][_$_33a9[412]]($);e!=$&&($=e)}return r[_$_33a9[5]][_$_33a9[245]][a][_]=$,r[_$_33a9[5]][_$_33a9[233]]&&(r[_$_33a9[5]][_$_33a9[233]][a]||(r[_$_33a9[5]][_$_33a9[233]][a]={}),r[_$_33a9[5]][_$_33a9[233]][a][r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[92]]?r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[92]]:_]=$),r[_$_33a9[45]][a]&&r[_$_33a9[45]][a][_]&&(r[_$_33a9[45]][a][_][_$_33a9[413]]=$),$[0]!==_$_33a9[411]&&1==r[_$_33a9[5]][_$_33a9[414]]&&(_=p[_$_33a9[415]]([_,a]),r[_]=$),$},r[_$_33a9[408]]=function(_,a,$){r[_$_33a9[45]][$]&&r[_$_33a9[45]][$][a]&&(r[_$_33a9[45]][$][a][_$_33a9[62]]&&_[_$_33a9[321]](_$_33a9[62],r[_$_33a9[45]][$][a][_$_33a9[62]]),r[_$_33a9[45]][$][a][_$_33a9[359]]&&_[_$_33a9[321]](_$_33a9[292],r[_$_33a9[45]][$][a][_$_33a9[359]]),r[_$_33a9[44]][a][_$_33a9[62]][_$_33a9[106]]==_$_33a9[107]&&(_[_$_33a9[62]][_$_33a9[106]]=_$_33a9[107])),_[_$_33a9[62]][_$_33a9[61]]=r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[416]]?r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[416]]:r[_$_33a9[5]][_$_33a9[417]],_[_$_33a9[62]][_$_33a9[419]]=0!=r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[418]]&&(1==r[_$_33a9[5]][_$_33a9[418]]||1==r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[418]]||200<r[_$_33a9[5]][_$_33a9[245]][$][a][_$_33a9[9]])?_$_33a9[420]:_$_33a9[75],1!=r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[421]]&&1!=r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[422]]||(_[_$_33a9[208]]=_$_33a9[422]),1==r[_$_33a9[5]][_$_33a9[335]]&&0<a&&(_[_$_33a9[315]]?r[_$_33a9[45]][$][a-1][_$_33a9[60]][_$_33a9[62]][_$_33a9[423]]=_$_33a9[424]:a==r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]]-1&&(_[_$_33a9[62]][_$_33a9[423]]=_$_33a9[424]))},r[_$_33a9[425]]=function(_,a){var $=r[_$_33a9[5]][_$_33a9[133]][_];return r[_$_33a9[5]][_$_33a9[426]]&&void 0!==a&&(_=p[_$_33a9[415]]([_,a]),r[_$_33a9[5]][_$_33a9[426]][_]&&($=r[_$_33a9[5]][_$_33a9[426]][_])),$[_$_33a9[288]]&&(typeof $[_$_33a9[288]]!=_$_33a9[370]||p[_$_33a9[427]][$[_$_33a9[288]]])||($[_$_33a9[288]]=_$_33a9[186]),$},r[_$_33a9[428]]=function(_,a){return r[_$_33a9[429]](_,a)[_$_33a9[288]]},r[_$_33a9[430]]=function(_,a){r[_$_33a9[275]](_,a)},r[_$_33a9[429]]=function(_,a){if(r[_$_33a9[5]][_$_33a9[133]][_])return r[_$_33a9[425]](_,a);console[_$_33a9[14]](_$_33a9[431])},r[_$_33a9[275]]=function(_,a){if(!o())return!1;if(r[_$_33a9[5]][_$_33a9[133]][_]){(a=typeof a==_$_33a9[370]?{type:a}:a)[_$_33a9[288]]&&p[_$_33a9[427]][a[_$_33a9[288]]]||(a[_$_33a9[288]]=_$_33a9[186]),r[_$_33a9[58]]&&r[_$_33a9[58]][0]&&r[_$_33a9[432]](r[_$_33a9[58]][0],!1);var $=r[_$_33a9[5]][_$_33a9[133]][_],e=p[_$_33a9[427]][$[_$_33a9[288]]],n=p[_$_33a9[427]][a[_$_33a9[288]]];if(e&&typeof e[_$_33a9[433]]==_$_33a9[12])for(var t=0;t<r[_$_33a9[45]][_$_33a9[9]];t++)r[_$_33a9[45]][t][_][_$_33a9[60]]&&e[_$_33a9[433]](r[_$_33a9[45]][t][_][_$_33a9[60]]);if(r[_$_33a9[5]][_$_33a9[133]][_]=a,n&&typeof n[_$_33a9[403]]==_$_33a9[12])for(t=0;t<r[_$_33a9[45]][_$_33a9[9]];t++)r[_$_33a9[45]][t]&&r[_$_33a9[45]][t][_]&&r[_$_33a9[45]][t][_][_$_33a9[60]]&&(r[_$_33a9[408]](r[_$_33a9[45]][t][_][_$_33a9[60]],_,t),n[_$_33a9[403]](r[_$_33a9[45]][t][_][_$_33a9[60]],r[_$_33a9[5]][_$_33a9[245]][t][_],_,t,r,a));return a[_$_33a9[294]]&&r[_$_33a9[49]][_][_$_33a9[321]](_$_33a9[294],parseInt(a[_$_33a9[294]])),a[_$_33a9[292]]&&(r[_$_33a9[44]][_][_$_33a9[109]]=a[_$_33a9[292]],r[_$_33a9[44]][_][_$_33a9[321]](_$_33a9[434],a[_$_33a9[292]]),r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[292]]=a[_$_33a9[292]]),a[_$_33a9[435]]&&r[_$_33a9[44]][_][_$_33a9[321]](_$_33a9[292],a[_$_33a9[435]]),r[_$_33a9[436]](),r[_$_33a9[437]]({action:_$_33a9[275],column:_,newValue:a,oldValue:$}),r[_$_33a9[139]](_$_33a9[275],_,a),!0}console[_$_33a9[14]](_$_33a9[431])},r[_$_33a9[328]]=function(_){var a=r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[294]]?r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[294]]:r[_$_33a9[5]][_$_33a9[296]],$=r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[416]]?r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[416]]:_$_33a9[142],e=r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[292]]?r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[292]]:p[_$_33a9[438]](_);r[_$_33a9[44]][_]=document[_$_33a9[20]](_$_33a9[326]),r[_$_33a9[5]][_$_33a9[439]]?r[_$_33a9[44]][_][_$_33a9[109]]=e:r[_$_33a9[44]][_][_$_33a9[315]]=e,r[_$_33a9[44]][_][_$_33a9[321]](_$_33a9[404],_),r[_$_33a9[44]][_][_$_33a9[62]][_$_33a9[61]]=$,r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[292]]&&r[_$_33a9[44]][_][_$_33a9[321]](_$_33a9[434],r[_$_33a9[44]][_][_$_33a9[109]]),r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[435]]&&r[_$_33a9[44]][_][_$_33a9[321]](_$_33a9[292],r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[435]]),1!=r[_$_33a9[5]][_$_33a9[130]]&&1!=r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[216]]||r[_$_33a9[44]][_][_$_33a9[125]][_$_33a9[124]](_$_33a9[131]),r[_$_33a9[49]][_]=document[_$_33a9[20]](_$_33a9[319]),r[_$_33a9[49]][_][_$_33a9[321]](_$_33a9[294],a),r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[288]]==_$_33a9[424]&&(r[_$_33a9[44]][_][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107],r[_$_33a9[49]][_][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107])},r[_$_33a9[274]]=function(_,a,$){if(!o())return!1;$[_$_33a9[292]]&&(r[_$_33a9[5]][_$_33a9[322]][a][_][_$_33a9[292]]=$[_$_33a9[292]],r[_$_33a9[5]][_$_33a9[322]][a][_$_33a9[60]][_$_33a9[219]][_+1][_$_33a9[315]]=$[_$_33a9[292]]),$[_$_33a9[440]]&&(r[_$_33a9[5]][_$_33a9[322]][a][_][_$_33a9[440]]=$[_$_33a9[440]],r[_$_33a9[5]][_$_33a9[322]][a][_$_33a9[60]][_$_33a9[219]][_+1][_$_33a9[321]](_$_33a9[440],$[_$_33a9[440]])),r[_$_33a9[139]](_$_33a9[274],_,a,$)},r[_$_33a9[323]]=function(_,a){var $=document[_$_33a9[20]](_$_33a9[325]);$[_$_33a9[125]][_$_33a9[124]](_$_33a9[441]);var e=document[_$_33a9[20]](_$_33a9[326]);$[_$_33a9[108]](e),_[_$_33a9[60]]=$;for(var n=0;n<_[_$_33a9[9]];n++)_[n][_$_33a9[440]]||(_[n][_$_33a9[440]]=1),_[n][_$_33a9[416]]||(_[n][_$_33a9[416]]=_$_33a9[142]),_[n][_$_33a9[292]]||(_[n][_$_33a9[292]]=_$_33a9[75]),(e=document[_$_33a9[20]](_$_33a9[326]))[_$_33a9[321]](_$_33a9[442],n),e[_$_33a9[321]](_$_33a9[443],a),e[_$_33a9[321]](_$_33a9[440],_[n][_$_33a9[440]]),e[_$_33a9[321]](_$_33a9[416],_[n][_$_33a9[416]]),e[_$_33a9[315]]=_[n][_$_33a9[292]],$[_$_33a9[108]](e);return $},r[_$_33a9[444]]=function(_,a){for(var $=[],e=0,n=0;n<r[_$_33a9[5]][_$_33a9[322]][a][_$_33a9[9]];n++){var t=parseInt(r[_$_33a9[5]][_$_33a9[322]][a][n][_$_33a9[440]]);$[n]=[e,e+t-1],e+=t}return $[_]},r[_$_33a9[200]]=function(_){for(var a=0;a<_[_$_33a9[9]];a++)if(_[a][_$_33a9[92]]&&_[a][_$_33a9[445]])if(typeof r[_$_33a9[42]][_[a][_$_33a9[92]]]==_$_33a9[12])console[_$_33a9[14]](_$_33a9[447]+_[a][_$_33a9[92]]);else{var $=_[a][_$_33a9[445]];typeof $==_$_33a9[370]&&(typeof window[$]==_$_33a9[12]?$=window[$]:console[_$_33a9[14]](_$_33a9[448]+_[a][_$_33a9[92]]));var e=_[a][_$_33a9[5]]?_[a][_$_33a9[5]]:{};typeof $==_$_33a9[12]&&(r[_$_33a9[42]][_[a][_$_33a9[92]]]=$(r,e))}else console[_$_33a9[14]](_$_33a9[446])},r[_$_33a9[135]]=function(){var _=r[_$_33a9[5]][_$_33a9[35]];Array[_$_33a9[8]](_)&&(_={items:_}),_&&typeof _===_$_33a9[449]||(_={}),_[_$_33a9[450]]||(_[_$_33a9[450]]=p[_$_33a9[18]][_$_33a9[451]](r));for(var a=0;a<_[_$_33a9[450]][_$_33a9[9]];a++)if(_[_$_33a9[450]][a][_$_33a9[288]]==_$_33a9[310]){if(!_[_$_33a9[450]][a][_$_33a9[5]]&&_[_$_33a9[450]][a][_$_33a9[413]]){_[_$_33a9[450]][a][_$_33a9[5]]=[];for(var $=0;$<_[_$_33a9[450]][a][_$_33a9[413]][_$_33a9[9]];$++)_[_$_33a9[450]][a][_$_33a9[5]][_$_33a9[10]](_[_$_33a9[450]][a][_$_33a9[413]][$]);_[_$_33a9[450]][a][_$_33a9[74]]&&(_[_$_33a9[450]][a][_$_33a9[312]]=function(_,a,$,e){r[_$_33a9[266]](r[_$_33a9[452]](),$[_$_33a9[74]],e)})}}else _[_$_33a9[450]][a][_$_33a9[288]]==_$_33a9[453]?(_[_$_33a9[450]][a][_$_33a9[288]]=_$_33a9[454],_[_$_33a9[450]][a][_$_33a9[67]]=function(_,a,$){$[_$_33a9[453]]||jSuites[_$_33a9[453]]($,{onchange:function(_,a){r[_$_33a9[266]](r[_$_33a9[452]](),$[_$_33a9[74]],a)}})[_$_33a9[250]]()}):!_[_$_33a9[450]][a][_$_33a9[67]]&&_[_$_33a9[450]][a][_$_33a9[74]]&&(_[_$_33a9[450]][a][_$_33a9[67]]=function(){r[_$_33a9[266]](r[_$_33a9[452]](),this[_$_33a9[74]],this[_$_33a9[413]])});r[_$_33a9[35]][_$_33a9[315]]||jSuites[_$_33a9[35]](r[_$_33a9[35]],_),r[_$_33a9[35]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75],r[_$_33a9[25]][_$_33a9[125]][_$_33a9[124]](_$_33a9[455])},r[_$_33a9[134]]=function(){r[_$_33a9[35]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107],r[_$_33a9[25]][_$_33a9[125]][_$_33a9[23]](_$_33a9[455])},r[_$_33a9[456]]=function(){var a={},$=!1,e=null;return a[_$_33a9[381]]=function(_){return _?r[_$_33a9[5]][_$_33a9[357]][_]:r[_$_33a9[5]][_$_33a9[357]]},a[_$_33a9[457]]=function(_){return e=a[_$_33a9[381]](_),_+_$_33a9[458]+p[_$_33a9[18]][_$_33a9[459]](_,e[0]-1,e[1]-1)},a[_$_33a9[460]]=function(_,a,$){for(var e={},n={},t={},u=Object[_$_33a9[119]](r[_$_33a9[5]][_$_33a9[357]]),o=0;o<u[_$_33a9[9]];o++){for(var i=p[_$_33a9[18]][_$_33a9[461]](u[o]),f=parseInt(r[_$_33a9[5]][_$_33a9[357]][u[o]][0]),l=parseInt(r[_$_33a9[5]][_$_33a9[357]][u[o]][1]),c=0;c<f;c++)n[i[0]+c]=!0;for(var s=0;s<l;s++)t[i[1]+s]=!0;if(1==$)for(s=0;s<l;s++)for(e[i[1]+s]||(e[i[1]+s]={}),c=0;c<f;c++)e[i[1]+s][i[0]+c]=[i[0],i[1],f,l,u[o]]}return null!==_&&null!==a?1==$&&n[_]&&t[a]?e[a][_]:!(!n[_]||!t[a]):null!==_?!!n[_]:null!==a?!!t[a]:null},a[_$_33a9[215]]=function(n,t,u,i){if(!o())return!1;if(typeof n==_$_33a9[82]){var f=r[_$_33a9[452]]();f&&(n=f)}if(Array[_$_33a9[8]](n)&&n[0]&&n[0][_$_33a9[60]]&&(f=n[0],u=n[n[_$_33a9[9]]-1],n=p[_$_33a9[18]][_$_33a9[462]](f[_$_33a9[391]],f[_$_33a9[392]]),t=u[_$_33a9[391]]-f[_$_33a9[391]]+1,u=u[_$_33a9[392]]-f[_$_33a9[392]]+1),typeof n!=_$_33a9[370]){for(t=Object[_$_33a9[119]](n),f=0;f<t[_$_33a9[9]];f++)(i=n[t[f]])&&a[_$_33a9[215]](t[f],i[0],i[1],!0);return!0}if(t=parseInt(t),u=parseInt(u),1==r[_$_33a9[5]][_$_33a9[188]])return console[_$_33a9[199]](_$_33a9[463]),!1;if(r[_$_33a9[5]][_$_33a9[36]])return console[_$_33a9[199]](_$_33a9[464]),!1;if(1==r[_$_33a9[5]][_$_33a9[307]])return console[_$_33a9[199]](_$_33a9[465]),!1;if(!n){if(!(n=r[_$_33a9[376]]()))return alert(r[_$_33a9[5]][_$_33a9[186]][_$_33a9[466]]),null;t=parseInt(n[0]),f=parseInt(n[1]),u=parseInt(n[2]);var l=parseInt(n[3]);n=p[_$_33a9[415]]([t,f]),t=u-t+1,u=l-f+1}if(l=p[_$_33a9[18]][_$_33a9[461]](n),(!t||2>t)&&(!u||2>u))$=r[_$_33a9[5]][_$_33a9[186]][_$_33a9[467]];else for(var c=l[1];c<l[1]+u;c++)for(f=l[0];f<l[0]+t;f++)(e=a[_$_33a9[460]](f,c,!0))&&(!0===i?a[_$_33a9[468]](f,c):e[4]!=n&&($=r[_$_33a9[5]][_$_33a9[186]][_$_33a9[469]]));$?alert($):(e=r[_$_33a9[5]][_$_33a9[357]][n]?r[_$_33a9[5]][_$_33a9[357]][n]:null,a[_$_33a9[470]](n,t,u),r[_$_33a9[437]]({action:_$_33a9[262],column:n,colspan:t,rowspan:u,info:e}),r[_$_33a9[54]]||r[_$_33a9[471]](l[0],l[1]),r[_$_33a9[230]](_$_33a9[472],_,n,t,u),r[_$_33a9[139]](_$_33a9[262],n,t,u,i))},a[_$_33a9[473]]=function(_,$,e){var n=p[_$_33a9[18]][_$_33a9[474]](a[_$_33a9[457]](_));if(n[_$_33a9[9]]){for(var t=[],u=0;u<n[_$_33a9[9]];u++)e&&e[n[u]]||($[n[u]]?t[_$_33a9[10]]($[n[u]]):t[_$_33a9[10]](n[u]));if(t[_$_33a9[9]])return $=(n=(n=p[_$_33a9[18]][_$_33a9[475]](t))[_$_33a9[86]](_$_33a9[458]))[0],n[0]=p[_$_33a9[18]][_$_33a9[461]](n[0]),n[1]=p[_$_33a9[18]][_$_33a9[461]](n[1]),e=n[1][0]-n[0][0]+1,n=n[1][1]-n[0][1]+1,(_!=$||r[_$_33a9[5]][_$_33a9[357]][_][0]!=e||r[_$_33a9[5]][_$_33a9[357]][_][1]!=n)&&(2>e&&2>n?a[_$_33a9[476]](_):(_!=$&&delete r[_$_33a9[5]][_$_33a9[357]][_],a[_$_33a9[470]]($,e,n)),!0);delete r[_$_33a9[5]][_$_33a9[357]][_]}},a[_$_33a9[476]]=function(_){if(!o())return!1;if(_){var $=p[_$_33a9[18]][_$_33a9[461]](_);($=r[_$_33a9[477]]($[0],$[1],!0))&&(a[_$_33a9[468]]($[0],$[1]),r[_$_33a9[471]]($[0],$[1],$[0]+$[2]-1,$[1]+$[3]-1),r[_$_33a9[139]](_$_33a9[263],_))}else{_=Object[_$_33a9[119]](r[_$_33a9[5]][_$_33a9[357]]);for(var e=0;e<_[_$_33a9[9]];e++)$=p[_$_33a9[18]][_$_33a9[461]](_[e]),a[_$_33a9[468]]($[0],$[1]);r[_$_33a9[139]](_$_33a9[264])}},a[_$_33a9[470]]=function(_,$,e){var n=p[_$_33a9[18]][_$_33a9[461]](_);for(r[_$_33a9[5]][_$_33a9[357]][_]&&a[_$_33a9[468]](n[0],n[1]),1<$?r[_$_33a9[45]][n[1]][n[0]][_$_33a9[60]][_$_33a9[321]](_$_33a9[440],$):(r[_$_33a9[45]][n[1]][n[0]][_$_33a9[60]][_$_33a9[478]](_$_33a9[440]),$=1),1<e?r[_$_33a9[45]][n[1]][n[0]][_$_33a9[60]][_$_33a9[321]](_$_33a9[479],e):(r[_$_33a9[45]][n[1]][n[0]][_$_33a9[60]][_$_33a9[478]](_$_33a9[479]),e=1),r[_$_33a9[5]][_$_33a9[357]][_]=[$,e],1==r[_$_33a9[5]][_$_33a9[335]]&&(r[_$_33a9[45]][n[1]][n[0]][_$_33a9[60]][_$_33a9[62]][_$_33a9[423]]=_$_33a9[424]),_=n[1];_<n[1]+e;_++)for(var t=n[0];t<n[0]+$;t++)n[0]!=t||n[1]!=_?r[_$_33a9[45]][_]&&r[_$_33a9[45]][_][t]&&(r[_$_33a9[45]][_][t][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107],r[_$_33a9[5]][_$_33a9[245]][_][t]=_$_33a9[75]):r[_$_33a9[45]][_][t][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75]},a[_$_33a9[468]]=function(_,$){var e;if(e=a[_$_33a9[460]](_,$,!0)){delete r[_$_33a9[5]][_$_33a9[357]][e[4]],_=e[0],$=e[1];var n=e[2];e=e[3],r[_$_33a9[45]][$][_][_$_33a9[60]][_$_33a9[478]](_$_33a9[440]),r[_$_33a9[45]][$][_][_$_33a9[60]][_$_33a9[478]](_$_33a9[479]);for(var t=0;t<e;t++)for(var u=0;u<n;u++)(0<t||0<u)&&r[_$_33a9[45]][$+t]&&r[_$_33a9[45]][$+t][_+u]&&r[_$_33a9[45]][$+t][_+u][_$_33a9[60]]&&(r[_$_33a9[45]][$+t][_+u][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75],r[_$_33a9[5]][_$_33a9[245]][$+t][_+u]=r[_$_33a9[45]][$+t][_+u][_$_33a9[413]]);return[_,$,_+n-1,$+e-1]}},a}(),r[_$_33a9[480]]=function(_){return r[_$_33a9[456]][_$_33a9[381]](_)},r[_$_33a9[262]]=function(_,a,$,e){return r[_$_33a9[456]][_$_33a9[215]](_,a,$,e)},r[_$_33a9[263]]=function(_){return r[_$_33a9[456]][_$_33a9[476]](_)},r[_$_33a9[264]]=function(){return r[_$_33a9[456]][_$_33a9[476]]()},r[_$_33a9[477]]=function(_,a,$){return r[_$_33a9[456]][_$_33a9[460]](_,a,$)},r[_$_33a9[481]]=function(_){return r[_$_33a9[456]][_$_33a9[460]](_,null)},r[_$_33a9[482]]=function(_){return r[_$_33a9[456]][_$_33a9[460]](null,_)},r[_$_33a9[409]]=function(_,a){return[(_=r[_$_33a9[425]](_,a))[_$_33a9[288]]&&typeof _[_$_33a9[288]]==_$_33a9[449]?_[_$_33a9[288]]:p[_$_33a9[427]][_[_$_33a9[288]]],_]},r[_$_33a9[483]]=function(a,$,e){if(!o())return!1;var n=parseInt(a[_$_33a9[405]](_$_33a9[404])),t=parseInt(a[_$_33a9[405]](_$_33a9[400]));if(!(1==a[_$_33a9[125]][_$_33a9[202]](_$_33a9[422])||r[_$_33a9[5]][_$_33a9[133]][n]&&1==r[_$_33a9[5]][_$_33a9[133]][n][_$_33a9[421]])){1==r[_$_33a9[5]][_$_33a9[335]]&&0<n&&(r[_$_33a9[45]][t][n-1][_$_33a9[60]][_$_33a9[62]][_$_33a9[423]]=_$_33a9[424]),r[_$_33a9[58]]=[a,a[_$_33a9[315]],n,t],r[_$_33a9[230]](_$_33a9[484],_,a,n,t),$=1==$?_$_33a9[75]:r[_$_33a9[5]][_$_33a9[245]][t][n];var u=r[_$_33a9[409]](n,t);typeof u[0][_$_33a9[483]]==_$_33a9[12]&&(!1===u[0][_$_33a9[483]](a,$,n,t,r,u[1],e)?r[_$_33a9[58]]=null:r[_$_33a9[230]](_$_33a9[485],_,a,n,t,r[_$_33a9[58]][4],u[1])),1==r[_$_33a9[5]][_$_33a9[486]]&&a[_$_33a9[219]][0]&&r[_$_33a9[28]][_$_33a9[246]]&&(a[_$_33a9[219]][0][_$_33a9[246]]=r[_$_33a9[28]][_$_33a9[246]])}},r[_$_33a9[432]]=function(a,$){var e=parseInt(a[_$_33a9[405]](_$_33a9[404])),n=parseInt(a[_$_33a9[405]](_$_33a9[400])),t=function(){if(r[_$_33a9[58]][1][_$_33a9[487]]&&0<r[_$_33a9[58]][1][_$_33a9[487]][_$_33a9[9]])for(a[_$_33a9[315]]=_$_33a9[75];r[_$_33a9[58]][1][_$_33a9[487]][0];)a[_$_33a9[108]](r[_$_33a9[58]][1][_$_33a9[487]][0]);else a[_$_33a9[315]]=r[_$_33a9[58]][1]};r[_$_33a9[58]][4]&&r[_$_33a9[58]][4][_$_33a9[488]]&&(r[_$_33a9[58]][4][_$_33a9[488]]=null);var u=r[_$_33a9[409]](e,n);if(1==$){var o=null;typeof u[0][_$_33a9[432]]==_$_33a9[12]&&(void 0!==(u=u[0][_$_33a9[432]](a,!0,e,n,r,u[1]))&&(o=u)),null===o||r[_$_33a9[5]][_$_33a9[245]][n][e]==o?t():r[_$_33a9[256]](a,o)}else u[0][_$_33a9[432]](a,!1,e,n,r,u[1]),t();r[_$_33a9[230]](_$_33a9[489],_,a,e,n,o,$),a[_$_33a9[125]][_$_33a9[23]](_$_33a9[490]),a[_$_33a9[62]][_$_33a9[401]]=_$_33a9[75],r[_$_33a9[436]](),r[_$_33a9[58]]=null},r[_$_33a9[491]]=function(_){var a=(_=p[_$_33a9[492]](_,!0))[0];return _=_[1],r[_$_33a9[45]][_]&&r[_$_33a9[45]][_][a]&&r[_$_33a9[45]][_][a][_$_33a9[60]]?r[_$_33a9[45]][_][a][_$_33a9[60]]:null},r[_$_33a9[493]]=function(_,a){return r[_$_33a9[45]][a][_]&&r[_$_33a9[45]][a][_][_$_33a9[60]]?r[_$_33a9[45]][a][_][_$_33a9[60]]:(console[_$_33a9[14]](_$_33a9[494]),null)},r[_$_33a9[495]]=function(_){return _=p[_$_33a9[18]][_$_33a9[461]](_),r[_$_33a9[496]](_[0],_[1])},r[_$_33a9[496]]=function(_,a,$){return v(_,a,$)},r[_$_33a9[497]]=function(_,a){var $=r;if(typeof _==_$_33a9[449]){var e=_[_$_33a9[391]];_=_[_$_33a9[392]]}else 0<=_[_$_33a9[98]](_$_33a9[96])&&($=_[_$_33a9[86]](_$_33a9[96]),_=$[1],$=window[$[0]]),e=(_=p[_$_33a9[18]][_$_33a9[461]](_))[0],_=_[1];var n=null;return null!=e&&null!=_&&(a?n=v(e,_):$[_$_33a9[5]][_$_33a9[245]][_]&&typeof $[_$_33a9[5]][_$_33a9[245]][_][e]!==_$_33a9[82]&&(n=$[_$_33a9[5]][_$_33a9[245]][_][e])),n},r[_$_33a9[498]]=function(_,a,$){var e=null;return null!=_&&null!=a&&($&&r[_$_33a9[45]][a]&&r[_$_33a9[45]][a][_]&&r[_$_33a9[45]][a][_][_$_33a9[60]]?e=r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[315]]:r[_$_33a9[5]][_$_33a9[245]][a]&&null!=r[_$_33a9[5]][_$_33a9[245]][a][_]&&(e=r[_$_33a9[5]][_$_33a9[245]][a][_])),e};var i=function(_){for(var a=[],$=0;$<_[_$_33a9[9]];$++)a[_$_33a9[10]](r[_$_33a9[500]](_[$][_$_33a9[391]],_[$][_$_33a9[392]],_[$][_$_33a9[246]],_[$][_$_33a9[499]]));return a};r[_$_33a9[257]]=function(){},r[_$_33a9[256]]=function(a,$,e){if(!o())return!1;var n=[];if(typeof a==_$_33a9[370]){var t=p[_$_33a9[492]](a,!0),u=t[0];t=t[1],n[_$_33a9[10]]({x:u,y:t,value:$,force:e})}else if(t=u=null,a&&a[_$_33a9[405]]&&(u=a[_$_33a9[405]](_$_33a9[404]),t=a[_$_33a9[405]](_$_33a9[400])),null!=u&&null!=t)n[_$_33a9[10]]({x:u,y:t,value:$,force:e});else{var f=Object[_$_33a9[119]](a);if(0<f[_$_33a9[9]])for(var c=0;c<f[_$_33a9[9]];c++)typeof a[c]==_$_33a9[370]?(u=(t=p[_$_33a9[492]](a[c],!0))[0],t=t[1]):null!=a[c][_$_33a9[391]]&&null!=a[c][_$_33a9[392]]?(u=a[c][_$_33a9[391]],t=a[c][_$_33a9[392]],null!=a[c][_$_33a9[393]]?$=a[c][_$_33a9[393]]:null!=a[c][_$_33a9[246]]&&($=a[c][_$_33a9[246]])):(u=a[c][_$_33a9[391]],t=a[c][_$_33a9[392]]),null!=u&&null!=t&&n[_$_33a9[10]]({x:u,y:t,value:$,force:e})}n[_$_33a9[9]]&&(n=i(n),l(n),r[_$_33a9[437]]({action:_$_33a9[256],records:n,selection:r[_$_33a9[50]]}),r[_$_33a9[374]](),r[_$_33a9[375]](),setTimeout((function(){r[_$_33a9[436]]()}),0),r[_$_33a9[139]](_$_33a9[256],n),r[_$_33a9[230]](_$_33a9[501],_,n))},r[_$_33a9[502]]=function(_,a,$,e){var n=[];n[_$_33a9[10]]({x:_,y:a,newValue:$}),r[_$_33a9[256]](n,null,e)},r[_$_33a9[503]]=function(){for(var _=[],a=r[_$_33a9[452]](),$=0;$<a[_$_33a9[9]];$++){var e=a[$][_$_33a9[391]],n=a[$][_$_33a9[392]];r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[421]]||r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[288]]!=_$_33a9[504]||_[_$_33a9[10]]({x:e,y:n,newValue:!r[_$_33a9[5]][_$_33a9[245]][n][e]})}_[_$_33a9[9]]&&r[_$_33a9[256]](_)},r[_$_33a9[247]]=function(_){return r[_$_33a9[139]](_$_33a9[247],_),i(_)},r[_$_33a9[500]]=function(a,$,e,n){if(!r[_$_33a9[45]][$]||!r[_$_33a9[45]][$][a])return!1;if(!n&&(1==r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[421]]||r[_$_33a9[45]][$][a][_$_33a9[60]]&&1==r[_$_33a9[45]][$][a][_$_33a9[60]][_$_33a9[125]][_$_33a9[202]](_$_33a9[422])))var t={x:a,y:$,col:a,row:$};else n=r[_$_33a9[45]][$]&&r[_$_33a9[45]][$][a][_$_33a9[60]]?r[_$_33a9[45]][$][a][_$_33a9[60]]:null,void 0!==(t=r[_$_33a9[230]](_$_33a9[505],_,n,a,$,e))&&(e=t),typeof(t=r[_$_33a9[409]](a,$))[0][_$_33a9[500]]==_$_33a9[12]&&(void 0!==(t=t[0][_$_33a9[500]](n,e,a,$,r,t[1]))&&(e=t)),t={x:a,y:$,col:a,row:$,oldValue:r[_$_33a9[5]][_$_33a9[245]][$]&&r[_$_33a9[5]][_$_33a9[245]][$][a]?r[_$_33a9[5]][_$_33a9[245]][$][a]:_$_33a9[75],newValue:r[_$_33a9[410]](a,$,e)},n&&(n[_$_33a9[62]][_$_33a9[419]]=0!=r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[418]]&&(1==r[_$_33a9[5]][_$_33a9[418]]||1==r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[418]]||200<r[_$_33a9[5]][_$_33a9[245]][$][a][_$_33a9[9]])?_$_33a9[420]:_$_33a9[75],1==r[_$_33a9[5]][_$_33a9[335]]&&0<a&&(r[_$_33a9[45]][$][a-1][_$_33a9[60]][_$_33a9[62]][_$_33a9[423]]=e?_$_33a9[424]:_$_33a9[75])),r[_$_33a9[230]](_$_33a9[312],_,n,a,$,t[_$_33a9[393]],t[_$_33a9[506]]);return t},r[_$_33a9[507]]=function(_,a,$,e,n,t){var u;n||(n=0),_>=r[_$_33a9[44]][_$_33a9[9]]&&(_=r[_$_33a9[44]][_$_33a9[9]]-1),a>=r[_$_33a9[33]][_$_33a9[9]]&&(a=r[_$_33a9[33]][_$_33a9[9]]-1),$>=r[_$_33a9[44]][_$_33a9[9]]&&($=r[_$_33a9[44]][_$_33a9[9]]-1),e>=r[_$_33a9[33]][_$_33a9[9]]&&(e=r[_$_33a9[33]][_$_33a9[9]]-1),r[_$_33a9[46]][n]||(r[_$_33a9[46]][n]={},r[_$_33a9[46]][n][_$_33a9[60]]=document[_$_33a9[20]](_$_33a9[19]),r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[125]][_$_33a9[124]](_$_33a9[508]),n==_$_33a9[509]?r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[125]][_$_33a9[124]](_$_33a9[510]):n==_$_33a9[511]?r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[125]][_$_33a9[124]](_$_33a9[512]):n==_$_33a9[513]?r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[125]][_$_33a9[124]](_$_33a9[514]):(t=t||p[_$_33a9[18]][_$_33a9[515]](),r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[516]]=_$_33a9[517]+p[_$_33a9[18]][_$_33a9[519]](t[0][_$_33a9[518]](16))+p[_$_33a9[18]][_$_33a9[519]](t[1][_$_33a9[518]](16))+p[_$_33a9[18]][_$_33a9[519]](t[2][_$_33a9[518]](16)),r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[520]]=_$_33a9[517]+p[_$_33a9[18]][_$_33a9[519]](t[0][_$_33a9[518]](16))+p[_$_33a9[18]][_$_33a9[519]](t[1][_$_33a9[518]](16))+p[_$_33a9[18]][_$_33a9[519]](t[2][_$_33a9[518]](16))+_$_33a9[521]),r[_$_33a9[29]][_$_33a9[108]](r[_$_33a9[46]][n][_$_33a9[60]])),n==_$_33a9[513]&&r[_$_33a9[139]](_$_33a9[507],_,a,$,e),r[_$_33a9[46]][n][_$_33a9[522]]=_,r[_$_33a9[46]][n][_$_33a9[523]]=a,r[_$_33a9[46]][n][_$_33a9[524]]=$,r[_$_33a9[46]][n][_$_33a9[525]]=e,r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[526]]=_$_33a9[527],r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[528]]=_$_33a9[527],r[_$_33a9[46]][n][_$_33a9[529]]=0;var o=t=null,i=null,f=null;if(r[_$_33a9[32]][_$_33a9[530]]&&(t=parseInt(r[_$_33a9[32]][_$_33a9[530]][_$_33a9[219]][1][_$_33a9[405]](_$_33a9[404])),o=parseInt(r[_$_33a9[32]][_$_33a9[530]][_$_33a9[405]](_$_33a9[400])),r[_$_33a9[32]][_$_33a9[530]][_$_33a9[219]][1][_$_33a9[62]][_$_33a9[106]]==_$_33a9[107]&&(t=d(t,o))),r[_$_33a9[32]][_$_33a9[220]]&&(i=parseInt(r[_$_33a9[32]][_$_33a9[220]][_$_33a9[220]][_$_33a9[405]](_$_33a9[404])),f=parseInt(r[_$_33a9[32]][_$_33a9[220]][_$_33a9[405]](_$_33a9[400])),r[_$_33a9[32]][_$_33a9[220]][_$_33a9[220]][_$_33a9[62]][_$_33a9[106]]==_$_33a9[107]&&(i=h(i,f))),!(null==t||$<t||_>i||e<o||a>f)){for(_<t?(_=t,r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[531]]=_$_33a9[532]):r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[531]]=_$_33a9[75],$>i?($=i,r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[533]]=_$_33a9[532]):r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[533]]=_$_33a9[75],a<o?(a=o,r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[534]]=_$_33a9[532]):r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[534]]=_$_33a9[75],e>f?(e=f,r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[535]]=_$_33a9[532]):r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[535]]=_$_33a9[75],(u=r[_$_33a9[477]](_,a,!0))&&(_=u[0],a=u[1]),(u=r[_$_33a9[477]]($,e,!0))&&($=u[0],e=u[1]);e>a&&(!r[_$_33a9[33]][e][_$_33a9[60]]||!r[_$_33a9[33]][e][_$_33a9[60]][_$_33a9[22]]||!1===r[_$_33a9[33]][e][_$_33a9[536]]);)e--;var l=(u=r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[537]]())[_$_33a9[528]],c=u[_$_33a9[526]];t=r[_$_33a9[45]][e][$][_$_33a9[60]][_$_33a9[537]]();var s=r[_$_33a9[29]][_$_33a9[537]]();u=l-s[_$_33a9[528]]+r[_$_33a9[29]][_$_33a9[538]],s=c-s[_$_33a9[526]]+r[_$_33a9[29]][_$_33a9[539]],l=t[_$_33a9[528]]+t[_$_33a9[294]]-l-1,c=t[_$_33a9[526]]+t[_$_33a9[401]]-c-1,r[_$_33a9[5]][_$_33a9[193]]&&(r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[531]]=_$_33a9[75],r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[533]]=_$_33a9[75],t=0<r[_$_33a9[29]][_$_33a9[538]]?r[_$_33a9[540]]():0)&&(_=r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[125]][_$_33a9[202]](_$_33a9[541]),$=r[_$_33a9[45]][e][$][_$_33a9[60]][_$_33a9[125]][_$_33a9[202]](_$_33a9[541]),_&&$||!_&&$||(_&&!$?($=t+r[_$_33a9[29]][_$_33a9[538]])>u+l&&(r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[533]]=_$_33a9[532],l+=$-(u+l)):($=t+r[_$_33a9[29]][_$_33a9[538]]+1)>u&&(($-=u)>l?u=s=-2e3:(u+=$,l-=$,r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[531]]=_$_33a9[532])))),r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[526]]=s+_$_33a9[542],r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[528]]=u+_$_33a9[542],r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[294]]=l+_$_33a9[542],r[_$_33a9[46]][n][_$_33a9[60]][_$_33a9[62]][_$_33a9[401]]=c+_$_33a9[542],r[_$_33a9[46]][n][_$_33a9[543]]=s,r[_$_33a9[46]][n][_$_33a9[544]]=u,r[_$_33a9[46]][n][_$_33a9[545]]=l,r[_$_33a9[46]][n][_$_33a9[546]]=c,r[_$_33a9[46]][n][_$_33a9[529]]=1}n==_$_33a9[513]&&(r[_$_33a9[46]][n][_$_33a9[529]]?(r[_$_33a9[26]][_$_33a9[62]][_$_33a9[526]]=s+c-2+_$_33a9[542],r[_$_33a9[26]][_$_33a9[62]][_$_33a9[528]]=u+l-2+_$_33a9[542]):(r[_$_33a9[26]][_$_33a9[62]][_$_33a9[526]]=_$_33a9[527],r[_$_33a9[26]][_$_33a9[62]][_$_33a9[528]]=_$_33a9[527]),r[_$_33a9[547]]())},r[_$_33a9[548]]=function(_,a){if(_)r[_$_33a9[46]][_]&&(_==_$_33a9[513]&&(r[_$_33a9[26]][_$_33a9[62]][_$_33a9[526]]=_$_33a9[527],r[_$_33a9[26]][_$_33a9[62]][_$_33a9[528]]=_$_33a9[527],r[_$_33a9[549]]()),r[_$_33a9[46]][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[526]]=_$_33a9[527],r[_$_33a9[46]][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[528]]=_$_33a9[527],r[_$_33a9[46]][_][_$_33a9[529]]=0,a&&(r[_$_33a9[46]][_][_$_33a9[522]]=null,r[_$_33a9[46]][_][_$_33a9[523]]=null,r[_$_33a9[46]][_][_$_33a9[524]]=null,r[_$_33a9[46]][_][_$_33a9[525]]=null));else{r[_$_33a9[26]][_$_33a9[62]][_$_33a9[526]]=_$_33a9[527],r[_$_33a9[26]][_$_33a9[62]][_$_33a9[528]]=_$_33a9[527],r[_$_33a9[549]]();for(var $=Object[_$_33a9[119]](r[_$_33a9[46]]),e=0;e<$[_$_33a9[9]];e++)r[_$_33a9[46]][$[e]][_$_33a9[60]][_$_33a9[62]][_$_33a9[526]]=_$_33a9[527],r[_$_33a9[46]][$[e]][_$_33a9[60]][_$_33a9[62]][_$_33a9[528]]=_$_33a9[527],r[_$_33a9[46]][$[e]][_$_33a9[529]]=0,a&&(r[_$_33a9[46]][$[e]][_$_33a9[522]]=null,r[_$_33a9[46]][$[e]][_$_33a9[523]]=null,r[_$_33a9[46]][$[e]][_$_33a9[524]]=null,r[_$_33a9[46]][$[e]][_$_33a9[525]]=null)}_&&_!=_$_33a9[513]||r[_$_33a9[139]](_$_33a9[548])},r[_$_33a9[436]]=function(_){if(_)r[_$_33a9[46]][_]&&null!=r[_$_33a9[46]][_][_$_33a9[522]]&&r[_$_33a9[507]](r[_$_33a9[46]][_][_$_33a9[522]],r[_$_33a9[46]][_][_$_33a9[523]],r[_$_33a9[46]][_][_$_33a9[524]],r[_$_33a9[46]][_][_$_33a9[525]],_);else{_=Object[_$_33a9[119]](r[_$_33a9[46]]);for(var a=0;a<_[_$_33a9[9]];a++)r[_$_33a9[46]][_[a]]&&null!=r[_$_33a9[46]][_[a]][_$_33a9[522]]&&r[_$_33a9[507]](r[_$_33a9[46]][_[a]][_$_33a9[522]],r[_$_33a9[46]][_[a]][_$_33a9[523]],r[_$_33a9[46]][_[a]][_$_33a9[524]],r[_$_33a9[46]][_[a]][_$_33a9[525]],_[a])}},r[_$_33a9[547]]=function(){if(r[_$_33a9[50]]){var _=r[_$_33a9[50]][0],a=r[_$_33a9[50]][1];r[_$_33a9[45]]&&r[_$_33a9[45]][a]&&r[_$_33a9[45]][a][_]&&r[_$_33a9[45]][a][_][_$_33a9[60]]||(r[_$_33a9[50]]=r[_$_33a9[376]](),_=r[_$_33a9[50]][0],a=r[_$_33a9[50]][1]),r[_$_33a9[45]][a]&&r[_$_33a9[45]][a][_]&&r[_$_33a9[45]][a][_][_$_33a9[60]]&&r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[125]][_$_33a9[124]](_$_33a9[550]);var $=r[_$_33a9[376]]();a=$[1];var e=$[2];for(_=$[3],$=$[0];$<=e;$++)r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[124]](_$_33a9[551]);for(;a<=_;a++)r[_$_33a9[33]][a]&&r[_$_33a9[33]][a][_$_33a9[60]]&&r[_$_33a9[33]][a][_$_33a9[60]][_$_33a9[125]][_$_33a9[124]](_$_33a9[551])}},r[_$_33a9[549]]=function(){if(r[_$_33a9[50]]){var _=r[_$_33a9[50]][0],a=r[_$_33a9[50]][1];r[_$_33a9[45]]&&r[_$_33a9[45]][a]&&r[_$_33a9[45]][a][_]&&r[_$_33a9[45]][a][_][_$_33a9[60]]||(r[_$_33a9[50]]=r[_$_33a9[376]](),_=r[_$_33a9[50]][0],a=r[_$_33a9[50]][1]),r[_$_33a9[45]][a]&&r[_$_33a9[45]][a][_]&&r[_$_33a9[45]][a][_][_$_33a9[60]]&&r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[125]][_$_33a9[23]](_$_33a9[550]);var $=r[_$_33a9[376]]();_=$[1],a=$[2];var e=$[3];for($=$[0];$<=a;$++){r[_$_33a9[44]][$]&&r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[23]](_$_33a9[551]);for(var n=_;n<=e;n++)r[_$_33a9[33]][n]&&r[_$_33a9[33]][n][_$_33a9[60]]&&r[_$_33a9[33]][n][_$_33a9[60]][_$_33a9[125]][_$_33a9[23]](_$_33a9[551])}}},r[_$_33a9[552]]=function(){if(r[_$_33a9[50]])a=1,r[_$_33a9[548]](_$_33a9[513],!0),r[_$_33a9[548]](_$_33a9[509],!0),r[_$_33a9[50]]=null,1==a&&r[_$_33a9[230]](_$_33a9[488],_);else var a=0;return a},r[_$_33a9[553]]=function(_,a,$){var e=_[_$_33a9[405]](_$_33a9[404]);if(_=_[_$_33a9[405]](_$_33a9[400]),a){var n=a[_$_33a9[405]](_$_33a9[404]);a=a[_$_33a9[405]](_$_33a9[400])}else n=e,a=_;r[_$_33a9[471]](e,_,n,a,$)},r[_$_33a9[471]]=function(a,$,e,n,t){if(r[_$_33a9[50]]){r[_$_33a9[549]]();var u=1}else u=0;if(null==e&&(e=a),null==n&&(n=$),a>=r[_$_33a9[44]][_$_33a9[9]]&&(a=r[_$_33a9[44]][_$_33a9[9]]-1),$>=r[_$_33a9[33]][_$_33a9[9]]&&($=r[_$_33a9[33]][_$_33a9[9]]-1),e>=r[_$_33a9[44]][_$_33a9[9]]&&(e=r[_$_33a9[44]][_$_33a9[9]]-1),n>=r[_$_33a9[33]][_$_33a9[9]]&&(n=r[_$_33a9[33]][_$_33a9[9]]-1),r[_$_33a9[50]]=[a,$,e,n],null!=a){if(parseInt(a)<parseInt(e))var o=parseInt(a),i=parseInt(e);else o=parseInt(e),i=parseInt(a);if(parseInt($)<parseInt(n))var f=parseInt($),l=parseInt(n);else f=parseInt(n),l=parseInt($);for(a=null,$=f;$<=l;$++)for(e=o;e<=i;e++)r[_$_33a9[45]][$]&&r[_$_33a9[45]][$][e]&&(a=r[_$_33a9[477]](e,$,!0))&&(a[0]<o&&(o=a[0]),a[1]<f&&(f=a[1]),a[0]+a[2]-1>i&&(i=a[0]+a[2]-1),a[1]+a[3]-1>l&&(l=a[1]+a[3]-1))}r[_$_33a9[507]](o,f,i,l,_$_33a9[513]),0==u&&r[_$_33a9[230]](_$_33a9[554],_),r[_$_33a9[230]](_$_33a9[555],_,o,f,i,l,t||null),1==r[_$_33a9[5]][_$_33a9[486]]&&setTimeout((function(){if(r[_$_33a9[50]]&&r[_$_33a9[45]][r[_$_33a9[50]][1]][r[_$_33a9[50]][0]][_$_33a9[60]]){var _=r[_$_33a9[45]][r[_$_33a9[50]][1]][r[_$_33a9[50]][0]][_$_33a9[60]][_$_33a9[537]]();r[_$_33a9[28]][_$_33a9[62]][_$_33a9[526]]=_[_$_33a9[526]]+_$_33a9[542],r[_$_33a9[28]][_$_33a9[62]][_$_33a9[528]]=_[_$_33a9[528]]+_$_33a9[542]}r[_$_33a9[28]][_$_33a9[246]]=_$_33a9[75],r[_$_33a9[28]][_$_33a9[556]]()}),0)},r[_$_33a9[557]]=function(){r[_$_33a9[46]][_$_33a9[511]]&&r[_$_33a9[548]](_$_33a9[511],!0)},r[_$_33a9[558]]=function(_,a){var $=function(_){for(;_<r[_$_33a9[33]][_$_33a9[9]];_++)if(r[_$_33a9[33]][_][_$_33a9[60]]&&r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[22]]&&r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]!=_$_33a9[107])return _;return r[_$_33a9[33]][_$_33a9[9]]},e=function(_,a){for(;_<r[_$_33a9[44]][_$_33a9[9]];_++)if(r[_$_33a9[45]][a][_][_$_33a9[60]]&&r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[22]]&&r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]!=_$_33a9[107])return _;return r[_$_33a9[44]][_$_33a9[9]]},n=r[_$_33a9[376]](),t=n[0],u=n[1],o=n[2];n=n[3],_=parseInt(_),a=parseInt(a),null!=_&&null!=a&&(0<=_-o?(e=e(parseInt(o)+1,a),_=parseInt(_)):(e=parseInt(_),_=function(_,a){for(;0<=_;_--)if(r[_$_33a9[45]][a][_][_$_33a9[60]]&&r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[22]]&&r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]!=_$_33a9[107])return _;return 0}(parseInt(t)-1,a)),0<=a-n?($=$(parseInt(n)+1),a=parseInt(a)):($=parseInt(a),a=function(_){for(;0<=_;_--)if(r[_$_33a9[33]][_][_$_33a9[60]]&&r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[22]]&&r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]!=_$_33a9[107])return _;return 0}(parseInt(u)-1)),_-e<=a-$?(e=parseInt(t),_=parseInt(o)):($=parseInt(u),a=parseInt(n)),r[_$_33a9[507]](e,$,_,a,_$_33a9[511]))},r[_$_33a9[559]]=function(_){if(_)typeof _==_$_33a9[449]&&(_=_[_$_33a9[405]](_$_33a9[404])),_=r[_$_33a9[49]][_][_$_33a9[405]](_$_33a9[294]);else{_=[];for(var a=0;a<r[_$_33a9[44]][_$_33a9[9]];a++)_[_$_33a9[10]](r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[294]])}return _},r[_$_33a9[259]]=function(a,$,e){if(!o())return!1;if($){if(Array[_$_33a9[8]](a)){e||(e=[]);for(var n=0;n<a[_$_33a9[9]];n++){e[n]||(e[n]=r[_$_33a9[49]][a[n]][_$_33a9[405]](_$_33a9[294]));var t=Array[_$_33a9[8]]($)&&$[n]?$[n]:$;r[_$_33a9[49]][a[n]][_$_33a9[321]](_$_33a9[294],t),r[_$_33a9[5]][_$_33a9[133]][a[n]][_$_33a9[294]]=t}}else e||(e=r[_$_33a9[49]][a][_$_33a9[405]](_$_33a9[294])),r[_$_33a9[49]][a][_$_33a9[321]](_$_33a9[294],$),r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[294]]=$;r[_$_33a9[437]]({action:_$_33a9[259],column:a,oldValue:e,newValue:$}),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[560],_,a,$,e),r[_$_33a9[139]](_$_33a9[259],a,$,e)}},r[_$_33a9[561]]=function(_){if(_)typeof _==_$_33a9[449]&&(_=_[_$_33a9[405]](_$_33a9[400])),_=r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[401]];else{_=[];for(var a=0;a<r[_$_33a9[33]][_$_33a9[9]];a++){var $=r[_$_33a9[33]][a][_$_33a9[60]][_$_33a9[62]][_$_33a9[401]];$&&(_[a]=$)}}return _},r[_$_33a9[260]]=function(a,$,e){if(!o())return!1;if($){if(Array[_$_33a9[8]](a)){e||(e=[]);for(var n=0;n<a[_$_33a9[9]];n++){if(!e[n]){var t=r[_$_33a9[33]][a[n]][_$_33a9[60]][_$_33a9[537]]();e[n]=t[_$_33a9[401]]}t=Array[_$_33a9[8]]($)&&$[n]?$[n]:$,r[_$_33a9[33]][a[n]][_$_33a9[60]][_$_33a9[62]][_$_33a9[401]]=parseInt(t)+_$_33a9[542],r[_$_33a9[5]][_$_33a9[33]][a[n]]||(r[_$_33a9[5]][_$_33a9[33]][a[n]]={}),r[_$_33a9[5]][_$_33a9[33]][a[n]][_$_33a9[401]]=parseInt(t)+_$_33a9[542]}}else e||(e=(t=r[_$_33a9[33]][a][_$_33a9[60]][_$_33a9[537]]())[_$_33a9[401]]),r[_$_33a9[33]][a][_$_33a9[60]][_$_33a9[62]][_$_33a9[401]]=parseInt($)+_$_33a9[542],r[_$_33a9[5]][_$_33a9[33]][a]||(r[_$_33a9[5]][_$_33a9[33]][a]={}),r[_$_33a9[5]][_$_33a9[33]][a][_$_33a9[401]]=parseInt($)+_$_33a9[542];r[_$_33a9[437]]({action:_$_33a9[260],row:a,oldValue:e,newValue:$}),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[562],_,a,$,e),r[_$_33a9[139]](_$_33a9[260],a,$,e)}},r[_$_33a9[276]]=function(_){if(_&&(r[_$_33a9[5]][_$_33a9[195]]=_),r[_$_33a9[5]][_$_33a9[195]])for(r[_$_33a9[563]]||(r[_$_33a9[563]]=document[_$_33a9[20]](_$_33a9[563])),r[_$_33a9[563]][_$_33a9[22]]||r[_$_33a9[30]][_$_33a9[108]](r[_$_33a9[563]]),_=0;_<r[_$_33a9[5]][_$_33a9[195]][_$_33a9[9]];_++){if(r[_$_33a9[563]][_$_33a9[219]][_])var a=r[_$_33a9[563]][_$_33a9[219]][_];else{a=document[_$_33a9[20]](_$_33a9[325]);var $=document[_$_33a9[20]](_$_33a9[326]);a[_$_33a9[108]]($),r[_$_33a9[563]][_$_33a9[108]](a)}for(var e=0;e<r[_$_33a9[44]][_$_33a9[9]];e++){r[_$_33a9[5]][_$_33a9[195]][_][e]||(r[_$_33a9[5]][_$_33a9[195]][_][e]=_$_33a9[75]),r[_$_33a9[563]][_$_33a9[219]][_][_$_33a9[219]][e+1]?$=r[_$_33a9[563]][_$_33a9[219]][_][_$_33a9[219]][e+1]:($=document[_$_33a9[20]](_$_33a9[326]))[_$_33a9[62]][_$_33a9[61]]=r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[416]]?r[_$_33a9[5]][_$_33a9[133]][e][_$_33a9[416]]:_$_33a9[142];var n=r[_$_33a9[5]][_$_33a9[195]][_][e];(_$_33a9[75]+n)[_$_33a9[564]](0,1)==_$_33a9[411]&&1==r[_$_33a9[5]][_$_33a9[565]]&&(n=r[_$_33a9[566]](n,e,_,!1)),n instanceof Element||n instanceof HTMLDocument?($[_$_33a9[315]]=_$_33a9[75],$[_$_33a9[108]](n)):1==r[_$_33a9[5]][_$_33a9[439]]?$[_$_33a9[109]]=n:$[_$_33a9[315]]=n,1==r[_$_33a9[5]][_$_33a9[188]]&&1==r[_$_33a9[5]][_$_33a9[192]]&&e>r[_$_33a9[5]][_$_33a9[329]]||$[_$_33a9[22]]||a[_$_33a9[108]]($)}}r[_$_33a9[139]](_$_33a9[276],r[_$_33a9[5]][_$_33a9[195]])},r[_$_33a9[277]]=function(){r[_$_33a9[5]][_$_33a9[195]]=null,r[_$_33a9[563]][_$_33a9[22]]&&r[_$_33a9[563]][_$_33a9[22]][_$_33a9[407]](r[_$_33a9[563]]),r[_$_33a9[139]](_$_33a9[277])},r[_$_33a9[204]]=function(a){if(!o())return!1;if(!a&&typeof r[_$_33a9[5]][_$_33a9[567]]==_$_33a9[12]){var $=r[_$_33a9[5]][_$_33a9[567]](a);typeof $===_$_33a9[449]&&(a=$)}a||(a={minDimensions:[10,10]}),a[_$_33a9[221]]||(a[_$_33a9[221]]=_$_33a9[222]+_[_$_33a9[203]][_$_33a9[223]]()),a[_$_33a9[568]]||(a[_$_33a9[568]]=p[_$_33a9[18]][_$_33a9[569]]()[_$_33a9[120]](0,8)),r[_$_33a9[5]][_$_33a9[4]]&&(a[_$_33a9[4]]=r[_$_33a9[5]][_$_33a9[4]]),r[_$_33a9[5]][_$_33a9[83]]&&(a[_$_33a9[83]]=r[_$_33a9[5]][_$_33a9[83]]),r[_$_33a9[5]][_$_33a9[42]]&&(a[_$_33a9[42]]=r[_$_33a9[5]][_$_33a9[42]]),a[_$_33a9[35]]=r[_$_33a9[5]][_$_33a9[35]],$=Array[_$_33a9[8]](_[_$_33a9[100]])?_[_$_33a9[100]][_$_33a9[9]]:1,r[_$_33a9[230]](_$_33a9[570],_,a,$),r[_$_33a9[139]](_$_33a9[204],a,$),p(_,a)},r[_$_33a9[279]]=function(a){if(!o())return!1;typeof a==_$_33a9[449]&&(a=Array[_$_33a9[286]][_$_33a9[98]][_$_33a9[284]](_[_$_33a9[203]][_$_33a9[44]][_$_33a9[219]],a));var $=_[_$_33a9[100]][a][_$_33a9[5]][_$_33a9[221]][_$_33a9[573]](_$_33a9[572],_$_33a9[75])[_$_33a9[571]]();window[$]=null,_[_$_33a9[203]][_$_33a9[574]](a),_[_$_33a9[100]][_$_33a9[575]](a,1),r[_$_33a9[230]](_$_33a9[576],_,a),r[_$_33a9[139]](_$_33a9[279],a)},r[_$_33a9[278]]=function(a,$){if(!o())return!1;typeof a==_$_33a9[449]&&(a=Array[_$_33a9[286]][_$_33a9[98]][_$_33a9[284]](_[_$_33a9[203]][_$_33a9[44]][_$_33a9[219]],a));var e=r[_$_33a9[5]][_$_33a9[221]];if(e==$)return!1;$=$[_$_33a9[573]](/[^0-9A-Za-z_\s^]+/gi,_$_33a9[75]),Number($)==$&&($=_$_33a9[222]+Number($));var n=$[_$_33a9[573]](_$_33a9[572],_$_33a9[75])[_$_33a9[571]]();window[n]&&($+=String[_$_33a9[80]](65+a)),n=$[_$_33a9[573]](_$_33a9[572],_$_33a9[75])[_$_33a9[571]](),window[n]?alert(r[_$_33a9[5]][_$_33a9[186]][_$_33a9[577]]):(n=e[_$_33a9[573]](_$_33a9[572],_$_33a9[75])[_$_33a9[571]](),window[n]=null,_[_$_33a9[203]][_$_33a9[578]](a,$),r[_$_33a9[5]][_$_33a9[221]]=$,n=r[_$_33a9[224]](),window[n]=r,r[_$_33a9[437]]({action:_$_33a9[278],index:a,oldValue:e,newValue:$}),r[_$_33a9[230]](_$_33a9[579],_,a,$,e),r[_$_33a9[139]](_$_33a9[278],a,$,e))},r[_$_33a9[206]]=function(a,$,e){if(!o())return!1;!1!==e&&(a>$?(_[_$_33a9[203]][_$_33a9[44]][_$_33a9[21]](_[_$_33a9[203]][_$_33a9[44]][_$_33a9[219]][a],_[_$_33a9[203]][_$_33a9[44]][_$_33a9[219]][$]),_[_$_33a9[203]][_$_33a9[29]][_$_33a9[21]](_[_$_33a9[203]][_$_33a9[29]][_$_33a9[219]][a],_[_$_33a9[203]][_$_33a9[29]][_$_33a9[219]][$])):(_[_$_33a9[203]][_$_33a9[44]][_$_33a9[21]](_[_$_33a9[203]][_$_33a9[44]][_$_33a9[219]][a],_[_$_33a9[203]][_$_33a9[44]][_$_33a9[219]][$][_$_33a9[580]]),_[_$_33a9[203]][_$_33a9[29]][_$_33a9[21]](_[_$_33a9[203]][_$_33a9[29]][_$_33a9[219]][a],_[_$_33a9[203]][_$_33a9[29]][_$_33a9[219]][$][_$_33a9[580]])),_[_$_33a9[203]][_$_33a9[250]]($)),_[_$_33a9[100]][_$_33a9[575]]($,0,_[_$_33a9[100]][_$_33a9[575]](a,1)[0]),r[_$_33a9[437]]({action:_$_33a9[206],f:a,t:$}),r[_$_33a9[230]](_$_33a9[581],_,a,$),r[_$_33a9[139]](_$_33a9[206],a,$)},r[_$_33a9[205]]=function(a,$){var e=function(a,$){p[_$_33a9[582]]=$,p[_$_33a9[582]]&&p[_$_33a9[582]][_$_33a9[436]]();var e=r[_$_33a9[5]][_$_33a9[4]]?r[_$_33a9[5]][_$_33a9[4]]:_[_$_33a9[369]];return typeof localStorage!==_$_33a9[82]&&localStorage[_$_33a9[102]](_$_33a9[583]+e,a),r[_$_33a9[230]](_$_33a9[584],_,$,a),!0};if(Array[_$_33a9[8]](_[_$_33a9[100]])){if(null==a&&(a=_[_$_33a9[100]][_$_33a9[98]](r)),(!p[_$_33a9[582]]||p[_$_33a9[582]]!=_[_$_33a9[100]][a])&&_[_$_33a9[100]][a])return p[_$_33a9[582]]&&p[_$_33a9[582]][_$_33a9[552]](),!1!==$&&_[_$_33a9[203]][_$_33a9[250]](a),e(a,_[_$_33a9[100]][a])}else if(!p[_$_33a9[582]])return e(0,_[_$_33a9[100]]);return!1},r[_$_33a9[585]]=function(a){if(!Array[_$_33a9[8]](_[_$_33a9[100]]))return 0;if(!a)return _[_$_33a9[100]][_$_33a9[98]](r);for(var $=0;$<_[_$_33a9[100]][_$_33a9[9]];$++)if(a===_[_$_33a9[100]][$][_$_33a9[5]][_$_33a9[568]])return $;return!1},r[_$_33a9[586]]=function(){var a=_[_$_33a9[203]][_$_33a9[587]]()||0;return Array[_$_33a9[8]](_[_$_33a9[100]])?_[_$_33a9[100]][a]:_[_$_33a9[100]]},r[_$_33a9[588]]=function(a){return a?typeof a==_$_33a9[370]?!1!==(a=r[_$_33a9[585]](a))&&_[_$_33a9[100]][a]:_[_$_33a9[100]][a]:r},r[_$_33a9[224]]=function(){return r[_$_33a9[5]][_$_33a9[221]][_$_33a9[573]](_$_33a9[572],_$_33a9[75])[_$_33a9[571]]()},r[_$_33a9[589]]=function(_){return r[_$_33a9[44]][_][_$_33a9[109]]},r[_$_33a9[261]]=function(a,$){if(!o())return!1;if(r[_$_33a9[44]][a]){var e=r[_$_33a9[44]][a][_$_33a9[109]];if(!$&&!($=prompt(r[_$_33a9[5]][_$_33a9[186]][_$_33a9[590]],e)))return!1;$&&(r[_$_33a9[44]][a][_$_33a9[315]]=$,r[_$_33a9[44]][a][_$_33a9[321]](_$_33a9[434],$),r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[292]]=$),r[_$_33a9[437]]({action:_$_33a9[261],column:a,oldValue:e,newValue:$}),r[_$_33a9[230]](_$_33a9[591],_,a,$,e),r[_$_33a9[139]](_$_33a9[261],a,$)}},r[_$_33a9[592]]=function(_){for(var a=[],$=0;$<r[_$_33a9[44]][_$_33a9[9]];$++)a[_$_33a9[10]](r[_$_33a9[589]]($));return _?a:a[_$_33a9[76]](r[_$_33a9[5]][_$_33a9[593]])},r[_$_33a9[594]]=function(_){return _?r[_$_33a9[5]][_$_33a9[426]][_]:r[_$_33a9[5]][_$_33a9[426]]},r[_$_33a9[595]]=function(_,a){if(!o())return!1;if(typeof _==_$_33a9[370])r[_$_33a9[5]][_$_33a9[426]][_]=a;else{a=Object[_$_33a9[119]](_);for(var $=0;$<a[_$_33a9[9]];$++)r[_$_33a9[5]][_$_33a9[426]][a[$]]=_[a[$]]}},r[_$_33a9[596]]=function(_,a){return _?r[_$_33a9[5]][_$_33a9[358]][_]?a?r[_$_33a9[5]][_$_33a9[358]][_][a]:r[_$_33a9[5]][_$_33a9[358]][_]:void 0:r[_$_33a9[5]][_$_33a9[358]]},r[_$_33a9[265]]=function(a,$,e){if(!o())return!1;var n={};if(r[_$_33a9[5]][_$_33a9[358]]||(r[_$_33a9[5]][_$_33a9[358]]={}),typeof a==_$_33a9[370]){if(!$||!e)return console[_$_33a9[14]](_$_33a9[597],_$_33a9[598]),!1;var t=p[_$_33a9[492]](a,!0);r[_$_33a9[45]][t[1]]&&r[_$_33a9[45]][t[1]][t[0]]?(r[_$_33a9[5]][_$_33a9[358]][a]||(r[_$_33a9[5]][_$_33a9[358]][a]={}),r[_$_33a9[5]][_$_33a9[358]][a][$]=e,n[a]={},n[a][$]=e):console[_$_33a9[14]](_$_33a9[599]+a)}else{t=Object[_$_33a9[119]](a);for(var u=0;u<t[_$_33a9[9]];u++)if(typeof a[t[u]]==_$_33a9[370])r[_$_33a9[5]][_$_33a9[358]][t[u]]=a[t[u]];else{r[_$_33a9[5]][_$_33a9[358]][t[u]]||(r[_$_33a9[5]][_$_33a9[358]][t[u]]={}),n[t[u]]||(n[t[u]]={});for(var i=Object[_$_33a9[119]](a[t[u]]),f=0;f<i[_$_33a9[9]];f++)r[_$_33a9[5]][_$_33a9[358]][t[u]][i[f]]=a[t[u]][i[f]],n[t[u]][i[f]]=a[t[u]][i[f]]}}Object[_$_33a9[119]](n)[_$_33a9[9]]&&(r[_$_33a9[139]](_$_33a9[265],n),r[_$_33a9[230]](_$_33a9[600],_,a,$,e))},r[_$_33a9[601]]=function(_){if(!r[_$_33a9[5]][_$_33a9[62]])return!1;if(_){if(typeof _==_$_33a9[370])return r[_$_33a9[5]][_$_33a9[62]][_];var a=[],$=Object[_$_33a9[119]](_);if(0<$[_$_33a9[9]])for(var e=0;e<$[_$_33a9[9]];e++){if(typeof _[e]==_$_33a9[370])var n=r[_$_33a9[5]][_$_33a9[62]]&&r[_$_33a9[5]][_$_33a9[62]][_[e]]?r[_$_33a9[5]][_$_33a9[62]][_[e]]:_$_33a9[75];else n=p[_$_33a9[18]][_$_33a9[462]](_[e][_$_33a9[391]],_[e][_$_33a9[392]]),n=r[_$_33a9[5]][_$_33a9[62]]&&r[_$_33a9[5]][_$_33a9[62]][n]?r[_$_33a9[5]][_$_33a9[62]][n]:_$_33a9[75];a[_$_33a9[10]](n)}return a}return r[_$_33a9[5]][_$_33a9[62]]},r[_$_33a9[267]]=function(a){if(!o())return!1;if(a){var $={},e=function(_,a,e){if(r[_$_33a9[45]][e]&&r[_$_33a9[45]][e][a]&&r[_$_33a9[45]][e][a][_$_33a9[60]]){$[_]=r[_$_33a9[5]][_$_33a9[62]][_],r[_$_33a9[45]][e][a][_$_33a9[60]][_$_33a9[321]](_$_33a9[62],_$_33a9[75]);var n=r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[416]]?r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[416]]:r[_$_33a9[5]][_$_33a9[417]];n&&(r[_$_33a9[45]][e][a][_$_33a9[60]][_$_33a9[62]][_$_33a9[61]]=n)}r[_$_33a9[5]][_$_33a9[62]]&&r[_$_33a9[5]][_$_33a9[62]][_]&&delete r[_$_33a9[5]][_$_33a9[62]][_]};if(typeof a==_$_33a9[370]){var n=p[_$_33a9[492]](a,!0);e(a,n[0],n[1])}else if(Array[_$_33a9[8]](a))for(var t=0;t<a[_$_33a9[9]];t++)typeof a[t]==_$_33a9[370]?(n=p[_$_33a9[492]](a[t],!0),e(a[t],n[0],n[1])):e(n=p[_$_33a9[415]]([a[t][_$_33a9[391]],a[t][_$_33a9[392]]]),a[t][_$_33a9[391]],a[t][_$_33a9[392]]);r[_$_33a9[436]](),r[_$_33a9[437]]({action:_$_33a9[267],cells:a,oldValue:$}),r[_$_33a9[230]](_$_33a9[603],_,a),r[_$_33a9[139]](_$_33a9[267],Object[_$_33a9[119]]($))}else console[_$_33a9[14]](_$_33a9[602])},r[_$_33a9[266]]=function(a,$,e,n){if(!o())return!1;var t=null,u=[],i=[],f={},l={},c={};if(r[_$_33a9[5]][_$_33a9[62]]||(r[_$_33a9[5]][_$_33a9[62]]={}),i=function(_,a,$){if(!c[_]&&(r[_$_33a9[5]][_$_33a9[62]][_]?u=r[_$_33a9[5]][_$_33a9[62]][_][_$_33a9[86]](_$_33a9[604]):(r[_$_33a9[5]][_$_33a9[62]][_]=_$_33a9[75],u=[]),c[_]={},u[_$_33a9[9]]))for(var e=0;e<u[_$_33a9[9]];e++)u[e]&&u[e][_$_33a9[605]]()&&(t=u[e][_$_33a9[86]](_$_33a9[458]),c[_][t[0][_$_33a9[605]]()]=t[1][_$_33a9[605]]());l[_]||(l[_]=[]),f[_]||(f[_]=[]),c[_][a]||(c[_][a]=_$_33a9[75]),l[_][_$_33a9[10]]([a+_$_33a9[458]+c[_][a]]),c[_][a]=c[_][a]&&c[_][a]==$&&!n?_$_33a9[75]:$,f[_][_$_33a9[10]]([a+_$_33a9[458]+c[_][a]]),$=p[_$_33a9[492]](_,!0),r[_$_33a9[45]][$[1]]&&r[_$_33a9[45]][$[1]][$[0]]&&r[_$_33a9[45]][$[1]][$[0]][_$_33a9[60]]?r[_$_33a9[45]][$[1]][$[0]][_$_33a9[60]][_$_33a9[62]][a]=c[_][a]:r[_$_33a9[45]][$[1]][$[0]]&&(r[_$_33a9[45]][$[1]][$[0]][_$_33a9[62]]=r[_$_33a9[45]][$[1]][$[0]][_$_33a9[62]]?r[_$_33a9[45]][$[1]][$[0]][_$_33a9[62]]+_$_33a9[606]+a+_$_33a9[458]+c[_][a]:a+_$_33a9[458]+c[_][a]),c[_][a]||delete c[_][a]},$){if(typeof a==_$_33a9[370])i(a,$,e);else if(a&&a[_$_33a9[9]])for(var s=0;s<a[_$_33a9[9]];s++){var v=p[_$_33a9[415]]([a[s][_$_33a9[391]],a[s][_$_33a9[392]]]);i(v,$,e)}}else{var g=Object[_$_33a9[119]](a);for(s=0;s<g[_$_33a9[9]];s++){var d=a[g[s]];if(d)for(typeof d==_$_33a9[370]&&(d=d[_$_33a9[86]](_$_33a9[604])),v=0;v<d[_$_33a9[9]];v++)d[v]&&(typeof d[v]==_$_33a9[370]&&(d[v]=d[v][_$_33a9[86]](_$_33a9[458])),d[v][0][_$_33a9[605]]()&&i(g[s],d[v][0][_$_33a9[605]](),d[v][1]))}}if(u={},(i=Object[_$_33a9[119]](c))[_$_33a9[9]]){for(s=0;s<i[_$_33a9[9]];s++){for(u[i[s]]||(u[i[s]]=[]),g=Object[_$_33a9[119]](c[i[s]]),v=0;v<g[_$_33a9[9]];v++)u[i[s]][_$_33a9[10]](g[v]+_$_33a9[607]+c[i[s]][g[v]]);r[_$_33a9[5]][_$_33a9[62]][i[s]]=u[i[s]][_$_33a9[76]](_$_33a9[606])}for(i=Object[_$_33a9[119]](f),s=0;s<i[_$_33a9[9]];s++)f[i[s]]=f[i[s]][_$_33a9[76]](_$_33a9[604]);for(i=Object[_$_33a9[119]](l),s=0;s<i[_$_33a9[9]];s++)l[i[s]]=l[i[s]][_$_33a9[76]](_$_33a9[604]);r[_$_33a9[436]](),r[_$_33a9[437]]({action:_$_33a9[266],oldValue:l,newValue:f}),r[_$_33a9[230]](_$_33a9[608],_,a,$,e),r[_$_33a9[139]](_$_33a9[266],f)}},r[_$_33a9[609]]=function(_){return _&&typeof _==_$_33a9[370]?!(!r[_$_33a9[5]][_$_33a9[359]]||!r[_$_33a9[5]][_$_33a9[359]][_])&&r[_$_33a9[5]][_$_33a9[359]][_]:r[_$_33a9[5]][_$_33a9[359]]},r[_$_33a9[268]]=function(a,$){if(!o())return!1;if(typeof a==_$_33a9[370]){var e={};e[a]=$}else e=a;r[_$_33a9[5]][_$_33a9[359]]||(r[_$_33a9[5]][_$_33a9[359]]={}),a={};for(var n=Object[_$_33a9[119]](e),t=0;t<n[_$_33a9[9]];t++){var u=p[_$_33a9[492]](n[t],!0);r[_$_33a9[45]][u[1]]&&r[_$_33a9[45]][u[1]][u[0]]&&(a[n[t]]=r[_$_33a9[45]][u[1]][u[0]][_$_33a9[359]]||_$_33a9[75],$=e[n[t]],r[_$_33a9[45]][u[1]][u[0]][_$_33a9[359]]=$||_$_33a9[75],$?r[_$_33a9[5]][_$_33a9[359]][n[t]]=$:delete r[_$_33a9[5]][_$_33a9[359]][n[t]],r[_$_33a9[45]][u[1]][u[0]][_$_33a9[60]])&&($?r[_$_33a9[45]][u[1]][u[0]][_$_33a9[60]][_$_33a9[321]](_$_33a9[292],$):r[_$_33a9[45]][u[1]][u[0]][_$_33a9[60]][_$_33a9[478]](_$_33a9[292]))}r[_$_33a9[437]]({action:_$_33a9[268],newValue:e,oldValue:a}),r[_$_33a9[230]](_$_33a9[610],_,e,a),r[_$_33a9[139]](_$_33a9[268],e)},r[_$_33a9[269]]=function(a,$,e){if(0<=a){$=null==$?r[_$_33a9[44]][a][_$_33a9[125]][_$_33a9[202]](_$_33a9[611])?1:0:$?1:0;var n=[];if(r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[612]||r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[613]||r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[614]||r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[615])for(var t=0;t<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];t++)n[t]=[t,Number(r[_$_33a9[5]][_$_33a9[245]][t][a])];else if(r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[616]||r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[504]||r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[617]||r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[453]||r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[612])for(t=0;t<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];t++)n[t]=[t,r[_$_33a9[5]][_$_33a9[245]][t][a]];else if(r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[618]||r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[288]]==_$_33a9[619])for(t=0;t<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];t++){var u=r[_$_33a9[5]][_$_33a9[245]][t][a];(_$_33a9[75]+u)[_$_33a9[564]](0,1)==_$_33a9[411]&&(u=v(a,t)),n[t]=[t,Number(u)]}else for(t=0;t<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];t++)u=v(a,t),u=jSuites[_$_33a9[97]](u)?Number(u):u[_$_33a9[620]](),n[t]=[t,u];if(n[_$_33a9[621]]((function(_,a){return _=_[1],a=a[1],$?_===_$_33a9[75]&&a!==_$_33a9[75]?1:_!==_$_33a9[75]&&a===_$_33a9[75]||_>a?-1:_<a?1:0:_===_$_33a9[75]&&a!==_$_33a9[75]?1:_!==_$_33a9[75]&&a===_$_33a9[75]?-1:_>a?1:_<a?-1:0})),u=!!e,!e)for(e=[],t=0;t<n[_$_33a9[9]];t++)e[t]=n[t][0];if(typeof r[_$_33a9[5]][_$_33a9[622]]==_$_33a9[12])if(t=r[_$_33a9[230]](_$_33a9[622],_,a,$,e))e=t;else if(!1===t)return!1;if(u)r[_$_33a9[264]]();else if(0<Object[_$_33a9[119]](r[_$_33a9[480]]())[_$_33a9[9]]){if(!confirm(r[_$_33a9[5]][_$_33a9[186]][_$_33a9[623]]))return!1;r[_$_33a9[264]]()}if(e[_$_33a9[9]]<n[_$_33a9[9]])for(t=0;t<n[_$_33a9[9]];t++)-1==e[_$_33a9[98]](n[t][0])&&e[_$_33a9[10]](n[t][0]);for(n=[],t=0;t<e[_$_33a9[9]];t++)n[e[t]]=t;return r[_$_33a9[437]]({action:_$_33a9[269],column:a,newValue:e,oldValue:n,direction:$}),r[_$_33a9[549]](),r[_$_33a9[548]](),r[_$_33a9[139]](_$_33a9[269],a,$,e),r[_$_33a9[624]](e),r[_$_33a9[625]](a,$),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[626],_,a,$,e),!0}},r[_$_33a9[625]]=function(_,a){for(var $=0;$<r[_$_33a9[44]][_$_33a9[9]];$++)r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[23]](_$_33a9[627]),r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[23]](_$_33a9[611]);a?r[_$_33a9[44]][_][_$_33a9[125]][_$_33a9[124]](_$_33a9[627]):r[_$_33a9[44]][_][_$_33a9[125]][_$_33a9[124]](_$_33a9[611])},r[_$_33a9[624]]=function(_){for(var a=[],$=0;$<_[_$_33a9[9]];$++)a[$]=r[_$_33a9[5]][_$_33a9[245]][_[$]];for($=0;$<_[_$_33a9[9]];$++)r[_$_33a9[5]][_$_33a9[245]][$]=a[$];for(a=[],$=0;$<_[_$_33a9[9]];$++)a[$]=r[_$_33a9[45]][_[$]];for(r[_$_33a9[45]]=a,a=[],$=0;$<_[_$_33a9[9]];$++)a[$]=r[_$_33a9[33]][_[$]];if(r[_$_33a9[33]]=a,r[_$_33a9[5]][_$_33a9[233]]){for(a=[],$=0;$<_[_$_33a9[9]];$++)a[$]=r[_$_33a9[5]][_$_33a9[233]][_[$]];for($=0;$<_[_$_33a9[9]];$++)r[_$_33a9[5]][_$_33a9[233]][$]=a[$]}if(r[_$_33a9[628]](),r[_$_33a9[374]](),r[_$_33a9[307]][_$_33a9[629]][_$_33a9[246]])r[_$_33a9[307]](r[_$_33a9[307]][_$_33a9[629]][_$_33a9[246]]);else if(r[_$_33a9[216]][_$_33a9[630]](),r[_$_33a9[34]]=null,r[_$_33a9[37]]=0,1==r[_$_33a9[5]][_$_33a9[188]]||0<r[_$_33a9[5]][_$_33a9[36]])r[_$_33a9[313]](0);else for($=0;$<r[_$_33a9[33]][_$_33a9[9]];$++)r[_$_33a9[372]]($)};var f=function(_,a,$){$[_]||($[_]={}),_==_$_33a9[631]?$[_][a]=r[_$_33a9[497]](a):_==_$_33a9[357]?(a=p[_$_33a9[18]][_$_33a9[461]](a),(a=r[_$_33a9[477]](a[0],a[1],!0))&&($[_][a[4]]=[a[2],a[3]])):r[_$_33a9[5]][_]&&r[_$_33a9[5]][_][a]&&($[_][a]=r[_$_33a9[5]][_][a])};r[_$_33a9[270]]=function(a,$){if(!o())return!1;if(a=parseInt(a),$=parseInt($),0<Object[_$_33a9[119]](r[_$_33a9[480]]())[_$_33a9[9]]){var e=null;(r[_$_33a9[482]](a)||r[_$_33a9[482]]($)&&r[_$_33a9[482]]($-1))&&(e=!0),e&&r[_$_33a9[264]]()}r[_$_33a9[34]]&&(console[_$_33a9[199]](r[_$_33a9[5]][_$_33a9[186]][_$_33a9[633]]),r[_$_33a9[216]][_$_33a9[630]](),r[_$_33a9[216]][_$_33a9[634]]()),r[_$_33a9[549]](),r[_$_33a9[548]](),0<=Array[_$_33a9[286]][_$_33a9[98]][_$_33a9[284]](r[_$_33a9[32]][_$_33a9[219]],r[_$_33a9[33]][$][_$_33a9[60]])?a>$?r[_$_33a9[32]][_$_33a9[21]](r[_$_33a9[33]][a][_$_33a9[60]],r[_$_33a9[33]][$][_$_33a9[60]]):r[_$_33a9[32]][_$_33a9[21]](r[_$_33a9[33]][a][_$_33a9[60]],r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[580]]):r[_$_33a9[32]][_$_33a9[407]](r[_$_33a9[33]][a][_$_33a9[60]]),r[_$_33a9[33]][_$_33a9[575]]($,0,r[_$_33a9[33]][_$_33a9[575]](a,1)[0]),r[_$_33a9[45]][_$_33a9[575]]($,0,r[_$_33a9[45]][_$_33a9[575]](a,1)[0]),r[_$_33a9[5]][_$_33a9[245]][_$_33a9[575]]($,0,r[_$_33a9[5]][_$_33a9[245]][_$_33a9[575]](a,1)[0]),r[_$_33a9[5]][_$_33a9[233]]&&(r[_$_33a9[5]][_$_33a9[233]][_$_33a9[575]]($,0,r[_$_33a9[5]][_$_33a9[233]][_$_33a9[575]](a,1)[0]),r[_$_33a9[377]]()),0<r[_$_33a9[5]][_$_33a9[36]]&&r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]]!=r[_$_33a9[5]][_$_33a9[36]]&&r[_$_33a9[313]](r[_$_33a9[37]]),r[_$_33a9[437]]({action:_$_33a9[270],oldValue:a,newValue:$}),r[_$_33a9[139]](_$_33a9[270],a,$),r[_$_33a9[628]](),r[_$_33a9[374]](),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[635],_,a,$)},r[_$_33a9[138]]=function(a,$,e,n){if(!o())return!1;if(!r[_$_33a9[5]][_$_33a9[636]])return console[_$_33a9[14]](_$_33a9[637]),!1;r[_$_33a9[34]]&&(console[_$_33a9[14]](_$_33a9[638]),r[_$_33a9[216]][_$_33a9[630]](),r[_$_33a9[216]][_$_33a9[634]]());var t=[];if(0<a)var u=parseInt(a);else u=1,Array[_$_33a9[8]](a)&&!n&&(Array[_$_33a9[8]](a[0])?n=a:(n=[])[_$_33a9[10]](a));if(n=p[_$_33a9[18]][_$_33a9[639]](n),e=!!e,a=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1,(null==$||$>a||0>$)&&($=a,e=!1),u||(u=1),!1===r[_$_33a9[230]](_$_33a9[640],_,$,u,e))return console[_$_33a9[199]](_$_33a9[641]),!1;r[_$_33a9[549]](),r[_$_33a9[548]](),a=e?$:$+1;var f=0,l=[],c=[],s=r[_$_33a9[33]][_$_33a9[575]](a),v=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[575]](a),g=r[_$_33a9[45]][_$_33a9[575]](a);if(r[_$_33a9[5]][_$_33a9[233]])var d=r[_$_33a9[5]][_$_33a9[233]][_$_33a9[575]](a);for(var h=a;h<u+a;h++){var m=n[f]&&n[f][_$_33a9[369]]?n[f][_$_33a9[369]]:null;m?m>r[_$_33a9[59]]&&(r[_$_33a9[59]]=m):m=r[_$_33a9[386]](),r[_$_33a9[33]][h]={element:null,y:h,id:m},r[_$_33a9[45]][h]=[],r[_$_33a9[5]][_$_33a9[245]][h]=[],r[_$_33a9[5]][_$_33a9[233]]&&(r[_$_33a9[5]][_$_33a9[233]][h]={});for(var A=[],E=0;E<r[_$_33a9[44]][_$_33a9[9]];E++){var C=n&&n[f]&&n[f][_$_33a9[245]]&&void 0!==n[f][_$_33a9[245]][E]&&null!==n[f][_$_33a9[245]][E]?n[f][_$_33a9[245]][E]:_$_33a9[75];r[_$_33a9[5]][_$_33a9[245]][h][E]=A[E]=C,t[_$_33a9[10]]({x:E,y:h,value:C,force:!0})}c[_$_33a9[10]]({id:m,data:A}),f++}for(r[_$_33a9[33]]=r[_$_33a9[33]][_$_33a9[642]](s),r[_$_33a9[45]]=r[_$_33a9[45]][_$_33a9[642]](g),r[_$_33a9[5]][_$_33a9[245]]=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[642]](v),r[_$_33a9[5]][_$_33a9[233]]&&(r[_$_33a9[5]][_$_33a9[233]]=r[_$_33a9[5]][_$_33a9[233]][_$_33a9[642]](d)),h=a;h<u+a;h++)n=r[_$_33a9[399]](h,!1),s[0]?0<=Array[_$_33a9[286]][_$_33a9[98]][_$_33a9[284]](r[_$_33a9[32]][_$_33a9[219]],s[0][_$_33a9[60]])&&r[_$_33a9[32]][_$_33a9[21]](n,s[0][_$_33a9[60]]):(!r[_$_33a9[33]][$]||0<=Array[_$_33a9[286]][_$_33a9[98]][_$_33a9[284]](r[_$_33a9[32]][_$_33a9[219]],r[_$_33a9[33]][$][_$_33a9[60]]))&&r[_$_33a9[32]][_$_33a9[108]](n),l[_$_33a9[10]](r[_$_33a9[45]][h]);0<r[_$_33a9[5]][_$_33a9[36]]&&r[_$_33a9[313]](r[_$_33a9[37]]),r[_$_33a9[139]](_$_33a9[138],u,$,e,c),r[_$_33a9[628]](),r[_$_33a9[374]](),r[_$_33a9[437]]({action:_$_33a9[138],rowNumber:$,numOfRows:u,insertBefore:e,data:c}),t[_$_33a9[9]]&&i(t),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[643],_,$,u,l,e)},r[_$_33a9[271]]=function(a,$){if(!o())return!1;if(!r[_$_33a9[5]][_$_33a9[644]])return console[_$_33a9[14]](_$_33a9[645]),!1;var e=null,n={},t=[];if(null==a&&(($=r[_$_33a9[646]]())[0]?(a=parseInt($[0][_$_33a9[405]](_$_33a9[400])),$=$[_$_33a9[9]]):(a=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1,$=1)),e=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1,(null==a||a>e||0>a)&&(a=e),$||($=1),a+$>=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]&&(($=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-a)>=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]&&($--,console[_$_33a9[14]](_$_33a9[647]))),!1===r[_$_33a9[230]](_$_33a9[648],_,a,$))return console[_$_33a9[199]](_$_33a9[649]),!1;if(-1<parseInt(a)&&0<parseInt($)){r[_$_33a9[549]](),r[_$_33a9[548]]();for(var u=a;u<a+$;u++)for(var i=0;i<r[_$_33a9[44]][_$_33a9[9]];i++)e=p[_$_33a9[18]][_$_33a9[462]](i,u),f(_$_33a9[358],e,n),f(_$_33a9[62],e,n),f(_$_33a9[426],e,n),f(_$_33a9[359],e,n),f(_$_33a9[357],e,n),f(_$_33a9[631],e,n),t[e]=!0;for((e=r[_$_33a9[650]](n[_$_33a9[631]]))&&(n[_$_33a9[632]]=e),u=a;u<a+$;u++)0<=Array[_$_33a9[286]][_$_33a9[98]][_$_33a9[284]](r[_$_33a9[32]][_$_33a9[219]],r[_$_33a9[33]][u][_$_33a9[60]])&&r[_$_33a9[33]][u][_$_33a9[60]][_$_33a9[22]][_$_33a9[407]](r[_$_33a9[33]][u][_$_33a9[60]]);e=r[_$_33a9[33]][_$_33a9[575]](a,$),u=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[575]](a,$),i=r[_$_33a9[45]][_$_33a9[575]](a,$),r[_$_33a9[5]][_$_33a9[233]]&&(r[_$_33a9[5]][_$_33a9[233]][_$_33a9[575]](a,$),r[_$_33a9[5]][_$_33a9[233]])&&r[_$_33a9[377]]();for(var l=0;l<u[_$_33a9[9]];l++)u[l]={id:e[l][_$_33a9[369]],data:u[l]};r[_$_33a9[139]](_$_33a9[271],a,$),r[_$_33a9[628]](t),r[_$_33a9[374]](),r[_$_33a9[375]](),r[_$_33a9[437]]({action:_$_33a9[271],rowNumber:a,numOfRows:$,insertBefore:1,data:u,attributes:n}),0<r[_$_33a9[5]][_$_33a9[36]]&&(r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]]!=r[_$_33a9[5]][_$_33a9[36]]?r[_$_33a9[313]](r[_$_33a9[37]],(function(){if(0==r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]]){var _=r[_$_33a9[651]](r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1);r[_$_33a9[313]](_)}})):r[_$_33a9[373]]()),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[652],_,a,$,i,u,n)}},r[_$_33a9[272]]=function(a,$){if(!o())return!1;if(a=parseInt(a),$=parseInt($),0<Object[_$_33a9[119]](r[_$_33a9[480]]())[_$_33a9[9]]){var e=null;(r[_$_33a9[481]](a)||r[_$_33a9[481]]($)&&r[_$_33a9[481]]($-1))&&(e=!0),e&&r[_$_33a9[264]]()}if(r[_$_33a9[549]](),r[_$_33a9[548]](),a>$)for(r[_$_33a9[39]][_$_33a9[21]](r[_$_33a9[44]][a],r[_$_33a9[44]][$]),r[_$_33a9[40]][_$_33a9[21]](r[_$_33a9[49]][a],r[_$_33a9[49]][$]),e=0;e<r[_$_33a9[33]][_$_33a9[9]];e++)r[_$_33a9[33]][e][_$_33a9[60]]&&r[_$_33a9[33]][e][_$_33a9[60]][_$_33a9[21]](r[_$_33a9[45]][e][a][_$_33a9[60]],r[_$_33a9[45]][e][$][_$_33a9[60]]);else for(r[_$_33a9[39]][_$_33a9[21]](r[_$_33a9[44]][a],r[_$_33a9[44]][$][_$_33a9[580]]?r[_$_33a9[44]][$][_$_33a9[580]]:null),r[_$_33a9[40]][_$_33a9[21]](r[_$_33a9[49]][a],r[_$_33a9[49]][$][_$_33a9[580]]?r[_$_33a9[49]][$][_$_33a9[580]]:null),e=0;e<r[_$_33a9[33]][_$_33a9[9]];e++)r[_$_33a9[33]][e][_$_33a9[60]]&&r[_$_33a9[33]][e][_$_33a9[60]][_$_33a9[21]](r[_$_33a9[45]][e][a][_$_33a9[60]],r[_$_33a9[45]][e][$][_$_33a9[60]][_$_33a9[580]]?r[_$_33a9[45]][e][$][_$_33a9[60]][_$_33a9[580]]:null);for(r[_$_33a9[5]][_$_33a9[133]][_$_33a9[575]]($,0,r[_$_33a9[5]][_$_33a9[133]][_$_33a9[575]](a,1)[0]),r[_$_33a9[44]][_$_33a9[575]]($,0,r[_$_33a9[44]][_$_33a9[575]](a,1)[0]),r[_$_33a9[49]][_$_33a9[575]]($,0,r[_$_33a9[49]][_$_33a9[575]](a,1)[0]),e=0;e<r[_$_33a9[33]][_$_33a9[9]];e++)r[_$_33a9[5]][_$_33a9[245]][e][_$_33a9[575]]($,0,r[_$_33a9[5]][_$_33a9[245]][e][_$_33a9[575]](a,1)[0]),r[_$_33a9[45]][e][_$_33a9[575]]($,0,r[_$_33a9[45]][e][_$_33a9[575]](a,1)[0]);if(r[_$_33a9[5]][_$_33a9[195]])for(e=0;e<r[_$_33a9[5]][_$_33a9[195]][_$_33a9[9]];e++)r[_$_33a9[5]][_$_33a9[195]][e][_$_33a9[575]]($,0,r[_$_33a9[5]][_$_33a9[195]][e][_$_33a9[575]](a,1)[0]);r[_$_33a9[5]][_$_33a9[233]]&&r[_$_33a9[377]](),r[_$_33a9[437]]({action:_$_33a9[272],oldValue:a,newValue:$}),r[_$_33a9[139]](_$_33a9[272],a,$),r[_$_33a9[628]](),r[_$_33a9[374]](),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[653],_,a,$)},r[_$_33a9[137]]=function(a,$,e,n,t,u){if(!o())return!1;if(!r[_$_33a9[5]][_$_33a9[654]])return console[_$_33a9[14]](_$_33a9[655]),!1;if(u=[],0<a)var f=parseInt(a);else if(f=1,Array[_$_33a9[8]](a)&&!t)if(Array[_$_33a9[8]](a[0]))t=a;else{t=[];for(var l=0;l<a[_$_33a9[9]];l++)t[l]=[a[l]]}if(t||(t=[]),e=!!e,a=r[_$_33a9[5]][_$_33a9[133]][_$_33a9[9]]-1,(null==$||$>a||0>$)&&($=a,e=!1),f||(f=1),!1===r[_$_33a9[230]](_$_33a9[656],_,$,f,e))return console[_$_33a9[199]](_$_33a9[657]),!1;for(r[_$_33a9[549]](),r[_$_33a9[548]](),n||(n=[]),l=0;l<f;l++)n[l]||(n[l]={type:_$_33a9[186],source:[],options:[],width:r[_$_33a9[5]][_$_33a9[296]],align:r[_$_33a9[5]][_$_33a9[417]]});a=e?$:$+1,r[_$_33a9[5]][_$_33a9[133]]=p[_$_33a9[658]](r[_$_33a9[5]][_$_33a9[133]],a,n),l=r[_$_33a9[44]][_$_33a9[575]](a);for(var c,s=r[_$_33a9[49]][_$_33a9[575]](a),v=[],g=[],d=null,h=a;h<f+a;h++)r[_$_33a9[328]](h),r[_$_33a9[39]][_$_33a9[21]](r[_$_33a9[44]][h],r[_$_33a9[39]][_$_33a9[219]][h+1]),r[_$_33a9[40]][_$_33a9[21]](r[_$_33a9[49]][h],r[_$_33a9[40]][_$_33a9[219]][h+1]);for(var m=0;m<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];m++){var A=r[_$_33a9[5]][_$_33a9[245]][m][_$_33a9[575]](a),E=r[_$_33a9[45]][m][_$_33a9[575]](a);v[m]=[];var C=null;for(c=0,h=a;h<f+a;h++){if(r[_$_33a9[5]][_$_33a9[245]][m][h]=_$_33a9[75],r[_$_33a9[45]][m][h]={element:null,x:h,y:m,v:_$_33a9[75]},r[_$_33a9[33]][m][_$_33a9[60]]){var y=r[_$_33a9[403]](h,m,_$_33a9[75]);r[_$_33a9[33]][m][_$_33a9[60]][_$_33a9[21]](y,r[_$_33a9[33]][m][_$_33a9[60]][_$_33a9[219]][h+1])}v[m][_$_33a9[10]](r[_$_33a9[45]][m][h]),y=t[m]&&t[m][c]?t[m][c]:_$_33a9[75],u[_$_33a9[10]]({x:h,y:m,value:y}),y&&(C||(C=[]),C[_$_33a9[10]](y)),c++}C&&(d||(d=[]),d[m]=C),r[_$_33a9[5]][_$_33a9[245]][m]=r[_$_33a9[5]][_$_33a9[245]][m][_$_33a9[642]](A),r[_$_33a9[45]][m]=r[_$_33a9[45]][m][_$_33a9[642]](E)}if(r[_$_33a9[44]]=r[_$_33a9[44]][_$_33a9[642]](l),r[_$_33a9[49]]=r[_$_33a9[49]][_$_33a9[642]](s),r[_$_33a9[5]][_$_33a9[322]]&&0<r[_$_33a9[5]][_$_33a9[322]][_$_33a9[9]])for(t=0;t<r[_$_33a9[5]][_$_33a9[322]][_$_33a9[9]];t++)l=parseInt(r[_$_33a9[5]][_$_33a9[322]][t][r[_$_33a9[5]][_$_33a9[322]][t][_$_33a9[9]]-1][_$_33a9[440]])+f,r[_$_33a9[274]](r[_$_33a9[5]][_$_33a9[322]][t][_$_33a9[9]]-1,t,{colspan:l});if(r[_$_33a9[5]][_$_33a9[195]])for(t=0;t<r[_$_33a9[5]][_$_33a9[195]][_$_33a9[9]];t++){for(g[t]=[],l=0;l<f;l++)g[t][_$_33a9[10]](_$_33a9[75]);r[_$_33a9[5]][_$_33a9[195]][t][_$_33a9[575]](a,0,g[t])}r[_$_33a9[139]](_$_33a9[137],f,$,e,n,d),r[_$_33a9[628]](),r[_$_33a9[374]](),r[_$_33a9[437]]({action:_$_33a9[137],columnNumber:$,numOfColumns:f,insertBefore:e,properties:n,data:d}),u[_$_33a9[9]]&&i(u),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[659],_,$,f,v,e)},r[_$_33a9[273]]=function(a,$){if(!o())return!1;if(!r[_$_33a9[5]][_$_33a9[660]])return console[_$_33a9[14]](_$_33a9[661]),!1;var e={},n=[];if(1<r[_$_33a9[44]][_$_33a9[9]]){null==a&&(($=r[_$_33a9[662]](!0))[_$_33a9[9]]?(a=parseInt($[0]),$=parseInt($[_$_33a9[9]])):(a=r[_$_33a9[44]][_$_33a9[9]]-1,$=1));var t=r[_$_33a9[5]][_$_33a9[245]][0][_$_33a9[9]]-1;if((null==a||a>t||0>a)&&(a=t),$||($=1),a+$>=r[_$_33a9[44]][_$_33a9[9]]&&(($=r[_$_33a9[44]][_$_33a9[9]]-a)>=r[_$_33a9[44]][_$_33a9[9]]&&($--,console[_$_33a9[14]](_$_33a9[663]))),!1===r[_$_33a9[230]](_$_33a9[664],_,a,$))return console[_$_33a9[199]](_$_33a9[665]),!1;if(-1<parseInt(a)&&0<parseInt($)){r[_$_33a9[549]](),r[_$_33a9[548]](),t=[];for(var u=[],i=[],l=0,c=a;c<a+$;c++)r[_$_33a9[49]][c][_$_33a9[22]][_$_33a9[407]](r[_$_33a9[49]][c]),r[_$_33a9[44]][c][_$_33a9[22]][_$_33a9[407]](r[_$_33a9[44]][c]),i[l]=r[_$_33a9[5]][_$_33a9[133]][c],l++;r[_$_33a9[5]][_$_33a9[133]][_$_33a9[575]](a,$),r[_$_33a9[44]][_$_33a9[575]](a,$),r[_$_33a9[49]][_$_33a9[575]](a,$);for(var s=0;s<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];s++)for(c=a;c<a+$;c++)l=p[_$_33a9[18]][_$_33a9[462]](c,s),f(_$_33a9[358],l,e),f(_$_33a9[62],l,e),f(_$_33a9[426],l,e),f(_$_33a9[359],l,e),f(_$_33a9[357],l,e),f(_$_33a9[631],l,e),n[l]=!0,r[_$_33a9[45]][s][c][_$_33a9[60]]&&r[_$_33a9[45]][s][c][_$_33a9[60]][_$_33a9[22]][_$_33a9[407]](r[_$_33a9[45]][s][c][_$_33a9[60]]);for((c=r[_$_33a9[650]](e[_$_33a9[631]]))&&(e[_$_33a9[632]]=c),s=0;s<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];s++)u[s]=r[_$_33a9[5]][_$_33a9[245]][s][_$_33a9[575]](a,$),t[s]=r[_$_33a9[45]][s][_$_33a9[575]](a,$);if(r[_$_33a9[5]][_$_33a9[322]]&&0<r[_$_33a9[5]][_$_33a9[322]][_$_33a9[9]])for(c=0;c<r[_$_33a9[5]][_$_33a9[322]][_$_33a9[9]];c++)l=parseInt(r[_$_33a9[5]][_$_33a9[322]][c][r[_$_33a9[5]][_$_33a9[322]][c][_$_33a9[9]]-1][_$_33a9[440]])-$,r[_$_33a9[274]](r[_$_33a9[5]][_$_33a9[322]][c][_$_33a9[9]]-1,c,{colspan:l});if(r[_$_33a9[5]][_$_33a9[195]])for(s=0;s<r[_$_33a9[5]][_$_33a9[195]][_$_33a9[9]];s++)r[_$_33a9[5]][_$_33a9[195]][s][_$_33a9[575]](a,$);r[_$_33a9[5]][_$_33a9[233]]&&r[_$_33a9[377]](),r[_$_33a9[139]](_$_33a9[273],a,$),r[_$_33a9[628]](n),r[_$_33a9[374]](),r[_$_33a9[375]](),r[_$_33a9[437]]({action:_$_33a9[273],columnNumber:a,numOfColumns:$,insertBefore:1,data:u,properties:i,attributes:e}),r[_$_33a9[436]](),r[_$_33a9[230]](_$_33a9[666],_,a,$,t,i,e)}}},r[_$_33a9[667]]=function(_,a){var $=r[_$_33a9[376]]();if($){var e=$[0],n=$[1],t=$[2];return t||(t=e),($=$[3])||($=n),_>=e&&_<=t&&a>=n&&a<=$}return!1},r[_$_33a9[668]]=function(_,a){if(!_)return null;var $=[],e=_[0],n=_[2],t=_[3];for(_=_[1];_<=t;_++)for(var u=e;u<=n;u++)a?$[_$_33a9[10]](p[_$_33a9[18]][_$_33a9[462]](u,_)):$[_$_33a9[10]](r[_$_33a9[45]][_][u]);return $},r[_$_33a9[452]]=function(_){return r[_$_33a9[668]](r[_$_33a9[376]](),_)},r[_$_33a9[646]]=function(_){var a=[],$=r[_$_33a9[376]]();if($)for(var e=$[1];e<=$[3];e++)_?a[_$_33a9[10]](e):a[_$_33a9[10]](r[_$_33a9[33]][e][_$_33a9[60]]);return a},r[_$_33a9[662]]=function(){var _=[],a=r[_$_33a9[376]]();if(a)for(var $=a[0];$<=a[2];$++)_[_$_33a9[10]]($);return _},r[_$_33a9[376]]=function(){return r[_$_33a9[46]]&&r[_$_33a9[46]][_$_33a9[513]]&&null!=r[_$_33a9[46]][_$_33a9[513]][_$_33a9[522]]?[r[_$_33a9[46]][_$_33a9[513]][_$_33a9[522]],r[_$_33a9[46]][_$_33a9[513]][_$_33a9[523]],r[_$_33a9[46]][_$_33a9[513]][_$_33a9[524]],r[_$_33a9[46]][_$_33a9[513]][_$_33a9[525]]]:null},r[_$_33a9[628]]=function(_){for(var a=0;a<r[_$_33a9[44]][_$_33a9[9]];a++){var $=r[_$_33a9[44]][a][_$_33a9[405]](_$_33a9[404]);$!=a&&(r[_$_33a9[44]][a][_$_33a9[321]](_$_33a9[404],a),r[_$_33a9[44]][a][_$_33a9[405]](_$_33a9[434])||(r[_$_33a9[44]][a][_$_33a9[315]]=p[_$_33a9[438]](a)))}for(var e=0;e<r[_$_33a9[33]][_$_33a9[9]];e++){var n=r[_$_33a9[33]][e][_$_33a9[392]];n!=e&&(r[_$_33a9[33]][e][_$_33a9[392]]=e,r[_$_33a9[33]][e][_$_33a9[60]]&&(r[_$_33a9[33]][e][_$_33a9[60]][_$_33a9[321]](_$_33a9[400],e),r[_$_33a9[33]][e][_$_33a9[60]][_$_33a9[219]][0][_$_33a9[321]](_$_33a9[400],e),r[_$_33a9[33]][e][_$_33a9[60]][_$_33a9[219]][0][_$_33a9[315]]=e+1))}var t=[],u=function(_,a,$,e){if(_!=$&&(r[_$_33a9[45]][e][$][_$_33a9[391]]=$,r[_$_33a9[45]][e][$][_$_33a9[60]])&&r[_$_33a9[45]][e][$][_$_33a9[60]][_$_33a9[321]](_$_33a9[404],$),a!=e&&(r[_$_33a9[45]][e][$][_$_33a9[392]]=e,r[_$_33a9[45]][e][$][_$_33a9[60]])&&r[_$_33a9[45]][e][$][_$_33a9[60]][_$_33a9[321]](_$_33a9[400],e),_!=$||a!=e){var n=p[_$_33a9[415]]([_,a]),u=p[_$_33a9[415]]([$,e]);t[n]=u,1==r[_$_33a9[5]][_$_33a9[414]]&&(r[u]=r[_$_33a9[5]][_$_33a9[245]][e][$],r[_$_33a9[5]][_$_33a9[245]][a]&&r[_$_33a9[5]][_$_33a9[245]][a][_]?r[n]=r[_$_33a9[5]][_$_33a9[245]][a][_]:delete r[n])}};if(_)for($=function(_,a){_&&_[a]&&delete _[a]},e=Object[_$_33a9[119]](_),a=0;a<e[_$_33a9[9]];a++)$(r,e[a]),$(r[_$_33a9[5]][_$_33a9[358]],e[a]),$(r[_$_33a9[5]][_$_33a9[426]],e[a]),$(r[_$_33a9[5]][_$_33a9[62]],e[a]),$(r[_$_33a9[5]][_$_33a9[359]],e[a]);for(e=0;e<r[_$_33a9[45]][_$_33a9[9]];e++)for(a=0;a<r[_$_33a9[44]][_$_33a9[9]];a++)u($=r[_$_33a9[45]][e][a][_$_33a9[391]],n=r[_$_33a9[45]][e][a][_$_33a9[392]],a,e);if(r[_$_33a9[5]][_$_33a9[357]]&&(e=Object[_$_33a9[119]](r[_$_33a9[5]][_$_33a9[357]]))[_$_33a9[9]])for(a=0;a<e[_$_33a9[9]];a++)r[_$_33a9[456]][_$_33a9[473]](e[a],t,_);return r[_$_33a9[669]](_$_33a9[358],t),r[_$_33a9[669]](_$_33a9[426],t),r[_$_33a9[669]](_$_33a9[62],t),r[_$_33a9[669]](_$_33a9[359],t),r[_$_33a9[670]](t,_),t},r[_$_33a9[669]]=function(_,a){if(r[_$_33a9[5]][_]){for(var $={},e=Object[_$_33a9[119]](r[_$_33a9[5]][_]),n=0;n<e[_$_33a9[9]];n++)$[a&&a[e[n]]?a[e[n]]:e[n]]=r[_$_33a9[5]][_][e[n]];r[_$_33a9[5]][_]=$}},r[_$_33a9[374]]=function(){if(typeof r[_$_33a9[5]][_$_33a9[374]]==_$_33a9[12])for(var a=0;a<r[_$_33a9[33]][_$_33a9[9]];a++)for(var $=0;$<r[_$_33a9[44]][_$_33a9[9]];$++)r[_$_33a9[45]][a][$][_$_33a9[60]]&&r[_$_33a9[5]][_$_33a9[374]](_,r[_$_33a9[45]][a][$][_$_33a9[60]],$,a,r[_$_33a9[5]][_$_33a9[245]][a][$],r[_$_33a9[45]][a][$][_$_33a9[60]][_$_33a9[109]]);r[_$_33a9[5]][_$_33a9[195]]&&r[_$_33a9[276]]()},r[_$_33a9[375]]=function(){if(0<r[_$_33a9[5]][_$_33a9[671]]){for(var _=0,a=r[_$_33a9[33]][_$_33a9[9]]-1;0<=a;a--){for(var $=!1,e=0;e<r[_$_33a9[44]][_$_33a9[9]];e++)r[_$_33a9[5]][_$_33a9[245]][a][e]&&($=!0);if($)break;_++}0<r[_$_33a9[5]][_$_33a9[671]]-_&&r[_$_33a9[138]](r[_$_33a9[5]][_$_33a9[671]]-_)}if(0<r[_$_33a9[5]][_$_33a9[672]]){for(_=0,e=r[_$_33a9[44]][_$_33a9[9]]-1;0<=e;e--){for($=!1,a=0;a<r[_$_33a9[33]][_$_33a9[9]];a++)r[_$_33a9[5]][_$_33a9[245]][a][e]&&($=!0);if($)break;_++}0<r[_$_33a9[5]][_$_33a9[672]]-_&&r[_$_33a9[137]](r[_$_33a9[5]][_$_33a9[672]]-_)}},r[_$_33a9[673]]=function(_){if(_=r[_$_33a9[491]](_))return!!_[_$_33a9[125]][_$_33a9[202]](_$_33a9[422])},r[_$_33a9[674]]=function(_,a){(_=r[_$_33a9[491]](_))&&(a?_[_$_33a9[125]][_$_33a9[124]](_$_33a9[422]):_[_$_33a9[125]][_$_33a9[23]](_$_33a9[422]))},r[_$_33a9[675]]=function(_){Array[_$_33a9[8]](_)||(_=[_]);for(var a=0;a<_[_$_33a9[9]];a++){var $=_[a];r[_$_33a9[33]][$]&&r[_$_33a9[33]][$][_$_33a9[60]]&&(r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75]),r[_$_33a9[33]][$][_$_33a9[536]]=!0}r[_$_33a9[436]]()},r[_$_33a9[676]]=function(_){Array[_$_33a9[8]](_)||(_=[_]);for(var a=0;a<_[_$_33a9[9]];a++){var $=_[a];r[_$_33a9[33]][$]&&r[_$_33a9[33]][$][_$_33a9[60]]&&(r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107]),r[_$_33a9[33]][$][_$_33a9[536]]=!1}r[_$_33a9[548]]()},r[_$_33a9[677]]=function(_){if(r[_$_33a9[44]][_]){r[_$_33a9[44]][_][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75],r[_$_33a9[49]][_][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75];for(var a=0;a<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];a++)r[_$_33a9[45]][a][_][_$_33a9[60]]&&(r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75])}r[_$_33a9[436]]()},r[_$_33a9[678]]=function(_){if(r[_$_33a9[44]][_]){r[_$_33a9[44]][_][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107],r[_$_33a9[49]][_][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107];for(var a=0;a<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];a++)r[_$_33a9[45]][a][_][_$_33a9[60]]&&(r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[107])}r[_$_33a9[436]]()},r[_$_33a9[679]]=function(){r[_$_33a9[30]][_$_33a9[125]][_$_33a9[23]](_$_33a9[680])},r[_$_33a9[681]]=function(){r[_$_33a9[30]][_$_33a9[125]][_$_33a9[124]](_$_33a9[680])};var l=function(_){for(var a,$=[],e=0;e<_[_$_33a9[9]];e++)$[a=p[_$_33a9[18]][_$_33a9[462]](_[e][_$_33a9[391]],_[e][_$_33a9[392]])]=_[e][_$_33a9[246]]||_[e][_$_33a9[393]];$=r[_$_33a9[650]]($);var n=Object[_$_33a9[119]]($);for(e=0;e<n[_$_33a9[9]];e++)0<=n[e][_$_33a9[98]](_$_33a9[96])?(a=(_=n[e][_$_33a9[86]](_$_33a9[96]))[1],_=window[_[0]]):(a=n[e],_=r),a=p[_$_33a9[18]][_$_33a9[461]](a),_[_$_33a9[500]](a[0],a[1],$[n[e]],!0)},c=function(_,a){this[_$_33a9[575]](a,0,this[_$_33a9[575]](_,1)[0])};r[_$_33a9[650]]=function(_){var a=[],$=[],e=[],n=function(_){if(0<=_[_$_33a9[98]](_$_33a9[96])){var t=_[_$_33a9[86]](_$_33a9[96]),u=t[0],o=t[1];t=window[u]}else u=(t=r)[_$_33a9[224]](),o=_;if(t[_$_33a9[48]][o]&&!e[_]){var i=!1;for(e[_]=!0,_=0;_<t[_$_33a9[48]][o][_$_33a9[9]];_++){var f=t[_$_33a9[48]][o][_];if(-1==f[_$_33a9[98]](_$_33a9[96])&&(f=u+_$_33a9[96]+f),!$[f]){var l=t[_$_33a9[497]](f);(_$_33a9[75]+l)[_$_33a9[564]](0,1)==_$_33a9[411]?a[_$_33a9[10]]([f,l,p[_$_33a9[18]][_$_33a9[682]](l,u)]):(i=!0,t[_$_33a9[48]][o][_]=null),n(f),$[f]=!0}}1==i&&(t[_$_33a9[48]][o]=t[_$_33a9[48]][o][_$_33a9[216]]((function(_){return null!=_})))}},t=Object[_$_33a9[119]](_);for(_=0;_<t[_$_33a9[9]];_++)n(t[_]);for(t=0,_=a[_$_33a9[9]]-1;0<=_;_--){for(var u=0;u<_;u++)if(0<=a[u][2][_$_33a9[98]](a[_][0])){c[_$_33a9[284]](a,_,u),_=a[_$_33a9[9]];break}if(1e6<++t){console[_$_33a9[14]](_$_33a9[683]);break}}for($=[],_=0;_<a[_$_33a9[9]];_++)$[a[_][0]]=a[_][1];return $};var s=function(_,a){var $=[],e=Object[_$_33a9[119]](_);if(e[_$_33a9[9]])for(var n=0;n<e[_$_33a9[9]];n++){if(0<=e[n][_$_33a9[98]](_$_33a9[96])){var t=e[n][_$_33a9[86]](_$_33a9[96]),u=window[t[0]],o=t[1];t=t[0]}else u=r,o=e[n],t=_$_33a9[75];o=p[_$_33a9[18]][_$_33a9[461]](o),o=u[_$_33a9[500]](o[0],o[1],_[e[n]],!0),$[t]||($[t]=[]),$[t][_$_33a9[10]](o)}if(1==a&&(e=Object[_$_33a9[119]]($))[_$_33a9[9]])for(n=0;n<e[_$_33a9[9]];n++)(u=e[n]?window[e[n]]:r)[_$_33a9[139]](_$_33a9[257],$[e[n]])};r[_$_33a9[670]]=function(a,$){for(var e=[],n=[],t=Object[_$_33a9[119]](r[_$_33a9[48]]),u=0;u<t[_$_33a9[9]];u++){for(var o=r[_$_33a9[48]][t[u]],i=[],f=0;f<o[_$_33a9[9]];f++){var l=o[f];$&&$[l]||(a[l]&&(l=a[l]),i[_$_33a9[10]](l)),e[l]=null}l=t[u],!i[_$_33a9[9]]||$&&$[l]||(a[l]&&(l=a[l]),n[l]=i)}for(r[_$_33a9[48]]=n,n=[],t=Object[_$_33a9[119]](e),u=0;u<t[_$_33a9[9]];u++)0<=t[u][_$_33a9[98]](_$_33a9[96])?(i=t[u][_$_33a9[86]](_$_33a9[96]),l=window[i[0]],i=i[1],e=r[_$_33a9[224]]()):(l=r,i=t[u],e=null),l&&(o=l[_$_33a9[497]](i))&&(_$_33a9[75]+o)[_$_33a9[564]](0,1)==_$_33a9[411]&&((e=p[_$_33a9[18]][_$_33a9[684]](o,a,$,e))!=o&&(n[t[u]]=e,i=p[_$_33a9[18]][_$_33a9[461]](i),l[_$_33a9[5]][_$_33a9[245]][i[1]][i[0]]=e));if(Array[_$_33a9[8]](_[_$_33a9[100]]))for(u=0;u<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];u++)for(f=0;f<r[_$_33a9[5]][_$_33a9[245]][u][_$_33a9[9]];f++)(o=_$_33a9[75]+r[_$_33a9[5]][_$_33a9[245]][u][f])[_$_33a9[564]](0,1)==_$_33a9[411]&&o[_$_33a9[98]](_$_33a9[685])&&r[_$_33a9[500]](f,u,o);s(n,!0),s(r[_$_33a9[650]](n))},r[_$_33a9[566]]=function(_,a,$,e){var n=[],t=function(_,a,$,e){if(null!=a&&null!=$){var o=p[_$_33a9[18]][_$_33a9[462]](a,$);if(a=e[_$_33a9[224]]()+_$_33a9[96]+o,n[a])throw{error:_$_33a9[686],message:_$_33a9[687]};n[a]=!0}else o=null;1==r[_$_33a9[5]][_$_33a9[197]]&&(_=p[_$_33a9[18]][_$_33a9[412]](_,!0));var i=(_=(_=_[_$_33a9[573]](/\$/g,_$_33a9[75]))[_$_33a9[573]](/!/g,_$_33a9[96]))[_$_33a9[690]](/([A-Z]+[0-9]*\.)?(\$?[A-Z]+\$?[0-9]+):(\$?[A-Z]+\$?[0-9]+)?/g);if(i&&i[_$_33a9[9]])for(var f=0;f<i[_$_33a9[9]];f++){var l=p[_$_33a9[18]][_$_33a9[474]](i[f]);_=_[_$_33a9[573]](i[f],_$_33a9[688]+l[_$_33a9[76]](_$_33a9[85])+_$_33a9[689])}if((i=_[_$_33a9[690]](/([A-Z]+[0-9]*\.)?(\$?[A-Z]+\$?[0-9]+)(:\$?[A-Z]+\$?[0-9]+)?/g))&&-1<i[_$_33a9[98]](o))throw{error:_$_33a9[691],message:_$_33a9[692]};if(i)for(f=0;f<i[_$_33a9[9]];f++){if((l=i[f][_$_33a9[86]](_$_33a9[96]))[1]){var c=l[1];l=window[l[0]],a=e[_$_33a9[224]]()+_$_33a9[96]+o}else c=l[0],l=e,a=o;if(typeof l==_$_33a9[82]||typeof l[_$_33a9[48]]==_$_33a9[82])throw{error:_$_33a9[693],message:_$_33a9[694]};a&&(l[_$_33a9[48]][c]||(l[_$_33a9[48]][c]=[]),0>l[_$_33a9[48]][c][_$_33a9[98]](a))&&l[_$_33a9[48]][c][_$_33a9[10]](a),u[i[f]]||(a=($=p[_$_33a9[18]][_$_33a9[461]](c))[0],$=$[1],c=void 0!==l[c]?l[c]:l[_$_33a9[5]][_$_33a9[245]][$]&&null!==l[_$_33a9[5]][_$_33a9[245]][$][a]?l[_$_33a9[5]][_$_33a9[245]][$][a]:null,(_$_33a9[75]+c)[_$_33a9[564]](0,1)==_$_33a9[411]?u[i[f]]=t(c,a,$,l):(a=l[_$_33a9[5]][_$_33a9[133]][a]||{},c=p[_$_33a9[18]][_$_33a9[697]](c,!1!==l[_$_33a9[5]][_$_33a9[695]]&&!1!==a[_$_33a9[695]],a[_$_33a9[696]],a[_$_33a9[288]]),u[i[f]]=c))}return _[_$_33a9[564]](1)};window[_$_33a9[698]]=function(){return parseInt(a)+1},window[_$_33a9[699]]=function(){return parseInt($)+1},window[_$_33a9[700]]=function(){return p[_$_33a9[415]]([a,$])},window[_$_33a9[16]]=function(){return r},window[_$_33a9[701]]=function(_,a,$){return r[_$_33a9[498]](parseInt(_)-1,parseInt(a)-1,$)},window[_$_33a9[702]]=function(_){return r[_$_33a9[498]](parseInt(_)-1,parseInt($))},window[_$_33a9[703]]=!0,window[_$_33a9[704]]=!1,window[_$_33a9[705]]=null;var u=[];try{if(_=t(_,a,$,r)){var o=_$_33a9[75],i=Object[_$_33a9[119]](u);if(i[_$_33a9[9]])for(var f=0;f<i[_$_33a9[9]];f++)o=-1==i[f][_$_33a9[98]](_$_33a9[96])?o+(_$_33a9[706]+i[f]+_$_33a9[707]+u[i[f]]+_$_33a9[708]):o+(i[f]+_$_33a9[707]+u[i[f]]+_$_33a9[708]);_=(_=_[_$_33a9[573]](/<>/g,_$_33a9[709]))[_$_33a9[573]](/&/g,_$_33a9[710]);var l=new Function(o+_$_33a9[711]+_)();if(1==r[_$_33a9[5]][_$_33a9[414]]&&!1!==e&&null!=a&&null!=$){var c=p[_$_33a9[18]][_$_33a9[462]](a,$);r[c]=l}return l}}catch(e){return 1==r[_$_33a9[5]][_$_33a9[712]]&&console[_$_33a9[199]](_,e),e&&e[_$_33a9[14]]?(e[_$_33a9[14]]!=_$_33a9[693]||null==a||null==$||p[_$_33a9[11]][_$_33a9[713]]||p[_$_33a9[11]][_$_33a9[426]][_$_33a9[10]]([r,a,$]),e[_$_33a9[14]]):_$_33a9[693]}},r[_$_33a9[714]]=function(){r[_$_33a9[471]](0,0,r[_$_33a9[44]][_$_33a9[9]]-1,r[_$_33a9[45]][_$_33a9[9]]-1)},r[_$_33a9[651]]=function(_){if(r[_$_33a9[34]]&&(_=r[_$_33a9[34]][_$_33a9[98]](parseInt(_))),1==r[_$_33a9[5]][_$_33a9[188]])var a=r[_$_33a9[5]][_$_33a9[329]];else 0<r[_$_33a9[5]][_$_33a9[36]]&&(a=r[_$_33a9[5]][_$_33a9[36]]);return a?Math[_$_33a9[716]]((parseInt(_)+1)/parseInt(a))-1:(console[_$_33a9[199]](_$_33a9[715]),!1)},r[_$_33a9[717]]=function(){if(!r[_$_33a9[5]][_$_33a9[188]]&&!r[_$_33a9[5]][_$_33a9[36]])return console[_$_33a9[199]](_$_33a9[715]),!1;var _=r[_$_33a9[34]]?r[_$_33a9[34]][_$_33a9[9]]:r[_$_33a9[33]][_$_33a9[9]];if(1==r[_$_33a9[5]][_$_33a9[188]])var a=r[_$_33a9[5]][_$_33a9[329]];else 0<r[_$_33a9[5]][_$_33a9[36]]&&(a=r[_$_33a9[5]][_$_33a9[36]]);return Math[_$_33a9[716]](_/a)},r[_$_33a9[313]]=function(a,$){var e=r[_$_33a9[37]],n=[],t=[],u=r[_$_33a9[34]]?r[_$_33a9[34]]:r[_$_33a9[33]],o=1==r[_$_33a9[5]][_$_33a9[188]]?r[_$_33a9[5]][_$_33a9[329]]:parseInt(r[_$_33a9[5]][_$_33a9[36]]);if(o){if(null!=a&&-1!=a||(a=Math[_$_33a9[716]](u[_$_33a9[9]]/o)-1),typeof r[_$_33a9[5]][_$_33a9[719]]==_$_33a9[12]&&!1===r[_$_33a9[230]](_$_33a9[719],_,a,e,o))return!1;r[_$_33a9[37]]=a;var i=a*o;for((o=a*o+o)>u[_$_33a9[9]]&&(o=u[_$_33a9[9]],1==r[_$_33a9[5]][_$_33a9[188]]&&(i=o-r[_$_33a9[5]][_$_33a9[329]])),0>i&&(i=0);r[_$_33a9[32]][_$_33a9[530]];){var f=r[_$_33a9[32]][_$_33a9[530]][_$_33a9[405]](_$_33a9[400]);t[_$_33a9[10]](f),r[_$_33a9[32]][_$_33a9[407]](r[_$_33a9[32]][_$_33a9[530]])}for(;i<o;i++)f=r[_$_33a9[34]]?u[i]:i,r[_$_33a9[372]](f),n[_$_33a9[10]](f);0<r[_$_33a9[5]][_$_33a9[36]]&&r[_$_33a9[373]](),r[_$_33a9[720]](),typeof $==_$_33a9[12]&&$(),r[_$_33a9[374]](),r[_$_33a9[230]](_$_33a9[721],_,a,e,r[_$_33a9[5]][_$_33a9[36]]),1==r[_$_33a9[5]][_$_33a9[188]]&&r[_$_33a9[230]](_$_33a9[722],_,n,t)}else console[_$_33a9[14]](_$_33a9[718])},r[_$_33a9[723]]=function(_){_=parseInt(_);var a=1==r[_$_33a9[5]][_$_33a9[188]]?r[_$_33a9[5]][_$_33a9[329]]:parseInt(r[_$_33a9[5]][_$_33a9[36]]),$=r[_$_33a9[50]]?r[_$_33a9[50]][0]:0,e=function(){r[_$_33a9[471]]($,_,$,_),r[_$_33a9[29]][_$_33a9[539]]=r[_$_33a9[33]][_][_$_33a9[60]][_$_33a9[724]]-r[_$_33a9[31]][_$_33a9[725]]};1<a?(a=parseInt(_/a),r[_$_33a9[313]](a,e)):e()},r[_$_33a9[726]]=function(_){var a=Math[_$_33a9[716]]((parseInt(_)+1)/parseInt(r[_$_33a9[5]][_$_33a9[329]]))-1;for(_=a*r[_$_33a9[5]][_$_33a9[329]],(a=a*r[_$_33a9[5]][_$_33a9[329]]+r[_$_33a9[5]][_$_33a9[329]])>r[_$_33a9[44]][_$_33a9[9]]&&(a=r[_$_33a9[44]][_$_33a9[9]],1==r[_$_33a9[5]][_$_33a9[188]]&&(_=a-r[_$_33a9[5]][_$_33a9[329]])),r[_$_33a9[38]][0]=_,r[_$_33a9[38]][1]=a;1<r[_$_33a9[39]][_$_33a9[219]][_$_33a9[9]];)for(r[_$_33a9[39]][_$_33a9[407]](r[_$_33a9[39]][_$_33a9[219]][1]),r[_$_33a9[40]][_$_33a9[407]](r[_$_33a9[40]][_$_33a9[219]][1]),_=0;_<r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]];_++)r[_$_33a9[32]][_$_33a9[219]][_][_$_33a9[407]](r[_$_33a9[32]][_$_33a9[219]][_][_$_33a9[219]][1]);for(a=r[_$_33a9[38]][0];a<r[_$_33a9[38]][1];a++)for(r[_$_33a9[39]][_$_33a9[108]](r[_$_33a9[44]][a]),r[_$_33a9[40]][_$_33a9[108]](r[_$_33a9[49]][a]),_=0;_<r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]];_++){var $=r[_$_33a9[32]][_$_33a9[219]][_][_$_33a9[405]](_$_33a9[400]);r[_$_33a9[32]][_$_33a9[219]][_][_$_33a9[108]](r[_$_33a9[45]][$][a][_$_33a9[60]])}r[_$_33a9[436]]()},r[_$_33a9[373]]=function(){if(r[_$_33a9[36]][_$_33a9[219]][0][_$_33a9[315]]=_$_33a9[75],r[_$_33a9[36]][_$_33a9[219]][1][_$_33a9[315]]=_$_33a9[75],r[_$_33a9[5]][_$_33a9[36]]){var _=r[_$_33a9[34]]?r[_$_33a9[34]][_$_33a9[9]]:r[_$_33a9[33]][_$_33a9[9]];if(_){if(_=Math[_$_33a9[716]](_/r[_$_33a9[5]][_$_33a9[36]]),6>r[_$_33a9[37]])var a=1,$=10>_?_:10;else 5>_-r[_$_33a9[37]]?($=_,1>(a=_-9)&&(a=1)):(a=r[_$_33a9[37]]-4,$=r[_$_33a9[37]]+5);if(1<a){var e=document[_$_33a9[20]](_$_33a9[19]);e[_$_33a9[208]]=_$_33a9[728],e[_$_33a9[315]]=_$_33a9[729],e[_$_33a9[292]]=1,r[_$_33a9[36]][_$_33a9[219]][1][_$_33a9[108]](e)}for(;a<=$;a++)(e=document[_$_33a9[20]](_$_33a9[19]))[_$_33a9[208]]=_$_33a9[728],e[_$_33a9[315]]=a,r[_$_33a9[36]][_$_33a9[219]][1][_$_33a9[108]](e),r[_$_33a9[37]]==a-1&&e[_$_33a9[125]][_$_33a9[124]](_$_33a9[730]);$<_&&((e=document[_$_33a9[20]](_$_33a9[19]))[_$_33a9[208]]=_$_33a9[728],e[_$_33a9[315]]=_$_33a9[731],e[_$_33a9[292]]=_,r[_$_33a9[36]][_$_33a9[219]][1][_$_33a9[108]](e)),r[_$_33a9[36]][_$_33a9[219]][0][_$_33a9[315]]=function(_){var a=Array[_$_33a9[286]][_$_33a9[285]][_$_33a9[284]](arguments,1);return _[_$_33a9[573]](/{(\d+)}/g,(function(_,$){return typeof a[$]!=_$_33a9[82]?a[$]:_}))}(r[_$_33a9[5]][_$_33a9[186]][_$_33a9[732]],r[_$_33a9[37]]+1,_)}else r[_$_33a9[36]][_$_33a9[219]][0][_$_33a9[315]]=r[_$_33a9[5]][_$_33a9[186]][_$_33a9[727]]}},r[_$_33a9[733]]=function(_,a,$,e){if(!o())return!1;var n,t=g(r[_$_33a9[376]](),!1,!1),u=r[_$_33a9[452]](),i={},f=0,l=[],c=[],s=!1;if(n=r[_$_33a9[601]](u,!0)){var v=Object[_$_33a9[119]](n);if(v[_$_33a9[9]]){for(var d=0;d<v[_$_33a9[9]];d++)l[_$_33a9[10]](n[v[d]]);i[_$_33a9[62]]||(i[_$_33a9[62]]={})}}var h=r[_$_33a9[376]]();if(h[0]==_)var m=a<h[1]?a-h[1]:1,A=0;else A=_<h[0]?_-h[0]:1,m=0;v=0,_=parseInt(_),$=parseInt($),a=parseInt(a),e=parseInt(e);for(var E=a;E<=e;E++)if(!r[_$_33a9[34]]||-1!=r[_$_33a9[34]][_$_33a9[98]](E)){for(null==t[f]&&(f=0),n=0,h[0]!=_&&(A=_<h[0]?_-h[0]:1),d=_;d<=$;d++){if(!(0!=s||r[_$_33a9[45]][E][d][_$_33a9[60]]&&r[_$_33a9[45]][E][d][_$_33a9[60]][_$_33a9[125]][_$_33a9[202]](_$_33a9[422]))){if((!r[_$_33a9[46]][_$_33a9[511]]||1!=r[_$_33a9[46]][_$_33a9[511]][_$_33a9[529]])&&r[_$_33a9[5]][_$_33a9[245]][E][d]!=_$_33a9[75]){s=!0;continue}(null==t[f]||null==t[f][n])&&(n=0);var C=t[f][n];C&&!t[1]&&1==r[_$_33a9[5]][_$_33a9[734]]&&(r[_$_33a9[5]][_$_33a9[133]][d][_$_33a9[288]]==_$_33a9[186]||r[_$_33a9[5]][_$_33a9[133]][d][_$_33a9[288]]==_$_33a9[618]?(_$_33a9[75]+C)[_$_33a9[564]](0,1)==_$_33a9[411]?C=p[_$_33a9[18]][_$_33a9[459]](C,A,m):C==Number(C)&&(C=Number(C)+m):r[_$_33a9[5]][_$_33a9[133]][d][_$_33a9[288]]==_$_33a9[616]&&((C=new Date(C))[_$_33a9[736]](C[_$_33a9[735]]()+m),C=C[_$_33a9[737]]()+_$_33a9[738]+p[_$_33a9[18]][_$_33a9[519]](parseInt(C[_$_33a9[739]]()+1))+_$_33a9[738]+p[_$_33a9[18]][_$_33a9[519]](C[_$_33a9[735]]())+_$_33a9[572]+_$_33a9[740])),c[_$_33a9[10]]({x:d,y:E,newValue:C}),l&&null!=l[v]&&(C=p[_$_33a9[18]][_$_33a9[462]](d,E),i[_$_33a9[62]][C]=l[v],++v>=l[_$_33a9[9]]&&(v=0))}n++,h[0]!=_&&A++}f++,m++}if(c[_$_33a9[9]]){for(d=0;d<u[_$_33a9[9]];d++)u[d][_$_33a9[391]]<_&&(_=u[d][_$_33a9[391]]),u[d][_$_33a9[392]]<a&&(a=u[d][_$_33a9[392]]),u[d][_$_33a9[391]]>$&&($=u[d][_$_33a9[391]]),u[d][_$_33a9[392]]>e&&(e=u[d][_$_33a9[392]]);r[_$_33a9[741]](c,i),r[_$_33a9[139]](_$_33a9[741],c,i),r[_$_33a9[471]](_,a,$,e),r[_$_33a9[548]](_$_33a9[509],!0)}};var v=function(_,a,$){if(r[_$_33a9[5]][_$_33a9[245]][a]&&typeof r[_$_33a9[5]][_$_33a9[245]][a][_]!=_$_33a9[82]){var e=r[_$_33a9[5]][_$_33a9[245]][a][_],n=r[_$_33a9[5]][_$_33a9[133]][_];if(n[_$_33a9[288]]!=_$_33a9[424]&&n[_$_33a9[288]]!=_$_33a9[613]&&n[_$_33a9[288]]!=_$_33a9[504]&&n[_$_33a9[288]]!=_$_33a9[617]&&n[_$_33a9[288]]!=_$_33a9[742]&&n[_$_33a9[288]]!=_$_33a9[282]&&(!0===$||n[_$_33a9[288]]!=_$_33a9[453]&&n[_$_33a9[288]]!=_$_33a9[614]&&n[_$_33a9[288]]!=_$_33a9[615]))if(r[_$_33a9[45]][a][_][_$_33a9[60]])e=1==r[_$_33a9[5]][_$_33a9[439]]?r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[109]]:r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[315]];else{if((_$_33a9[75]+e)[_$_33a9[564]](0,1)==_$_33a9[411]){var t=p[_$_33a9[18]][_$_33a9[462]](_,a);e=r[t]?r[t]:r[_$_33a9[566]](e,_,a,!1)}_=null,typeof n[_$_33a9[288]]==_$_33a9[449]?_=n[_$_33a9[288]]:typeof p[_$_33a9[427]][n[_$_33a9[288]]]==_$_33a9[449]&&(_=p[_$_33a9[427]][n[_$_33a9[288]]]),_&&typeof _[_$_33a9[381]]==_$_33a9[12]&&(e=_[_$_33a9[381]](n,e,$))}return null==e&&(e=_$_33a9[75]),e}},g=function(_,a,$){var e=!!_;typeof $===_$_33a9[82]&&($=_$_33a9[743]);for(var n,t=[],u=r[_$_33a9[44]][_$_33a9[9]],o=r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]],i=0;i<o;i++){n=[];for(var f=0;f<u;f++){var l;if(!(l=!e)){l=_[1];var c=_[2],s=_[3];l=f>=_[0]&&f<=c&&i>=l&&i<=s}if(l&&(!r[_$_33a9[34]]||-1!=r[_$_33a9[34]][_$_33a9[98]](i))){if(l=r[_$_33a9[5]][_$_33a9[245]][i][f],a){if(!1===r[_$_33a9[33]][i][_$_33a9[536]])continue;void 0!==(c=v(f,i))&&(l=c)}!1!==$&&l[_$_33a9[690]]&&(l[_$_33a9[690]]($)||l[_$_33a9[690]](/\n/)||l[_$_33a9[690]](/"/))&&(l=l[_$_33a9[573]](new RegExp(_$_33a9[744],_$_33a9[745]),_$_33a9[746]),l=_$_33a9[744]+l+_$_33a9[744]),n[_$_33a9[10]](l)}}n[_$_33a9[9]]&&(!1===$?t[_$_33a9[10]](n):t[_$_33a9[10]](n[_$_33a9[76]]($)))}return!1===$?t:t[_$_33a9[76]](_$_33a9[747])+_$_33a9[747]};r[_$_33a9[245]]=function(_,a,$){return g(_,a,$)},r[_$_33a9[748]]=function(_,$){if(typeof $==_$_33a9[82]&&($=r[_$_33a9[5]][_$_33a9[749]]),r[_$_33a9[5]][_$_33a9[750]]){typeof $==_$_33a9[82]&&($=!0);var e=_$_33a9[75];1!=_&&1!=r[_$_33a9[5]][_$_33a9[752]]||(e+=r[_$_33a9[592]]()[_$_33a9[573]](/\s+/gm,_$_33a9[572])+_$_33a9[747]),e+=g(null,$,r[_$_33a9[5]][_$_33a9[593]]),$=new Blob([_$_33a9[753]+e],{type:_$_33a9[754]}),window[_$_33a9[755]]&&window[_$_33a9[755]][_$_33a9[756]]?window[_$_33a9[755]][_$_33a9[756]]($,a[_$_33a9[757]]+_$_33a9[758]):(_=document[_$_33a9[20]](_$_33a9[759]),$=URL[_$_33a9[760]]($),_[_$_33a9[68]]=$,_[_$_33a9[321]](_$_33a9[748],r[_$_33a9[5]][_$_33a9[757]]+_$_33a9[758]),document[_$_33a9[761]][_$_33a9[108]](_),_[_$_33a9[762]](),_[_$_33a9[22]][_$_33a9[407]](_))}else console[_$_33a9[14]](_$_33a9[751])},r[_$_33a9[763]]=function(){r[_$_33a9[764]](!0)},r[_$_33a9[764]]=function(a){var $=r[_$_33a9[376]](),e=function(){r[_$_33a9[507]]($[0],$[1],$[2],$[3],_$_33a9[509]),r[_$_33a9[46]][_$_33a9[509]][_$_33a9[765]]=1==a},n=g($,!0),t=r[_$_33a9[230]](_$_33a9[766],_,$,n);if(t)n=t;else if(!1===t)return!1;return navigator[_$_33a9[767]]?navigator[_$_33a9[767]][_$_33a9[770]](n)[_$_33a9[769]](e):(r[_$_33a9[28]][_$_33a9[246]]=n,r[_$_33a9[28]][_$_33a9[310]](),document[_$_33a9[768]](_$_33a9[764]),e()),n},r[_$_33a9[771]]=function(a,$,e){if(!o())return!1;var n=function(){r[_$_33a9[46]][_$_33a9[509]]&&(r[_$_33a9[548]](_$_33a9[509],!0),r[_$_33a9[46]][_$_33a9[509]][_$_33a9[765]]=!1)},t=e,u={},i=null,f=null,l=[];if(r[_$_33a9[46]][_$_33a9[509]]){var c=[r[_$_33a9[46]][_$_33a9[509]][_$_33a9[522]],r[_$_33a9[46]][_$_33a9[509]][_$_33a9[523]],r[_$_33a9[46]][_$_33a9[509]][_$_33a9[524]],r[_$_33a9[46]][_$_33a9[509]][_$_33a9[525]]];i=c[0],f=c[1];var s=p[_$_33a9[18]][_$_33a9[772]](e),v=p[_$_33a9[18]][_$_33a9[772]](g(c,!0));if(s!=v)n();else{if(e=r[_$_33a9[601]](r[_$_33a9[668]](c,!0))){s=Object[_$_33a9[119]](e);for(var d=0;d<e[_$_33a9[9]];d++)l[_$_33a9[10]](e[s[d]])}e=g(c,!1,!1)}}if(a=parseInt(a),$=parseInt($),t=r[_$_33a9[230]](_$_33a9[773],_,e,a,$,l,t))e=t;else if(!1===t)return!1;if(e){if(Array[_$_33a9[8]](e)||(e=r[_$_33a9[774]](e,_$_33a9[743])),t=[],v=0,r[_$_33a9[46]][_$_33a9[509]]&&!0===r[_$_33a9[46]][_$_33a9[509]][_$_33a9[765]]){for(s=c[1];s<=c[3];s++)for(d=c[0];d<=c[2];d++)t[_$_33a9[10]]({x:d,y:s,value:_$_33a9[75]});n()}for(0<(c=a+e[0][_$_33a9[9]]-r[_$_33a9[44]][_$_33a9[9]])&&r[_$_33a9[137]](c),0<(c=$+e[_$_33a9[9]]-r[_$_33a9[33]][_$_33a9[9]])&&r[_$_33a9[138]](c),s=0;s<e[_$_33a9[9]];s++)for(r[_$_33a9[33]][$+s]||(r[_$_33a9[33]][$+s]={element:null,y:$+s},r[_$_33a9[45]][$+s]=[],r[_$_33a9[5]][_$_33a9[245]][$+s]=[]),d=0;d<e[s][_$_33a9[9]];d++){if(r[_$_33a9[45]][$+s][a+d]||(r[_$_33a9[45]][$+s][a+d]={element:null,x:d,y:$,v:_$_33a9[75]},r[_$_33a9[5]][_$_33a9[245]][$+s][a+d]=_$_33a9[75]),null!==i&&null!==f&&e[s][d][0]==_$_33a9[411]&&(e[s][d]=p[_$_33a9[18]][_$_33a9[459]](e[s][d],a-i,$-f)),c={x:a+d,y:$+s,value:e[s][d]},l&&null!=l[v]){var h=p[_$_33a9[18]][_$_33a9[462]](a+d,$+s);u[_$_33a9[62]]||(u[_$_33a9[62]]={}),u[_$_33a9[62]][h]=l[v],v++}t[_$_33a9[10]](c)}l=a,a=a+d-1,e=$,$=$+s-1,(i<=l&&l<i+d||i<=a&&a<i+d)&&(f<=e&&e<f+s||f<=$&&$<f+s)&&n(),t[_$_33a9[9]]&&(r[_$_33a9[741]](t,u,l,e,a,$),r[_$_33a9[139]](_$_33a9[741],t,u,l,e,a,$),r[_$_33a9[471]](l,e,a,$))}},r[_$_33a9[741]]=function(a,$){r[_$_33a9[54]]=!0,r[_$_33a9[775]](!0),r[_$_33a9[256]](a,null,!!r[_$_33a9[5]][_$_33a9[776]]),$[_$_33a9[62]]&&r[_$_33a9[266]]($[_$_33a9[62]]),r[_$_33a9[775]](!1),r[_$_33a9[54]]=!1,r[_$_33a9[230]](_$_33a9[777],_,a)},r[_$_33a9[778]]=function(_){_&&_[_$_33a9[62]]&&r[_$_33a9[266]](_[_$_33a9[62]]),_&&_[_$_33a9[359]]&&r[_$_33a9[268]](_[_$_33a9[359]]),_&&_[_$_33a9[358]]&&r[_$_33a9[265]](_[_$_33a9[358]]),_&&_[_$_33a9[426]]&&r[_$_33a9[595]](_[_$_33a9[426]]),_&&_[_$_33a9[357]]&&r[_$_33a9[262]](_[_$_33a9[357]]),_&&_[_$_33a9[631]]&&s(_[_$_33a9[631]]),_&&_[_$_33a9[632]]&&s(_[_$_33a9[632]],!0),r[_$_33a9[139]](_$_33a9[778],_)},r[_$_33a9[437]]=function(_){if(1!=r[_$_33a9[56]]){if(0==r[_$_33a9[53]]){var a=r[_$_33a9[52]]++;r[_$_33a9[47]]=r[_$_33a9[47]]=r[_$_33a9[47]][_$_33a9[285]](0,a)}else a=r[_$_33a9[52]];1==r[_$_33a9[53]]?r[_$_33a9[47]][a][_$_33a9[10]](_):r[_$_33a9[47]][a]=_}},r[_$_33a9[775]]=function(_){0==_?r[_$_33a9[52]]++:(r[_$_33a9[47]]=r[_$_33a9[47]]=r[_$_33a9[47]][_$_33a9[285]](0,r[_$_33a9[52]]),r[_$_33a9[47]][r[_$_33a9[52]]]=[]),r[_$_33a9[53]]=!!_},r[_$_33a9[779]]=function(a){var $=function(_){var a=[];if(_[_$_33a9[780]]==_$_33a9[138])r[_$_33a9[271]](_[_$_33a9[21]]?_[_$_33a9[781]]:_[_$_33a9[781]]+1,_[_$_33a9[782]]);else if(_[_$_33a9[780]]==_$_33a9[271])r[_$_33a9[138]](_[_$_33a9[782]],_[_$_33a9[781]],1,_[_$_33a9[245]]),r[_$_33a9[778]](_[_$_33a9[783]]);else if(_[_$_33a9[780]]==_$_33a9[137])r[_$_33a9[273]](_[_$_33a9[21]]?_[_$_33a9[784]]:_[_$_33a9[784]]+1,_[_$_33a9[785]]);else if(_[_$_33a9[780]]==_$_33a9[273])r[_$_33a9[137]](_[_$_33a9[785]],_[_$_33a9[784]],1,_[_$_33a9[786]],_[_$_33a9[245]]),r[_$_33a9[778]](_[_$_33a9[783]]);else if(_[_$_33a9[780]]==_$_33a9[270])r[_$_33a9[270]](_[_$_33a9[393]],_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[272])r[_$_33a9[272]](_[_$_33a9[393]],_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[262])_[_$_33a9[787]]?r[_$_33a9[262]](_[_$_33a9[788]],_[_$_33a9[787]][0],_[_$_33a9[787]][1]):r[_$_33a9[263]](_[_$_33a9[788]]);else if(_[_$_33a9[780]]==_$_33a9[266])r[_$_33a9[266]](_[_$_33a9[506]],null,null,1);else if(_[_$_33a9[780]]==_$_33a9[267])r[_$_33a9[266]](_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[259])r[_$_33a9[259]](_[_$_33a9[788]],_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[260])r[_$_33a9[260]](_[_$_33a9[367]],_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[261])r[_$_33a9[261]](_[_$_33a9[788]],_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[268])r[_$_33a9[268]](_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[275])r[_$_33a9[275]](_[_$_33a9[788]],_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[269])r[_$_33a9[269]](_[_$_33a9[788]],_[_$_33a9[789]]?0:1,_[_$_33a9[506]]);else if(_[_$_33a9[780]]==_$_33a9[256]){for(var $=0;$<_[_$_33a9[45]][_$_33a9[9]];$++)a[_$_33a9[10]]({x:_[_$_33a9[45]][$][_$_33a9[391]],y:_[_$_33a9[45]][$][_$_33a9[392]],newValue:_[_$_33a9[45]][$][_$_33a9[506]],newStyle:_[_$_33a9[45]][$][_$_33a9[790]]});r[_$_33a9[256]](a)}else _[_$_33a9[780]]==_$_33a9[278]?r[_$_33a9[278]](_[_$_33a9[299]],_[_$_33a9[506]]):_[_$_33a9[780]]==_$_33a9[206]&&r[_$_33a9[206]](_[_$_33a9[543]],_[_$_33a9[791]]);_[_$_33a9[792]]&&r[_$_33a9[471]](_[_$_33a9[792]][0],_[_$_33a9[792]][1],_[_$_33a9[792]][2],_[_$_33a9[792]][3])};if(0<r[_$_33a9[52]]){r[_$_33a9[52]]--;var e=r[_$_33a9[47]][r[_$_33a9[52]]]}if(a&&(e=a),e){if(r[_$_33a9[139]](_$_33a9[779],e),r[_$_33a9[56]]=!0,r[_$_33a9[54]]=!0,Array[_$_33a9[8]](e))for(a=0;a<e[_$_33a9[9]];a++)$(e[a]);else $(e);r[_$_33a9[56]]=!1,r[_$_33a9[54]]=!1,r[_$_33a9[230]](_$_33a9[793],_,e)}},r[_$_33a9[794]]=function(a){var $=function(_){_[_$_33a9[780]]==_$_33a9[138]?r[_$_33a9[138]](_[_$_33a9[782]],_[_$_33a9[781]],_[_$_33a9[21]],_[_$_33a9[245]]):_[_$_33a9[780]]==_$_33a9[271]?r[_$_33a9[271]](_[_$_33a9[781]],_[_$_33a9[782]]):_[_$_33a9[780]]==_$_33a9[137]?r[_$_33a9[137]](_[_$_33a9[785]],_[_$_33a9[784]],_[_$_33a9[21]],_[_$_33a9[786]],_[_$_33a9[245]]):_[_$_33a9[780]]==_$_33a9[273]?r[_$_33a9[273]](_[_$_33a9[784]],_[_$_33a9[785]]):_[_$_33a9[780]]==_$_33a9[270]?r[_$_33a9[270]](_[_$_33a9[506]],_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[272]?r[_$_33a9[272]](_[_$_33a9[506]],_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[262]?r[_$_33a9[262]](_[_$_33a9[788]],_[_$_33a9[440]],_[_$_33a9[479]]):_[_$_33a9[780]]==_$_33a9[266]?r[_$_33a9[266]](_[_$_33a9[393]],null,null,1):_[_$_33a9[780]]==_$_33a9[267]?r[_$_33a9[267]](_[_$_33a9[426]]):_[_$_33a9[780]]==_$_33a9[259]?r[_$_33a9[259]](_[_$_33a9[788]],_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[260]?r[_$_33a9[260]](_[_$_33a9[367]],_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[261]?r[_$_33a9[261]](_[_$_33a9[788]],_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[268]?r[_$_33a9[268]](_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[275]?r[_$_33a9[275]](_[_$_33a9[788]],_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[269]?r[_$_33a9[269]](_[_$_33a9[788]],_[_$_33a9[789]],_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[256]?r[_$_33a9[256]](_[_$_33a9[45]]):_[_$_33a9[780]]==_$_33a9[278]?r[_$_33a9[278]](_[_$_33a9[299]],_[_$_33a9[393]]):_[_$_33a9[780]]==_$_33a9[206]&&r[_$_33a9[206]](_[_$_33a9[791]],_[_$_33a9[543]]),_[_$_33a9[792]]&&r[_$_33a9[471]](_[_$_33a9[792]][0],_[_$_33a9[792]][1],_[_$_33a9[792]][2],_[_$_33a9[792]][3])};if(r[_$_33a9[52]]<r[_$_33a9[47]][_$_33a9[9]]){var e=r[_$_33a9[47]][r[_$_33a9[52]]];r[_$_33a9[52]]++}if(a&&(e=a),e){if(r[_$_33a9[139]](_$_33a9[794],e),r[_$_33a9[56]]=!0,r[_$_33a9[54]]=!0,Array[_$_33a9[8]](e))for(a=0;a<e[_$_33a9[9]];a++)$(e[a]);else $(e);r[_$_33a9[56]]=!1,r[_$_33a9[54]]=!1,r[_$_33a9[230]](_$_33a9[795],_,e)}},r[_$_33a9[774]]=function(_,a){a=a||_$_33a9[85];for(var $=0,e=0,n=[[]],r=0,t=null,u=!1,o=!1,i=0;i<_[_$_33a9[9]];i++)if(n[e]||(n[e]=[]),n[e][$]||(n[e][$]=_$_33a9[75]),_[i]!=_$_33a9[796])if(_[i]!=_$_33a9[797]&&_[i]!=a||0!=u&&1!=o&&t){if(_[i]==_$_33a9[744]&&(u=!u),null===t){if(1==(t=u))continue}else if(!0===t&&!o&&_[i]==_$_33a9[744]){_[i+1]==_$_33a9[744]?(u=!0,n[e][$]+=_[i],i++):o=!0;continue}n[e][$]+=_[i]}else{if(t=null,o=u=!1,n[e][$][0]==_$_33a9[744]){var f=n[e][$][_$_33a9[605]]();f[f[_$_33a9[9]]-1]==_$_33a9[744]&&(n[e][$]=f[_$_33a9[564]](1,f[_$_33a9[9]]-2))}_[i]==_$_33a9[797]?($=0,e++):++$>r&&(r=$)}for(_=0;_<n[_$_33a9[9]];_++)for(i=0;i<=r;i++)void 0===n[_][i]&&(n[_][i]=_$_33a9[75]);return n},r[_$_33a9[798]]=function(){var _={};return _[_$_33a9[799]]=null,_[_$_33a9[800]]=null,_[_$_33a9[294]]=null,_[_$_33a9[801]]=function(a,$,e){if(!o())return!1;_[_$_33a9[800]]=a,_[_$_33a9[294]]=$,_[_$_33a9[799]]=e},_[_$_33a9[802]]=function(a){a=r[_$_33a9[49]][_[_$_33a9[800]]][_$_33a9[405]](_$_33a9[294]);var $=[],e=r[_$_33a9[662]](),n=e[_$_33a9[98]](parseInt(_[_$_33a9[800]]));if(e[_$_33a9[9]]&&-1<n)for(var t=0;t<e[_$_33a9[9]];t++)$[_$_33a9[10]](parseInt(r[_$_33a9[49]][e[t]][_$_33a9[405]](_$_33a9[294])));else e=[];-1==n?(e[_$_33a9[10]](_[_$_33a9[800]]),$[_$_33a9[10]](_[_$_33a9[294]])):$[n]=_[_$_33a9[294]],r[_$_33a9[259]](e,a,$),_[_$_33a9[800]]=null,_[_$_33a9[294]]=null,_[_$_33a9[799]]=null,p[_$_33a9[582]][_$_33a9[720]]()},_[_$_33a9[803]]=function(){_[_$_33a9[802]]()},_[_$_33a9[634]]=function(a){a-=_[_$_33a9[799]],0<_[_$_33a9[294]]+a&&(r[_$_33a9[49]][_[_$_33a9[800]]][_$_33a9[321]](_$_33a9[294],_[_$_33a9[294]]+a),r[_$_33a9[436]]())},_}(),r[_$_33a9[804]]=function(){var a={};return a[_$_33a9[800]]=null,a[_$_33a9[805]]=null,a[_$_33a9[801]]=function($){if(!o())return!1;if($=parseInt($),r[_$_33a9[481]]($,!0))console[_$_33a9[14]](_$_33a9[806]);else{a[_$_33a9[800]]=$,a[_$_33a9[805]]=$,r[_$_33a9[552]](),r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[124]](_$_33a9[807]);for(var e=0;e<r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]];e++)r[_$_33a9[32]][_$_33a9[219]][e][_$_33a9[219]][$+1][_$_33a9[125]][_$_33a9[124]](_$_33a9[807]);e=_[_$_33a9[537]](),$=r[_$_33a9[44]][$][_$_33a9[537]]();var n=r[_$_33a9[29]][_$_33a9[537]]();r[_$_33a9[43]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[808],r[_$_33a9[43]][_$_33a9[62]][_$_33a9[526]]=n[_$_33a9[526]]-e[_$_33a9[526]]+_$_33a9[542],r[_$_33a9[43]][_$_33a9[62]][_$_33a9[528]]=$[_$_33a9[528]]-n[_$_33a9[528]]+_$_33a9[542],r[_$_33a9[43]][_$_33a9[62]][_$_33a9[294]]=_$_33a9[809],r[_$_33a9[43]][_$_33a9[62]][_$_33a9[401]]=n[_$_33a9[401]]+_$_33a9[542],r[_$_33a9[43]][_$_33a9[125]][_$_33a9[124]](_$_33a9[810])}},a[_$_33a9[802]]=function(){r[_$_33a9[44]][a[_$_33a9[800]]][_$_33a9[125]][_$_33a9[23]](_$_33a9[807]);for(var _=0;_<r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]];_++)r[_$_33a9[32]][_$_33a9[219]][_][_$_33a9[219]][a[_$_33a9[800]]+1][_$_33a9[125]][_$_33a9[23]](_$_33a9[807]);null!=a[_$_33a9[805]]&&a[_$_33a9[800]]!=a[_$_33a9[805]]&&(r[_$_33a9[272]](a[_$_33a9[800]],a[_$_33a9[805]]),r[_$_33a9[471]](a[_$_33a9[805]],0,a[_$_33a9[805]],r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1)),a[_$_33a9[800]]=null,a[_$_33a9[805]]=null,r[_$_33a9[43]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75],r[_$_33a9[43]][_$_33a9[125]][_$_33a9[23]](_$_33a9[810])},a[_$_33a9[803]]=function(){a[_$_33a9[805]]=null,a[_$_33a9[802]]()},a[_$_33a9[634]]=function(_,$){if(r[_$_33a9[481]](_,!0))console[_$_33a9[14]](_$_33a9[806]);else{a[_$_33a9[805]]=_,a[_$_33a9[805]]=$?a[_$_33a9[800]]<_?parseInt(_)-1:parseInt(_):a[_$_33a9[800]]>_?parseInt(_)+1:parseInt(_),_=r[_$_33a9[44]][_][_$_33a9[537]]();var e=r[_$_33a9[29]][_$_33a9[537]]();r[_$_33a9[43]][_$_33a9[62]][_$_33a9[528]]=($?_[_$_33a9[528]]:_[_$_33a9[63]])-e[_$_33a9[528]]+_$_33a9[542]}},a}(),r[_$_33a9[811]]=function(){var _={};return _[_$_33a9[812]]=null,_[_$_33a9[401]]=null,_[_$_33a9[799]]=null,_[_$_33a9[801]]=function(a,$,e){if(!o())return!1;_[_$_33a9[812]]=a,_[_$_33a9[401]]=$,_[_$_33a9[799]]=e},_[_$_33a9[802]]=function(a){a=parseInt(r[_$_33a9[33]][_[_$_33a9[812]]][_$_33a9[60]][_$_33a9[62]][_$_33a9[401]]);var $=[],e=r[_$_33a9[646]](!0),n=e[_$_33a9[98]](parseInt(_[_$_33a9[812]]));if(e[_$_33a9[9]]&&-1<n)for(var t=0;t<e[_$_33a9[9]];t++)$[_$_33a9[10]](parseInt(r[_$_33a9[33]][e[t]][_$_33a9[60]][_$_33a9[62]][_$_33a9[401]]));else e=[];-1==n?(e[_$_33a9[10]](_[_$_33a9[812]]),$[_$_33a9[10]](_[_$_33a9[401]])):$[n]=_[_$_33a9[401]],r[_$_33a9[260]](e,a,$),_[_$_33a9[812]]=null,_[_$_33a9[401]]=null,_[_$_33a9[799]]=null},_[_$_33a9[803]]=function(){_[_$_33a9[802]]()},_[_$_33a9[634]]=function(a){a-=_[_$_33a9[799]],0<_[_$_33a9[401]]+a&&(r[_$_33a9[33]][_[_$_33a9[812]]][_$_33a9[60]][_$_33a9[62]][_$_33a9[401]]=_[_$_33a9[401]]+a+_$_33a9[542],r[_$_33a9[436]]())},_}(),r[_$_33a9[813]]=function(){var a={};return a[_$_33a9[812]]=null,a[_$_33a9[805]]=null,a[_$_33a9[801]]=function($){if(!o())return!1;if(r[_$_33a9[482]]($,!0))console[_$_33a9[14]](_$_33a9[814]);else if(r[_$_33a9[34]])console[_$_33a9[14]](_$_33a9[815]);else{a[_$_33a9[812]]=$,a[_$_33a9[805]]=$,r[_$_33a9[552]](),r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[125]][_$_33a9[124]](_$_33a9[807]);var e=_[_$_33a9[537]]();$=r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[537]](),r[_$_33a9[43]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[808],r[_$_33a9[43]][_$_33a9[62]][_$_33a9[526]]=$[_$_33a9[526]]-e[_$_33a9[526]]+_$_33a9[542],r[_$_33a9[43]][_$_33a9[62]][_$_33a9[528]]=_$_33a9[816],r[_$_33a9[43]][_$_33a9[62]][_$_33a9[294]]=$[_$_33a9[294]]-50+_$_33a9[542],r[_$_33a9[43]][_$_33a9[62]][_$_33a9[401]]=_$_33a9[809],r[_$_33a9[43]][_$_33a9[125]][_$_33a9[124]](_$_33a9[817])}},a[_$_33a9[802]]=function(){r[_$_33a9[33]][a[_$_33a9[812]]][_$_33a9[60]][_$_33a9[125]][_$_33a9[23]](_$_33a9[807]),null!=a[_$_33a9[805]]&&a[_$_33a9[812]]!=a[_$_33a9[805]]&&(r[_$_33a9[270]](a[_$_33a9[812]],a[_$_33a9[805]]),r[_$_33a9[471]](0,a[_$_33a9[805]],r[_$_33a9[44]][_$_33a9[9]]-1,a[_$_33a9[805]])),a[_$_33a9[812]]=null,a[_$_33a9[805]]=null,r[_$_33a9[43]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75],r[_$_33a9[43]][_$_33a9[125]][_$_33a9[23]](_$_33a9[817])},a[_$_33a9[803]]=function(){a[_$_33a9[805]]=null,a[_$_33a9[802]]()},a[_$_33a9[634]]=function($,e){if(r[_$_33a9[482]]($,!0))console[_$_33a9[14]](_$_33a9[818]);else{a[_$_33a9[805]]=$,a[_$_33a9[805]]=e?a[_$_33a9[812]]<$?parseInt($)-1:parseInt($):a[_$_33a9[812]]>$?parseInt($)+1:parseInt($);var n=_[_$_33a9[537]]();$=r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[537]](),r[_$_33a9[43]][_$_33a9[62]][_$_33a9[526]]=(e?$[_$_33a9[526]]:$[_$_33a9[819]])-n[_$_33a9[526]]+_$_33a9[542]}},a}(),r[_$_33a9[307]]=function(){var a=function($){r[_$_33a9[552]](),r[_$_33a9[548]](),r[_$_33a9[37]]=0;var e=[],n=r[_$_33a9[216]][_$_33a9[77]](null);if($){$=new RegExp($,_$_33a9[820]);for(var t=0;t<r[_$_33a9[33]][_$_33a9[9]];t++){var u=!1;if(0<=n[_$_33a9[98]](t))for(var o=0;o<r[_$_33a9[44]][_$_33a9[9]];o++){var i=_$_33a9[75]+r[_$_33a9[5]][_$_33a9[245]][t][o],f=_$_33a9[75]+r[_$_33a9[496]](o,t);(i[_$_33a9[690]]($)||f[_$_33a9[690]]($))&&(u=!0)}1==u&&e[_$_33a9[10]](t)}}else e=n;if(typeof r[_$_33a9[5]][_$_33a9[821]]==_$_33a9[12])if(u=r[_$_33a9[230]](_$_33a9[821],_,$,e,a))e=u;else if(!1===u)return!1;r[_$_33a9[34]]=e&&e[_$_33a9[9]]<r[_$_33a9[33]][_$_33a9[9]]?e:null,a[_$_33a9[634]](),r[_$_33a9[230]](_$_33a9[822],_,$,e,a)};return a[_$_33a9[629]]=null,a[_$_33a9[215]]=function(){var _=document[_$_33a9[20]](_$_33a9[19]),$=document[_$_33a9[114]](r[_$_33a9[5]][_$_33a9[186]][_$_33a9[307]]+_$_33a9[607]);return a[_$_33a9[629]]=document[_$_33a9[20]](_$_33a9[629]),a[_$_33a9[629]][_$_33a9[125]][_$_33a9[124]](_$_33a9[823]),a[_$_33a9[629]][_$_33a9[554]]=function(){r[_$_33a9[552]]()},_[_$_33a9[108]]($),_[_$_33a9[108]](a[_$_33a9[629]]),_},a[_$_33a9[630]]=function(){a[_$_33a9[629]][_$_33a9[246]]=_$_33a9[75],r[_$_33a9[34]]=null},a[_$_33a9[634]]=function(){var _=null!=r[_$_33a9[34]]?r[_$_33a9[34]][_$_33a9[9]]:r[_$_33a9[33]][_$_33a9[9]];for(1==r[_$_33a9[5]][_$_33a9[188]]&&_>r[_$_33a9[5]][_$_33a9[329]]?_=r[_$_33a9[5]][_$_33a9[329]]:0<r[_$_33a9[5]][_$_33a9[36]]&&_>r[_$_33a9[5]][_$_33a9[36]]&&(_=r[_$_33a9[5]][_$_33a9[36]]);r[_$_33a9[32]][_$_33a9[530]];)r[_$_33a9[32]][_$_33a9[407]](r[_$_33a9[32]][_$_33a9[530]]);for(var a=0;a<_;a++)r[_$_33a9[372]](r[_$_33a9[34]]?r[_$_33a9[34]][a]:a);return 0<r[_$_33a9[5]][_$_33a9[36]]&&r[_$_33a9[373]](),_},a}(),r[_$_33a9[824]]=function(){r[_$_33a9[307]][_$_33a9[630]](),r[_$_33a9[307]][_$_33a9[634]]()},r[_$_33a9[216]]=function(){var a=function(_,$){$&&0<Object[_$_33a9[119]]($)[_$_33a9[9]]?(r[_$_33a9[44]][_][_$_33a9[125]][_$_33a9[124]](_$_33a9[132]),r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[130]]=$):(r[_$_33a9[44]][_][_$_33a9[125]][_$_33a9[23]](_$_33a9[132]),r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[130]]=null),a[_$_33a9[634]]()};return a[_$_33a9[215]]=function(_){var $=document[_$_33a9[20]](_$_33a9[629]);$[_$_33a9[288]]=_$_33a9[186],$[_$_33a9[825]]=r[_$_33a9[5]][_$_33a9[186]][_$_33a9[307]],$[_$_33a9[208]]=_$_33a9[826];var e=document[_$_33a9[20]](_$_33a9[19]);e[_$_33a9[208]]=_$_33a9[827];var n=document[_$_33a9[20]](_$_33a9[629]);n[_$_33a9[288]]=_$_33a9[828],n[_$_33a9[246]]=_$_33a9[829],n[_$_33a9[208]]=_$_33a9[830],_[_$_33a9[208]]=_$_33a9[831],_[_$_33a9[108]]($),_[_$_33a9[108]](e),_[_$_33a9[108]](n),a[_$_33a9[60]]=_},a[_$_33a9[250]]=function($){if(r[_$_33a9[44]][$][_$_33a9[125]][_$_33a9[202]](_$_33a9[131])){a[_$_33a9[800]]=parseInt($);var e=_[_$_33a9[537]](),n=r[_$_33a9[44]][a[_$_33a9[800]]][_$_33a9[537]]();for($=n[_$_33a9[528]]-e[_$_33a9[528]],e=n[_$_33a9[526]]-e[_$_33a9[526]]+n[_$_33a9[401]],a[_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[808],a[_$_33a9[60]][_$_33a9[62]][_$_33a9[526]]=e+_$_33a9[542],a[_$_33a9[60]][_$_33a9[62]][_$_33a9[528]]=$+_$_33a9[542],a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[315]]=_$_33a9[75],($=document[_$_33a9[20]](_$_33a9[73]))[_$_33a9[315]]=_$_33a9[833]+r[_$_33a9[5]][_$_33a9[186]][_$_33a9[714]]+_$_33a9[834],$[_$_33a9[67]]=function(){for(var _=this[_$_33a9[219]][0][_$_33a9[835]],a=1;a<this[_$_33a9[22]][_$_33a9[219]][_$_33a9[9]];a++)this[_$_33a9[22]][_$_33a9[219]][a][_$_33a9[219]][0][_$_33a9[835]]=_},a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[108]]($),r[_$_33a9[5]][_$_33a9[133]][a[_$_33a9[800]]][_$_33a9[130]]||($[_$_33a9[219]][0][_$_33a9[835]]=!0),n=a[_$_33a9[77]](a[_$_33a9[800]]),e=[],$=0;$<r[_$_33a9[33]][_$_33a9[9]];$++)if(0<=n[_$_33a9[98]]($)){var t=_$_33a9[75]+r[_$_33a9[5]][_$_33a9[245]][$][a[_$_33a9[800]]],u=_$_33a9[75]+r[_$_33a9[496]](a[_$_33a9[800]],$,!0);e[_$_33a9[10]]([t,u])}for(e[_$_33a9[621]]((function(_,a){return _[0]>a[0]?1:_[0]<a[0]?-1:0})),n=[],$=0;$<e[_$_33a9[9]];$++)n[e[$][0]]=e[$][1];for(void 0!==n[_$_33a9[75]]&&(delete n[_$_33a9[75]],n[_$_33a9[75]]=_$_33a9[836]+r[_$_33a9[5]][_$_33a9[186]][_$_33a9[837]]+_$_33a9[834]),e=Object[_$_33a9[119]](n),$=0;$<e[_$_33a9[9]];$++)(t=document[_$_33a9[20]](_$_33a9[73]))[_$_33a9[315]]=n[e[$]],(u=document[_$_33a9[20]](_$_33a9[629]))[_$_33a9[288]]=_$_33a9[504],u[_$_33a9[246]]=e[$],u[_$_33a9[835]]=!!(!r[_$_33a9[5]][_$_33a9[133]][a[_$_33a9[800]]][_$_33a9[130]]||r[_$_33a9[5]][_$_33a9[133]][a[_$_33a9[800]]][_$_33a9[130]]&&r[_$_33a9[5]][_$_33a9[133]][a[_$_33a9[800]]][_$_33a9[130]][e[$]]),t[_$_33a9[21]](u,t[_$_33a9[530]]),t[_$_33a9[67]]=function(){for(var _=!0,a=1;a<this[_$_33a9[22]][_$_33a9[219]][_$_33a9[9]];a++)this[_$_33a9[22]][_$_33a9[219]][a][_$_33a9[219]][0][_$_33a9[835]]||(_=!1);this[_$_33a9[22]][_$_33a9[219]][0][_$_33a9[219]][0][_$_33a9[835]]=_},a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[108]](t);a[_$_33a9[60]][_$_33a9[219]][0][_$_33a9[556]](),a[_$_33a9[536]]=!0}else console[_$_33a9[199]](_$_33a9[832])},a[_$_33a9[213]]=function(_){if(a[_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75],_){if(_={},0==a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[219]][0][_$_33a9[219]][0][_$_33a9[835]])for(var $=1;$<a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[219]][_$_33a9[9]];$++)a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[219]][$][_$_33a9[219]][0][_$_33a9[835]]&&(_[a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[219]][$][_$_33a9[219]][0][_$_33a9[246]]]=!0);0<Object[_$_33a9[119]](_)[_$_33a9[9]]?(r[_$_33a9[44]][a[_$_33a9[800]]][_$_33a9[125]][_$_33a9[124]](_$_33a9[132]),r[_$_33a9[5]][_$_33a9[133]][a[_$_33a9[800]]][_$_33a9[130]]=_):(r[_$_33a9[44]][a[_$_33a9[800]]][_$_33a9[125]][_$_33a9[23]](_$_33a9[132]),r[_$_33a9[5]][_$_33a9[133]][a[_$_33a9[800]]][_$_33a9[130]]=null),a[_$_33a9[634]](null)}a[_$_33a9[60]][_$_33a9[219]][0][_$_33a9[246]]=_$_33a9[75],a[_$_33a9[536]]=!1},a[_$_33a9[630]]=function(){for(var _=0;_<r[_$_33a9[44]][_$_33a9[9]];_++)r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[130]]&&(r[_$_33a9[5]][_$_33a9[133]][_][_$_33a9[130]]=null,r[_$_33a9[44]][_][_$_33a9[125]][_$_33a9[23]](_$_33a9[132]));r[_$_33a9[34]]=null},a[_$_33a9[838]]=function(_){_&&(_=_[_$_33a9[573]](_$_33a9[688],_$_33a9[75])[_$_33a9[573]](_$_33a9[689],_$_33a9[75])[_$_33a9[573]](_$_33a9[836],_$_33a9[75])[_$_33a9[573]](_$_33a9[834],_$_33a9[75])[_$_33a9[573]](_$_33a9[839],_$_33a9[75]),_=new RegExp(_,_$_33a9[820]));for(var $=a[_$_33a9[77]](a[_$_33a9[800]]),e={},n=0;n<r[_$_33a9[33]][_$_33a9[9]];n++)if(0<=$[_$_33a9[98]](n)){var t=_$_33a9[75]+r[_$_33a9[5]][_$_33a9[245]][n][a[_$_33a9[800]]],u=_$_33a9[75]+r[_$_33a9[496]](a[_$_33a9[800]],n,!0);(!_||t[_$_33a9[690]](_)||u[_$_33a9[690]](_))&&(u==_$_33a9[75]&&(u=_$_33a9[836]+r[_$_33a9[5]][_$_33a9[186]][_$_33a9[837]]+_$_33a9[834]),e[t]=u)}for(r[_$_33a9[5]][_$_33a9[186]][_$_33a9[837]][_$_33a9[690]](_)&&(e[_$_33a9[75]]=_$_33a9[836]+r[_$_33a9[5]][_$_33a9[186]][_$_33a9[837]]+_$_33a9[834]),_=1;_<a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[219]][_$_33a9[9]];_++)a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[219]][_][_$_33a9[62]][_$_33a9[106]]=e[a[_$_33a9[60]][_$_33a9[219]][1][_$_33a9[219]][_][_$_33a9[219]][0][_$_33a9[246]]]?_$_33a9[75]:_$_33a9[107]},a[_$_33a9[77]]=function(_){for(var a=[],$=0;$<r[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];$++){for(var e=!0,n=0;n<r[_$_33a9[44]][_$_33a9[9]];n++)r[_$_33a9[5]][_$_33a9[133]][n][_$_33a9[130]]&&_!==n&&null==r[_$_33a9[5]][_$_33a9[133]][n][_$_33a9[130]][r[_$_33a9[5]][_$_33a9[245]][$][n]]&&(e=!1);e&&a[_$_33a9[10]]($)}return a},a[_$_33a9[130]]=function(){for(var _=[],a=0;a<r[_$_33a9[44]][_$_33a9[9]];a++)r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[130]]&&(_[a]=r[_$_33a9[5]][_$_33a9[133]][a][_$_33a9[130]]);return _},a[_$_33a9[634]]=function(){var $=a[_$_33a9[77]](null),e=a[_$_33a9[130]]();if(typeof r[_$_33a9[5]][_$_33a9[840]]==_$_33a9[12]){var n=r[_$_33a9[230]](_$_33a9[840],_,e,$);if(n)$=n;else if(!1===n)return!1}r[_$_33a9[34]]=$,r[_$_33a9[34]][_$_33a9[9]]==r[_$_33a9[33]][_$_33a9[9]]&&(r[_$_33a9[34]]=null),r[_$_33a9[37]]=0,r[_$_33a9[307]][_$_33a9[629]][_$_33a9[246]]&&r[_$_33a9[307]](r[_$_33a9[307]][_$_33a9[629]][_$_33a9[246]]),r[_$_33a9[307]][_$_33a9[634]](),r[_$_33a9[548]](),r[_$_33a9[230]](_$_33a9[841],_,r,e,r[_$_33a9[34]])},a[_$_33a9[307]]=function(_){a[_$_33a9[838]](_)},a[_$_33a9[800]]=null,a[_$_33a9[536]]=!1,a[_$_33a9[60]]=null,a}(),r[_$_33a9[842]]=function(_){r[_$_33a9[216]][_$_33a9[250]](_)},r[_$_33a9[843]]=function(){r[_$_33a9[216]][_$_33a9[630]](),r[_$_33a9[216]][_$_33a9[634]]()},r[_$_33a9[844]]=function(){r[_$_33a9[216]][_$_33a9[213]](!0)},r[_$_33a9[476]]=function(){p[_$_33a9[476]](_)},r[_$_33a9[6]]=function(){if(r[_$_33a9[140]](a),p[_$_33a9[582]]=r,typeof p[_$_33a9[845]]==_$_33a9[12]&&(r[_$_33a9[5]][_$_33a9[846]]?p[_$_33a9[845]](r[_$_33a9[5]][_$_33a9[846]]):(p[_$_33a9[845]](document),p[_$_33a9[845]]=null)),typeof p[_$_33a9[632]]==_$_33a9[12]&&p[_$_33a9[632]](),_[_$_33a9[100]]){if(!Array[_$_33a9[8]](_[_$_33a9[100]])){var $=_[_$_33a9[100]];_[_$_33a9[100]]=[],_[_$_33a9[100]][_$_33a9[10]]($)}_[_$_33a9[100]][_$_33a9[10]](r)}else _[_$_33a9[100]]=r;_[_$_33a9[847]]=_[_$_33a9[100]],a[_$_33a9[4]]&&!r[_$_33a9[848]]&&p[_$_33a9[4]][_$_33a9[849]](r),1==r[_$_33a9[5]][_$_33a9[556]]&&(_[_$_33a9[321]](_$_33a9[850],_$_33a9[331]),_[_$_33a9[304]](_$_33a9[556],(function(_){setTimeout((function(){p[_$_33a9[556]]()}),200)}))),r[_$_33a9[5]][_$_33a9[851]]?(1==r[_$_33a9[5]][_$_33a9[363]]&&jSuites[_$_33a9[364]][_$_33a9[316]](),jSuites[_$_33a9[252]]({url:r[_$_33a9[5]][_$_33a9[851]],method:_$_33a9[298],dataType:_$_33a9[186],success:function(_){if(_=r[_$_33a9[774]](_,r[_$_33a9[5]][_$_33a9[593]]),1==r[_$_33a9[5]][_$_33a9[852]]&&0<_[_$_33a9[9]])for(var a=_[_$_33a9[853]](),$=0;$<a[_$_33a9[9]];$++)r[_$_33a9[5]][_$_33a9[133]][$]||(r[_$_33a9[5]][_$_33a9[133]][$]={type:_$_33a9[186],align:r[_$_33a9[5]][_$_33a9[417]],width:r[_$_33a9[5]][_$_33a9[296]]}),typeof r[_$_33a9[5]][_$_33a9[133]][$][_$_33a9[292]]===_$_33a9[82]&&(r[_$_33a9[5]][_$_33a9[133]][$][_$_33a9[292]]=a[$]);r[_$_33a9[5]][_$_33a9[245]]=_,r[_$_33a9[287]](),1==r[_$_33a9[5]][_$_33a9[363]]&&jSuites[_$_33a9[364]][_$_33a9[365]]()},complete:function(){p[_$_33a9[11]]()}})):r[_$_33a9[5]][_$_33a9[282]]?(1==r[_$_33a9[5]][_$_33a9[363]]&&jSuites[_$_33a9[364]][_$_33a9[316]](),jSuites[_$_33a9[252]]({url:r[_$_33a9[5]][_$_33a9[282]],method:_$_33a9[298],dataType:_$_33a9[233],success:function(_){r[_$_33a9[5]][_$_33a9[245]]=_[_$_33a9[245]]?_[_$_33a9[245]]:_,r[_$_33a9[287]](),1==r[_$_33a9[5]][_$_33a9[363]]&&jSuites[_$_33a9[364]][_$_33a9[365]]()},complete:function(){p[_$_33a9[11]]()}})):r[_$_33a9[287]]()},r[_$_33a9[854]]=function(_,a){if(_)var $=parseInt(r[_$_33a9[50]][2]),e=parseInt(r[_$_33a9[50]][3]);else $=parseInt(r[_$_33a9[50]][0]),e=parseInt(r[_$_33a9[50]][1]);var n,t=$,u=e,o=u;if(r[_$_33a9[34]]&&-1==(u=r[_$_33a9[34]][_$_33a9[98]](u)))a=o;else{for(;0<u;){u--;var i=r[_$_33a9[34]]?r[_$_33a9[34]][u]:u;if(!1!==r[_$_33a9[33]][i][_$_33a9[536]])if(r[_$_33a9[45]][i]&&r[_$_33a9[45]][i][t][_$_33a9[60]]&&r[_$_33a9[45]][i][t][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]==_$_33a9[107]){if((n=r[_$_33a9[477]](t,i,!0))&&i==n[1]&&(o=i,!a))break}else if(o=i,!a)break}a=o}a!=e&&(e=a,_?(_=r[_$_33a9[50]][0],a=r[_$_33a9[50]][1]):($=_=$,e=a=e),r[_$_33a9[471]](_,a,$,e),r[_$_33a9[855]](1))},r[_$_33a9[856]]=function(_,a){if(_)var $=parseInt(r[_$_33a9[50]][2]),e=parseInt(r[_$_33a9[50]][3]);else $=parseInt(r[_$_33a9[50]][0]),e=parseInt(r[_$_33a9[50]][1]);_:{var n,t=$,u=e,o=u;if(r[_$_33a9[34]]){if(-1==(u=r[_$_33a9[34]][_$_33a9[98]](u))){a=o;break _}var i=r[_$_33a9[34]][_$_33a9[9]]-1}else i=r[_$_33a9[33]][_$_33a9[9]]-1;for(;u<i;){u++;var f=r[_$_33a9[34]]?r[_$_33a9[34]][u]:u;if(!1!==r[_$_33a9[33]][f][_$_33a9[536]])if(r[_$_33a9[45]][f][t][_$_33a9[60]]&&r[_$_33a9[45]][f][t][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]==_$_33a9[107]){if((n=r[_$_33a9[477]](t,f,!0))&&f==n[1]&&(o=f,!a))break}else if(o=f,!a)break}a=o}a!=e&&(e=a,_?(_=r[_$_33a9[50]][0],a=r[_$_33a9[50]][1]):($=_=$,e=a=e),r[_$_33a9[471]](_,a,$,e),r[_$_33a9[855]](3))};var d=function(_,a,$){for(var e,n=_;_<r[_$_33a9[44]][_$_33a9[9]]-1;)if(_++,r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]==_$_33a9[107]){if((e=r[_$_33a9[477]](_,a,!0))&&_==e[0]&&(n=_,!$))break}else if(n=_,!$)break;return n};r[_$_33a9[63]]=function(_,a){if(_)var $=parseInt(r[_$_33a9[50]][2]),e=parseInt(r[_$_33a9[50]][3]);else $=parseInt(r[_$_33a9[50]][0]),e=parseInt(r[_$_33a9[50]][1]);(a=d($,e,a))!=$&&($=a,_?(_=r[_$_33a9[50]][0],a=r[_$_33a9[50]][1]):($=_=$,e=a=e),r[_$_33a9[471]](_,a,$,e),r[_$_33a9[855]](2))};var h=function(_,a,$){for(var e,n=_;0<_;)if(_--,r[_$_33a9[45]][a][_][_$_33a9[60]][_$_33a9[62]][_$_33a9[106]]==_$_33a9[107]){if((e=r[_$_33a9[477]](_,a,!0))&&_==e[0]&&(n=_,!$))break}else if(n=_,!$)break;return n};r[_$_33a9[528]]=function(_,a){if(_)var $=parseInt(r[_$_33a9[50]][2]),e=parseInt(r[_$_33a9[50]][3]);else $=parseInt(r[_$_33a9[50]][0]),e=parseInt(r[_$_33a9[50]][1]);(a=h($,e,a))!=$&&($=a,_?(_=r[_$_33a9[50]][0],a=r[_$_33a9[50]][1]):($=_=$,e=a=e),r[_$_33a9[471]](_,a,$,e),r[_$_33a9[855]](0))},r[_$_33a9[857]]=function(_,a){a?r[_$_33a9[854]](_,!0):r[_$_33a9[528]](_,!0)},r[_$_33a9[858]]=function(_,a){a?r[_$_33a9[856]](_,!0):r[_$_33a9[63]](_,!0)},r[_$_33a9[859]]=function(){var a=[],$=[],e=!1,n=r[_$_33a9[34]]?r[_$_33a9[34]]:r[_$_33a9[33]],t=r[_$_33a9[29]][_$_33a9[539]],u=r[_$_33a9[29]][_$_33a9[860]];if(n[_$_33a9[9]]>r[_$_33a9[5]][_$_33a9[329]]){var o=parseInt(r[_$_33a9[32]][_$_33a9[530]][_$_33a9[405]](_$_33a9[400]));if(r[_$_33a9[34]]&&(o=n[_$_33a9[98]](o)),0<o)for(var i=0;25>i;i++)-1<--o&&(e=r[_$_33a9[34]]?n[o]:o,r[_$_33a9[372]](e,r[_$_33a9[32]][_$_33a9[530]]),a[_$_33a9[10]](e),e=!0)}if(e){for(n=null,r[_$_33a9[29]][_$_33a9[539]]==t&&(n=r[_$_33a9[29]][_$_33a9[539]]+(r[_$_33a9[29]][_$_33a9[860]]-u));r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]]>r[_$_33a9[5]][_$_33a9[329]]+25;)t=r[_$_33a9[32]][_$_33a9[220]][_$_33a9[405]](_$_33a9[400]),$[_$_33a9[10]](t),r[_$_33a9[32]][_$_33a9[407]](r[_$_33a9[32]][_$_33a9[220]]);null!==n&&(r[_$_33a9[29]][_$_33a9[539]]=n),r[_$_33a9[230]](_$_33a9[722],_,a,$)}return e},r[_$_33a9[861]]=function(){var a=[],$=[],e=!1,n=r[_$_33a9[34]]?r[_$_33a9[34]]:r[_$_33a9[33]];if(n[_$_33a9[9]]>r[_$_33a9[5]][_$_33a9[329]]){var t=parseInt(r[_$_33a9[32]][_$_33a9[220]][_$_33a9[405]](_$_33a9[400]));if(r[_$_33a9[34]]&&(t=n[_$_33a9[98]](t)),t<r[_$_33a9[33]][_$_33a9[9]]-1)for(var u=0;25>u;u++)(t+=1)<n[_$_33a9[9]]&&(e=r[_$_33a9[34]]?n[t]:t,r[_$_33a9[372]](e),a[_$_33a9[10]](e),e=!0)}if(1==e){for(n=r[_$_33a9[29]][_$_33a9[539]],t=r[_$_33a9[29]][_$_33a9[860]];r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]]>r[_$_33a9[5]][_$_33a9[329]]+25;)u=r[_$_33a9[32]][_$_33a9[530]][_$_33a9[405]](_$_33a9[400]),$[_$_33a9[10]](u),r[_$_33a9[32]][_$_33a9[407]](r[_$_33a9[32]][_$_33a9[530]]);r[_$_33a9[29]][_$_33a9[539]]==n&&(r[_$_33a9[29]][_$_33a9[539]]-=t-r[_$_33a9[29]][_$_33a9[860]]),r[_$_33a9[230]](_$_33a9[722],_,a,$)}return e},r[_$_33a9[862]]=function(){if(0<r[_$_33a9[38]][0]){for(var _=0>r[_$_33a9[38]][0]-25?r[_$_33a9[38]][0]:25,a=r[_$_33a9[38]][0];a>=r[_$_33a9[38]][0]-_;a--){r[_$_33a9[39]][_$_33a9[21]](r[_$_33a9[44]][a],r[_$_33a9[39]][_$_33a9[219]][1]),r[_$_33a9[40]][_$_33a9[21]](r[_$_33a9[49]][a],r[_$_33a9[40]][_$_33a9[219]][1]);for(var $=0;$<r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]];$++){var e=r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[405]](_$_33a9[400]);r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[21]](r[_$_33a9[45]][e][a][_$_33a9[60]],r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[219]][1])}}for(a=r[_$_33a9[38]][1]-_;a<r[_$_33a9[38]][1];a++)for(r[_$_33a9[39]][_$_33a9[407]](r[_$_33a9[44]][a]),r[_$_33a9[40]][_$_33a9[407]](r[_$_33a9[49]][a]),$=0;$<r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]];$++)e=r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[405]](_$_33a9[400]),r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[407]](r[_$_33a9[45]][e][a][_$_33a9[60]]);return r[_$_33a9[38]][0]-=_,r[_$_33a9[38]][1]-=_,!0}return!1},r[_$_33a9[863]]=function(){if(r[_$_33a9[38]][1]<r[_$_33a9[44]][_$_33a9[9]]){for(var _=r[_$_33a9[38]][1]+25>r[_$_33a9[44]][_$_33a9[9]]?r[_$_33a9[44]][_$_33a9[9]]-r[_$_33a9[38]][1]:25,a=r[_$_33a9[38]][1];a<r[_$_33a9[38]][1]+_;a++){r[_$_33a9[39]][_$_33a9[108]](r[_$_33a9[44]][a]),r[_$_33a9[40]][_$_33a9[108]](r[_$_33a9[49]][a]);for(var $=0;$<r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]];$++){var e=r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[405]](_$_33a9[400]);r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[108]](r[_$_33a9[45]][e][a][_$_33a9[60]])}}for(a=r[_$_33a9[38]][0];a<r[_$_33a9[38]][0]+_;a++)for(r[_$_33a9[39]][_$_33a9[407]](r[_$_33a9[44]][a]),r[_$_33a9[40]][_$_33a9[407]](r[_$_33a9[49]][a]),$=0;$<r[_$_33a9[32]][_$_33a9[219]][_$_33a9[9]];$++)e=r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[405]](_$_33a9[400]),r[_$_33a9[32]][_$_33a9[219]][$][_$_33a9[407]](r[_$_33a9[45]][e][a][_$_33a9[60]]);return r[_$_33a9[38]][0]+=_,r[_$_33a9[38]][1]+=_,!0}return!1},r[_$_33a9[864]]=function(_){var a=r[_$_33a9[45]][r[_$_33a9[50]][3]][r[_$_33a9[50]][2]][_$_33a9[60]],$=r[_$_33a9[31]][_$_33a9[865]];if(1==_){_=r[_$_33a9[29]][_$_33a9[539]]+$;var e=r[_$_33a9[29]][_$_33a9[539]]+r[_$_33a9[29]][_$_33a9[725]];(a=a[_$_33a9[724]])>=_&&a<=e||(r[_$_33a9[29]][_$_33a9[539]]=a-$+1)}else if(3==_)_=r[_$_33a9[29]][_$_33a9[539]]+$,e=r[_$_33a9[29]][_$_33a9[539]]+r[_$_33a9[29]][_$_33a9[725]],(a=a[_$_33a9[724]]+a[_$_33a9[725]])>=_&&a<=e||(r[_$_33a9[29]][_$_33a9[539]]=a-r[_$_33a9[29]][_$_33a9[865]]+4);else if(0==_){$=0<r[_$_33a9[5]][_$_33a9[193]]&&0<r[_$_33a9[29]][_$_33a9[538]]?r[_$_33a9[540]]():0,_=r[_$_33a9[29]][_$_33a9[538]]+$,e=r[_$_33a9[29]][_$_33a9[538]]+r[_$_33a9[29]][_$_33a9[866]];var n=a[_$_33a9[867]];n>=_&&n<=e||($&&a[_$_33a9[125]][_$_33a9[202]](_$_33a9[541])?n=0:51>=(n-=$)&&(n=0),r[_$_33a9[29]][_$_33a9[538]]=n)}else 2==_&&($=0<r[_$_33a9[5]][_$_33a9[193]]&&r[_$_33a9[29]][_$_33a9[538]]>r[_$_33a9[5]][_$_33a9[329]]?r[_$_33a9[540]]():0,_=r[_$_33a9[29]][_$_33a9[538]]+$,e=r[_$_33a9[29]][_$_33a9[538]]+r[_$_33a9[29]][_$_33a9[866]],(n=a[_$_33a9[867]]+a[_$_33a9[866]])>=_&&n<=e||(r[_$_33a9[29]][_$_33a9[538]]=n-r[_$_33a9[29]][_$_33a9[868]]+4))},r[_$_33a9[855]]=function(_){var a=!1;if(0<r[_$_33a9[5]][_$_33a9[36]]||1==r[_$_33a9[5]][_$_33a9[188]])if(1==_||3==_){var $=r[_$_33a9[50]][3];r[_$_33a9[33]][$][_$_33a9[60]]&&r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[22]]||(r[_$_33a9[313]](r[_$_33a9[651]]($)),r[_$_33a9[720]](),a=!0)}else{var e=r[_$_33a9[50]][2];$=r[_$_33a9[50]][3],1!=r[_$_33a9[5]][_$_33a9[192]]||r[_$_33a9[45]][$][e][_$_33a9[60]]&&r[_$_33a9[45]][$][e][_$_33a9[60]][_$_33a9[22]]||(r[_$_33a9[726]](e),a=!0)}1!=r[_$_33a9[5]][_$_33a9[189]]&&1!=r[_$_33a9[5]][_$_33a9[190]]||(1!=r[_$_33a9[5]][_$_33a9[188]]||a||r[_$_33a9[869]](_),r[_$_33a9[864]](_))},r[_$_33a9[869]]=function(_){1==r[_$_33a9[5]][_$_33a9[188]]&&(r[_$_33a9[29]][_$_33a9[539]]+2*r[_$_33a9[29]][_$_33a9[865]]>=r[_$_33a9[29]][_$_33a9[860]]?3===_&&r[_$_33a9[861]]()&&(r[_$_33a9[720]](),r[_$_33a9[870]]()):r[_$_33a9[29]][_$_33a9[539]]<=r[_$_33a9[29]][_$_33a9[865]]&&1===_&&r[_$_33a9[859]]()&&(r[_$_33a9[720]](),r[_$_33a9[870]]()),1==r[_$_33a9[5]][_$_33a9[192]])&&(r[_$_33a9[29]][_$_33a9[538]]+1.5*r[_$_33a9[29]][_$_33a9[868]]>=r[_$_33a9[29]][_$_33a9[871]]?2===_&&r[_$_33a9[863]]()&&r[_$_33a9[720]]():r[_$_33a9[29]][_$_33a9[538]]<=.5*r[_$_33a9[29]][_$_33a9[868]]&&0===_&&r[_$_33a9[862]]()&&r[_$_33a9[720]]())};var m=0,A=0;return r[_$_33a9[870]]=function(){var _=r[_$_33a9[29]][_$_33a9[539]];if(r[_$_33a9[34]])var a=r[_$_33a9[34]][0],$=r[_$_33a9[34]][r[_$_33a9[34]][_$_33a9[9]]-1];else a=0,$=r[_$_33a9[33]][_$_33a9[9]]-1;0==_?(_=r[_$_33a9[32]][_$_33a9[530]][_$_33a9[405]](_$_33a9[400]))>a&&(r[_$_33a9[29]][_$_33a9[539]]=50):0==(_=r[_$_33a9[29]][_$_33a9[539]]+r[_$_33a9[29]][_$_33a9[725]]-r[_$_33a9[29]][_$_33a9[860]])&&((_=r[_$_33a9[32]][_$_33a9[220]][_$_33a9[405]](_$_33a9[400]))<$&&(r[_$_33a9[29]][_$_33a9[539]]-=50))},r[_$_33a9[303]]=function(_){if(0<r[_$_33a9[5]][_$_33a9[193]]&&r[_$_33a9[720]](),1==r[_$_33a9[5]][_$_33a9[188]]&&r[_$_33a9[870]](),p[_$_33a9[872]])return!1;p[_$_33a9[872]]=setTimeout((function(){var _=r[_$_33a9[29]][_$_33a9[538]]-m,a=r[_$_33a9[29]][_$_33a9[539]]-A;_?1==r[_$_33a9[5]][_$_33a9[188]]&&1==r[_$_33a9[5]][_$_33a9[192]]&&r[_$_33a9[869]](0>_?0:2):1==r[_$_33a9[5]][_$_33a9[188]]&&r[_$_33a9[869]](0>a?1:3),1!=r[_$_33a9[5]][_$_33a9[189]]&&1!=r[_$_33a9[5]][_$_33a9[190]]||!r[_$_33a9[58]]||r[_$_33a9[432]](r[_$_33a9[58]][0],!0),p[_$_33a9[872]]=null,A=r[_$_33a9[29]][_$_33a9[539]],m=r[_$_33a9[29]][_$_33a9[538]]}),50)},r[_$_33a9[540]]=function(){var _=0;if(0<r[_$_33a9[5]][_$_33a9[193]])for(var a=0;a<=r[_$_33a9[5]][_$_33a9[193]];a++)_+=r[_$_33a9[31]][_$_33a9[220]][_$_33a9[219]][a][_$_33a9[866]];return _},m=0,r[_$_33a9[720]]=function(){if(0<r[_$_33a9[5]][_$_33a9[193]]){var _=0;if(0<(m=r[_$_33a9[29]][_$_33a9[538]])){for(var a=0;a<=r[_$_33a9[5]][_$_33a9[193]];a++){0<a&&(_+=r[_$_33a9[31]][_$_33a9[220]][_$_33a9[219]][a-1][_$_33a9[866]]),r[_$_33a9[31]][_$_33a9[220]][_$_33a9[219]][a][_$_33a9[125]][_$_33a9[124]](_$_33a9[541]),r[_$_33a9[31]][_$_33a9[220]][_$_33a9[219]][a][_$_33a9[62]][_$_33a9[528]]=_+1+_$_33a9[542];for(var $=0;$<r[_$_33a9[33]][_$_33a9[9]];$++)r[_$_33a9[33]][$][_$_33a9[60]]&&(r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[219]][a][_$_33a9[125]][_$_33a9[124]](_$_33a9[541]),r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[219]][a][_$_33a9[62]][_$_33a9[528]]=m+_$_33a9[542])}if(_=0,0<r[_$_33a9[5]][_$_33a9[873]]&&r[_$_33a9[5]][_$_33a9[322]])for($=0;$<r[_$_33a9[5]][_$_33a9[322]][_$_33a9[9]];$++)for(a=0;a<=r[_$_33a9[5]][_$_33a9[873]];a++)0<a&&(_+=r[_$_33a9[31]][_$_33a9[219]][$][_$_33a9[219]][a-1][_$_33a9[866]]),r[_$_33a9[31]][_$_33a9[219]][$][_$_33a9[219]][a][_$_33a9[125]][_$_33a9[124]](_$_33a9[541]),r[_$_33a9[31]][_$_33a9[219]][$][_$_33a9[219]][a][_$_33a9[62]][_$_33a9[528]]=_+1+_$_33a9[542]}else{for(a=0;a<=r[_$_33a9[5]][_$_33a9[193]];a++)for(r[_$_33a9[31]][_$_33a9[220]][_$_33a9[219]][a][_$_33a9[125]][_$_33a9[23]](_$_33a9[541]),r[_$_33a9[31]][_$_33a9[220]][_$_33a9[219]][a][_$_33a9[62]][_$_33a9[528]]=_$_33a9[75],$=0;$<r[_$_33a9[33]][_$_33a9[9]];$++)r[_$_33a9[33]][$][_$_33a9[60]]&&(r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[219]][a][_$_33a9[125]][_$_33a9[23]](_$_33a9[541]),r[_$_33a9[33]][$][_$_33a9[60]][_$_33a9[219]][a][_$_33a9[62]][_$_33a9[528]]=_$_33a9[75]);if(0<r[_$_33a9[5]][_$_33a9[873]]&&r[_$_33a9[5]][_$_33a9[322]])for($=0;$<r[_$_33a9[5]][_$_33a9[322]][_$_33a9[9]];$++)for(a=0;a<=r[_$_33a9[5]][_$_33a9[873]];a++)r[_$_33a9[31]][_$_33a9[219]][$][_$_33a9[219]][a][_$_33a9[125]][_$_33a9[23]](_$_33a9[541]),r[_$_33a9[31]][_$_33a9[219]][$][_$_33a9[219]][a][_$_33a9[62]][_$_33a9[528]]=_$_33a9[75]}}r[_$_33a9[436]]()},r[_$_33a9[6]](),r},e;p[_$_33a9[83]]=null,p[_$_33a9[874]]=function(_){jSuites[_$_33a9[874]](_)},p[_$_33a9[875]]=function(_){for(var a=Object[_$_33a9[119]](_),$=0;$<a[_$_33a9[9]];$++)typeof _[a[$]]===_$_33a9[12]&&(p[a[$]]=_[a[$]],p[_$_33a9[83]]&&typeof _[a[$]][_$_33a9[83]]==_$_33a9[12])&&_[a[$]][_$_33a9[83]](p[_$_33a9[83]])},p[_$_33a9[582]]=null,p[_$_33a9[872]]=null,p[_$_33a9[876]]=null,p[_$_33a9[476]]=function(_,a){_[_$_33a9[100]]&&(p[_$_33a9[582]]=null,a&&((a=Array[_$_33a9[8]](_[_$_33a9[100]])?_[_$_33a9[100]][0][_$_33a9[5]][_$_33a9[846]]?_[_$_33a9[100]][0][_$_33a9[5]][_$_33a9[846]]:document:_[_$_33a9[100]][_$_33a9[5]][_$_33a9[846]]?_[_$_33a9[100]][_$_33a9[5]][_$_33a9[846]]:document)[_$_33a9[879]](_$_33a9[877],p[_$_33a9[878]]),a[_$_33a9[879]](_$_33a9[880],p[_$_33a9[881]]),a[_$_33a9[879]](_$_33a9[882],p[_$_33a9[883]]),a[_$_33a9[879]](_$_33a9[884],p[_$_33a9[885]]),a[_$_33a9[879]](_$_33a9[886],p[_$_33a9[887]]),a[_$_33a9[879]](_$_33a9[771],p[_$_33a9[888]]),a[_$_33a9[879]](_$_33a9[214],p[_$_33a9[889]]),a[_$_33a9[879]](_$_33a9[890],p[_$_33a9[891]]),a[_$_33a9[879]](_$_33a9[892],p[_$_33a9[893]]),a[_$_33a9[879]](_$_33a9[894],p[_$_33a9[893]]),a[_$_33a9[879]](_$_33a9[895],p[_$_33a9[896]]),document[_$_33a9[879]](_$_33a9[897],p[_$_33a9[898]]),p=null),_[_$_33a9[100]]=null,_[_$_33a9[315]]=_$_33a9[75],_[_$_33a9[125]][_$_33a9[23]](_$_33a9[201]),_[_$_33a9[125]][_$_33a9[23]](_$_33a9[218]))},p[_$_33a9[845]]=function(_){_[_$_33a9[304]](_$_33a9[877],p[_$_33a9[878]]),_[_$_33a9[304]](_$_33a9[880],p[_$_33a9[881]]),_[_$_33a9[304]](_$_33a9[882],p[_$_33a9[883]]),_[_$_33a9[304]](_$_33a9[884],p[_$_33a9[885]]),_[_$_33a9[304]](_$_33a9[886],p[_$_33a9[887]]),_[_$_33a9[304]](_$_33a9[771],p[_$_33a9[888]]),_[_$_33a9[304]](_$_33a9[214],p[_$_33a9[889]]),_[_$_33a9[304]](_$_33a9[890],p[_$_33a9[891]]),_[_$_33a9[304]](_$_33a9[892],p[_$_33a9[893]]),_[_$_33a9[304]](_$_33a9[894],p[_$_33a9[893]]),_[_$_33a9[304]](_$_33a9[895],p[_$_33a9[896]]),document[_$_33a9[304]](_$_33a9[897],p[_$_33a9[898]])},p[_$_33a9[556]]=function(){p[_$_33a9[582]]&&!p[_$_33a9[582]][_$_33a9[50]]&&p[_$_33a9[582]][_$_33a9[45]][0]&&p[_$_33a9[582]][_$_33a9[45]][0][0]&&p[_$_33a9[582]][_$_33a9[45]][0][0][_$_33a9[60]]&&p[_$_33a9[582]][_$_33a9[45]][0][0][_$_33a9[60]][_$_33a9[22]]&&p[_$_33a9[582]][_$_33a9[45]][0][0][_$_33a9[60]][_$_33a9[22]][_$_33a9[22]]&&p[_$_33a9[582]][_$_33a9[471]](0,0,0,0)},p[_$_33a9[898]]=function(_){if(p[_$_33a9[582]])if(27==_[_$_33a9[899]]&&(p[_$_33a9[582]][_$_33a9[58]]&&(p[_$_33a9[582]][_$_33a9[432]](p[_$_33a9[582]][_$_33a9[58]][0],!1),_[_$_33a9[900]]()),null!=p[_$_33a9[582]][_$_33a9[804]][_$_33a9[800]]&&(p[_$_33a9[582]][_$_33a9[804]][_$_33a9[803]](),_[_$_33a9[900]]()),null!=p[_$_33a9[582]][_$_33a9[813]][_$_33a9[812]]&&(p[_$_33a9[582]][_$_33a9[813]][_$_33a9[803]](),_[_$_33a9[900]]()),1==p[_$_33a9[582]][_$_33a9[216]][_$_33a9[536]]&&(p[_$_33a9[582]][_$_33a9[216]][_$_33a9[213]](!1),_[_$_33a9[900]]())),p[_$_33a9[872]]&&clearTimeout(p[_$_33a9[872]]),_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[826]))p[_$_33a9[872]]=setTimeout((function(){p[_$_33a9[582]][_$_33a9[216]][_$_33a9[307]](_[_$_33a9[901]][_$_33a9[246]]),p[_$_33a9[872]]=null}),300);else if(_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[823]))p[_$_33a9[872]]=setTimeout((function(){p[_$_33a9[582]][_$_33a9[307]](_[_$_33a9[901]][_$_33a9[246]]),p[_$_33a9[872]]=null}),300);else if(p[_$_33a9[582]][_$_33a9[58]])if(13==_[_$_33a9[899]]){if(p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][p[_$_33a9[582]][_$_33a9[58]][2]][_$_33a9[288]]==_$_33a9[616])p[_$_33a9[582]][_$_33a9[432]](p[_$_33a9[582]][_$_33a9[58]][0],!0);else if(p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][p[_$_33a9[582]][_$_33a9[58]][2]][_$_33a9[288]]!=_$_33a9[290])if((1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[418]]||1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][p[_$_33a9[582]][_$_33a9[58]][2]][_$_33a9[418]]||200<p[_$_33a9[582]][_$_33a9[5]][_$_33a9[245]][p[_$_33a9[582]][_$_33a9[58]][3]][p[_$_33a9[582]][_$_33a9[58]][2]][_$_33a9[9]])&&_[_$_33a9[902]]){var a=p[_$_33a9[582]][_$_33a9[58]][0][_$_33a9[219]][0],$=p[_$_33a9[582]][_$_33a9[58]][0][_$_33a9[219]][0][_$_33a9[246]],e=a[_$_33a9[903]];$=$[_$_33a9[285]](0,e)+_$_33a9[797]+$[_$_33a9[285]](e),a[_$_33a9[246]]=$,a[_$_33a9[556]](),a[_$_33a9[903]]=e+1,a[_$_33a9[904]]=e+1}else p[_$_33a9[582]][_$_33a9[58]][0][_$_33a9[219]][0][_$_33a9[905]]()}else 9==_[_$_33a9[899]]&&(p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][p[_$_33a9[582]][_$_33a9[58]][2]][_$_33a9[288]]==_$_33a9[616]?p[_$_33a9[582]][_$_33a9[432]](p[_$_33a9[582]][_$_33a9[58]][0],!0):p[_$_33a9[582]][_$_33a9[58]][0][_$_33a9[219]][0][_$_33a9[905]](),p[_$_33a9[582]][_$_33a9[63]](),_[_$_33a9[900]]());else if(p[_$_33a9[582]][_$_33a9[50]])if(33==_[_$_33a9[899]])0<p[_$_33a9[582]][_$_33a9[5]][_$_33a9[36]]&&(0<p[_$_33a9[582]][_$_33a9[37]]&&(p[_$_33a9[582]][_$_33a9[37]]--,p[_$_33a9[582]][_$_33a9[313]](p[_$_33a9[582]][_$_33a9[37]])),_[_$_33a9[900]]());else if(34==_[_$_33a9[899]])0<p[_$_33a9[582]][_$_33a9[5]][_$_33a9[36]]&&(p[_$_33a9[582]][_$_33a9[37]]<p[_$_33a9[582]][_$_33a9[717]]()-1&&(p[_$_33a9[582]][_$_33a9[37]]++,p[_$_33a9[582]][_$_33a9[313]](p[_$_33a9[582]][_$_33a9[37]])),_[_$_33a9[900]]());else if(37==_[_$_33a9[899]])p[_$_33a9[582]][_$_33a9[528]](_[_$_33a9[906]],_[_$_33a9[907]]),_[_$_33a9[900]]();else if(39==_[_$_33a9[899]])p[_$_33a9[582]][_$_33a9[63]](_[_$_33a9[906]],_[_$_33a9[907]]),_[_$_33a9[900]]();else if(38==_[_$_33a9[899]])p[_$_33a9[582]][_$_33a9[854]](_[_$_33a9[906]],_[_$_33a9[907]]),_[_$_33a9[900]]();else if(40==_[_$_33a9[899]])p[_$_33a9[582]][_$_33a9[856]](_[_$_33a9[906]],_[_$_33a9[907]]),_[_$_33a9[900]]();else if(36==_[_$_33a9[899]])p[_$_33a9[582]][_$_33a9[857]](_[_$_33a9[906]],_[_$_33a9[907]]),_[_$_33a9[900]]();else if(35==_[_$_33a9[899]])p[_$_33a9[582]][_$_33a9[858]](_[_$_33a9[906]],_[_$_33a9[907]]),_[_$_33a9[900]]();else if(32==_[_$_33a9[899]])p[_$_33a9[582]][_$_33a9[503]](),_[_$_33a9[900]]();else if(46==_[_$_33a9[899]])p[_$_33a9[582]][_$_33a9[116]]()&&(p[_$_33a9[582]][_$_33a9[908]]?1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[644]]&&confirm(p[_$_33a9[582]][_$_33a9[5]][_$_33a9[186]][_$_33a9[909]])&&p[_$_33a9[582]][_$_33a9[271]]():p[_$_33a9[582]][_$_33a9[910]]?1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[660]]&&confirm(p[_$_33a9[582]][_$_33a9[5]][_$_33a9[186]][_$_33a9[911]])&&p[_$_33a9[582]][_$_33a9[273]]():p[_$_33a9[582]][_$_33a9[256]](p[_$_33a9[582]][_$_33a9[452]](),_$_33a9[75]));else if(13==_[_$_33a9[899]])_[_$_33a9[906]]?p[_$_33a9[582]][_$_33a9[854]]():(1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[636]]&&1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[912]]&&p[_$_33a9[582]][_$_33a9[50]][1]==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1&&p[_$_33a9[582]][_$_33a9[138]](),p[_$_33a9[582]][_$_33a9[50]]&&p[_$_33a9[582]][_$_33a9[856]]()),_[_$_33a9[900]]();else if(9==_[_$_33a9[899]])_[_$_33a9[906]]?p[_$_33a9[582]][_$_33a9[528]]():(a=p[_$_33a9[582]][_$_33a9[50]][0],p[_$_33a9[582]][_$_33a9[63]](),1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[654]]&&1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[913]]&&p[_$_33a9[582]][_$_33a9[50]][0]==a&&(p[_$_33a9[582]][_$_33a9[137]](),p[_$_33a9[582]][_$_33a9[63]]())),_[_$_33a9[900]]();else if(!_[_$_33a9[907]]&&!_[_$_33a9[914]]||_[_$_33a9[906]]){if(p[_$_33a9[582]][_$_33a9[50]]&&p[_$_33a9[582]][_$_33a9[116]]()){var n=p[_$_33a9[582]][_$_33a9[50]][1],r=p[_$_33a9[582]][_$_33a9[50]][0];p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][r][_$_33a9[288]]!=_$_33a9[422]&&(32==_[_$_33a9[915]]?p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][r][_$_33a9[288]]==_$_33a9[504]||p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][r][_$_33a9[288]]==_$_33a9[617]?_[_$_33a9[900]]():p[_$_33a9[582]][_$_33a9[483]](p[_$_33a9[582]][_$_33a9[45]][n][r][_$_33a9[60]],!0,_):113==_[_$_33a9[915]]?p[_$_33a9[582]][_$_33a9[483]](p[_$_33a9[582]][_$_33a9[45]][n][r][_$_33a9[60]],!1,_):!(8==_[_$_33a9[915]]||229==_[_$_33a9[915]]||48<=_[_$_33a9[915]]&&57>=_[_$_33a9[915]]||96<=_[_$_33a9[915]]&&111>=_[_$_33a9[915]]||187<=_[_$_33a9[915]]&&190>=_[_$_33a9[915]]||(String[_$_33a9[80]](_[_$_33a9[915]])==_[_$_33a9[916]]||String[_$_33a9[80]](_[_$_33a9[915]])[_$_33a9[620]]()==_[_$_33a9[916]][_$_33a9[620]]())&&p[_$_33a9[917]](String[_$_33a9[80]](_[_$_33a9[915]])))||_[_$_33a9[902]]||_[_$_33a9[907]]||(a=function(){p[_$_33a9[582]][_$_33a9[483]](p[_$_33a9[582]][_$_33a9[45]][n][r][_$_33a9[60]],!0,_)},1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[486]]?setTimeout(a,0):a()))}}else 65==_[_$_33a9[899]]?(p[_$_33a9[582]][_$_33a9[714]](),_[_$_33a9[900]]()):83==_[_$_33a9[899]]?(p[_$_33a9[582]][_$_33a9[748]](),_[_$_33a9[900]]()):89==_[_$_33a9[899]]?(p[_$_33a9[582]][_$_33a9[794]](),_[_$_33a9[900]]()):90==_[_$_33a9[899]]?(p[_$_33a9[582]][_$_33a9[779]](),_[_$_33a9[900]]()):67==_[_$_33a9[899]]?(p[_$_33a9[582]][_$_33a9[764]](),_[_$_33a9[900]]()):88==_[_$_33a9[899]]?(p[_$_33a9[582]][_$_33a9[763]](),_[_$_33a9[900]]()):86==_[_$_33a9[899]]&&p[_$_33a9[888]](_)},p[_$_33a9[918]]=!1,p[_$_33a9[881]]=function(_){var a=(_=_||window[_$_33a9[919]])[_$_33a9[920]]?_[_$_33a9[920]]:_[_$_33a9[828]]?_[_$_33a9[828]]:_[_$_33a9[899]];p[_$_33a9[582]]&&p[_$_33a9[582]][_$_33a9[216]][_$_33a9[536]]&&!jSuites[_$_33a9[921]](_[_$_33a9[901]],_$_33a9[831])&&p[_$_33a9[582]][_$_33a9[216]][_$_33a9[213]](!1);var $=p[_$_33a9[922]](_[_$_33a9[901]]);if($[0]?$[1]&&p[_$_33a9[582]]!=$[1][_$_33a9[100]]&&(p[_$_33a9[582]]&&p[_$_33a9[582]][_$_33a9[552]](),p[_$_33a9[582]]=$[1][_$_33a9[100]]):p[_$_33a9[582]]&&!jSuites[_$_33a9[921]](_[_$_33a9[901]],_$_33a9[923])&&(p[_$_33a9[582]][_$_33a9[552]](!0),p[_$_33a9[582]]=null),p[_$_33a9[582]]&&1==a){if(_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[327]))p[_$_33a9[582]]&&p[_$_33a9[582]][_$_33a9[714]]();else if(_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[337]))p[_$_33a9[582]][_$_33a9[116]]()&&(p[_$_33a9[582]][_$_33a9[924]]=!0);else{if(1==$[2]){var e=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404]);if(e)if(a=_[_$_33a9[901]][_$_33a9[537]](),1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[122]]&&6>a[_$_33a9[401]]-_[_$_33a9[925]])p[_$_33a9[582]][_$_33a9[804]][_$_33a9[801]](e);else if(1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[126]]&&6>a[_$_33a9[294]]-_[_$_33a9[926]])p[_$_33a9[582]][_$_33a9[798]][_$_33a9[801]](e,a[_$_33a9[294]],_[_$_33a9[927]]);else{if(p[_$_33a9[582]][_$_33a9[910]]&&(_[_$_33a9[906]]||_[_$_33a9[907]])){a=p[_$_33a9[582]][_$_33a9[910]];var n=e}else p[_$_33a9[582]][_$_33a9[910]]==e&&1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[928]]&&(p[_$_33a9[872]]=setTimeout((function(){p[_$_33a9[582]][_$_33a9[261]](e)}),800)),n=a=p[_$_33a9[582]][_$_33a9[910]]=e;p[_$_33a9[582]][_$_33a9[471]](a,0,n,p[_$_33a9[582]][_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1)}else _[_$_33a9[901]][_$_33a9[22]][_$_33a9[125]][_$_33a9[202]](_$_33a9[441])&&(a=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[442]),n=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[443]),a=p[_$_33a9[582]][_$_33a9[444]](a,n),p[_$_33a9[582]][_$_33a9[471]](a[0],0,a[1],p[_$_33a9[582]][_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1))}else p[_$_33a9[582]][_$_33a9[910]]=!1;if(2==$[2])if($=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[400]),_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[402]))a=_[_$_33a9[901]][_$_33a9[537]](),1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[128]]&&6>a[_$_33a9[294]]-_[_$_33a9[926]]?p[_$_33a9[582]][_$_33a9[813]][_$_33a9[801]]($):1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[129]]&&6>a[_$_33a9[401]]-_[_$_33a9[925]]?p[_$_33a9[582]][_$_33a9[811]][_$_33a9[801]]($,a[_$_33a9[401]],_[_$_33a9[929]]):(a=p[_$_33a9[582]][_$_33a9[908]]&&(_[_$_33a9[906]]||_[_$_33a9[907]])?p[_$_33a9[582]][_$_33a9[908]]:p[_$_33a9[582]][_$_33a9[908]]=$,p[_$_33a9[582]][_$_33a9[471]](0,a,p[_$_33a9[582]][_$_33a9[5]][_$_33a9[245]][0][_$_33a9[9]]-1,$));else{var r=function(_){var a=_[_$_33a9[405]](_$_33a9[404]),$=_[_$_33a9[405]](_$_33a9[400]);return a&&$?[a,$,_]:_[_$_33a9[22]]&&_[_$_33a9[22]][_$_33a9[405]]?r(_[_$_33a9[22]]):void 0};if(a=r(_[_$_33a9[901]])){if(e=parseInt(a[0]),$=parseInt(a[1]),1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[335]]&&_[_$_33a9[901]][_$_33a9[868]]<_[_$_33a9[926]]){n=_[_$_33a9[926]];for(var t=0;0<n&&(p[_$_33a9[582]][_$_33a9[45]][$][e+t]&&p[_$_33a9[582]][_$_33a9[45]][$][e+t][_$_33a9[60]]);){n-=p[_$_33a9[582]][_$_33a9[45]][$][e+t][_$_33a9[60]][_$_33a9[537]]()[_$_33a9[294]],t++}e+=t-1}!p[_$_33a9[582]][_$_33a9[58]]||p[_$_33a9[582]][_$_33a9[58]][2]==e&&p[_$_33a9[582]][_$_33a9[58]][3]==$||p[_$_33a9[582]][_$_33a9[432]](p[_$_33a9[582]][_$_33a9[58]][0],!0),p[_$_33a9[582]][_$_33a9[58]]||(p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][a[0]][_$_33a9[288]]==_$_33a9[742]?_[_$_33a9[901]][_$_33a9[15]]==_$_33a9[930]&&_[_$_33a9[901]][_$_33a9[22]][_$_33a9[125]][_$_33a9[202]](_$_33a9[550])&&window[_$_33a9[250]](_$_33a9[931]+a[2][_$_33a9[109]],_$_33a9[932]):p[_$_33a9[582]][_$_33a9[5]][_$_33a9[133]][a[0]][_$_33a9[288]]==_$_33a9[282]&&_[_$_33a9[901]][_$_33a9[15]]==_$_33a9[930]&&_[_$_33a9[901]][_$_33a9[22]][_$_33a9[125]][_$_33a9[202]](_$_33a9[550])&&window[_$_33a9[250]](a[2][_$_33a9[109]],_$_33a9[932]),_[_$_33a9[906]]?p[_$_33a9[582]][_$_33a9[471]](p[_$_33a9[582]][_$_33a9[50]][0],p[_$_33a9[582]][_$_33a9[50]][1],e,$):p[_$_33a9[582]][_$_33a9[471]](e,$)),p[_$_33a9[582]][_$_33a9[910]]=null,p[_$_33a9[582]][_$_33a9[908]]=null}}else p[_$_33a9[582]][_$_33a9[908]]=!1}p[_$_33a9[918]]=!p[_$_33a9[582]][_$_33a9[58]]}else p[_$_33a9[918]]=!1},p[_$_33a9[878]]=function(_){p[_$_33a9[582]]&&(null!=p[_$_33a9[582]][_$_33a9[804]][_$_33a9[800]]?p[_$_33a9[582]][_$_33a9[804]][_$_33a9[802]]():null!=p[_$_33a9[582]][_$_33a9[798]][_$_33a9[800]]?p[_$_33a9[582]][_$_33a9[798]][_$_33a9[802]](_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404])):null!=p[_$_33a9[582]][_$_33a9[813]][_$_33a9[812]]?p[_$_33a9[582]][_$_33a9[813]][_$_33a9[802]]():null!=p[_$_33a9[582]][_$_33a9[811]][_$_33a9[812]]?p[_$_33a9[582]][_$_33a9[811]][_$_33a9[802]](_[_$_33a9[901]][_$_33a9[405]](_$_33a9[400])):p[_$_33a9[582]][_$_33a9[924]]?(p[_$_33a9[582]][_$_33a9[924]]=!1,p[_$_33a9[582]][_$_33a9[46]][_$_33a9[511]]&&p[_$_33a9[582]][_$_33a9[46]][_$_33a9[511]][_$_33a9[529]]&&(p[_$_33a9[582]][_$_33a9[733]](p[_$_33a9[582]][_$_33a9[46]][_$_33a9[511]][_$_33a9[522]],p[_$_33a9[582]][_$_33a9[46]][_$_33a9[511]][_$_33a9[523]],p[_$_33a9[582]][_$_33a9[46]][_$_33a9[511]][_$_33a9[524]],p[_$_33a9[582]][_$_33a9[46]][_$_33a9[511]][_$_33a9[525]]),p[_$_33a9[582]][_$_33a9[557]]())):_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[830])?p[_$_33a9[582]][_$_33a9[216]][_$_33a9[213]](!0):_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[131])&&20>_[_$_33a9[901]][_$_33a9[868]]-_[_$_33a9[926]]?p[_$_33a9[582]][_$_33a9[216]][_$_33a9[250]](_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404])):_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[933])&&50>_[_$_33a9[901]][_$_33a9[868]]-_[_$_33a9[926]]&&50>_[_$_33a9[925]]?p[_$_33a9[582]][_$_33a9[58]][0]&&p[_$_33a9[582]][_$_33a9[432]](p[_$_33a9[582]][_$_33a9[58]][0],!0):_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[728])&&(_[_$_33a9[901]][_$_33a9[109]]==_$_33a9[729]?p[_$_33a9[582]][_$_33a9[313]](0):_[_$_33a9[901]][_$_33a9[109]]==_$_33a9[731]?p[_$_33a9[582]][_$_33a9[313]](_[_$_33a9[901]][_$_33a9[405]](_$_33a9[292])-1):p[_$_33a9[582]][_$_33a9[313]](_[_$_33a9[901]][_$_33a9[109]]-1))),p[_$_33a9[872]]&&(clearTimeout(p[_$_33a9[872]]),p[_$_33a9[872]]=null),p[_$_33a9[918]]=!1},p[_$_33a9[883]]=function(_){if((_=_||window[_$_33a9[919]])[_$_33a9[920]]||_[_$_33a9[828]]||_[_$_33a9[899]]||(p[_$_33a9[918]]=!1),p[_$_33a9[582]]){var a=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404]),$=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[400]);if(1==p[_$_33a9[918]])null!=p[_$_33a9[582]][_$_33a9[804]][_$_33a9[800]]&&null!=a&&p[_$_33a9[582]][_$_33a9[804]][_$_33a9[634]](a,_[_$_33a9[901]][_$_33a9[868]]/2>_[_$_33a9[926]]),null!=p[_$_33a9[582]][_$_33a9[813]][_$_33a9[812]]&&null!=$&&p[_$_33a9[582]][_$_33a9[813]][_$_33a9[634]]($,_[_$_33a9[901]][_$_33a9[865]]/2>_[_$_33a9[925]]),null!=p[_$_33a9[582]][_$_33a9[798]][_$_33a9[800]]&&p[_$_33a9[582]][_$_33a9[798]][_$_33a9[634]](_[_$_33a9[927]]),null!=p[_$_33a9[582]][_$_33a9[811]][_$_33a9[812]]&&p[_$_33a9[582]][_$_33a9[811]][_$_33a9[634]](_[_$_33a9[929]]);else{var e=_[_$_33a9[901]][_$_33a9[537]]();p[_$_33a9[582]][_$_33a9[51]]&&(p[_$_33a9[582]][_$_33a9[51]][_$_33a9[62]][_$_33a9[51]]=_$_33a9[75],p[_$_33a9[582]][_$_33a9[51]]=null),1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[361]]&&_[_$_33a9[901]][_$_33a9[22]][_$_33a9[22]]&&_[_$_33a9[901]][_$_33a9[22]][_$_33a9[22]][_$_33a9[208]]&&(_[_$_33a9[901]][_$_33a9[22]][_$_33a9[22]][_$_33a9[125]][_$_33a9[202]](_$_33a9[127])&&(1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[129]]&&_[_$_33a9[901]]&&a&&!$&&5>e[_$_33a9[294]]-(_[_$_33a9[934]]-e[_$_33a9[528]])?(p[_$_33a9[582]][_$_33a9[51]]=_[_$_33a9[901]],p[_$_33a9[582]][_$_33a9[51]][_$_33a9[62]][_$_33a9[51]]=_$_33a9[935]):1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[126]]&&_[_$_33a9[901]]&&!a&&$&&5>e[_$_33a9[401]]-(_[_$_33a9[936]]-e[_$_33a9[526]])&&(p[_$_33a9[582]][_$_33a9[51]]=_[_$_33a9[901]],p[_$_33a9[582]][_$_33a9[51]][_$_33a9[62]][_$_33a9[51]]=_$_33a9[937])),_[_$_33a9[901]][_$_33a9[22]][_$_33a9[22]][_$_33a9[125]][_$_33a9[202]](_$_33a9[123])&&(1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[128]]&&_[_$_33a9[901]]&&!a&&$&&5>e[_$_33a9[294]]-(_[_$_33a9[934]]-e[_$_33a9[528]])||1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[122]]&&_[_$_33a9[901]]&&a&&!$&&5>e[_$_33a9[401]]-(_[_$_33a9[936]]-e[_$_33a9[526]]))&&(p[_$_33a9[582]][_$_33a9[51]]=_[_$_33a9[901]],p[_$_33a9[582]][_$_33a9[51]][_$_33a9[62]][_$_33a9[51]]=_$_33a9[938]))}}},p[_$_33a9[885]]=function(_){var a=!1;if((_=_||window[_$_33a9[919]])[_$_33a9[920]]||_[_$_33a9[828]]||_[_$_33a9[899]]||(p[_$_33a9[918]]=!1),p[_$_33a9[582]]&&1==p[_$_33a9[918]]){var $=p[_$_33a9[922]](_[_$_33a9[901]]);if($[0]){if($[1]&&p[_$_33a9[582]]!=$[1][_$_33a9[100]]&&p[_$_33a9[582]])return!1;var e=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404]),n=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[400]);if(null==p[_$_33a9[582]][_$_33a9[804]][_$_33a9[800]]&&null==p[_$_33a9[582]][_$_33a9[813]][_$_33a9[812]]&&null==p[_$_33a9[582]][_$_33a9[798]][_$_33a9[800]]&&null==p[_$_33a9[582]][_$_33a9[811]][_$_33a9[812]]){if(1==$[2]&&p[_$_33a9[582]][_$_33a9[910]]){e=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404]);var r=p[_$_33a9[582]][_$_33a9[910]];p[_$_33a9[582]][_$_33a9[471]](r,0,e,p[_$_33a9[582]][_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1)}2==$[2]&&(_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[402])?p[_$_33a9[582]][_$_33a9[908]]&&(r=p[_$_33a9[582]][_$_33a9[908]],p[_$_33a9[582]][_$_33a9[471]](0,r,p[_$_33a9[582]][_$_33a9[5]][_$_33a9[245]][0][_$_33a9[9]]-1,n)):!p[_$_33a9[582]][_$_33a9[58]]&&e&&n&&(p[_$_33a9[582]][_$_33a9[924]]?p[_$_33a9[582]][_$_33a9[667]](e,n)||p[_$_33a9[582]][_$_33a9[558]](e,n):p[_$_33a9[582]][_$_33a9[50]]&&p[_$_33a9[582]][_$_33a9[471]](p[_$_33a9[582]][_$_33a9[50]][0],p[_$_33a9[582]][_$_33a9[50]][1],e,n),1!=p[_$_33a9[582]][_$_33a9[5]][_$_33a9[189]]&&1!=p[_$_33a9[582]][_$_33a9[5]][_$_33a9[190]]||(a=!0)))}}}1==a?p[_$_33a9[872]]=setTimeout((function(){var a=p[_$_33a9[582]][_$_33a9[29]][_$_33a9[537]]();if(_[_$_33a9[939]]&&_[_$_33a9[939]][0])var $=_[_$_33a9[939]][0][_$_33a9[934]],e=_[_$_33a9[939]][0][_$_33a9[936]];else $=_[_$_33a9[934]],e=_[_$_33a9[936]];$-=a[_$_33a9[528]],(e-=a[_$_33a9[526]])+50>a[_$_33a9[401]]?p[_$_33a9[582]][_$_33a9[29]][_$_33a9[539]]+=50:80>e&&(p[_$_33a9[582]][_$_33a9[29]][_$_33a9[539]]-=50),$+50>a[_$_33a9[294]]?p[_$_33a9[582]][_$_33a9[29]][_$_33a9[538]]+=50:100>$&&(p[_$_33a9[582]][_$_33a9[29]][_$_33a9[538]]-=50),p[_$_33a9[872]]=null}),100):p[_$_33a9[872]]&&(clearTimeout(p[_$_33a9[872]]),p[_$_33a9[872]]=null)},p[_$_33a9[887]]=function(_){if(p[_$_33a9[582]])if(_[_$_33a9[901]][_$_33a9[125]][_$_33a9[202]](_$_33a9[337])){if(0<(_=p[_$_33a9[582]][_$_33a9[452]]())[_$_33a9[9]]){var a=_[0][_$_33a9[391]],$=parseInt(_[_[_$_33a9[9]]-1][_$_33a9[392]])+1;p[_$_33a9[582]][_$_33a9[733]](a,$,_[_[_$_33a9[9]]-1][_$_33a9[391]],p[_$_33a9[582]][_$_33a9[5]][_$_33a9[245]][_$_33a9[9]]-1)}}else if(1==(a=p[_$_33a9[922]](_[_$_33a9[901]]))[2]&&1==p[_$_33a9[582]][_$_33a9[5]][_$_33a9[940]]&&($=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404]))&&p[_$_33a9[582]][_$_33a9[269]]($),2==a[2]&&p[_$_33a9[582]][_$_33a9[116]]()&&!p[_$_33a9[582]][_$_33a9[58]]){var e=function(_){if(_[_$_33a9[22]]){var a=_[_$_33a9[405]](_$_33a9[404]),$=_[_$_33a9[405]](_$_33a9[400]);return a&&$?_:e(_[_$_33a9[22]])}};(_=e(_[_$_33a9[901]]))&&p[_$_33a9[582]][_$_33a9[483]](_)}},p[_$_33a9[888]]=function(_){if(p[_$_33a9[582]]&&p[_$_33a9[582]][_$_33a9[50]]&&!p[_$_33a9[582]][_$_33a9[58]]){var a=_[_$_33a9[941]]||window[_$_33a9[941]];a&&(p[_$_33a9[582]][_$_33a9[771]](p[_$_33a9[582]][_$_33a9[50]][0],p[_$_33a9[582]][_$_33a9[50]][1],a[_$_33a9[255]](_$_33a9[186])),_)&&_[_$_33a9[900]]()}},p[_$_33a9[889]]=function(_){_=_||window[_$_33a9[919]];var a=p[_$_33a9[922]](_[_$_33a9[901]]);if(a[0]&&(a=a[0][_$_33a9[100]],(a=(Array[_$_33a9[8]](a)?a[0]:a)[_$_33a9[586]]())&&a!==p[_$_33a9[582]]&&(p[_$_33a9[582]]=a)),p[_$_33a9[582]])if(p[_$_33a9[582]][_$_33a9[58]])_[_$_33a9[900]]();else if(p[_$_33a9[582]][_$_33a9[5]][_$_33a9[27]]&&(p[_$_33a9[582]][_$_33a9[27]][_$_33a9[214]][_$_33a9[213]](),p[_$_33a9[582]])){a=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404]);var $=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[400]);a=p[_$_33a9[582]][_$_33a9[5]][_$_33a9[27]](p[_$_33a9[582]],a,$,_),p[_$_33a9[582]][_$_33a9[27]][_$_33a9[214]][_$_33a9[250]](_,a),_[_$_33a9[900]]()}},p[_$_33a9[891]]=function(_){var a=p[_$_33a9[922]](_[_$_33a9[901]]);if(a[0]?a[1]&&p[_$_33a9[582]]!=a[1][_$_33a9[100]]&&(p[_$_33a9[582]]&&p[_$_33a9[582]][_$_33a9[552]](),p[_$_33a9[582]]=a[1][_$_33a9[100]]):p[_$_33a9[582]]&&(p[_$_33a9[582]][_$_33a9[552]](),p[_$_33a9[582]]=null),p[_$_33a9[582]]&&!p[_$_33a9[582]][_$_33a9[58]]){a=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[404]);var $=_[_$_33a9[901]][_$_33a9[405]](_$_33a9[400]);a&&!$?p[_$_33a9[582]][_$_33a9[471]](a,0,a,p[_$_33a9[582]][_$_33a9[33]][_$_33a9[9]]-1):$&&!a?p[_$_33a9[582]][_$_33a9[471]](0,$,p[_$_33a9[582]][_$_33a9[44]][_$_33a9[9]]-1,$):$&&a&&(p[_$_33a9[582]][_$_33a9[471]](a,$),p[_$_33a9[872]]=setTimeout((function(){p[_$_33a9[942]]=_[_$_33a9[901]],p[_$_33a9[582]][_$_33a9[483]](_[_$_33a9[901]],!1,_),p[_$_33a9[872]]=null}),500))}p[_$_33a9[943]]=!0},p[_$_33a9[896]]=function(_){p[_$_33a9[872]]&&(clearTimeout(p[_$_33a9[872]]),p[_$_33a9[872]]=null),p[_$_33a9[942]]&&p[_$_33a9[942]][_$_33a9[219]][0]&&p[_$_33a9[942]][_$_33a9[219]][0][_$_33a9[15]]==_$_33a9[944]&&(p[_$_33a9[942]][_$_33a9[219]][0][_$_33a9[556]](),p[_$_33a9[942]]=null)},p[_$_33a9[893]]=function(_){p[_$_33a9[872]]&&(clearTimeout(p[_$_33a9[872]]),p[_$_33a9[872]]=null),p[_$_33a9[943]]=!1},p[_$_33a9[11]]=function(){p[_$_33a9[11]][_$_33a9[713]]=!0;for(var _=0;_<p[_$_33a9[11]][_$_33a9[426]][_$_33a9[9]];_++){var a=p[_$_33a9[11]][_$_33a9[426]][_][0],$=p[_$_33a9[11]][_$_33a9[426]][_][1],e=p[_$_33a9[11]][_$_33a9[426]][_][2];a[_$_33a9[500]]($,e,a[_$_33a9[5]][_$_33a9[245]][e][$])}p[_$_33a9[11]][_$_33a9[713]]=!1,p[_$_33a9[11]][_$_33a9[426]]=[]},p[_$_33a9[11]][_$_33a9[713]]=!1,p[_$_33a9[11]][_$_33a9[426]]=[],p[_$_33a9[922]]=function(_){var a=null,$=null,e=null;return function _(n){n[_$_33a9[208]]&&(n[_$_33a9[125]][_$_33a9[202]](_$_33a9[218])&&(a=n),n[_$_33a9[125]][_$_33a9[202]](_$_33a9[226])&&($=n)),n[_$_33a9[15]]==_$_33a9[945]?e=1:n[_$_33a9[15]]==_$_33a9[946]&&(e=2),n[_$_33a9[22]]&&!a&&_(n[_$_33a9[22]])}(_),[a,$,e]},p[_$_33a9[947]]=function(_,a){for(var $=0;$<a[_$_33a9[9]];$++)p(_,a[$])},p[_$_33a9[948]]=function(_,a){return p[_$_33a9[18]][_$_33a9[948]](_,a)},p[_$_33a9[4]]={},p[_$_33a9[427]]={},p[_$_33a9[18]]={},typeof jQuery!=_$_33a9[82]&&(e=jQuery,e[_$_33a9[949]][_$_33a9[847]]=e[_$_33a9[949]][_$_33a9[100]]=function(_){var a=e(this)[_$_33a9[381]](0);return a[_$_33a9[100]]?Array[_$_33a9[8]](a[_$_33a9[100]])?a[_$_33a9[100]][_][arguments[1]][_$_33a9[77]](this,Array[_$_33a9[286]][_$_33a9[285]][_$_33a9[284]](arguments,2)):a[_$_33a9[100]][_][_$_33a9[77]](this,Array[_$_33a9[286]][_$_33a9[285]][_$_33a9[284]](arguments,1)):p(e(this)[_$_33a9[381]](0),arguments[0])});var U=function(_){return(_=(_$_33a9[75]+_)[0])==_$_33a9[411]||_==_$_33a9[517]},T=function(_){if(_[_$_33a9[950]]||_[_$_33a9[951]]||_[_$_33a9[952]]){var a={};return _[_$_33a9[951]]?a[_$_33a9[951]]=_[_$_33a9[951]]:_[_$_33a9[950]]?a[_$_33a9[951]]=_[_$_33a9[950]]:(a[_$_33a9[952]]=_[_$_33a9[952]],a[_$_33a9[5]]=_[_$_33a9[5]]),_[_$_33a9[696]]&&(a[_$_33a9[5]]||(a[_$_33a9[5]]={}),a[_$_33a9[5]]={decimal:_[_$_33a9[696]]}),a}return null};return p[_$_33a9[427]][_$_33a9[186]]=function(){var _={};return _[_$_33a9[403]]=function(a,$,e,n,r,t){if(a){var u=null;if(t){var o=T(t);$!==_$_33a9[75]&&!U($)&&typeof $!==_$_33a9[618]&&o&&(o=jSuites[_$_33a9[951]][_$_33a9[953]]($,o,!0))&&o[_$_33a9[246]]!==_$_33a9[75]&&(u=o[_$_33a9[246]]),null!==u&&($=u)}if(($=_[_$_33a9[954]](e,n,$,r,t,a))instanceof Element||$ instanceof HTMLDocument?(a[_$_33a9[315]]=_$_33a9[75],a[_$_33a9[108]]($)):1==r[_$_33a9[5]][_$_33a9[439]]?a[_$_33a9[109]]=$:a[_$_33a9[315]]=$,null!==u)return u}},_[_$_33a9[500]]=_[_$_33a9[403]],_[_$_33a9[483]]=function(_,a,$,e,n,r){($=0!=r[_$_33a9[418]]&&(1==n[_$_33a9[5]][_$_33a9[418]]||1==r[_$_33a9[418]]||200<a[_$_33a9[9]])?p[_$_33a9[18]][_$_33a9[955]](_$_33a9[28],_):p[_$_33a9[18]][_$_33a9[955]](_$_33a9[629],_))[_$_33a9[556]](),e=null,!U(a)&&(e=T(r))&&(r[_$_33a9[956]]||(r[_$_33a9[951]]?(r=r[_$_33a9[951]][_$_33a9[86]](_$_33a9[604]),$[_$_33a9[321]](_$_33a9[957],r[0])):r[_$_33a9[952]]&&$[_$_33a9[321]](_$_33a9[958],r[_$_33a9[952]])),e[_$_33a9[629]]=$,$[_$_33a9[951]]=e,jSuites[_$_33a9[951]][_$_33a9[838]](a,e,!1)),$[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},e||($[_$_33a9[246]]=a),$[_$_33a9[538]]=999999},_[_$_33a9[432]]=function(_,a){return a=a?_[_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75],_[_$_33a9[109]]=a},_[_$_33a9[954]]=function(_,a,$,e,n,r){return U($)&&1==e[_$_33a9[5]][_$_33a9[565]]&&($=e[_$_33a9[566]]($,_,a)),$ instanceof Element||$ instanceof HTMLDocument||(n&&!U($)&&(a=T(n))&&(_=jSuites[_$_33a9[951]][_$_33a9[838]]($,a,!0),r&&a[_$_33a9[951]]&&(a=a[_$_33a9[951]][_$_33a9[86]](_$_33a9[604]))[1]&&(a[1][_$_33a9[690]](new RegExp(_$_33a9[959],_$_33a9[820]))&&(0>$?r[_$_33a9[125]][_$_33a9[124]](_$_33a9[960]):r[_$_33a9[125]][_$_33a9[23]](_$_33a9[960])),a[1][_$_33a9[690]](new RegExp(_$_33a9[961],_$_33a9[820]))&&0>$&&(_=_$_33a9[836]+_+_$_33a9[834])),_&&($=_)),0<$&&n&&0<n[_$_33a9[962]]&&($=(_$_33a9[75]+$)[_$_33a9[120]](0,n[_$_33a9[962]]))),$},_[_$_33a9[381]]=function(_,a){var $;return($=T(_))?jSuites[_$_33a9[951]][_$_33a9[838]](a,$,!0):a},_}(),p[_$_33a9[427]][_$_33a9[963]]=function(){var _={};return _[_$_33a9[403]]=function(a,$,e,n,r,t){_[_$_33a9[500]](a,$,e,n,r,t)},_[_$_33a9[500]]=function(_,a,$,e,n,r){_&&(($=document[_$_33a9[20]](_$_33a9[19]))[_$_33a9[125]][_$_33a9[124]](_$_33a9[964]),1==n[_$_33a9[5]][_$_33a9[439]]?$[_$_33a9[109]]=a:$[_$_33a9[315]]=a,_[_$_33a9[315]]=_$_33a9[75],_[_$_33a9[108]]($))},_[_$_33a9[483]]=function(_,a,$,e,n,r){($=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[28],_,{floating:!0,closeButton:!0,position:1==n[_$_33a9[5]][_$_33a9[189]]||1==n[_$_33a9[5]][_$_33a9[190]],onload:function(_){_[_$_33a9[62]][_$_33a9[401]]=_$_33a9[965]}}))[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},$[_$_33a9[556]](),$[_$_33a9[246]]=a},_[_$_33a9[432]]=function(_,a){return a?_[_$_33a9[219]][0][_$_33a9[219]][0][_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75]},_}(),p[_$_33a9[427]][_$_33a9[618]]=function(){var _={};return _[_$_33a9[403]]=function(_,a,$,e,n,r){if(_){var t=null;if(r){var u=T(r);a!==_$_33a9[75]&&!U(a)&&typeof a!==_$_33a9[618]&&u&&(u=jSuites[_$_33a9[951]][_$_33a9[953]](a,u,!0))&&u[_$_33a9[246]]!==_$_33a9[75]&&(t=u[_$_33a9[246]]),null!==t&&(a=t)}if(_[_$_33a9[109]]=p[_$_33a9[427]][_$_33a9[186]][_$_33a9[954]]($,e,a,n,r),null!==t)return t}if(a!==_$_33a9[75]&&(_$_33a9[75]+a)[_$_33a9[564]](0,1)!==_$_33a9[411]&&(_=!1!==n[_$_33a9[5]][_$_33a9[695]]&&!1!==r[_$_33a9[695]],typeof a!==_$_33a9[618]&&1==_))return p[_$_33a9[18]][_$_33a9[966]](a,r[_$_33a9[696]]||_$_33a9[96],_$_33a9[618])},_[_$_33a9[500]]=_[_$_33a9[403]],_[_$_33a9[483]]=function(_,a,$,e,n,r){$=r[_$_33a9[951]]&&!r[_$_33a9[956]]||a!=Number(a)||1==r[_$_33a9[967]]?p[_$_33a9[18]][_$_33a9[955]](_$_33a9[629],_):p[_$_33a9[18]][_$_33a9[955]](_$_33a9[618],_),e=null,!U(a)&&$[_$_33a9[288]]==_$_33a9[186]&&(e=T(r))&&(r[_$_33a9[951]]?(r=r[_$_33a9[951]][_$_33a9[86]](_$_33a9[604]),$[_$_33a9[321]](_$_33a9[957],r[0])):r[_$_33a9[952]]&&$[_$_33a9[321]](_$_33a9[958],r[_$_33a9[952]]),e[_$_33a9[629]]=$,$[_$_33a9[951]]=e,jSuites[_$_33a9[951]][_$_33a9[838]](a,e,!1)),$[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},$[_$_33a9[556]](),e||($[_$_33a9[246]]=a)},_[_$_33a9[432]]=function(_,a){return a=a?_[_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75],_[_$_33a9[109]]=a},_[_$_33a9[381]]=function(_,a){var $;return($=T(_))?jSuites[_$_33a9[951]][_$_33a9[838]](a,$,!0):a},_}(),p[_$_33a9[427]][_$_33a9[619]]=p[_$_33a9[427]][_$_33a9[618]],p[_$_33a9[427]][_$_33a9[612]]=function(){var _={};return _[_$_33a9[403]]=function(_,a,$,e,n){a=Number(a)||0,_[_$_33a9[109]]=100*a+_$_33a9[968]},_[_$_33a9[500]]=function(_,a,$,e,n){return a=Number(a)||0,_&&(_[_$_33a9[109]]=a+_$_33a9[968]),a/100},_[_$_33a9[483]]=function(_,a,$,e,n){($=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[618],_))[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},$[_$_33a9[556]](),a&&(a=Number(a)||0,$[_$_33a9[246]]=100*a)},_[_$_33a9[432]]=function(_,a){return a=a?_[_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75],_[_$_33a9[109]]=a},_[_$_33a9[381]]=function(_,a){return 100*a+_$_33a9[968]},_}(),p[_$_33a9[427]][_$_33a9[290]]=function(){var _={};return _[_$_33a9[403]]=function(a,$,e,n,r,t){if(t[_$_33a9[838]]||a[_$_33a9[125]][_$_33a9[124]](_$_33a9[969]),a=_[_$_33a9[500]](a,$,e,n,r,t))return a},_[_$_33a9[433]]=function(_){_[_$_33a9[125]][_$_33a9[23]](_$_33a9[969])},_[_$_33a9[500]]=function(a,$,e,n,r,t){if(a){var u=_[_$_33a9[101]](a,$,e,n,r,t);return u?a[_$_33a9[315]]=u:$?($=_[_$_33a9[970]](a,$,e,n,r,t))[_$_33a9[9]]?(u=_[_$_33a9[101]](a,$,e,n,r,t),a[_$_33a9[315]]=u):a[_$_33a9[315]]=_$_33a9[75]:a[_$_33a9[315]]=_$_33a9[75],$}},_[_$_33a9[483]]=function(_,a,$,e,n,r){var t=r[_$_33a9[971]]||_$_33a9[604],u=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[19],_);(r=Object[_$_33a9[215]](r))[_$_33a9[5]]||(r[_$_33a9[5]]={}),typeof r[_$_33a9[216]]==_$_33a9[12]&&(r[_$_33a9[297]]=r[_$_33a9[216]](n[_$_33a9[24]],_,$,e,r[_$_33a9[297]])),typeof r[_$_33a9[972]]==_$_33a9[12]&&(r=r[_$_33a9[972]](n,_,$,e,a,r)),($=r[_$_33a9[5]])[_$_33a9[245]]=[],r[_$_33a9[297]]&&($[_$_33a9[245]]=JSON[_$_33a9[87]](JSON[_$_33a9[234]](r[_$_33a9[297]]))),1==r[_$_33a9[973]]&&($[_$_33a9[973]]=!0),1==r[_$_33a9[289]]&&($[_$_33a9[289]]=!0),$[_$_33a9[950]]=!0,$[_$_33a9[974]]=!0,$[_$_33a9[294]]=_$_33a9[975],$[_$_33a9[401]]=u[_$_33a9[62]][_$_33a9[976]],$[_$_33a9[977]]=1==n[_$_33a9[5]][_$_33a9[189]]||1==n[_$_33a9[5]][_$_33a9[190]],$[_$_33a9[978]]=function(){n[_$_33a9[432]](_,!0)},1==$[_$_33a9[973]]?a&&($[_$_33a9[246]]=(_$_33a9[75]+a)[_$_33a9[86]](t)):$[_$_33a9[246]]=a,jSuites[_$_33a9[290]](u,$)},_[_$_33a9[432]]=function(a,$,e,n,r,t){for(var u=t[_$_33a9[971]]||_$_33a9[604],o=a[_$_33a9[219]][0][_$_33a9[290]][_$_33a9[979]](!0),i=a[_$_33a9[219]][0][_$_33a9[290]][_$_33a9[497]](!0),f=0;f<i[_$_33a9[9]];f++)!1===_[_$_33a9[101]](a,i[f],e,n,r,t)&&t[_$_33a9[297]][_$_33a9[10]]({id:i[f],name:o[f]});if(a[_$_33a9[219]][0][_$_33a9[290]][_$_33a9[213]](!0),$)return i[_$_33a9[76]](u)},_[_$_33a9[970]]=function(_,a,$,e,n,r){for(_=r[_$_33a9[971]]||_$_33a9[604],$=[],e=[],Array[_$_33a9[8]](a)||(a=(_$_33a9[75]+a)[_$_33a9[86]](_)),n=0;n<a[_$_33a9[9]];n++)e[a[n][_$_33a9[605]]()]=!0;for(a=Object[_$_33a9[119]](e),!r[_$_33a9[973]]&&1<Object[_$_33a9[119]](a)[_$_33a9[9]]&&((e=[])[a[0]]=!0),a=0;a<r[_$_33a9[297]][_$_33a9[9]];a++)e[r[_$_33a9[297]][a][_$_33a9[92]]]&&$[_$_33a9[10]](r[_$_33a9[297]][a][_$_33a9[369]]);return $[_$_33a9[76]](_)},_[_$_33a9[101]]=function(_,a,$,e,n,r){for(e=r[_$_33a9[971]]||_$_33a9[604],_=[],$=[],Array[_$_33a9[8]](a)||(a=(_$_33a9[75]+a)[_$_33a9[86]](e)),e=0;e<a[_$_33a9[9]];e++)$[a[e][_$_33a9[605]]()]=!0;if(a=Object[_$_33a9[119]]($),!r[_$_33a9[973]]&&1<Object[_$_33a9[119]](a)[_$_33a9[9]]&&(($=[])[a[0]]=!0),r[_$_33a9[297]]&&typeof r[_$_33a9[297]][0]!==_$_33a9[449])for(e=0;e<r[_$_33a9[297]][_$_33a9[9]];e++)a=r[_$_33a9[297]][e],r[_$_33a9[297]][e]={id:a,name:a};for(e=0;e<r[_$_33a9[297]][_$_33a9[9]];e++)typeof $[r[_$_33a9[297]][e][_$_33a9[369]]]!==_$_33a9[82]&&_[_$_33a9[10]](r[_$_33a9[838]]==_$_33a9[453]?r[_$_33a9[297]][e][_$_33a9[453]]:r[_$_33a9[838]]==_$_33a9[980]?r[_$_33a9[297]][e][_$_33a9[980]]:r[_$_33a9[297]][e][_$_33a9[92]]);if(_[_$_33a9[9]]){if(r[_$_33a9[838]]==_$_33a9[453]){for(e=0;e<_[_$_33a9[9]];e++)_[e]=_$_33a9[981]+_[e]+_$_33a9[982];return _[_$_33a9[76]](_$_33a9[75])}if(r[_$_33a9[838]]==_$_33a9[980]){for(e=0;e<_[_$_33a9[9]];e++)_[e]=_$_33a9[983]+_[e]+_$_33a9[982];return _[_$_33a9[76]](_$_33a9[75])}for(e=0;e<_[_$_33a9[9]];e++)_[e]=(_$_33a9[75]+_[e])[_$_33a9[573]](_$_33a9[729],_$_33a9[984]);return _[_$_33a9[76]](_$_33a9[606])}return!1},_[_$_33a9[381]]=function(_,a){for(var $=0;$<_[_$_33a9[297]][_$_33a9[9]];$++)if(_[_$_33a9[297]][$][_$_33a9[369]]==a)return _[_$_33a9[838]]==_$_33a9[453]?_[_$_33a9[297]][$][_$_33a9[453]]:_[_$_33a9[838]]==_$_33a9[980]?_[_$_33a9[297]][$][_$_33a9[980]]:_[_$_33a9[297]][$][_$_33a9[92]]},_}(),p[_$_33a9[427]][_$_33a9[289]]=p[_$_33a9[427]][_$_33a9[290]],p[_$_33a9[427]][_$_33a9[616]]=function(){var _={};return _[_$_33a9[403]]=function(a,$,e,n,r,t){return _[_$_33a9[500]](a,$,e,n,r,t)},_[_$_33a9[500]]=function(a,$,e,n,r,t){if(a)return e=null,t=_[_$_33a9[985]](t),0<$&&Number($)==$&&($=_[_$_33a9[986]]($)),(n=_$_33a9[75]+$)[_$_33a9[564]](4,1)==_$_33a9[738]&&n[_$_33a9[564]](7,1)==_$_33a9[738]?n=!0:n=4==(n=n[_$_33a9[86]](_$_33a9[738]))[0][_$_33a9[9]]&&n[0]==Number(n[0])&&2==n[1][_$_33a9[9]]&&n[1]==Number(n[1]),n||(n=jSuites[_$_33a9[616]][_$_33a9[987]]($,t))&&(e=n),(e=jSuites[_$_33a9[616]][_$_33a9[988]](e||$,t))?(a[_$_33a9[109]]=e,$):(a[_$_33a9[109]]=_$_33a9[75],_$_33a9[75])},_[_$_33a9[483]]=function(_,a,$,e,n,r){typeof(r=Object[_$_33a9[215]](r))[_$_33a9[972]]==_$_33a9[12]&&(r=r[_$_33a9[972]](n,_,$,e,a,r)),($=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[629],_))[_$_33a9[246]]=_$_33a9[75],e=r[_$_33a9[5]]||{},1!=n[_$_33a9[5]][_$_33a9[189]]&&1!=n[_$_33a9[5]][_$_33a9[190]]||(e[_$_33a9[977]]=!0),e[_$_33a9[974]]=!0,e[_$_33a9[246]]=a||_$_33a9[75],e[_$_33a9[978]]=function(a,$){n[_$_33a9[432]](_,!0)},typeof r[_$_33a9[989]]!==_$_33a9[82]&&(e[_$_33a9[990]]=r[_$_33a9[989]]),typeof e[_$_33a9[422]]!=_$_33a9[82]&&(e[_$_33a9[422]]=e[_$_33a9[422]]),e[_$_33a9[825]]=e[_$_33a9[950]],jSuites[_$_33a9[616]]($,e),$[_$_33a9[556]]()},_[_$_33a9[432]]=function(_,a){if(_=_[_$_33a9[219]][0][_$_33a9[616]][_$_33a9[213]](!0),a)return _},_[_$_33a9[985]]=function(_){var a=_$_33a9[991];return _&&_[_$_33a9[950]]?_[_$_33a9[950]]:_&&_[_$_33a9[5]]&&_[_$_33a9[5]][_$_33a9[950]]?_[_$_33a9[5]][_$_33a9[950]]:a},_[_$_33a9[986]]=function(_){return(_=new Date(Math[_$_33a9[992]](864e5*(_-25569))))[_$_33a9[737]]()+_$_33a9[738]+jSuites[_$_33a9[993]](_[_$_33a9[739]]())+_$_33a9[738]+jSuites[_$_33a9[993]](_[_$_33a9[735]]())+_$_33a9[994]},_[_$_33a9[995]]=function(_){},_[_$_33a9[381]]=function(a,$){return a=_[_$_33a9[985]](a),jSuites[_$_33a9[616]][_$_33a9[988]]($,a)},_}(),p[_$_33a9[427]][_$_33a9[453]]=function(){var _={};return _[_$_33a9[403]]=function(a,$,e,n,r,t){return _[_$_33a9[500]](a,$,e,n,r,t)},_[_$_33a9[500]]=function(_,a,$,e,n,r){_&&(r[_$_33a9[838]]==_$_33a9[996]?(($=document[_$_33a9[20]](_$_33a9[19]))[_$_33a9[208]]=_$_33a9[453],$[_$_33a9[62]][_$_33a9[520]]=a,_[_$_33a9[109]]=_$_33a9[75],_[_$_33a9[108]]($)):(_[_$_33a9[62]][_$_33a9[453]]=a,_[_$_33a9[109]]=a))},_[_$_33a9[483]]=function(_,a,$,e,n,r){$=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[629],_),1!=n[_$_33a9[5]][_$_33a9[189]]&&1!=n[_$_33a9[5]][_$_33a9[190]]||(r[_$_33a9[977]]=!0),r[_$_33a9[974]]=!0,r[_$_33a9[246]]=a,r[_$_33a9[978]]=function(a,$){n[_$_33a9[432]](_,!0)},jSuites[_$_33a9[453]]($,r),$[_$_33a9[556]]()},_[_$_33a9[432]]=function(_,a){if(_=_[_$_33a9[219]][0][_$_33a9[453]][_$_33a9[213]](!0),a)return _},_[_$_33a9[381]]=function(_,a){return(_=document[_$_33a9[20]](_$_33a9[19]))[_$_33a9[62]][_$_33a9[294]]=_$_33a9[997],_[_$_33a9[62]][_$_33a9[401]]=_$_33a9[65],_[_$_33a9[62]][_$_33a9[520]]=a,_[_$_33a9[998]]},_}(),p[_$_33a9[427]][_$_33a9[504]]=function(){var _={};return _[_$_33a9[403]]=function(_,a,$,e,n,r){return a=1==a||1==a||a==_$_33a9[999],($=document[_$_33a9[20]](_$_33a9[629]))[_$_33a9[288]]=_$_33a9[504],$[_$_33a9[835]]=a,$[_$_33a9[67]]=function(){n[_$_33a9[256]](_,this[_$_33a9[835]])},(r&&1==r[_$_33a9[421]]||!n[_$_33a9[116]]())&&$[_$_33a9[321]](_$_33a9[1e3],_$_33a9[1e3]),_[_$_33a9[315]]=_$_33a9[75],_[_$_33a9[108]]($),a},_[_$_33a9[500]]=function(_,a){return a=1==a||1==a||a==_$_33a9[999]||a==_$_33a9[703],_&&(_[_$_33a9[219]][0][_$_33a9[835]]=a),a},_[_$_33a9[483]]=function(_,a,$,e,n){return a=!_[_$_33a9[219]][0][_$_33a9[835]],n[_$_33a9[256]](_,a),!1},_[_$_33a9[432]]=function(_,a){return!1},_[_$_33a9[381]]=function(_,a){return 1==a||1==a||a==_$_33a9[999]?_$_33a9[999]:_$_33a9[1001]},_}(),p[_$_33a9[427]][_$_33a9[617]]=function(){var _={};return _[_$_33a9[403]]=function(_,a,$,e,n,r){_[_$_33a9[405]](_$_33a9[404]),($=document[_$_33a9[20]](_$_33a9[629]))[_$_33a9[288]]=_$_33a9[617],$[_$_33a9[835]]=1==a||1==a||a==_$_33a9[999],$[_$_33a9[67]]=function(){n[_$_33a9[256]](_,!0)},(r&&1==r[_$_33a9[421]]||!n[_$_33a9[116]]())&&$[_$_33a9[321]](_$_33a9[1e3],_$_33a9[1e3]),_[_$_33a9[315]]=_$_33a9[75],_[_$_33a9[108]]($)},_[_$_33a9[500]]=function(_,a,$,e,n){if(a=1==a||1==a||a==_$_33a9[999]||a==_$_33a9[703],_&&(_[_$_33a9[219]][0][_$_33a9[835]]=a),1==a){_=[];for(var r=0;r<n[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];r++)e!=r&&n[_$_33a9[5]][_$_33a9[245]][r][$]&&_[_$_33a9[10]]({x:$,y:r,value:0});_[_$_33a9[9]]&&n[_$_33a9[256]](_)}return a},_[_$_33a9[483]]=function(_,a,$,e,n){return!1},_[_$_33a9[432]]=function(_,a){return!1},_[_$_33a9[381]]=function(_,a){return 1==a||1==a||a==_$_33a9[999]?_$_33a9[999]:_$_33a9[1001]},_}(),p[_$_33a9[427]][_$_33a9[613]]=function(){var _={};return _[_$_33a9[403]]=function(a,$,e,n,r){return _[_$_33a9[500]](a,$,e,n,r)},_[_$_33a9[500]]=function(a,$,e,n,r){$=parseInt($);var t=_[_$_33a9[1002]](e,n,r);return $?$=t[0][$]?_$_33a9[1003]:$:($=t[1]+1,r[_$_33a9[5]][_$_33a9[245]][n][e]=$),a&&(a[_$_33a9[109]]=$),$},_[_$_33a9[483]]=function(_,a,$,e,n){($=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[618],_))[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},$[_$_33a9[556]](),$[_$_33a9[246]]=a},_[_$_33a9[432]]=function(_,a){return a=a?_[_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75],_[_$_33a9[109]]=a},_[_$_33a9[1002]]=function(_,a,$){for(var e=0,n=[],r=0;r<$[_$_33a9[5]][_$_33a9[245]][_$_33a9[9]];r++)r!=a&&(n[$[_$_33a9[5]][_$_33a9[245]][r][_]]||(n[$[_$_33a9[5]][_$_33a9[245]][r][_]]=0),n[$[_$_33a9[5]][_$_33a9[245]][r][_]]++,e<$[_$_33a9[5]][_$_33a9[245]][r][_]&&(e=parseInt($[_$_33a9[5]][_$_33a9[245]][r][_])));return[n,e]},_}(),p[_$_33a9[427]][_$_33a9[614]]=function(){var _={};return _[_$_33a9[403]]=function(_,a){100<(a=parseInt(a))?a=100:(!a||0>a)&&(a=0);var $=document[_$_33a9[20]](_$_33a9[19]);$[_$_33a9[125]][_$_33a9[124]](_$_33a9[614]),$[_$_33a9[62]][_$_33a9[294]]=parseInt(a)+_$_33a9[968],$[_$_33a9[321]](_$_33a9[292],parseInt(a)+_$_33a9[968]),_[_$_33a9[109]]=_$_33a9[75],_[_$_33a9[125]][_$_33a9[124]](_$_33a9[1004]),_[_$_33a9[108]]($)},_[_$_33a9[433]]=function(_){_[_$_33a9[125]][_$_33a9[23]](_$_33a9[1004])},_[_$_33a9[500]]=function(_,a){if(_){if(100<(a=parseInt(a))?a=100:(!a||0>a)&&(a=0),_[_$_33a9[219]][0]&&_[_$_33a9[219]][0][_$_33a9[15]]==_$_33a9[1005])var $=_[_$_33a9[219]][0];else $=document[_$_33a9[20]](_$_33a9[19]),_[_$_33a9[109]]=_$_33a9[75],_[_$_33a9[108]]($);$[_$_33a9[62]][_$_33a9[294]]=a+_$_33a9[968],$[_$_33a9[321]](_$_33a9[292],parseInt(a)+_$_33a9[968])}},_[_$_33a9[483]]=function(_,a,$,e,n){($=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[618],_))[_$_33a9[321]](_$_33a9[1006],0),$[_$_33a9[321]](_$_33a9[1007],100),$[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},$[_$_33a9[556]](),$[_$_33a9[246]]=a},_[_$_33a9[432]]=function(_,a){return a=a?_[_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75],_[_$_33a9[109]]=a},_}(),p[_$_33a9[427]][_$_33a9[615]]=function(){var _={};return _[_$_33a9[403]]=function(a,$,e,n,r,t){return _[_$_33a9[1008]](a,$,t)},_[_$_33a9[433]]=function(_){_[_$_33a9[125]][_$_33a9[23]](_$_33a9[1009])},_[_$_33a9[500]]=function(a,$,e,n,r,t){return _[_$_33a9[1008]](a,$,t)},_[_$_33a9[483]]=function(_,a,$,e,n,r){($=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[618],_))[_$_33a9[321]](_$_33a9[1006],0),$[_$_33a9[321]](_$_33a9[1007],5),$[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},$[_$_33a9[556]](),$[_$_33a9[246]]=a},_[_$_33a9[432]]=function(_,a){return a=a?_[_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75],_[_$_33a9[109]]=a},_[_$_33a9[1008]]=function(_,a,$){if(5<(a=parseInt(a))?a=5:(!a||0>a)&&(a=0),_){$=$&&$[_$_33a9[453]]?$[_$_33a9[453]]:_$_33a9[960];var e=document[_$_33a9[20]](_$_33a9[19]);e[_$_33a9[321]](_$_33a9[292],parseInt(a)+_$_33a9[1010]),e[_$_33a9[125]][_$_33a9[124]](_$_33a9[615]);for(var n=0;n<a;n++){var r=document[_$_33a9[20]](_$_33a9[454]);r[_$_33a9[208]]=_$_33a9[1011],r[_$_33a9[62]][_$_33a9[453]]=$,r[_$_33a9[315]]=_$_33a9[1012],e[_$_33a9[108]](r)}_[_$_33a9[315]]=_$_33a9[75],_[_$_33a9[208]]=_$_33a9[1009],_[_$_33a9[108]](e)}return a},_}(),p[_$_33a9[427]][_$_33a9[742]]=function(){var _={};return _[_$_33a9[403]]=function(_,a){var $=document[_$_33a9[20]](_$_33a9[759]);$[_$_33a9[109]]=a,_[_$_33a9[108]]($)},_[_$_33a9[500]]=function(_,a,$){_&&(_[_$_33a9[219]]&&_[_$_33a9[219]][0]&&_[_$_33a9[219]][0][_$_33a9[15]]==_$_33a9[930]?$=_[_$_33a9[219]][0]:($=document[_$_33a9[20]](_$_33a9[759]),_[_$_33a9[109]]=_$_33a9[75],_[_$_33a9[108]]($)),$[_$_33a9[109]]=a)},_[_$_33a9[483]]=function(_,a,$,e,n){($=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[629],_))[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},$[_$_33a9[556]](),$[_$_33a9[246]]=a},_[_$_33a9[432]]=function(_,a){return a=a?_[_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75],_[_$_33a9[109]]=a},_}(),p[_$_33a9[427]][_$_33a9[282]]=function(){var _={};return _[_$_33a9[403]]=function(_,a){var $=document[_$_33a9[20]](_$_33a9[759]);$[_$_33a9[109]]=a,_[_$_33a9[108]]($)},_[_$_33a9[500]]=function(_,a){if(_){if(_[_$_33a9[219]]&&_[_$_33a9[219]][0]&&_[_$_33a9[219]][0][_$_33a9[15]]==_$_33a9[930])var $=_[_$_33a9[219]][0];else $=document[_$_33a9[20]](_$_33a9[759]),_[_$_33a9[109]]=_$_33a9[75],_[_$_33a9[108]]($);$[_$_33a9[109]]=a}},_[_$_33a9[483]]=function(_,a,$,e,n){($=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[629],_))[_$_33a9[488]]=function(){n[_$_33a9[432]](_,!0)},$[_$_33a9[556]](),$[_$_33a9[246]]=a},_[_$_33a9[432]]=function(_,a){return a=a?_[_$_33a9[219]][0][_$_33a9[246]]:_$_33a9[75],_[_$_33a9[109]]=a},_}(),p[_$_33a9[427]][_$_33a9[980]]=function(){var _={};return _[_$_33a9[403]]=function(_,a,$,e,n,r){a&&($=document[_$_33a9[20]](_$_33a9[103]),r[_$_33a9[838]]==_$_33a9[992]&&$[_$_33a9[125]][_$_33a9[124]](_$_33a9[992]),$[_$_33a9[104]]=a,_[_$_33a9[315]]=_$_33a9[75],_[_$_33a9[108]]($))},_[_$_33a9[500]]=function(_,a,$,e,n,r){_&&(_[_$_33a9[219]]&&_[_$_33a9[219]][0]&&_[_$_33a9[219]][0][_$_33a9[15]]==_$_33a9[1013]?$=_[_$_33a9[219]][0]:($=document[_$_33a9[20]](_$_33a9[103]),r[_$_33a9[838]]==_$_33a9[992]&&$[_$_33a9[125]][_$_33a9[124]](_$_33a9[992]),_[_$_33a9[315]]=_$_33a9[75],_[_$_33a9[108]]($)),a?$[_$_33a9[104]]=a:_[_$_33a9[315]]=_$_33a9[75])},_[_$_33a9[483]]=function(_,a,$,e,n,r){_=p[_$_33a9[18]][_$_33a9[955]](_$_33a9[19],_,{floating:!0,closeButton:!0,position:1==n[_$_33a9[5]][_$_33a9[189]]||1==n[_$_33a9[5]][_$_33a9[190]]}),a&&(($=document[_$_33a9[20]](_$_33a9[103]))[_$_33a9[104]]=a,_[_$_33a9[108]]($)),jSuites[_$_33a9[980]](_,r)},_[_$_33a9[432]]=function(_,a){if(a)return a=(a=_[_$_33a9[219]][0][_$_33a9[219]][0][_$_33a9[219]][0][_$_33a9[219]][0])&&a[_$_33a9[15]]==_$_33a9[1013]?a[_$_33a9[104]]:_$_33a9[75],_[_$_33a9[315]]=_$_33a9[75],a},_[_$_33a9[381]]=function(_,a){return _$_33a9[1014]+a+_$_33a9[1015]},_}(),p[_$_33a9[427]][_$_33a9[1016]]=function(){var _={},a=null;return _[_$_33a9[403]]=function(a,$){a[_$_33a9[125]][_$_33a9[124]](_$_33a9[1017]),a[_$_33a9[315]]=$,_[_$_33a9[216]](a)},_[_$_33a9[500]]=function(a,$,e){a&&(a[_$_33a9[315]]=$,_[_$_33a9[216]](a))},_[_$_33a9[433]]=function(_){_[_$_33a9[125]][_$_33a9[23]](_$_33a9[1017])},_[_$_33a9[483]]=function(_,$,e,n,r,t){var u=t&&t[_$_33a9[5]]?t[_$_33a9[5]]:{};u[_$_33a9[556]]=!0,u[_$_33a9[246]]=$,u[_$_33a9[1018]]=!1,p[_$_33a9[18]][_$_33a9[955]](_$_33a9[19],_,{floating:!0,closeButton:!0,position:1==r[_$_33a9[5]][_$_33a9[189]]||1==r[_$_33a9[5]][_$_33a9[190]],onload:function($){(a=jSuites[_$_33a9[291]]($,u))[_$_33a9[213]]=function(){r[_$_33a9[432]](_,!0)},jSuites[_$_33a9[1019]](a,!0)}})},_[_$_33a9[432]]=function(_,$,e,n,r,t){if(jSuites[_$_33a9[1019]](a,!1),e=a[_$_33a9[255]](),_[_$_33a9[315]]=_$_33a9[75],$)return _$_33a9[1020]+e+_$_33a9[1021]},_[_$_33a9[216]]=function(_){},_}(),p[_$_33a9[427]][_$_33a9[424]]=function(){var _={};return _[_$_33a9[403]]=function(_,a,$,e,n){_[_$_33a9[62]][_$_33a9[106]]=_$_33a9[107],_[_$_33a9[109]]=a},_[_$_33a9[500]]=function(_,a,$,e,n){_&&(_[_$_33a9[109]]=a)},_[_$_33a9[483]]=function(_,a,$,e,n){return!1},_[_$_33a9[432]]=function(_,a){return!1},_}(),p[_$_33a9[71]]=function(_){return _||(_=_$_33a9[1022]),V+_+_$_33a9[1023]},p[_$_33a9[1024]]=function(_){var a=[];return 1==_?(a[_$_33a9[10]](p[_$_33a9[1024]][_$_33a9[292]]),a[_$_33a9[10]](_$_33a9[1025]+p[_$_33a9[1024]][_$_33a9[618]]),p[_$_33a9[91]]&&a[_$_33a9[10]](_$_33a9[1026]+p[_$_33a9[91]]),a[_$_33a9[10]](p[_$_33a9[1024]][_$_33a9[1027]])):a[_$_33a9[10]](p[_$_33a9[1024]][_$_33a9[618]]),a[_$_33a9[76]](_$_33a9[797])},p[_$_33a9[1024]][_$_33a9[618]]=W,p[_$_33a9[1024]][_$_33a9[288]]=_$_33a9[1028],p[_$_33a9[1024]][_$_33a9[292]]=_$_33a9[1029]+p[_$_33a9[1024]][_$_33a9[288]]+_$_33a9[1030],p[_$_33a9[1024]][_$_33a9[1027]]=p[_$_33a9[71]](_$_33a9[70]),p[_$_33a9[203]]=function(_,a){p(_,a)},p[_$_33a9[917]]=function(_){return _[_$_33a9[690]](/([\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC-\u0400-\u04FF]+)/g)?1:0},p[_$_33a9[658]]=function(_,a,$){return _[_$_33a9[285]](0,a)[_$_33a9[642]]($)[_$_33a9[642]](_[_$_33a9[285]](a))},p[_$_33a9[438]]=function(_){var a=_$_33a9[75];return 701<_?(a+=String[_$_33a9[80]](64+parseInt(_/676)),a+=String[_$_33a9[80]](64+parseInt(_%676/26))):25<_&&(a+=String[_$_33a9[80]](64+parseInt(_/26))),a+String[_$_33a9[80]](65+_%26)},p[_$_33a9[492]]=function(_,a){var $=/^[a-zA-Z]+/[_$_33a9[1031]](_);if($){for(var e=0,n=0;n<$[0][_$_33a9[9]];n++)e+=parseInt($[0][_$_33a9[79]](n)-64)*Math[_$_33a9[1032]](26,$[0][_$_33a9[9]]-1-n);0>--e&&(e=0),0<(_=parseInt(/[0-9]+$/[_$_33a9[1031]](_)))&&_--,_=1==a?[e,_]:e+_$_33a9[738]+_}return _},p[_$_33a9[415]]=function(_){return Array[_$_33a9[8]](_)||(_=_[_$_33a9[86]](_$_33a9[738])),p[_$_33a9[438]](parseInt(_[0]))+(parseInt(_[1])+1)},p[_$_33a9[18]][_$_33a9[462]]=function(_,a){return p[_$_33a9[438]](parseInt(_))+(parseInt(a)+1)},p[_$_33a9[18]][_$_33a9[461]]=function(_){return p[_$_33a9[492]](_,!0)},p[_$_33a9[18]][_$_33a9[639]]=function(_){_||(_=[]),Array[_$_33a9[8]](_)||(_=[_]),null==_[0]||Array[_$_33a9[8]](_[0])||typeof _[0]==_$_33a9[449]||(_=[_]);for(var a=0;a<_[_$_33a9[9]];a++){var $={};Array[_$_33a9[8]](_[a])||null==_[a][_$_33a9[245]]?$[_$_33a9[245]]=_[a]:$=_[a],$[_$_33a9[367]]=null==_[a][_$_33a9[367]]?a:_[a][_$_33a9[367]],_[a]=$}return _},p[_$_33a9[18]][_$_33a9[682]]=function(_,a){var $=[];_=(_=_[_$_33a9[573]](/\$/g,_$_33a9[75]))[_$_33a9[573]](/!/g,_$_33a9[96]);var e=new RegExp(/(\$?[A-Z]+\$?[0-9]+)(:\$?[A-Z]+\$?[0-9]+)?/i);_=p[_$_33a9[18]][_$_33a9[1033]](_,!0);for(var n=0;n<_[_$_33a9[9]];n++)if(_[n]&&e[_$_33a9[1034]](_[n]))if(-1==_[n][_$_33a9[98]](_$_33a9[96])&&a&&(_[n]=a+_$_33a9[96]+_[n]),0<=_[n][_$_33a9[98]](_$_33a9[458]))for(var r=p[_$_33a9[18]][_$_33a9[474]](_[n]),t=0;t<r[_$_33a9[9]];t++)$[_$_33a9[10]](r[t]);else $[_$_33a9[10]](_[n]);return $},p[_$_33a9[18]][_$_33a9[459]]=function(_,a,$){for(var e=new RegExp(/([A-Z]+[0-9]+)(:[A-Z]+[0-9]+)?/i),n=p[_$_33a9[18]][_$_33a9[1033]](_,!0),r=function(_){if(-1==_[_$_33a9[98]](_$_33a9[685])){_=p[_$_33a9[18]][_$_33a9[461]](_);var e=_$_33a9[75]}else e=n[t][_$_33a9[86]](_$_33a9[685]),_=p[_$_33a9[18]][_$_33a9[461]](e[1]),e=e[0]+_$_33a9[685];var r=_[0]+a;return _=_[1]+$,0>r||0>_?_$_33a9[1035]:e+p[_$_33a9[18]][_$_33a9[462]](r,_)},t=0;t<_[_$_33a9[9]];t++)if(n[t]&&e[_$_33a9[1034]](n[t]))if(-1==n[t][_$_33a9[98]](_$_33a9[458]))n[t]=r(n[t]);else{var u=n[t][_$_33a9[86]](_$_33a9[458]);n[t]=r(u[0])+_$_33a9[458]+r(u[1])}return n[_$_33a9[76]](_$_33a9[75])},p[_$_33a9[18]][_$_33a9[474]]=function(_){if(0<_[_$_33a9[98]](_$_33a9[96])){var a=_[_$_33a9[86]](_$_33a9[96]);_=a[1],a=a[0]+_$_33a9[96]}else a=_$_33a9[75];var $=[];_=_[_$_33a9[86]](_$_33a9[458]);var e=p[_$_33a9[18]][_$_33a9[461]](_[0]),n=p[_$_33a9[18]][_$_33a9[461]](_[1]);if(e[0]<=n[0]){_=e[0];var r=n[0]}else _=n[0],r=e[0];if(e[1]<=n[1]){var t=e[1];e=n[1]}else t=n[1],e=e[1];for(;t<=e;t++)for(n=_;n<=r;n++)$[_$_33a9[10]](a+p[_$_33a9[18]][_$_33a9[462]](n,t));return $},p[_$_33a9[18]][_$_33a9[475]]=function(_){_=_[_$_33a9[216]]((function(_){return _!=_$_33a9[1035]}));for(var a=_$_33a9[75],$=0;$<_[_$_33a9[9]];$++)0<=_[$][_$_33a9[98]](_$_33a9[96])&&(a=_[$][_$_33a9[86]](_$_33a9[96]),_[$]=a[1],a=a[0]);return a&&(a+=_$_33a9[96]),_[_$_33a9[621]]((function(_,a){return _=p[_$_33a9[18]][_$_33a9[461]](_),a=p[_$_33a9[18]][_$_33a9[461]](a),_[1]>a[1]?1:_[1]<a[1]?-1:_[0]>a[0]?1:_[0]<a[0]?-1:0})),_[_$_33a9[9]]?a+(_[0]+_$_33a9[458]+_[_[_$_33a9[9]]-1]):_$_33a9[1035]},p[_$_33a9[18]][_$_33a9[697]]=function(_,a,$,e){return null===_?null:(_$_33a9[75]+_)[_$_33a9[605]]()===_$_33a9[75]?_$_33a9[331]:(_$_33a9[75]+_)[_$_33a9[564]](0,1)==_$_33a9[411]?(_$_33a9[75]+_)[_$_33a9[564]](1):typeof _===_$_33a9[618]?_:0==a?_$_33a9[1036]+_+_$_33a9[1036]:_?null!=(a=p[_$_33a9[18]][_$_33a9[966]](_,$,e))?a:_$_33a9[1036]+_+_$_33a9[1036]:0},p[_$_33a9[18]][_$_33a9[966]]=function(_,a,$){return a||(a=_$_33a9[96]),(_=(_=_$_33a9[75]+_)[_$_33a9[86]](a))[0]=_[0][_$_33a9[690]](/[+-]?[0-9]/g),_[0]&&(_[0]=_[0][_$_33a9[76]](_$_33a9[75])),_[1]&&(_[1]=_[1][_$_33a9[690]](/[0-9]*/g)[_$_33a9[76]](_$_33a9[75])),_[0]&&Number(_[0])==_[0]?_[1]?Number(_[0]+_$_33a9[96]+_[1]):Number(_[0]+_$_33a9[1037]):$==_$_33a9[618]?0:null},p[_$_33a9[18]][_$_33a9[412]]=function(_,a){for(var $=_$_33a9[75],e=0,n=[_$_33a9[411],_$_33a9[685],_$_33a9[731],_$_33a9[729]],r=0;r<_[_$_33a9[9]];r++)_[r]==_$_33a9[744]&&(e=0==e?1:0),1==e?$+=_[r]:($+=_[r][_$_33a9[571]](),1==a&&0<r&&_[r]==_$_33a9[411]&&-1==n[_$_33a9[98]](_[r-1])&&-1==n[_$_33a9[98]](_[r+1])&&($+=_$_33a9[411]));return $},p[_$_33a9[18]][_$_33a9[1038]]=new RegExp(/^([A-Z]+[0-9]*!)?(\$?[A-Z]+\$?[0-9]+)(:\$?[A-Z]+\$?[0-9]+)?$/i),p[_$_33a9[18]][_$_33a9[684]]=function(_,a,$,e){var n=null,r=null,t=p[_$_33a9[18]][_$_33a9[1038]],u=function(_){return $&&$[_]&&(_=_$_33a9[1035]),a[_]&&(_=a[_]),_};_=p[_$_33a9[18]][_$_33a9[1033]](_);for(var o=0;o<_[_$_33a9[9]];o++)if(_[o]&&t[_$_33a9[1034]](_[o])){if(-1==_[o][_$_33a9[98]](_$_33a9[685])){if(r=_[o],n=_$_33a9[75],e)continue}else if(n=(r=_[o][_$_33a9[86]](_$_33a9[685]))[0],r=r[1],e!=n)continue;if(0<=r[_$_33a9[98]](_$_33a9[458])){r=p[_$_33a9[18]][_$_33a9[474]](r);for(var i=0;i<r[_$_33a9[9]];i++)r[i]=u(r[i]);r=p[_$_33a9[18]][_$_33a9[475]](r)}else-1==r[_$_33a9[98]](_$_33a9[1039])?r=u(r):(r=u(r[_$_33a9[573]](/\$/g,_$_33a9[75])),r=_$_33a9[1039]+r[_$_33a9[690]](/[A-Z]+/g)+_$_33a9[1039]+r[_$_33a9[690]](/[0-9]+/g));n&&(r=n+_$_33a9[685]+r),_[o]=r}return _[_$_33a9[76]](_$_33a9[75])},p[_$_33a9[18]][_$_33a9[1033]]=function(_){for(var a=[_$_33a9[738],_$_33a9[710],_$_33a9[1023],_$_33a9[1040],_$_33a9[1041]],$=[_$_33a9[836],_$_33a9[834],_$_33a9[1042],_$_33a9[1043],_$_33a9[85],_$_33a9[1044],_$_33a9[411],_$_33a9[729],_$_33a9[731],_$_33a9[572]],e=_$_33a9[75],n=[],r=0;r<_[_$_33a9[9]];r++)-1<a[_$_33a9[98]](_[r])||-1<$[_$_33a9[98]](_[r])?(e&&(n[_$_33a9[10]](e),e=_$_33a9[75]),n[_$_33a9[10]](_[r])):e+=_[r];return e&&n[_$_33a9[10]](e),n},p[_$_33a9[18]][_$_33a9[772]]=function(_){var a,$=0;if(0===_[_$_33a9[9]])return $;for(a=0;a<_[_$_33a9[9]];a++){var e=_[_$_33a9[79]](a);32<e&&($=($<<5)-$+e,$|=0)}return $},p[_$_33a9[18]][_$_33a9[515]]=function(){var _=String(_$_33a9[517]+Math[_$_33a9[1045]]()[_$_33a9[518]](16)[_$_33a9[285]](2,8)[_$_33a9[571]]())[_$_33a9[573]](/[^0-9a-f]/gi,_$_33a9[75]);6>_[_$_33a9[9]]&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]);var a,$=[];for(a=0;3>a;a++){var e=parseInt(_[_$_33a9[564]](2*a,2),16);e=Math[_$_33a9[992]](Math[_$_33a9[1006]](Math[_$_33a9[1007]](0,e+-.25*e),255))[_$_33a9[518]](16),$[_$_33a9[10]]((_$_33a9[1046]+e)[_$_33a9[564]](e[_$_33a9[9]]))}return $},p[_$_33a9[18]][_$_33a9[519]]=function(_){return 1==(_=_$_33a9[75]+_)[_$_33a9[9]]&&(_=_$_33a9[331]+_),_},p[_$_33a9[18]][_$_33a9[569]]=function(){return _$_33a9[1047][_$_33a9[573]](/[xy]/g,(function(_){var a=16*Math[_$_33a9[1045]]()|0;return(_==_$_33a9[391]?a:3&a|8)[_$_33a9[518]](16)}))},p[_$_33a9[18]][_$_33a9[17]]=function(_,a){if(_[_$_33a9[15]]==_$_33a9[16]){a||(a={}),a[_$_33a9[133]]=[],a[_$_33a9[245]]=[];var $=_[_$_33a9[1050]](_$_33a9[1049]);if($[_$_33a9[9]])for(var e=0;e<$[_$_33a9[9]];e++){var n=$[e][_$_33a9[62]][_$_33a9[294]];n||(n=$[e][_$_33a9[405]](_$_33a9[294])),n&&(a[_$_33a9[133]][e]||(a[_$_33a9[133]][e]={}),a[_$_33a9[133]][e][_$_33a9[294]]=n)}if($=function(_){var $=_[_$_33a9[537]]();$=50<$[_$_33a9[294]]?$[_$_33a9[294]]:50,a[_$_33a9[133]][e]||(a[_$_33a9[133]][e]={}),_[_$_33a9[405]](_$_33a9[1051])?a[_$_33a9[133]][e][_$_33a9[288]]=_[_$_33a9[405]](_$_33a9[1051]):a[_$_33a9[133]][e][_$_33a9[288]]=_$_33a9[186],a[_$_33a9[133]][e][_$_33a9[294]]=$+_$_33a9[542],a[_$_33a9[133]][e][_$_33a9[292]]=_[_$_33a9[315]],a[_$_33a9[133]][e][_$_33a9[416]]=_[_$_33a9[62]][_$_33a9[61]]||(a[_$_33a9[417]]?a[_$_33a9[417]]:_$_33a9[142]),_[_$_33a9[125]][_$_33a9[202]](_$_33a9[421])&&(a[_$_33a9[133]][e][_$_33a9[421]]=!0)},(n=_[_$_33a9[1050]](_$_33a9[1052]))[_$_33a9[9]])for(n=n[n[_$_33a9[9]]-1][_$_33a9[219]],e=0;e<n[_$_33a9[9]];e++)$(n[e]);n=0;var r={},t={},u={},o=_[_$_33a9[1050]](_$_33a9[1053]);for(_=0;_<o[_$_33a9[9]];_++)if(a[_$_33a9[245]][n]=[],1==a[_$_33a9[1054]]&&0==_)for(e=0;e<o[_][_$_33a9[219]][_$_33a9[9]];e++)$(o[_][_$_33a9[219]][e]);else{for(e=0;e<o[_][_$_33a9[219]][_$_33a9[9]];e++){var i=o[_][_$_33a9[219]][e][_$_33a9[405]](_$_33a9[1055]);i?i[_$_33a9[564]](0,1)!=_$_33a9[411]&&(i=_$_33a9[411]+i):i=o[_][_$_33a9[219]][e][_$_33a9[315]],a[_$_33a9[245]][n][_$_33a9[10]](i),i=p[_$_33a9[415]]([e,_]);var f=o[_][_$_33a9[219]][e][_$_33a9[405]](_$_33a9[440])||0,l=o[_][_$_33a9[219]][e][_$_33a9[405]](_$_33a9[479])||0;(f||l)&&(r[i]=[f,l]),(f=o[_][_$_33a9[219]][e][_$_33a9[62]]&&o[_][_$_33a9[219]][e][_$_33a9[62]][_$_33a9[106]]==_$_33a9[107])&&(o[_][_$_33a9[219]][e][_$_33a9[62]][_$_33a9[106]]=_$_33a9[75]),(f=o[_][_$_33a9[219]][e][_$_33a9[405]](_$_33a9[62]))&&(u[i]=f)}o[_][_$_33a9[62]]&&o[_][_$_33a9[62]][_$_33a9[401]]&&(t[_]={height:o[_][_$_33a9[62]][_$_33a9[401]]}),n++}if(0<Object[_$_33a9[119]](u)[_$_33a9[9]]&&(a[_$_33a9[62]]=u),0<Object[_$_33a9[119]](r)[_$_33a9[9]]&&(a[_$_33a9[357]]=r),0<Object[_$_33a9[119]](t)[_$_33a9[9]]&&(a[_$_33a9[33]]=t),1==a[_$_33a9[1056]])for($=[],e=0;e<a[_$_33a9[133]][_$_33a9[9]];e++){for(r=n=!0,$[e]=[],_=0;_<a[_$_33a9[245]][_$_33a9[9]];_++)i=a[_$_33a9[245]][_][e],$[e][i]||($[e][i]=0),$[e][i]++,25<i[_$_33a9[9]]&&(n=!1),10==i[_$_33a9[9]]&&i[_$_33a9[564]](4,1)==_$_33a9[738]&&i[_$_33a9[564]](7,1)==_$_33a9[738]||(r=!1);_=Object[_$_33a9[119]]($[e])[_$_33a9[9]],r?a[_$_33a9[133]][e][_$_33a9[288]]=_$_33a9[616]:1==n&&1<_&&_<=parseInt(.1*a[_$_33a9[245]][_$_33a9[9]])&&(a[_$_33a9[133]][e][_$_33a9[288]]=_$_33a9[290],a[_$_33a9[133]][e][_$_33a9[297]]=Object[_$_33a9[119]]($[e]))}return a}console[_$_33a9[199]](_$_33a9[1048])},p[_$_33a9[18]][_$_33a9[955]]=function(_,a,$){var e=a[_$_33a9[537]]();if(a[_$_33a9[62]][_$_33a9[401]]=e[_$_33a9[401]]+_$_33a9[542],a&&a[_$_33a9[487]]&&0<a[_$_33a9[487]][_$_33a9[9]])for(p[_$_33a9[582]][_$_33a9[58]][1]=document[_$_33a9[20]](_$_33a9[19]);a[_$_33a9[487]][0];)p[_$_33a9[582]][_$_33a9[58]][1][_$_33a9[108]](a[_$_33a9[487]][0]);if(_==_$_33a9[618]?((_=document[_$_33a9[20]](_$_33a9[629]))[_$_33a9[288]]=_$_33a9[618],_[_$_33a9[62]][_$_33a9[294]]=_$_33a9[975]):(_=document[_$_33a9[20]](_))[_$_33a9[62]][_$_33a9[294]]=e[_$_33a9[294]]+_$_33a9[542],p[_$_33a9[582]][_$_33a9[58]][4]=_,a[_$_33a9[125]][_$_33a9[124]](_$_33a9[490]),a[_$_33a9[315]]=_$_33a9[75],$&&$[_$_33a9[1057]]){var n=document[_$_33a9[20]](_$_33a9[19]);n[_$_33a9[125]][_$_33a9[124]](_$_33a9[1058]),$[_$_33a9[1059]]&&n[_$_33a9[125]][_$_33a9[124]](_$_33a9[933]),n[_$_33a9[108]](_);var r=document[_$_33a9[20]](_$_33a9[19]);r[_$_33a9[108]](n),a[_$_33a9[108]](r),typeof $[_$_33a9[360]]==_$_33a9[12]&&$[_$_33a9[360]](_),800<window[_$_33a9[1060]]&&(a=n[_$_33a9[537]](),window[_$_33a9[1061]]<e[_$_33a9[819]]+a[_$_33a9[401]]?(n[_$_33a9[62]][_$_33a9[526]]=_$_33a9[75],n[_$_33a9[62]][_$_33a9[819]]=_$_33a9[532]):(n[_$_33a9[62]][_$_33a9[526]]=_$_33a9[532],n[_$_33a9[62]][_$_33a9[819]]=_$_33a9[75]),n[_$_33a9[62]][_$_33a9[528]]=_$_33a9[532]),_[_$_33a9[62]][_$_33a9[294]]=_$_33a9[975]}else _[_$_33a9[62]][_$_33a9[401]]=e[_$_33a9[401]]-2+_$_33a9[542],_[_$_33a9[62]][_$_33a9[976]]=e[_$_33a9[401]]-2+_$_33a9[542],a[_$_33a9[108]](_);return _},p[_$_33a9[18]][_$_33a9[187]]=function(_,a,$,e){var n=[];if(null==a&&null==$)e[_$_33a9[901]][_$_33a9[22]]&&e[_$_33a9[901]][_$_33a9[15]]==_$_33a9[1005]&&e[_$_33a9[901]][_$_33a9[22]][_$_33a9[125]][_$_33a9[202]](_$_33a9[1062])&&(1==_[_$_33a9[5]][_$_33a9[1063]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1064]],onclick:function(){var a=prompt(_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1064]],e[_$_33a9[901]][_$_33a9[109]]);a&&_[_$_33a9[278]](e[_$_33a9[901]],a)}}),1==_[_$_33a9[5]][_$_33a9[1065]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1066]],onclick:function(){confirm(_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1067]],e[_$_33a9[901]][_$_33a9[109]])&&_[_$_33a9[279]](e[_$_33a9[901]])}}),n[_$_33a9[10]]({type:_$_33a9[1068]}));else if(n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[763]],shortcut:_$_33a9[1069],onclick:function(){_[_$_33a9[763]]()}}),n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[764]],shortcut:_$_33a9[1070],onclick:function(){_[_$_33a9[764]]()}}),navigator&&navigator[_$_33a9[767]]&&navigator[_$_33a9[767]][_$_33a9[1071]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[771]],shortcut:_$_33a9[1072],onclick:function(){_[_$_33a9[50]]&&navigator[_$_33a9[767]][_$_33a9[1071]]()[_$_33a9[769]]((function(a){a&&p[_$_33a9[582]][_$_33a9[771]](_[_$_33a9[50]][0],_[_$_33a9[50]][1],a)}))}}),n[_$_33a9[10]]({type:_$_33a9[1068]}),null==$)1==_[_$_33a9[5]][_$_33a9[654]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1073]],onclick:function(){_[_$_33a9[137]](1,parseInt(a),1)}}),1==_[_$_33a9[5]][_$_33a9[654]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1074]],onclick:function(){_[_$_33a9[137]](1,parseInt(a),0)}}),1==_[_$_33a9[5]][_$_33a9[660]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1075]],onclick:function(){_[_$_33a9[273]](_[_$_33a9[662]]()[_$_33a9[9]]?void 0:parseInt(a))}}),1==_[_$_33a9[5]][_$_33a9[928]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1076]],onclick:function(){_[_$_33a9[261]](a)}}),1==_[_$_33a9[5]][_$_33a9[940]]&&(n[_$_33a9[10]]({type:_$_33a9[1068]}),n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1077]],onclick:function(){_[_$_33a9[269]](a,0)}}),n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1078]],onclick:function(){_[_$_33a9[269]](a,1)}}));else{if(1==_[_$_33a9[5]][_$_33a9[636]]&&(n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1079]],onclick:function(){_[_$_33a9[138]](1,parseInt($),1)}}),n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1080]],onclick:function(){_[_$_33a9[138]](1,parseInt($))}})),1==_[_$_33a9[5]][_$_33a9[644]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1081]],onclick:function(){_[_$_33a9[271]](_[_$_33a9[646]]()[_$_33a9[9]]?void 0:parseInt($))}}),a&&1==_[_$_33a9[5]][_$_33a9[1082]]){n[_$_33a9[10]]({type:_$_33a9[1068]});var r=_[_$_33a9[45]][$][a][_$_33a9[60]][_$_33a9[405]](_$_33a9[292])||_$_33a9[75];n[_$_33a9[10]]({title:r?_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1083]]:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1084]],onclick:function(){var e=p[_$_33a9[415]]([a,$]),n=prompt(_[_$_33a9[5]][_$_33a9[186]][_$_33a9[359]],r);n&&_[_$_33a9[268]](e,n)}}),r&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1085]],onclick:function(){var e=p[_$_33a9[415]]([a,$]);_[_$_33a9[268]](e,_$_33a9[75])}})}n[_$_33a9[10]]({type:_$_33a9[1068]})}if(_[_$_33a9[5]][_$_33a9[750]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1086]],shortcut:_$_33a9[1087],onclick:function(){_[_$_33a9[748]]()}}),_[_$_33a9[5]][_$_33a9[1088]]&&n[_$_33a9[10]]({title:_[_$_33a9[5]][_$_33a9[186]][_$_33a9[1088]],onclick:function(){!0===_[_$_33a9[5]][_$_33a9[1088]]?alert(p[_$_33a9[1024]](!0)):alert(_[_$_33a9[5]][_$_33a9[1088]])}}),_[_$_33a9[42]])for(var t=Object[_$_33a9[119]](_[_$_33a9[42]]),u=0;u<t[_$_33a9[9]];u++)typeof _[_$_33a9[42]][t[u]][_$_33a9[27]]==_$_33a9[12]&&(n=_[_$_33a9[42]][t[u]][_$_33a9[27]](_,a,$,e,n));return n},p[_$_33a9[18]][_$_33a9[451]]=function(_){var a=[{content:_$_33a9[779],onclick:function(){_[_$_33a9[779]]()}},{content:_$_33a9[794],onclick:function(){_[_$_33a9[794]]()}},{content:_$_33a9[228],onclick:function(){_[_$_33a9[748]]()}},{type:_$_33a9[1089]},{type:_$_33a9[310],width:_$_33a9[1090],options:[_$_33a9[1091],_$_33a9[1092],_$_33a9[1093]],render:function(_){return _$_33a9[1094]+_+_$_33a9[1015]+_+_$_33a9[1095]},onchange:function(a,$,e,n){_[_$_33a9[266]](_[_$_33a9[452]](),_$_33a9[1096],n)}},{type:_$_33a9[310],width:_$_33a9[1097],content:_$_33a9[1098],options:[_$_33a9[1099],_$_33a9[1100],_$_33a9[1101],_$_33a9[1102],_$_33a9[1103]],render:function(_){return _$_33a9[1104]+_+_$_33a9[1015]+_+_$_33a9[1095]},onchange:function(a,$,e,n){_[_$_33a9[266]](_[_$_33a9[452]](),_$_33a9[1105],n)}},{type:_$_33a9[310],width:_$_33a9[1106],options:[_$_33a9[1107],_$_33a9[1108],_$_33a9[1109],_$_33a9[1110]],render:function(_){return _$_33a9[1111]+_+_$_33a9[1112]},onchange:function(a,$,e,n){n==_$_33a9[1107]?_[_$_33a9[266]](_[_$_33a9[452]](),_$_33a9[1113],_$_33a9[528]):n==_$_33a9[1108]?_[_$_33a9[266]](_[_$_33a9[452]](),_$_33a9[1113],_$_33a9[142]):n==_$_33a9[1109]?_[_$_33a9[266]](_[_$_33a9[452]](),_$_33a9[1113],_$_33a9[63]):n==_$_33a9[1110]&&_[_$_33a9[266]](_[_$_33a9[452]](),_$_33a9[1113],_$_33a9[1114])}},{type:_$_33a9[454],content:_$_33a9[1115],k:_$_33a9[1116],v:_$_33a9[1117]},{type:_$_33a9[453],content:_$_33a9[1118],k:_$_33a9[453]},{type:_$_33a9[453],content:_$_33a9[1119],k:_$_33a9[1120]},{type:_$_33a9[310],content:_$_33a9[401],width:_$_33a9[1106],options:[_$_33a9[1121],_$_33a9[1122],_$_33a9[1123],_$_33a9[1124]],onchange:function(a,$,e,n,r){_[_$_33a9[30]][_$_33a9[125]][_$_33a9[23]](_$_33a9[1125]),_[_$_33a9[30]][_$_33a9[125]][_$_33a9[23]](_$_33a9[1126]),_[_$_33a9[30]][_$_33a9[125]][_$_33a9[23]](_$_33a9[1127]),1==r?_[_$_33a9[30]][_$_33a9[125]][_$_33a9[124]](_$_33a9[1125]):2==r?_[_$_33a9[30]][_$_33a9[125]][_$_33a9[124]](_$_33a9[1126]):3==r&&_[_$_33a9[30]][_$_33a9[125]][_$_33a9[124]](_$_33a9[1127]),_[_$_33a9[436]]()}},{content:_$_33a9[190],onclick:function(a,$,e){e[_$_33a9[219]][0][_$_33a9[109]]==_$_33a9[190]?(_[_$_33a9[190]](!0),e[_$_33a9[219]][0][_$_33a9[109]]=_$_33a9[1128]):(_[_$_33a9[190]](!1),e[_$_33a9[219]][0][_$_33a9[109]]=_$_33a9[190])},tooltip:_$_33a9[1129]}];if(_[_$_33a9[42]])for(var $=Object[_$_33a9[119]](_[_$_33a9[42]]),e=0;e<$[_$_33a9[9]];e++)typeof _[_$_33a9[42]][$[e]][_$_33a9[35]]==_$_33a9[12]&&(a=_[_$_33a9[42]][$[e]][_$_33a9[35]](_,a));return a},p[_$_33a9[18]][_$_33a9[948]]=function(){console[_$_33a9[14]](_$_33a9[1130])},p[_$_33a9[632]]=function(){var e=(v={},v[_$_33a9[1131]]=Error(_$_33a9[1132]),v[_$_33a9[1133]]=Error(_$_33a9[1134]),v[_$_33a9[246]]=Error(_$_33a9[1135]),v[_$_33a9[1136]]=Error(_$_33a9[1035]),v[_$_33a9[92]]=Error(_$_33a9[1137]),v[_$_33a9[1138]]=Error(_$_33a9[1139]),v[_$_33a9[1140]]=Error(_$_33a9[1141]),v[_$_33a9[14]]=Error(_$_33a9[1142]),v[_$_33a9[245]]=Error(_$_33a9[1143]),v),g=function(){var _={};_[_$_33a9[1144]]=function(_){return _&&_[_$_33a9[1145]]?_[_$_33a9[1145]]((function(_,a){var $=Array[_$_33a9[8]](_),e=Array[_$_33a9[8]](a);return $&&e?_[_$_33a9[642]](a):$?(_[_$_33a9[10]](a),_):e?[_][_$_33a9[642]](a):[_,a]})):_},_[_$_33a9[1146]]=function(_){if(!_)return!1;for(var a=0;a<_[_$_33a9[9]];++a)if(Array[_$_33a9[8]](_[a]))return!1;return!0},_[_$_33a9[1147]]=function(){for(var a=_[_$_33a9[1148]][_$_33a9[77]](null,arguments);!_[_$_33a9[1146]](a);)a=_[_$_33a9[1144]](a);return a},_[_$_33a9[1148]]=function(a){var $=[];return _[_$_33a9[1149]](a,(function(_){$[_$_33a9[10]](_)})),$},_[_$_33a9[1150]]=function(){return this[_$_33a9[1147]][_$_33a9[77]](null,arguments)[_$_33a9[216]]((function(_){return typeof _===_$_33a9[618]}))},_[_$_33a9[1151]]=function(_){return Math[_$_33a9[992]](1e14*_)/1e14},_[_$_33a9[1152]]=function(_){if(typeof _===_$_33a9[1153]||_ instanceof Error)return _;if(typeof _===_$_33a9[618])return 0!==_;if(typeof _===_$_33a9[370]){var a=_[_$_33a9[571]]();if(a===_$_33a9[703])return!0;if(a===_$_33a9[704])return!1}return _ instanceof Date&&!isNaN(_)||e[_$_33a9[246]]},_[_$_33a9[966]]=function(_){return void 0===_||_===_$_33a9[75]||isNaN(_)?e[_$_33a9[246]]:parseFloat(_)},_[_$_33a9[1154]]=function(a){var $,n;if(!a||0===($=a[_$_33a9[9]]))return e[_$_33a9[246]];for(;$--;){if((n=_[_$_33a9[966]](a[$]))===e[_$_33a9[246]])return n;a[$]=n}return a},_[_$_33a9[1155]]=function(a){if(!a||0===a[_$_33a9[9]])return e[_$_33a9[246]];for(var $,n=0;n<a[_$_33a9[9]];n++)if($=_[_$_33a9[1154]](a[n]),a[n]=$,$ instanceof Error)return $;return a};var a=new Date(Date[_$_33a9[1156]](1900,0,1));return _[_$_33a9[1157]]=function(_){return isNaN(_)?typeof _!==_$_33a9[370]||(_=new Date(_),isNaN(_))?e[_$_33a9[246]]:_:_ instanceof Date?new Date(_):0>(_=parseInt(_,10))?e[_$_33a9[1138]]:60>=_?new Date(a[_$_33a9[89]]()+864e5*(_-1)):new Date(a[_$_33a9[89]]()+864e5*(_-2))},_[_$_33a9[1158]]=function(_){for(var a,$=_[_$_33a9[9]];$--;){if((a=this[_$_33a9[1157]](_[$]))===e[_$_33a9[246]])return a;_[$]=a}return _},_[_$_33a9[1159]]=function(){for(var _=arguments[_$_33a9[9]];_--;)if(arguments[_]instanceof Error)return!0;return!1},_[_$_33a9[1160]]=function(_){for(var a,$=_[_$_33a9[9]];$--;)typeof(a=_[$])!==_$_33a9[618]&&(!0===a?_[$]=1:!1===a?_[$]=0:typeof a===_$_33a9[370]&&(a=this[_$_33a9[966]](a),_[$]=a instanceof Error?0:a));return _},_[_$_33a9[1161]]=function(_,a){return _&&typeof _[_$_33a9[285]]===_$_33a9[12]?_[_$_33a9[285]](a||1):_},_[_$_33a9[1162]]=function(_,a){return _&&typeof _[_$_33a9[285]]===_$_33a9[12]?_[_$_33a9[285]](0,_[_$_33a9[9]]-(a||1)):_},_[_$_33a9[1149]]=function(_,a){for(var $=-1,e=_[_$_33a9[9]];++$<e&&!1!==a(_[$],$,_););return _},_[_$_33a9[1163]]=function(_){return _?_[0][_$_33a9[1164]]((function(a,$){return _[_$_33a9[1164]]((function(_){return _[$]}))})):e[_$_33a9[246]]},_}(),q={},v;q[_$_33a9[1165]]=function(){function _(_){return(_-$)/864e5+(-22038912e5<_?2:1)}var a={},$=new Date(1900,0,1),n=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]];return a[_$_33a9[1166]]=function(_,a,$){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0>_||0>a||0>$?e[_$_33a9[1138]]:new Date(_,a-1,$)},a[_$_33a9[1167]]=function(_){return typeof _!==_$_33a9[370]?e[_$_33a9[246]]:(_=Date[_$_33a9[87]](_),isNaN(_)?e[_$_33a9[246]]:-22038912e5>=_?(_-$)/864e5+1:(_-$)/864e5+2)},a[_$_33a9[1168]]=function(_){return(_=g[_$_33a9[1157]](_))instanceof Error?_:_[_$_33a9[735]]()},a[_$_33a9[1169]]=function(a,$){return a=g[_$_33a9[1157]](a),$=g[_$_33a9[1157]]($),a instanceof Error?a:$ instanceof Error?$:_(a)-_($)},a[_$_33a9[1170]]=function(_,a,$){},a[_$_33a9[1171]]=function(a,$){return(a=g[_$_33a9[1157]](a))instanceof Error?a:isNaN($)?e[_$_33a9[246]]:($=parseInt($,10),a[_$_33a9[1172]](a[_$_33a9[739]]()+$),_(a))},a[_$_33a9[1173]]=function(a,$){return(a=g[_$_33a9[1157]](a))instanceof Error?a:isNaN($)?e[_$_33a9[246]]:($=parseInt($,10),_(new Date(a[_$_33a9[737]](),a[_$_33a9[739]]()+$+1,0)))},a[_$_33a9[1174]]=function(_){return(_=g[_$_33a9[1157]](_))instanceof Error?_:_[_$_33a9[1175]]()},a[_$_33a9[1176]]=function(_){if(typeof _!==_$_33a9[618]&&typeof _!==_$_33a9[370])return e[_$_33a9[246]];_=parseInt(_,10);var a=Math[_$_33a9[1177]](_/94608e4);_%=94608e4;var $=Math[_$_33a9[1177]](_/2592e3);_%=2592e3;var n=Math[_$_33a9[1177]](_/86400);_%=86400;var r=Math[_$_33a9[1177]](_/3600);_%=3600;var t=Math[_$_33a9[1177]](_/60);return _%=60,a=0<a?a+_$_33a9[1178]:_$_33a9[75],$=0<$?$+_$_33a9[1179]:_$_33a9[75],n=0<n?n+_$_33a9[1180]:_$_33a9[75],r=0<r?r+_$_33a9[1181]:_$_33a9[75],t=0<t?t+_$_33a9[1179]:_$_33a9[75],_=0<_?_+_$_33a9[1182]:_$_33a9[75],_$_33a9[1183]+a+$+n+_$_33a9[1184]+r+t+_},a[_$_33a9[1185]]=function(_){if((_=g[_$_33a9[1157]](_))instanceof Error)return _;_[_$_33a9[1186]](0,0,0),_[_$_33a9[736]](_[_$_33a9[735]]()+4-(_[_$_33a9[1187]]()||7));var a=new Date(_[_$_33a9[737]](),0,1);return Math[_$_33a9[716]](((_-a)/864e5+1)/7)},a[_$_33a9[1188]]=function(_){return(_=g[_$_33a9[1157]](_))instanceof Error?_:_[_$_33a9[1189]]()},a[_$_33a9[1190]]=function(_){return(_=g[_$_33a9[1157]](_))instanceof Error?_:_[_$_33a9[739]]()+1},a[_$_33a9[1191]]=function(_,a,$){},a[_$_33a9[1191]][_$_33a9[1192]]=function(_,a,$,e){},a[_$_33a9[1193]]=function(){return new Date},a[_$_33a9[1194]]=function(_){return(_=g[_$_33a9[1157]](_))instanceof Error?_:_[_$_33a9[1195]]()},a[_$_33a9[1196]]=function(_,a,$){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0>_||0>a||0>$?e[_$_33a9[1138]]:(3600*_+60*a+$)/86400},a[_$_33a9[1197]]=function(_){return(_=g[_$_33a9[1157]](_))instanceof Error?_:(3600*_[_$_33a9[1175]]()+60*_[_$_33a9[1189]]()+_[_$_33a9[1195]]())/86400},a[_$_33a9[1198]]=function(){return new Date},a[_$_33a9[1199]]=function(_,a){return(_=g[_$_33a9[1157]](_))instanceof Error?_:(void 0===a&&(a=1),_=_[_$_33a9[1187]](),n[a][_])},a[_$_33a9[1200]]=function(_,a){},a[_$_33a9[1201]]=function(_,a,$){},a[_$_33a9[1201]][_$_33a9[1192]]=function(_,a,$,e){},a[_$_33a9[1202]]=function(_){return(_=g[_$_33a9[1157]](_))instanceof Error?_:_[_$_33a9[737]]()},a[_$_33a9[1203]]=function(_,a,$){},a}(),q[_$_33a9[1204]]=function(){function v(c,f){for(var l={},r=1;r<c[0][_$_33a9[9]];++r)l[r]=!0;var z=f[0][_$_33a9[9]];for(r=1;r<f[_$_33a9[9]];++r)f[r][_$_33a9[9]]>z&&(z=f[r][_$_33a9[9]]);for(r=1;r<c[_$_33a9[9]];++r)for(var B=1;B<c[r][_$_33a9[9]];++B){for(var F=!1,K=!1,b=0;b<f[_$_33a9[9]];++b){var d=f[b];if(!(d[_$_33a9[9]]<z)&&c[r][0]===d[0]){K=!0;for(var h=1;h<d[_$_33a9[9]];++h)F=F||eval(c[r][B]+d[h])}}K&&(l[B]=l[B]&&F)}for(f=[],z=0;z<c[0][_$_33a9[9]];++z)l[z]&&f[_$_33a9[10]](z-1);return f}var n={};return n[_$_33a9[1205]]=function(_,a){for(var $=null,n=0;n<_[_$_33a9[9]];n++)if(_[n][0]===a){$=n;break}return null==$?e[_$_33a9[246]]:$},n[_$_33a9[1206]]=function(_,a,$){if(isNaN(a)&&typeof a!==_$_33a9[370])return e[_$_33a9[246]];$=v(_,$),typeof a===_$_33a9[370]?(a=n[_$_33a9[1205]](_,a),_=g[_$_33a9[1161]](_[a])):_=g[_$_33a9[1161]](_[a]);for(var r=a=0;r<$[_$_33a9[9]];r++)a+=_[$[r]];return 0===$[_$_33a9[9]]?e[_$_33a9[1133]]:a/$[_$_33a9[9]]},n[_$_33a9[1207]]=function(_,a,$){},n[_$_33a9[1208]]=function(_,a,$){},n[_$_33a9[1209]]=function(_,a,$){return isNaN(a)&&typeof a!==_$_33a9[370]?e[_$_33a9[246]]:($=v(_,$),typeof a===_$_33a9[370]?(a=n[_$_33a9[1205]](_,a),_=g[_$_33a9[1161]](_[a])):_=g[_$_33a9[1161]](_[a]),0===$[_$_33a9[9]]?e[_$_33a9[246]]:1<$[_$_33a9[9]]?e[_$_33a9[1138]]:_[$[0]])},n[_$_33a9[1210]]=function(_,a,$){if(isNaN(a)&&typeof a!==_$_33a9[370])return e[_$_33a9[246]];$=v(_,$),typeof a===_$_33a9[370]?(a=n[_$_33a9[1205]](_,a),_=g[_$_33a9[1161]](_[a])):_=g[_$_33a9[1161]](_[a]),a=_[$[0]];for(var r=1;r<$[_$_33a9[9]];r++)a<_[$[r]]&&(a=_[$[r]]);return a},n[_$_33a9[1211]]=function(_,a,$){if(isNaN(a)&&typeof a!==_$_33a9[370])return e[_$_33a9[246]];$=v(_,$),typeof a===_$_33a9[370]?(a=n[_$_33a9[1205]](_,a),_=g[_$_33a9[1161]](_[a])):_=g[_$_33a9[1161]](_[a]),a=_[$[0]];for(var r=1;r<$[_$_33a9[9]];r++)a>_[$[r]]&&(a=_[$[r]]);return a},n[_$_33a9[1212]]=function(_,a,$){if(isNaN(a)&&typeof a!==_$_33a9[370])return e[_$_33a9[246]];if($=v(_,$),typeof a===_$_33a9[370]){a=n[_$_33a9[1205]](_,a);var r=g[_$_33a9[1161]](_[a])}else r=g[_$_33a9[1161]](_[a]);for(_=[],a=0;a<$[_$_33a9[9]];a++)_[a]=r[$[a]];if($=_)for(_=[],a=0;a<$[_$_33a9[9]];++a)$[a]&&_[_$_33a9[10]]($[a]);else _=$;for($=1,a=0;a<_[_$_33a9[9]];a++)$*=_[a];return $},n[_$_33a9[1213]]=function(_,a,$){},n[_$_33a9[1214]]=function(_,a,$){},n[_$_33a9[1215]]=function(_,a,$){},n[_$_33a9[1216]]=function(_,a,$){},n[_$_33a9[1217]]=function(_,a,$){},n[_$_33a9[1218]]=function(_,a,$){if(!_&&!a)return e[_$_33a9[1140]];if(2===arguments[_$_33a9[9]]&&($=1),!(a instanceof Array)||-1!==$&&0!==$&&1!==$)return e[_$_33a9[1140]];for(var n,r,t=0;t<a[_$_33a9[9]];t++)if(1===$){if(a[t]===_)return t+1;a[t]<_&&(r?a[t]>r&&(n=t+1,r=a[t]):(n=t+1,r=a[t]))}else if(0===$){if(typeof _===_$_33a9[370]){if(_=_[_$_33a9[573]](/\?/g,_$_33a9[96]),a[t][_$_33a9[620]]()[_$_33a9[690]](_[_$_33a9[620]]()))return t+1}else if(a[t]===_)return t+1}else if(-1===$){if(a[t]===_)return t+1;a[t]>_&&(r?a[t]<r&&(n=t+1,r=a[t]):(n=t+1,r=a[t]))}return n||e[_$_33a9[1140]]},n}(),q[_$_33a9[1219]]=function(){function _(_){return/^[01]{1,10}$/[_$_33a9[1034]](_)}var a={};return a[_$_33a9[1220]]=function(_,a){},a[_$_33a9[1221]]=function(_,a){},a[_$_33a9[1222]]=function(_,a){},a[_$_33a9[1223]]=function(_,a){},a[_$_33a9[1224]]=function(a){if(!_(a))return e[_$_33a9[1138]];var $=parseInt(a,2);return 10===(a=a[_$_33a9[518]]())[_$_33a9[9]]&&a[_$_33a9[120]](0,1)===_$_33a9[1225]?parseInt(a[_$_33a9[120]](1),2)-512:$},a[_$_33a9[1226]]=function(a,$){if(!_(a))return e[_$_33a9[1138]];var n=a[_$_33a9[518]]();return 10===n[_$_33a9[9]]&&n[_$_33a9[120]](0,1)===_$_33a9[1225]?(0xfffffffe00+parseInt(n[_$_33a9[120]](1),2))[_$_33a9[518]](16):(a=parseInt(a,2)[_$_33a9[518]](16),void 0===$?a:isNaN($)?e[_$_33a9[246]]:0>$?e[_$_33a9[1138]]:($=Math[_$_33a9[1177]]($))>=a[_$_33a9[9]]?REPT(_$_33a9[331],$-a[_$_33a9[9]])+a:e[_$_33a9[1138]])},a[_$_33a9[1227]]=function(a,$){if(!_(a))return e[_$_33a9[1138]];var n=a[_$_33a9[518]]();return 10===n[_$_33a9[9]]&&n[_$_33a9[120]](0,1)===_$_33a9[1225]?(1073741312+parseInt(n[_$_33a9[120]](1),2))[_$_33a9[518]](8):(a=parseInt(a,2)[_$_33a9[518]](8),void 0===$?a:isNaN($)?e[_$_33a9[246]]:0>$?e[_$_33a9[1138]]:($=Math[_$_33a9[1177]]($))>=a[_$_33a9[9]]?REPT(_$_33a9[331],$-a[_$_33a9[9]])+a:e[_$_33a9[1138]])},a[_$_33a9[1228]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>_||0>a||Math[_$_33a9[1177]](_)!==_||Math[_$_33a9[1177]](a)!==a||0xffffffffffff<_||0xffffffffffff<a?e[_$_33a9[1138]]:_&a},a[_$_33a9[1229]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>_||Math[_$_33a9[1177]](_)!==_||0xffffffffffff<_||53<Math[_$_33a9[1230]](a)?e[_$_33a9[1138]]:0<=a?_<<a:_>>-a},a[_$_33a9[1231]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>_||0>a||Math[_$_33a9[1177]](_)!==_||Math[_$_33a9[1177]](a)!==a||0xffffffffffff<_||0xffffffffffff<a?e[_$_33a9[1138]]:_|a},a[_$_33a9[1232]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>_||Math[_$_33a9[1177]](_)!==_||0xffffffffffff<_||53<Math[_$_33a9[1230]](a)?e[_$_33a9[1138]]:0<=a?_>>a:_<<-a},a[_$_33a9[1233]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>_||0>a||Math[_$_33a9[1177]](_)!==_||Math[_$_33a9[1177]](a)!==a||0xffffffffffff<_||0xffffffffffff<a?e[_$_33a9[1138]]:_^a},a[_$_33a9[1234]]=function(_,a,$){if(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a))return _;if(($=void 0===$?_$_33a9[454]:$)!==_$_33a9[454]&&$!==_$_33a9[1235])return e[_$_33a9[246]];if(0===_&&0===a)return 0;if(0===_)return 1===a?$:a[_$_33a9[518]]()+$;if(0===a)return _[_$_33a9[518]]();var n=0<a?_$_33a9[710]:_$_33a9[75];return _[_$_33a9[518]]()+n+(1===a?$:a[_$_33a9[518]]()+$)},a[_$_33a9[1236]]=function(_,a,$){if((_=g[_$_33a9[966]](_))instanceof Error)return _;for(var n,r=[[_$_33a9[1237],_$_33a9[1238],null,_$_33a9[780],!1,!1,105457168181818e-48],[_$_33a9[1239],_$_33a9[1240],null,_$_33a9[1241],!1,!1,160217653141414e-33],[_$_33a9[1242],_$_33a9[1243],null,_$_33a9[1244],!1,!1,435974417757576e-32],[_$_33a9[1245],_$_33a9[1246],null,_$_33a9[9],!1,!1,529177210818182e-25],[_$_33a9[1247],_$_33a9[1248],null,_$_33a9[1249],!1,!1,910938261616162e-45],[_$_33a9[1250],_$_33a9[1251],null,_$_33a9[990],!1,!1,241888432650516e-31],[_$_33a9[1252],_$_33a9[1253],null,_$_33a9[1254],!1,!0,.514773333],[_$_33a9[1255],_$_33a9[930],null,_$_33a9[1256],!0,!1,1],[_$_33a9[1257],_$_33a9[1258],null,_$_33a9[1259],!0,!1,1],[_$_33a9[1260],_$_33a9[1261],[_$_33a9[1262]],_$_33a9[9],!1,!0,1e-10],[_$_33a9[1263],_$_33a9[1264],null,_$_33a9[1265],!1,!0,100],[_$_33a9[1266],_$_33a9[1267],null,_$_33a9[9],!1,!1,149597870691667e-25],[_$_33a9[1268],_$_33a9[1268],null,_$_33a9[1269],!1,!1,1e5],[_$_33a9[1270],_$_33a9[1271],null,_$_33a9[1265],!1,!1,1e-28],[_$_33a9[1272],_$_33a9[1273],null,_$_33a9[1274],!0,!1,1],[_$_33a9[1275],_$_33a9[1275],[_$_33a9[1271]],_$_33a9[1276],!1,!0,1],[_$_33a9[1277],_$_33a9[1278],[_$_33a9[1277]],_$_33a9[1244],!1,!0,1055.05585262],[_$_33a9[1279],_$_33a9[1279],null,_$_33a9[1276],!1,!0,8],[_$_33a9[1280],_$_33a9[1281],null,_$_33a9[1282],!0,!1,1],[_$_33a9[1283],_$_33a9[1284],null,_$_33a9[1285],!0,!1,1],[_$_33a9[1286],_$_33a9[1287],null,_$_33a9[1241],!0,!1,1],[_$_33a9[1288],_$_33a9[1289],[_$_33a9[1290]],_$_33a9[1291],!1,!0,1e-30],[_$_33a9[1292],_$_33a9[1293],[_$_33a9[1294]],_$_33a9[1291],!1,!0,.028316846592],[_$_33a9[1295],_$_33a9[1296],[_$_33a9[1297]],_$_33a9[1291],!1,!0,16387064e-12],[_$_33a9[1298],_$_33a9[1299],[_$_33a9[1300]],_$_33a9[1291],!1,!0,846786664623715e-61],[_$_33a9[1301],_$_33a9[1248],null,_$_33a9[1291],!0,!0,1],[_$_33a9[1302],_$_33a9[1303],[_$_33a9[1304]],_$_33a9[1291],!1,!0,4168181825.44058],[_$_33a9[1305],_$_33a9[1306],[_$_33a9[1307]],_$_33a9[1291],!1,!0,6352182208],[_$_33a9[1308],_$_33a9[1309],[_$_33a9[1310],_$_33a9[1311],_$_33a9[1312]],_$_33a9[1291],!1,!0,7.58660370370369e-8],[_$_33a9[1313],_$_33a9[1314],[_$_33a9[1315]],_$_33a9[1291],!1,!0,.764554857984],[_$_33a9[1316],_$_33a9[1316],null,_$_33a9[1291],!1,!0,.0002365882365],[_$_33a9[1317],_$_33a9[1318],[_$_33a9[1319]],_$_33a9[1249],!1,!1,166053886282828e-41],[_$_33a9[1320],_$_33a9[1321],[_$_33a9[1320]],_$_33a9[990],!1,!0,86400],[_$_33a9[1322],_$_33a9[1323],null,_$_33a9[1324],!1,!1,.0174532925199433],[_$_33a9[1325],_$_33a9[1326],null,_$_33a9[1327],!1,!0,.555555555555556],[_$_33a9[1328],_$_33a9[1329],[_$_33a9[1330]],_$_33a9[499],!1,!0,1e-5],[_$_33a9[1331],_$_33a9[1332],[_$_33a9[1333]],_$_33a9[1244],!1,!0,1.60217656514141],[_$_33a9[1334],_$_33a9[1334],null,_$_33a9[9],!1,!0,1.143],[_$_33a9[1335],_$_33a9[1335],[_$_33a9[1240]],_$_33a9[1244],!1,!0,1e-7],[_$_33a9[1336],_$_33a9[1337],null,_$_33a9[1338],!0,!1,1],[_$_33a9[1339],_$_33a9[1340],null,_$_33a9[1291],!1,!0,295735295625e-16],[_$_33a9[1341],_$_33a9[1342],null,_$_33a9[9],!1,!0,.3048],[_$_33a9[1343],_$_33a9[1344],null,_$_33a9[1244],!1,!0,1.3558179483314],[_$_33a9[1345],_$_33a9[1346],null,_$_33a9[1347],!1,!1,.01],[_$_33a9[1348],_$_33a9[1345],null,_$_33a9[1291],!1,!0,.003785411784],[_$_33a9[1349],_$_33a9[1350],[_$_33a9[1351]],_$_33a9[1352],!1,!0,1],[_$_33a9[1353],_$_33a9[1353],null,_$_33a9[1249],!1,!0,647989e-10],[_$_33a9[1354],_$_33a9[745],null,_$_33a9[1249],!1,!0,.001],[_$_33a9[1355],_$_33a9[1356],null,_$_33a9[1357],!0,!1,1],[_$_33a9[1358],_$_33a9[1359],[_$_33a9[1360]],_$_33a9[1291],!1,!0,2.8316846592],[_$_33a9[1361],_$_33a9[1362],null,_$_33a9[1265],!1,!0,1e4],[_$_33a9[1363],_$_33a9[1181],null,_$_33a9[1364],!0,!1,1],[_$_33a9[1365],_$_33a9[1366],null,_$_33a9[1367],!0,!1,1],[_$_33a9[1368],_$_33a9[1369],[_$_33a9[546]],_$_33a9[1370],!1,!0,745.69987158227],[_$_33a9[1371],_$_33a9[1372],[_$_33a9[1373],_$_33a9[1374]],_$_33a9[1244],!1,!0,2684519.538],[_$_33a9[1375],_$_33a9[546],[_$_33a9[1376]],_$_33a9[990],!1,!0,3600],[_$_33a9[1377],_$_33a9[1378],null,_$_33a9[1291],!1,!0,.00454609],[_$_33a9[1379],_$_33a9[1380],[_$_33a9[1381],_$_33a9[1382]],_$_33a9[1249],!1,!0,50.802345],[_$_33a9[1383],_$_33a9[1384],null,_$_33a9[1291],!1,!0,.0011365225],[_$_33a9[1385],_$_33a9[1386],[_$_33a9[1387],_$_33a9[1388]],_$_33a9[1249],!1,!0,1016.046909],[_$_33a9[1389],_$_33a9[1390],null,_$_33a9[9],!1,!0,.0254],[_$_33a9[1391],_$_33a9[1392],null,_$_33a9[1265],!1,!0,4046.8564224],[_$_33a9[1393],_$_33a9[1394],null,_$_33a9[1244],!1,!0,4.1868],[_$_33a9[1395],_$_33a9[1396],null,_$_33a9[1244],!0,!0,1],[_$_33a9[1397],_$_33a9[1398],null,_$_33a9[1399],!0,!1,1],[_$_33a9[1400],_$_33a9[1401],[_$_33a9[1402]],_$_33a9[1327],!0,!0,1],[_$_33a9[1403],_$_33a9[1404],null,_$_33a9[1249],!0,!0,1],[_$_33a9[1405],_$_33a9[1406],null,_$_33a9[1254],!1,!0,.514444444444444],[_$_33a9[1407],_$_33a9[1408],null,_$_33a9[9],!1,!0,9460730472580800],[_$_33a9[1409],_$_33a9[1410],[_$_33a9[544],_$_33a9[1411]],_$_33a9[1291],!1,!0,.001],[_$_33a9[1412],_$_33a9[1413],null,_$_33a9[1414],!0,!1,1],[_$_33a9[1415],_$_33a9[1416],null,_$_33a9[1417],!0,!1,1],[_$_33a9[1418],_$_33a9[1419],null,_$_33a9[1420],!1,!1,1e-18],[_$_33a9[1421],_$_33a9[1422],null,_$_33a9[1291],!1,!0,1.13267386368],[_$_33a9[1423],_$_33a9[1424],[_$_33a9[1425]],_$_33a9[1254],!1,!0,.00027777777777778],[_$_33a9[1426],_$_33a9[1427],[_$_33a9[1428]],_$_33a9[1254],!0,!0,1],[_$_33a9[1429],_$_33a9[1430],null,_$_33a9[1347],!0,!1,1],[_$_33a9[1431],_$_33a9[1432],[_$_33a9[1431]],_$_33a9[9],!1,!0,0x6da012f958ee1c],[_$_33a9[1433],_$_33a9[1434],null,_$_33a9[1435],!0,!1,1],[_$_33a9[1436],_$_33a9[1437],null,_$_33a9[9],!0,!0,1],[_$_33a9[1438],_$_33a9[1439],null,_$_33a9[1254],!1,!0,.44704],[_$_33a9[1440],_$_33a9[1441],null,_$_33a9[1269],!1,!1,133.322],[_$_33a9[1442],_$_33a9[1238],null,_$_33a9[1324],!1,!1,.000290888208665722],[_$_33a9[1442],_$_33a9[1006],[_$_33a9[1443]],_$_33a9[990],!1,!0,60],[_$_33a9[1444],_$_33a9[1445],null,_$_33a9[1291],!1,!0,5e-6],[_$_33a9[1446],_$_33a9[1447],null,_$_33a9[1448],!0,!1,1],[_$_33a9[1449],_$_33a9[1450],null,_$_33a9[1265],!1,!0,2500],[_$_33a9[1451],_$_33a9[1238],null,_$_33a9[780],!1,!1,105457168181818e-48],[_$_33a9[1452],_$_33a9[1248],null,_$_33a9[1249],!1,!1,910938261616162e-45],[_$_33a9[1453],_$_33a9[1454],null,_$_33a9[1254],!1,!1,299792458],[_$_33a9[1455],_$_33a9[1456],null,_$_33a9[990],!1,!1,128808866778687e-35],[_$_33a9[1457],_$_33a9[1179],[_$_33a9[1458]],_$_33a9[9],!1,!0,1852],[_$_33a9[1459],_$_33a9[1460],null,_$_33a9[499],!0,!0,1],[_$_33a9[1461],_$_33a9[1462],null,_$_33a9[1259],!1,!1,79.5774715459477],[_$_33a9[1463],_$_33a9[1464],null,_$_33a9[1465],!0,!1,1],[_$_33a9[1466],_$_33a9[1467],null,_$_33a9[1249],!1,!0,.028349523125],[_$_33a9[1468],_$_33a9[1469],null,_$_33a9[1269],!0,!1,1],[_$_33a9[1470],_$_33a9[1471],null,_$_33a9[1472],!0,!1,1],[_$_33a9[1473],_$_33a9[1474],null,_$_33a9[1370],!1,!0,735.49875],[_$_33a9[1475],_$_33a9[1476],null,_$_33a9[1417],!1,!1,1e-4],[_$_33a9[1477],_$_33a9[1478],null,_$_33a9[9],!1,!0,.00035277777777778],[_$_33a9[1479],_$_33a9[1480],[_$_33a9[1481]],_$_33a9[9],!1,!0,.00423333333333333],[_$_33a9[1482],_$_33a9[1183],null,_$_33a9[1472],!1,!1,.1],[_$_33a9[1483],_$_33a9[1483],null,_$_33a9[499],!1,!0,.00980665],[_$_33a9[1484],_$_33a9[1485],null,_$_33a9[499],!1,!0,4.4482216152605],[_$_33a9[1486],_$_33a9[1487],null,_$_33a9[1249],!1,!0,.45359237],[_$_33a9[1488],_$_33a9[1489],null,_$_33a9[1291],!1,!0,.000946352946],[_$_33a9[1490],_$_33a9[1491],null,_$_33a9[1324],!0,!1,1],[_$_33a9[1492],_$_33a9[1238],null,_$_33a9[1324],!1,!1,484813681109536e-20],[_$_33a9[1492],_$_33a9[1493],[_$_33a9[1494]],_$_33a9[990],!0,!0,1],[_$_33a9[1495],_$_33a9[1496],[_$_33a9[1497]],_$_33a9[1249],!1,!0,45.359237],[_$_33a9[1498],_$_33a9[1182],null,_$_33a9[1499],!0,!1,1],[_$_33a9[1500],_$_33a9[1501],null,_$_33a9[1502],!0,!1,1],[_$_33a9[1503],_$_33a9[1504],null,_$_33a9[1249],!1,!0,14.59390294],[_$_33a9[1505],_$_33a9[1506],[_$_33a9[1507]],_$_33a9[1265],!1,!0,1e-20],[_$_33a9[1508],_$_33a9[1509],[_$_33a9[1510]],_$_33a9[1265],!1,!0,.09290304],[_$_33a9[1511],_$_33a9[1512],[_$_33a9[1513]],_$_33a9[1265],!1,!0,64516e-8],[_$_33a9[1514],_$_33a9[1515],[_$_33a9[1516]],_$_33a9[1265],!1,!0,895054210748189e17],[_$_33a9[1517],_$_33a9[1248],null,_$_33a9[1265],!0,!0,1],[_$_33a9[1518],_$_33a9[1519],[_$_33a9[1520]],_$_33a9[1265],!1,!0,2589988.110336],[_$_33a9[1521],_$_33a9[1522],[_$_33a9[1523]],_$_33a9[1265],!1,!0,3429904],[_$_33a9[1524],_$_33a9[1525],[_$_33a9[1526],_$_33a9[1527],_$_33a9[1528]],_$_33a9[1265],!1,!0,1792111111111e-17],[_$_33a9[1529],_$_33a9[1530],[_$_33a9[1531]],_$_33a9[1265],!1,!0,.83612736],[_$_33a9[1532],_$_33a9[1533],null,_$_33a9[9],!1,!0,1609.344],[_$_33a9[1534],_$_33a9[1535],null,_$_33a9[1536],!0,!1,1],[_$_33a9[1537],_$_33a9[1538],null,_$_33a9[1285],!1,!1,1e-4],[_$_33a9[1539],_$_33a9[1540],null,_$_33a9[1435],!1,!1,1e-4],[_$_33a9[1541],_$_33a9[1541],null,_$_33a9[1249],!1,!0,6.35029318],[_$_33a9[1542],_$_33a9[1543],null,_$_33a9[1291],!1,!0,147868e-10],[_$_33a9[1544],_$_33a9[1545],null,_$_33a9[1291],!1,!0,492892e-11],[_$_33a9[1546],_$_33a9[1184],null,_$_33a9[1352],!0,!0,1],[_$_33a9[1547],_$_33a9[1548],null,_$_33a9[1244],!1,!0,4.184],[_$_33a9[1549],_$_33a9[1549],null,_$_33a9[1249],!1,!0,907.18474],[_$_33a9[1550],_$_33a9[543],null,_$_33a9[1249],!1,!1,1e3],[_$_33a9[1551],_$_33a9[1552],null,_$_33a9[1291],!1,!0,.00056826125],[_$_33a9[1553],_$_33a9[1554],null,_$_33a9[1291],!1,!0,.03523907],[_$_33a9[1555],_$_33a9[1556],null,_$_33a9[1291],!1,!0,.158987295],[_$_33a9[1557],_$_33a9[1558],[_$_33a9[1559]],_$_33a9[1291],!1,!0,.000473176473],[_$_33a9[1560],_$_33a9[1561],null,_$_33a9[9],!1,!0,1609.347219],[_$_33a9[1562],_$_33a9[1563],null,_$_33a9[1265],!1,!0,4046.87261],[_$_33a9[1564],_$_33a9[1565],null,_$_33a9[1566],!0,!1,1],[_$_33a9[1567],_$_33a9[1568],null,_$_33a9[1370],!0,!0,1],[_$_33a9[1569],_$_33a9[1570],[_$_33a9[1571]],_$_33a9[1244],!1,!0,3600],[_$_33a9[1572],_$_33a9[1573],null,_$_33a9[1420],!0,!1,1],[_$_33a9[1574],_$_33a9[1575],null,_$_33a9[9],!1,!0,.9144],[_$_33a9[1576],_$_33a9[1577],null,_$_33a9[990],!1,!0,31557600]],t={Yi:[_$_33a9[1578],80,12089258196146292e8,_$_33a9[1579],_$_33a9[1580]],Zi:[_$_33a9[1581],70,11805916207174113e5,_$_33a9[1582],_$_33a9[1583]],Ei:[_$_33a9[1584],60,0x1000000000000000,_$_33a9[1585],_$_33a9[1586]],Pi:[_$_33a9[1587],50,0x4000000000000,_$_33a9[1588],_$_33a9[1589]],Ti:[_$_33a9[1590],40,1099511627776,_$_33a9[1591],_$_33a9[1592]],Gi:[_$_33a9[1593],30,1073741824,_$_33a9[1594],_$_33a9[1595]],Mi:[_$_33a9[1596],20,1048576,_$_33a9[1597],_$_33a9[1598]],ki:[_$_33a9[1599],10,1024,_$_33a9[1600],_$_33a9[1601]]},u={Y:[_$_33a9[1580],1e24,_$_33a9[1178]],Z:[_$_33a9[1583],1e21,_$_33a9[1602]],E:[_$_33a9[1586],1e18,_$_33a9[1603]],P:[_$_33a9[1589],1e15,_$_33a9[1183]],T:[_$_33a9[1592],1e12,_$_33a9[1184]],G:[_$_33a9[1595],1e9,_$_33a9[1350]],M:[_$_33a9[1598],1e6,_$_33a9[1179]],k:[_$_33a9[1601],1e3,_$_33a9[74]],h:[_$_33a9[1604],100,_$_33a9[546]],e:[_$_33a9[1605],10,_$_33a9[1240]],d:[_$_33a9[1606],.1,_$_33a9[1321]],c:[_$_33a9[1607],.01,_$_33a9[1548]],m:[_$_33a9[1608],.001,_$_33a9[1437]],u:[_$_33a9[1609],1e-6,_$_33a9[1319]],n:[_$_33a9[1610],1e-9,_$_33a9[1611]],p:[_$_33a9[1612],1e-12,_$_33a9[1613]],f:[_$_33a9[1614],1e-15,_$_33a9[791]],a:[_$_33a9[1615],1e-18,_$_33a9[759]],z:[_$_33a9[1616],1e-21,_$_33a9[1617]],y:[_$_33a9[1618],1e-24,_$_33a9[392]]},o=null,i=null,f=a,l=$,c=1,s=1,p=0;p<r[_$_33a9[9]];p++)n=null===r[p][2]?[]:r[p][2],(r[p][1]===f||0<=n[_$_33a9[98]](f))&&(o=r[p]),(r[p][1]===l||0<=n[_$_33a9[98]](l))&&(i=r[p]);if(null===o)for(n=t[a[_$_33a9[120]](0,2)],p=u[a[_$_33a9[120]](0,1)],a[_$_33a9[120]](0,2)===_$_33a9[1619]&&(p=[_$_33a9[1605],10,_$_33a9[1619]]),n?(c=n[2],f=a[_$_33a9[120]](2)):p&&(c=p[1],f=a[_$_33a9[120]](p[2][_$_33a9[9]])),a=0;a<r[_$_33a9[9]];a++)n=null===r[a][2]?[]:r[a][2],(r[a][1]===f||0<=n[_$_33a9[98]](f))&&(o=r[a]);if(null===i)for(t=t[$[_$_33a9[120]](0,2)],u=u[$[_$_33a9[120]](0,1)],$[_$_33a9[120]](0,2)===_$_33a9[1619]&&(u=[_$_33a9[1605],10,_$_33a9[1619]]),t?(s=t[2],l=$[_$_33a9[120]](2)):u&&(s=u[1],l=$[_$_33a9[120]](u[2][_$_33a9[9]])),$=0;$<r[_$_33a9[9]];$++)n=null===r[$][2]?[]:r[$][2],(r[$][1]===l||0<=n[_$_33a9[98]](l))&&(i=r[$]);return null===o||null===i||o[3]!==i[3]?e[_$_33a9[1140]]:_*o[6]*c/(i[6]*s)},a[_$_33a9[1620]]=function(_,a){return(_=g[_$_33a9[966]](_))instanceof Error?_:!/^-?[0-9]{1,3}$/[_$_33a9[1034]](_)||-512>_||511<_?e[_$_33a9[1138]]:0>_?_$_33a9[1225]+REPT(_$_33a9[331],9-(512+_)[_$_33a9[518]](2)[_$_33a9[9]])+(512+_)[_$_33a9[518]](2):(_=parseInt(_,10)[_$_33a9[518]](2),typeof a===_$_33a9[82]?_:isNaN(a)?e[_$_33a9[246]]:0>a?e[_$_33a9[1138]]:(a=Math[_$_33a9[1177]](a))>=_[_$_33a9[9]]?REPT(_$_33a9[331],a-_[_$_33a9[9]])+_:e[_$_33a9[1138]])},a[_$_33a9[1621]]=function(_,a){return(_=g[_$_33a9[966]](_))instanceof Error?_:!/^-?[0-9]{1,12}$/[_$_33a9[1034]](_)||-549755813888>_||549755813887<_?e[_$_33a9[1138]]:0>_?(1099511627776+_)[_$_33a9[518]](16):(_=parseInt(_,10)[_$_33a9[518]](16),typeof a===_$_33a9[82]?_:isNaN(a)?e[_$_33a9[246]]:0>a?e[_$_33a9[1138]]:(a=Math[_$_33a9[1177]](a))>=_[_$_33a9[9]]?REPT(_$_33a9[331],a-_[_$_33a9[9]])+_:e[_$_33a9[1138]])},a[_$_33a9[1622]]=function(_,a){return(_=g[_$_33a9[966]](_))instanceof Error?_:!/^-?[0-9]{1,9}$/[_$_33a9[1034]](_)||-536870912>_||536870911<_?e[_$_33a9[1138]]:0>_?(1073741824+_)[_$_33a9[518]](8):(_=parseInt(_,10)[_$_33a9[518]](8),typeof a===_$_33a9[82]?_:isNaN(a)?e[_$_33a9[246]]:0>a?e[_$_33a9[1138]]:(a=Math[_$_33a9[1177]](a))>=_[_$_33a9[9]]?REPT(_$_33a9[331],a-_[_$_33a9[9]])+_:e[_$_33a9[1138]])},a[_$_33a9[1623]]=function(_,a){return a=void 0===a?0:a,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:_===a?1:0},a[_$_33a9[1624]]=function(_,a){},a[_$_33a9[1624]][_$_33a9[1625]]=function(){},a[_$_33a9[1626]]=function(_){},a[_$_33a9[1626]][_$_33a9[1625]]=function(){},a[_$_33a9[1627]]=function(_,a){return a=a||0,_=g[_$_33a9[966]](_),g[_$_33a9[1159]](a,_)?_:_>=a?1:0},a[_$_33a9[1628]]=function(_,a){if(!/^[0-9A-Fa-f]{1,10}$/[_$_33a9[1034]](_))return e[_$_33a9[1138]];var $=10===_[_$_33a9[9]]&&_[_$_33a9[120]](0,1)[_$_33a9[620]]()===_$_33a9[791];return-512>(_=$?parseInt(_,16)-1099511627776:parseInt(_,16))||511<_?e[_$_33a9[1138]]:$?_$_33a9[1225]+REPT(_$_33a9[331],9-(512+_)[_$_33a9[518]](2)[_$_33a9[9]])+(512+_)[_$_33a9[518]](2):($=_[_$_33a9[518]](2),void 0===a?$:isNaN(a)?e[_$_33a9[246]]:0>a?e[_$_33a9[1138]]:(a=Math[_$_33a9[1177]](a))>=$[_$_33a9[9]]?REPT(_$_33a9[331],a-$[_$_33a9[9]])+$:e[_$_33a9[1138]])},a[_$_33a9[1629]]=function(_){return/^[0-9A-Fa-f]{1,10}$/[_$_33a9[1034]](_)?549755813888<=(_=parseInt(_,16))?_-1099511627776:_:e[_$_33a9[1138]]},a[_$_33a9[1630]]=function(_,a){return/^[0-9A-Fa-f]{1,10}$/[_$_33a9[1034]](_)?536870911<(_=parseInt(_,16))&&0xffe0000000>_?e[_$_33a9[1138]]:0xffe0000000<=_?(_-0xffc0000000)[_$_33a9[518]](8):(_=_[_$_33a9[518]](8),void 0===a?_:isNaN(a)?e[_$_33a9[246]]:0>a?e[_$_33a9[1138]]:(a=Math[_$_33a9[1177]](a))>=_[_$_33a9[9]]?REPT(_$_33a9[331],a-_[_$_33a9[9]])+_:e[_$_33a9[1138]]):e[_$_33a9[1138]]},a[_$_33a9[1631]]=function(_){var $=a[_$_33a9[1632]](_);return _=a[_$_33a9[1633]](_),g[_$_33a9[1159]]($,_)?e[_$_33a9[246]]:Math[_$_33a9[1634]](Math[_$_33a9[1032]]($,2)+Math[_$_33a9[1032]](_,2))},a[_$_33a9[1633]]=function(_){if(void 0===_||!0===_||!1===_)return e[_$_33a9[246]];if(0===_||_===_$_33a9[331])return 0;if(0<=[_$_33a9[454],_$_33a9[1235]][_$_33a9[98]](_))return 1;var a=(_=_[_$_33a9[573]](_$_33a9[1641],_$_33a9[1642])[_$_33a9[573]](_$_33a9[1639],_$_33a9[1640])[_$_33a9[573]](_$_33a9[1637],_$_33a9[1638])[_$_33a9[573]](_$_33a9[1635],_$_33a9[1636]))[_$_33a9[98]](_$_33a9[710]),$=_[_$_33a9[98]](_$_33a9[738]);0===a&&(a=_[_$_33a9[98]](_$_33a9[710],1)),0===$&&($=_[_$_33a9[98]](_$_33a9[738],1));var n=_[_$_33a9[120]](_[_$_33a9[9]]-1,_[_$_33a9[9]]);return n=n===_$_33a9[454]||n===_$_33a9[1235],0<=a||0<=$?n?0<=a?isNaN(_[_$_33a9[120]](0,a))||isNaN(_[_$_33a9[120]](a+1,_[_$_33a9[9]]-1))?e[_$_33a9[1138]]:Number(_[_$_33a9[120]](a+1,_[_$_33a9[9]]-1)):isNaN(_[_$_33a9[120]](0,$))||isNaN(_[_$_33a9[120]]($+1,_[_$_33a9[9]]-1))?e[_$_33a9[1138]]:-Number(_[_$_33a9[120]]($+1,_[_$_33a9[9]]-1)):e[_$_33a9[1138]]:n?isNaN(_[_$_33a9[120]](0,_[_$_33a9[9]]-1))?e[_$_33a9[1138]]:_[_$_33a9[120]](0,_[_$_33a9[9]]-1):isNaN(_)?e[_$_33a9[1138]]:0},a[_$_33a9[1643]]=function(_){var $=a[_$_33a9[1632]](_);return _=a[_$_33a9[1633]](_),g[_$_33a9[1159]]($,_)?e[_$_33a9[246]]:0===$&&0===_?e[_$_33a9[1133]]:0===$&&0<_?Math[_$_33a9[1644]]/2:0===$&&0>_?-Math[_$_33a9[1644]]/2:0===_&&0<$?0:0===_&&0>$?-Math[_$_33a9[1644]]:0<$?Math[_$_33a9[1645]](_/$):0>$&&0<=_?Math[_$_33a9[1645]](_/$)+Math[_$_33a9[1644]]:Math[_$_33a9[1645]](_/$)-Math[_$_33a9[1644]]},a[_$_33a9[1646]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);if(g[_$_33a9[1159]]($,n))return e[_$_33a9[246]];var r=_[_$_33a9[120]](_[_$_33a9[9]]-1);return r=r===_$_33a9[454]||r===_$_33a9[1235]?r:_$_33a9[454],0!==n?a[_$_33a9[1234]]($,-n,r):_},a[_$_33a9[1647]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:(_=(_=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||_===_$_33a9[1235]?_:_$_33a9[454],a[_$_33a9[1234]](Math[_$_33a9[1648]]($)*(Math[_$_33a9[1649]](n)+Math[_$_33a9[1649]](-n))/2,-Math[_$_33a9[1650]]($)*(Math[_$_33a9[1649]](n)-Math[_$_33a9[1649]](-n))/2,_))},a[_$_33a9[1651]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:(_=(_=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||_===_$_33a9[1235]?_:_$_33a9[454],a[_$_33a9[1234]](Math[_$_33a9[1648]](n)*(Math[_$_33a9[1649]]($)+Math[_$_33a9[1649]](-$))/2,Math[_$_33a9[1650]](n)*(Math[_$_33a9[1649]]($)-Math[_$_33a9[1649]](-$))/2,_))},a[_$_33a9[1652]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:a[_$_33a9[1654]](a[_$_33a9[1647]](_),a[_$_33a9[1653]](_))},a[_$_33a9[1654]]=function(_,$){var n=a[_$_33a9[1632]](_),r=a[_$_33a9[1633]](_),t=a[_$_33a9[1632]]($),u=a[_$_33a9[1633]]($);if(g[_$_33a9[1159]](n,r,t,u))return e[_$_33a9[246]];_=_[_$_33a9[120]](_[_$_33a9[9]]-1);var o=$[_$_33a9[120]]($[_$_33a9[9]]-1);return $=_$_33a9[454],(_===_$_33a9[1235]||o===_$_33a9[1235])&&($=_$_33a9[1235]),0===t&&0===u?e[_$_33a9[1138]]:(_=t*t+u*u,a[_$_33a9[1234]]((n*t+r*u)/_,(r*t-n*u)/_,$))},a[_$_33a9[1655]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:(_=(_=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||_===_$_33a9[1235]?_:_$_33a9[454],$=Math[_$_33a9[1649]]($),a[_$_33a9[1234]]($*Math[_$_33a9[1648]](n),$*Math[_$_33a9[1650]](n),_))},a[_$_33a9[1656]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:(_=(_=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||_===_$_33a9[1235]?_:_$_33a9[454],a[_$_33a9[1234]](Math[_$_33a9[199]](Math[_$_33a9[1634]]($*$+n*n)),Math[_$_33a9[1645]](n/$),_))},a[_$_33a9[1657]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:(_=(_=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||_===_$_33a9[1235]?_:_$_33a9[454],a[_$_33a9[1234]](Math[_$_33a9[199]](Math[_$_33a9[1634]]($*$+n*n))/Math[_$_33a9[199]](10),Math[_$_33a9[1645]](n/$)/Math[_$_33a9[199]](10),_))},a[_$_33a9[1658]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:(_=(_=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||_===_$_33a9[1235]?_:_$_33a9[454],a[_$_33a9[1234]](Math[_$_33a9[199]](Math[_$_33a9[1634]]($*$+n*n))/Math[_$_33a9[199]](2),Math[_$_33a9[1645]](n/$)/Math[_$_33a9[199]](2),_))},a[_$_33a9[1659]]=function(_,$){$=g[_$_33a9[966]]($);var n=a[_$_33a9[1632]](_),r=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n,r)?e[_$_33a9[246]]:(n=(n=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||n===_$_33a9[1235]?n:_$_33a9[454],r=Math[_$_33a9[1032]](a[_$_33a9[1631]](_),$),_=a[_$_33a9[1643]](_),a[_$_33a9[1234]](r*Math[_$_33a9[1648]]($*_),r*Math[_$_33a9[1650]]($*_),n))},a[_$_33a9[1660]]=function(){for(var _=arguments[0],$=1;$<arguments[_$_33a9[9]];$++){var n=a[_$_33a9[1632]](_);_=a[_$_33a9[1633]](_);var r=a[_$_33a9[1632]](arguments[$]),t=a[_$_33a9[1633]](arguments[$]);if(g[_$_33a9[1159]](n,_,r,t))return e[_$_33a9[246]];_=a[_$_33a9[1234]](n*r-_*t,n*t+_*r)}return _},a[_$_33a9[1632]]=function(_){if(void 0===_||!0===_||!1===_)return e[_$_33a9[246]];if(0===_||_===_$_33a9[331]||0<=[_$_33a9[454],_$_33a9[1641],_$_33a9[1661],_$_33a9[1642],_$_33a9[1639],_$_33a9[1640],_$_33a9[1235],_$_33a9[1637],_$_33a9[1662],_$_33a9[1638],_$_33a9[1635],_$_33a9[1636]][_$_33a9[98]](_))return 0;var a=_[_$_33a9[98]](_$_33a9[710]),$=_[_$_33a9[98]](_$_33a9[738]);0===a&&(a=_[_$_33a9[98]](_$_33a9[710],1)),0===$&&($=_[_$_33a9[98]](_$_33a9[738],1));var n=_[_$_33a9[120]](_[_$_33a9[9]]-1,_[_$_33a9[9]]);return n=n===_$_33a9[454]||n===_$_33a9[1235],0<=a||0<=$?n?0<=a?isNaN(_[_$_33a9[120]](0,a))||isNaN(_[_$_33a9[120]](a+1,_[_$_33a9[9]]-1))?e[_$_33a9[1138]]:Number(_[_$_33a9[120]](0,a)):isNaN(_[_$_33a9[120]](0,$))||isNaN(_[_$_33a9[120]]($+1,_[_$_33a9[9]]-1))?e[_$_33a9[1138]]:Number(_[_$_33a9[120]](0,$)):e[_$_33a9[1138]]:n?isNaN(_[_$_33a9[120]](0,_[_$_33a9[9]]-1))?e[_$_33a9[1138]]:0:isNaN(_)?e[_$_33a9[1138]]:_},a[_$_33a9[1663]]=function(_){if(!0===_||!1===_)return e[_$_33a9[246]];var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:a[_$_33a9[1654]](_$_33a9[1225],a[_$_33a9[1647]](_))},a[_$_33a9[1664]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:a[_$_33a9[1654]](_$_33a9[1225],a[_$_33a9[1651]](_))},a[_$_33a9[1653]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:(_=(_=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||_===_$_33a9[1235]?_:_$_33a9[454],a[_$_33a9[1234]](Math[_$_33a9[1650]]($)*(Math[_$_33a9[1649]](n)+Math[_$_33a9[1649]](-n))/2,Math[_$_33a9[1648]]($)*(Math[_$_33a9[1649]](n)-Math[_$_33a9[1649]](-n))/2,_))},a[_$_33a9[1665]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:(_=(_=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||_===_$_33a9[1235]?_:_$_33a9[454],a[_$_33a9[1234]](Math[_$_33a9[1648]](n)*(Math[_$_33a9[1649]]($)-Math[_$_33a9[1649]](-$))/2,Math[_$_33a9[1650]](n)*(Math[_$_33a9[1649]]($)+Math[_$_33a9[1649]](-$))/2,_))},a[_$_33a9[1666]]=function(_){var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:($=($=_[_$_33a9[120]](_[_$_33a9[9]]-1))===_$_33a9[454]||$===_$_33a9[1235]?$:_$_33a9[454],n=Math[_$_33a9[1634]](a[_$_33a9[1631]](_)),_=a[_$_33a9[1643]](_),a[_$_33a9[1234]](n*Math[_$_33a9[1648]](_/2),n*Math[_$_33a9[1650]](_/2),$))},a[_$_33a9[1667]]=function(_){if(!0===_||!1===_)return e[_$_33a9[246]];var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[1138]]:a[_$_33a9[1654]](_$_33a9[1225],a[_$_33a9[1653]](_))},a[_$_33a9[1668]]=function(_){if(!0===_||!1===_)return e[_$_33a9[246]];var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[1138]]:a[_$_33a9[1654]](_$_33a9[1225],a[_$_33a9[1665]](_))},a[_$_33a9[1669]]=function(_,a){var $=this[_$_33a9[1632]](_),n=this[_$_33a9[1633]](_),r=this[_$_33a9[1632]](a),t=this[_$_33a9[1633]](a);if(g[_$_33a9[1159]]($,n,r,t))return e[_$_33a9[246]];_=_[_$_33a9[120]](_[_$_33a9[9]]-1),a=a[_$_33a9[120]](a[_$_33a9[9]]-1);var u=_$_33a9[454];return(_===_$_33a9[1235]||a===_$_33a9[1235])&&(u=_$_33a9[1235]),this[_$_33a9[1234]]($-r,n-t,u)},a[_$_33a9[1670]]=function(){for(var _=g[_$_33a9[1147]](arguments),a=_[0],$=1;$<_[_$_33a9[9]];$++){var n=this[_$_33a9[1632]](a);a=this[_$_33a9[1633]](a);var r=this[_$_33a9[1632]](_[$]),t=this[_$_33a9[1633]](_[$]);if(g[_$_33a9[1159]](n,a,r,t))return e[_$_33a9[246]];a=this[_$_33a9[1234]](n+r,a+t)}return a},a[_$_33a9[1671]]=function(_){if(!0===_||!1===_)return e[_$_33a9[246]];var $=a[_$_33a9[1632]](_),n=a[_$_33a9[1633]](_);return g[_$_33a9[1159]]($,n)?e[_$_33a9[246]]:this[_$_33a9[1654]](this[_$_33a9[1653]](_),this[_$_33a9[1647]](_))},a[_$_33a9[1672]]=function(_,a){if(!/^[0-7]{1,10}$/[_$_33a9[1034]](_))return e[_$_33a9[1138]];var $=10===_[_$_33a9[9]]&&_[_$_33a9[120]](0,1)===_$_33a9[1673];return-512>(_=$?parseInt(_,8)-1073741824:parseInt(_,8))||511<_?e[_$_33a9[1138]]:$?_$_33a9[1225]+REPT(_$_33a9[331],9-(512+_)[_$_33a9[518]](2)[_$_33a9[9]])+(512+_)[_$_33a9[518]](2):($=_[_$_33a9[518]](2),typeof a===_$_33a9[82]?$:isNaN(a)?e[_$_33a9[246]]:0>a?e[_$_33a9[1138]]:(a=Math[_$_33a9[1177]](a))>=$[_$_33a9[9]]?REPT(_$_33a9[331],a-$[_$_33a9[9]])+$:e[_$_33a9[1138]])},a[_$_33a9[1674]]=function(_){return/^[0-7]{1,10}$/[_$_33a9[1034]](_)?536870912<=(_=parseInt(_,8))?_-1073741824:_:e[_$_33a9[1138]]},a[_$_33a9[1675]]=function(_,a){return/^[0-7]{1,10}$/[_$_33a9[1034]](_)?536870912<=(_=parseInt(_,8))?_$_33a9[1676]+(_+3221225472)[_$_33a9[518]](16):(_=_[_$_33a9[518]](16),void 0===a?_:isNaN(a)?e[_$_33a9[246]]:0>a?e[_$_33a9[1138]]:(a=Math[_$_33a9[1177]](a))>=_[_$_33a9[9]]?REPT(_$_33a9[331],a-_[_$_33a9[9]])+_:e[_$_33a9[1138]]):e[_$_33a9[1138]]},a}(),q[_$_33a9[1677]]=function(){function _(_){return _&&_[_$_33a9[89]]&&!isNaN(_[_$_33a9[89]]())}function a(_){return _ instanceof Date?_:new Date(_)}var $={};return $[_$_33a9[1678]]=function($,e,n,r,t,u,o){return $=a($),e=a(e),n=a(n),_($)&&_(e)&&_(n)?0>=r||0>=t||-1===[1,2,4][_$_33a9[98]](u)||-1===[0,1,2,3,4][_$_33a9[98]](o)||n<=$?_$_33a9[1139]:(t||0)*r*YEARFRAC($,n,o||0):_$_33a9[1135]},$[_$_33a9[1679]]=null,$[_$_33a9[1680]]=null,$[_$_33a9[1681]]=null,$[_$_33a9[1682]]=null,$[_$_33a9[1683]]=null,$[_$_33a9[1684]]=null,$[_$_33a9[1685]]=null,$[_$_33a9[1686]]=null,$[_$_33a9[1687]]=null,$[_$_33a9[1688]]=function(_,a,n,r,t,u){if(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),n=g[_$_33a9[966]](n),g[_$_33a9[1159]](_,a,n))return e[_$_33a9[246]];if(0>=_||0>=a||0>=n||1>r||1>t||r>t||0!==u&&1!==u)return e[_$_33a9[1138]];a=$[_$_33a9[1689]](_,a,n,0,u);var o=0;for(1===r&&0===u&&(o=-n,r++);r<=t;r++)o=1===u?o+($[_$_33a9[1690]](_,r-2,a,n,1)-a):o+$[_$_33a9[1690]](_,r-1,a,n,0);return o*_},$[_$_33a9[1691]]=function(_,a,n,r,t,u){if(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),n=g[_$_33a9[966]](n),g[_$_33a9[1159]](_,a,n))return e[_$_33a9[246]];if(0>=_||0>=a||0>=n||1>r||1>t||r>t||0!==u&&1!==u)return e[_$_33a9[1138]];a=$[_$_33a9[1689]](_,a,n,0,u);var o=0;for(1===r&&(o=0===u?a+n*_:a,r++);r<=t;r++)o=0<u?o+(a-($[_$_33a9[1690]](_,r-2,a,n,1)-a)*_):o+(a-$[_$_33a9[1690]](_,r-1,a,n,0)*_);return o},$[_$_33a9[1692]]=function(_,a,$,n,r){if(r=void 0===r?12:r,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),g[_$_33a9[1159]](_,a,$,n,r))return e[_$_33a9[246]];if(0>_||0>a||0>$||0>n||-1===[1,2,3,4,5,6,7,8,9,10,11,12][_$_33a9[98]](r)||n>$)return e[_$_33a9[1138]];if(a>=_)return 0;for(var t=r=_*(a=(1-Math[_$_33a9[1032]](a/_,1/$))[_$_33a9[1693]](3))*r/12,u=0,o=n===$?$-1:n,i=2;i<=o;i++)t+=u=(_-t)*a;return 1===n?r:n===$?(_-t)*a:u},$[_$_33a9[1694]]=function(_,a,$,n,r){if(r=void 0===r?2:r,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),g[_$_33a9[1159]](_,a,$,n,r))return e[_$_33a9[246]];if(0>_||0>a||0>$||0>n||0>=r||n>$)return e[_$_33a9[1138]];if(a>=_)return 0;for(var t=0,u=0,o=1;o<=n;o++)t+=u=Math[_$_33a9[1006]](r/$*(_-t),_-a-t);return u},$[_$_33a9[1695]]=null,$[_$_33a9[1696]]=function(_,a){if(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];if(0>a)return e[_$_33a9[1138]];if(0<=a&&1>a)return e[_$_33a9[1133]];a=parseInt(a,10);var $=parseInt(_,10);return $+=_%1*Math[_$_33a9[1032]](10,Math[_$_33a9[716]](Math[_$_33a9[199]](a)/Math[_$_33a9[1697]]))/a,_=Math[_$_33a9[1032]](10,Math[_$_33a9[716]](Math[_$_33a9[199]](a)/Math[_$_33a9[1698]])+1),Math[_$_33a9[992]]($*_)/_},$[_$_33a9[1699]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>a?e[_$_33a9[1138]]:0<=a&&1>a?e[_$_33a9[1133]]:(a=parseInt(a,10),parseInt(_,10)+_%1*Math[_$_33a9[1032]](10,-Math[_$_33a9[716]](Math[_$_33a9[199]](a)/Math[_$_33a9[1697]]))*a)},$[_$_33a9[1700]]=null,$[_$_33a9[1701]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>=_||1>a?e[_$_33a9[1138]]:(a=parseInt(a,10),Math[_$_33a9[1032]](1+_/a,a)-1)},$[_$_33a9[1690]]=function(_,a,$,n,r){return n=n||0,r=r||0,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),g[_$_33a9[1159]](_,a,$,n,r)?e[_$_33a9[246]]:(0===_?_=n+$*a:(a=Math[_$_33a9[1032]](1+_,a),_=1===r?n*a+$*(1+_)*(a-1)/_:n*a+$*(a-1)/_),-_)},$[_$_33a9[1702]]=function(_,a){if(_=g[_$_33a9[966]](_),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];for(var $=a[_$_33a9[9]],n=0;n<$;n++)_*=1+a[n];return _},$[_$_33a9[1703]]=null,$[_$_33a9[1704]]=function(_,a,n,r,t,u){return t=t||0,u=u||0,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),t=g[_$_33a9[966]](t),u=g[_$_33a9[966]](u),g[_$_33a9[1159]](_,a,n,r,t,u)?e[_$_33a9[246]]:(n=$[_$_33a9[1689]](_,n,r,t,u),(1===a?1===u?0:-r:1===u?$[_$_33a9[1690]](_,a-2,n,r,1)-n:$[_$_33a9[1690]](_,a-1,n,r,0))*_)},$[_$_33a9[1705]]=function(_,a){if(a=a||0,_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];for(var $=function(_,a,$){$+=1;for(var e=_[0],n=1;n<_[_$_33a9[9]];n++)e+=_[n]/Math[_$_33a9[1032]]($,(a[n]-a[0])/365);return e},n=function(_,a,$){$+=1;for(var e=0,n=1;n<_[_$_33a9[9]];n++){var r=(a[n]-a[0])/365;e-=r*_[n]/Math[_$_33a9[1032]]($,r+1)}return e},r=[],t=!1,u=!1,o=0;o<_[_$_33a9[9]];o++)r[o]=0===o?0:r[o-1]+365,0<_[o]&&(t=!0),0>_[o]&&(u=!0);if(!t||!u)return e[_$_33a9[1138]];a=void 0===a?.1:a,t=!0;do{t=a-(o=$(_,r,a))/n(_,r,a),u=Math[_$_33a9[1230]](t-a),a=t,t=1e-10<u&&1e-10<Math[_$_33a9[1230]](o)}while(t);return a},$[_$_33a9[1706]]=function(_,a,$,n){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),g[_$_33a9[1159]](_,a,$,n)?e[_$_33a9[246]]:n*_*(a/$-1)},$[_$_33a9[1707]]=null,$[_$_33a9[1708]]=function(_,a,n){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),n=g[_$_33a9[966]](n),g[_$_33a9[1159]](_,a,n))return e[_$_33a9[246]];for(var r=_[_$_33a9[9]],t=[],u=[],o=0;o<r;o++)0>_[o]?t[_$_33a9[10]](_[o]):u[_$_33a9[10]](_[o]);return _=-$[_$_33a9[1709]](n,u)*Math[_$_33a9[1032]](1+n,r-1),a=$[_$_33a9[1709]](a,t)*(1+a),Math[_$_33a9[1032]](_/a,1/(r-1))-1},$[_$_33a9[1710]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>=_||1>a?e[_$_33a9[1138]]:(a=parseInt(a,10),(Math[_$_33a9[1032]](_+1,1/a)-1)*a)},$[_$_33a9[1711]]=function(_,a,$,n,r){return r=void 0===r?0:r,n=void 0===n?0:n,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),g[_$_33a9[1159]](_,a,$,n,r)?e[_$_33a9[246]]:Math[_$_33a9[199]]((a*(1+_*r)-n*_)/($*_+a*(1+_*r)))/Math[_$_33a9[199]](1+_)},$[_$_33a9[1709]]=function(){var _=g[_$_33a9[1154]](g[_$_33a9[1147]](arguments));if(_ instanceof Error)return _;for(var a=_[0],$=0,e=1;e<_[_$_33a9[9]];e++)$+=_[e]/Math[_$_33a9[1032]](1+a,e);return $},$[_$_33a9[1712]]=null,$[_$_33a9[1713]]=null,$[_$_33a9[1714]]=null,$[_$_33a9[1715]]=null,$[_$_33a9[1716]]=function(_,a,$){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0>=_?e[_$_33a9[1138]]:(Math[_$_33a9[199]]($)-Math[_$_33a9[199]](a))/Math[_$_33a9[199]](1+_)},$[_$_33a9[1689]]=function(_,a,$,n,r){return n=n||0,r=r||0,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),g[_$_33a9[1159]](_,a,$,n,r)?e[_$_33a9[246]]:(0===_?_=($+n)/a:(a=Math[_$_33a9[1032]](1+_,a),_=1===r?(n*_/(a-1)+$*_/(1-1/a))/(1+_):n*_/(a-1)+$*_/(1-1/a)),-_)},$[_$_33a9[1717]]=function(_,a,n,r,t,u){return t=t||0,u=u||0,_=g[_$_33a9[966]](_),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),t=g[_$_33a9[966]](t),u=g[_$_33a9[966]](u),g[_$_33a9[1159]](_,n,r,t,u)?e[_$_33a9[246]]:$[_$_33a9[1689]](_,n,r,t,u)-$[_$_33a9[1704]](_,a,n,r,t,u)},$[_$_33a9[1718]]=null,$[_$_33a9[1719]]=null,$[_$_33a9[1720]]=null,$[_$_33a9[1721]]=function(_,a,$,n,r){return n=n||0,r=r||0,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),g[_$_33a9[1159]](_,a,$,n,r)?e[_$_33a9[246]]:0===_?-$*a-n:((1-Math[_$_33a9[1032]](1+_,a))/_*$*(1+_*r)-n)/Math[_$_33a9[1032]](1+_,a)},$[_$_33a9[1722]]=function(_,a,$,n,r,t){if(t=void 0===t?.01:t,n=void 0===n?0:n,r=void 0===r?0:r,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),r=g[_$_33a9[966]](r),t=g[_$_33a9[966]](t),g[_$_33a9[1159]](_,a,$,n,r,t))return e[_$_33a9[246]];for(var u=0,o=!1;100>u&&!o;){var i=Math[_$_33a9[1032]](t+1,_),f=Math[_$_33a9[1032]](t+1,_-1);i=t-(n+i*$+a*(i-1)*(t*r+1)/t)/(_*f*$-a*(i-1)*(t*r+1)/Math[_$_33a9[1032]](t,2)+(_*a*f*(t*r+1)/t+a*(i-1)*r/t)),1e-6>Math[_$_33a9[1230]](i-t)&&(o=!0),u++,t=i}return o?t:Number[_$_33a9[1723]]+t},$[_$_33a9[1724]]=null,$[_$_33a9[1725]]=function(_,a,$){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0===_||0===a?e[_$_33a9[1138]]:Math[_$_33a9[1032]]($/a,1/_)-1},$[_$_33a9[1726]]=function(_,a,$){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0===$?e[_$_33a9[1138]]:(_-a)/$},$[_$_33a9[1727]]=function(_,a,$,n){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),g[_$_33a9[1159]](_,a,$,n)?e[_$_33a9[246]]:0===$||1>n||n>$?e[_$_33a9[1138]]:(_-a)*($-(n=parseInt(n,10))+1)*2/($*($+1))},$[_$_33a9[1728]]=function(_,a,$){return _=g[_$_33a9[1157]](_),a=g[_$_33a9[1157]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0>=$||_>a||31536e6<a-_?e[_$_33a9[1138]]:365*$/(360-$*DAYS360(_,a,!1))},$[_$_33a9[1729]]=function(_,a,$){return _=g[_$_33a9[1157]](_),a=g[_$_33a9[1157]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0>=$||_>a||31536e6<a-_?e[_$_33a9[1138]]:100*(1-$*DAYS360(_,a,!1)/360)},$[_$_33a9[1730]]=function(_,a,$){return _=g[_$_33a9[1157]](_),a=g[_$_33a9[1157]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0>=$||_>a||31536e6<a-_?e[_$_33a9[1138]]:360*(100-$)/($*DAYS360(_,a,!1))},$[_$_33a9[1731]]=null,$[_$_33a9[1732]]=function(_,a,$){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[1158]](g[_$_33a9[1147]](a)),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$))return e[_$_33a9[246]];for(var n=function(_,a,$){$+=1;for(var e=_[0],n=1;n<_[_$_33a9[9]];n++)e+=_[n]/Math[_$_33a9[1032]]($,DAYS(a[n],a[0])/365);return e},r=function(_,a,$){$+=1;for(var e=0,n=1;n<_[_$_33a9[9]];n++){var r=DAYS(a[n],a[0])/365;e-=r*_[n]/Math[_$_33a9[1032]]($,r+1)}return e},t=!1,u=!1,o=0;o<_[_$_33a9[9]];o++)0<_[o]&&(t=!0),0>_[o]&&(u=!0);if(!t||!u)return e[_$_33a9[1138]];$=$||.1,t=!0;do{t=$-(o=n(_,a,$))/r(_,a,$),u=Math[_$_33a9[1230]](t-$),$=t,t=1e-10<u&&1e-10<Math[_$_33a9[1230]](o)}while(t);return $},$[_$_33a9[1733]]=function(_,a,$){if(_=g[_$_33a9[966]](_),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),$=g[_$_33a9[1158]](g[_$_33a9[1147]]($)),g[_$_33a9[1159]](_,a,$))return e[_$_33a9[246]];for(var n=0,r=0;r<a[_$_33a9[9]];r++)n+=a[r]/Math[_$_33a9[1032]](1+_,DAYS($[r],$[0])/365);return n},$[_$_33a9[1734]]=null,$[_$_33a9[1735]]=null,$[_$_33a9[1736]]=null,$}(),q[_$_33a9[1276]]=function(){var _={};return _[_$_33a9[700]]=null,_[_$_33a9[1003]]={},_[_$_33a9[1003]][_$_33a9[1737]]=function(_){switch(_){case e[_$_33a9[1131]]:return 1;case e[_$_33a9[1133]]:return 2;case e[_$_33a9[246]]:return 3;case e[_$_33a9[1136]]:return 4;case e[_$_33a9[92]]:return 5;case e[_$_33a9[1138]]:return 6;case e[_$_33a9[1140]]:return 7;case e[_$_33a9[245]]:return 8}return e[_$_33a9[1140]]},_[_$_33a9[1738]]=null,_[_$_33a9[1739]]=function(_){return null===_},_[_$_33a9[1740]]=function(_){return/^[01]{1,10}$/[_$_33a9[1034]](_)},_[_$_33a9[1741]]=function(_){return 0<=[e[_$_33a9[246]],e[_$_33a9[1136]],e[_$_33a9[1133]],e[_$_33a9[1138]],e[_$_33a9[92]],e[_$_33a9[1131]]][_$_33a9[98]](_)||typeof _===_$_33a9[618]&&(isNaN(_)||!isFinite(_))},_[_$_33a9[1742]]=function(a){return _[_$_33a9[1741]](a)||a===e[_$_33a9[1140]]},_[_$_33a9[1743]]=function(_){return!(1&Math[_$_33a9[1177]](Math[_$_33a9[1230]](_)))},_[_$_33a9[1744]]=null,_[_$_33a9[1745]]=function(_){return!0===_||!1===_},_[_$_33a9[1746]]=function(_){return _===e[_$_33a9[1140]]},_[_$_33a9[1747]]=function(_){return typeof _!==_$_33a9[370]},_[_$_33a9[1748]]=function(_){return typeof _===_$_33a9[618]&&!isNaN(_)&&isFinite(_)},_[_$_33a9[1749]]=function(_){return!!(1&Math[_$_33a9[1177]](Math[_$_33a9[1230]](_)))},_[_$_33a9[1750]]=null,_[_$_33a9[1751]]=function(_){return typeof _===_$_33a9[370]},_[_$_33a9[1460]]=function(_){return this[_$_33a9[1748]](_)?_:_ instanceof Date?_[_$_33a9[89]]():!0===_?1:!1===_?0:this[_$_33a9[1742]](_)?_:0},_[_$_33a9[1752]]=function(){return e[_$_33a9[1140]]},_[_$_33a9[1753]]=null,_[_$_33a9[1754]]=null,_[_$_33a9[1737]]=function(_){return this[_$_33a9[1748]](_)?1:this[_$_33a9[1751]](_)?2:this[_$_33a9[1745]](_)?4:this[_$_33a9[1742]](_)?16:Array[_$_33a9[8]](_)?64:void 0},_}(),q[_$_33a9[1755]]=function(){var _={};return _[_$_33a9[1756]]=function(){for(var _=g[_$_33a9[1147]](arguments),a=!0,$=0;$<_[_$_33a9[9]];$++)_[$]||(a=!1);return a},_[_$_33a9[1757]]=function(){if(2>arguments[_$_33a9[9]])return e[_$_33a9[1140]];var _=arguments[0];return 1>_||254<_||arguments[_$_33a9[9]]<_+1?e[_$_33a9[246]]:arguments[_]},_[_$_33a9[704]]=function(){return!1},_[_$_33a9[1758]]=function(_,a,$){return _?a:$},_[_$_33a9[1759]]=function(_,a){return ISERROR(_)?a:_},_[_$_33a9[1760]]=function(_,a){return _===e[_$_33a9[1140]]?a:_},_[_$_33a9[1761]]=function(_){return!_},_[_$_33a9[1762]]=function(){for(var _=g[_$_33a9[1147]](arguments),a=!1,$=0;$<_[_$_33a9[9]];$++)_[$]&&(a=!0);return a},_[_$_33a9[703]]=function(){return!0},_[_$_33a9[1763]]=function(){for(var _=g[_$_33a9[1147]](arguments),a=0,$=0;$<_[_$_33a9[9]];$++)_[$]&&a++;return!!(1&Math[_$_33a9[1177]](Math[_$_33a9[1230]](a)))},_[_$_33a9[1764]]=function(){if(0<arguments[_$_33a9[9]]){var _=arguments[0],a=arguments[_$_33a9[9]]-1,$=Math[_$_33a9[1177]](a/2),e=!1;if(a=0==a%2?null:arguments[arguments[_$_33a9[9]]-1],$)for(var n=0;n<$;n++)if(_===arguments[2*n+1]){var r=arguments[2*n+2];e=!0;break}!e&&a&&(r=a)}return r},_}(),q[_$_33a9[1765]]=function(){var v={};v[_$_33a9[1766]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1230]](g[_$_33a9[966]](_))},v[_$_33a9[1767]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1768]](_)},v[_$_33a9[1769]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[199]](_+Math[_$_33a9[1634]](_*_-1))},v[_$_33a9[1770]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1645]](1/_)},v[_$_33a9[1771]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:.5*Math[_$_33a9[199]]((_+1)/(_-1))},v[_$_33a9[1772]]=null,v[_$_33a9[1773]]=function(_){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/[_$_33a9[1034]](_))return e[_$_33a9[246]];var a=0;return _[_$_33a9[573]](/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,(function(_){a+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[_]})),a},v[_$_33a9[1774]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1775]](_)},v[_$_33a9[1776]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[199]](_+Math[_$_33a9[1634]](_*_+1))},v[_$_33a9[1777]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1645]](_)},v[_$_33a9[1778]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:Math[_$_33a9[1779]](_,a)},v[_$_33a9[1780]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[199]]((1+_)/(1-_))/2},v[_$_33a9[1781]]=function(_,a,$){return $=$||0,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:($=void 0===$?0:$,_=_[_$_33a9[518]](a),Array(Math[_$_33a9[1007]]($+1-_[_$_33a9[9]],0))[_$_33a9[76]](_$_33a9[331])+_)},v[_$_33a9[1782]]=function(_,a,$){return a=void 0===a?1:a,$=void 0===$?0:$,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0===a?0:(a=Math[_$_33a9[1230]](a),0<=_?Math[_$_33a9[716]](_/a)*a:0===$?-1*Math[_$_33a9[1177]](Math[_$_33a9[1230]](_)/a)*a:-1*Math[_$_33a9[716]](Math[_$_33a9[1230]](_)/a)*a)},v[_$_33a9[1782]][_$_33a9[1783]]=v[_$_33a9[1782]],v[_$_33a9[1782]][_$_33a9[1625]]=v[_$_33a9[1782]],v[_$_33a9[1784]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:v[_$_33a9[1785]](_)/(v[_$_33a9[1785]](a)*v[_$_33a9[1785]](_-a))},v[_$_33a9[1786]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0===_&&0===a?1:v[_$_33a9[1784]](_+a-1,_-1)},v[_$_33a9[1787]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1648]](_)},v[_$_33a9[1788]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:(Math[_$_33a9[1649]](_)+Math[_$_33a9[1649]](-_))/2},v[_$_33a9[1789]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:1/Math[_$_33a9[1790]](_)},v[_$_33a9[1791]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:((_=Math[_$_33a9[1649]](2*_))+1)/(_-1)},v[_$_33a9[1792]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:1/Math[_$_33a9[1650]](_)},v[_$_33a9[1793]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:2/(Math[_$_33a9[1649]](_)-Math[_$_33a9[1649]](-_))},v[_$_33a9[1794]]=function(_,a){return 1>arguments[_$_33a9[9]]?e[_$_33a9[246]]:parseInt(_,a)},v[_$_33a9[1795]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:180*_/Math[_$_33a9[1644]]},v[_$_33a9[1796]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:v[_$_33a9[1782]](_,-2,-1)},v[_$_33a9[1797]]=Math[_$_33a9[1649]];var n=[];return v[_$_33a9[1785]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:0===(_=Math[_$_33a9[1177]](_))||1===_?1:(0<n[_]||(n[_]=v[_$_33a9[1785]](_-1)*_),n[_])},v[_$_33a9[1798]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:0>=(_=Math[_$_33a9[1177]](_))?1:_*v[_$_33a9[1798]](_-2)},v[_$_33a9[1799]]=function(_,a,$){return a=void 0===a?1:a,$=void 0===$?0:$,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:0===a?0:(a=Math[_$_33a9[1230]](a),0<=_?Math[_$_33a9[1177]](_/a)*a:0===$?-1*Math[_$_33a9[716]](Math[_$_33a9[1230]](_)/a)*a:-1*Math[_$_33a9[1177]](Math[_$_33a9[1230]](_)/a)*a)},v[_$_33a9[1799]][_$_33a9[1783]]=v[_$_33a9[1799]],v[_$_33a9[1800]]=null,v[_$_33a9[1801]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1177]](_)},v[_$_33a9[1802]]=function(){var _=g[_$_33a9[1154]](g[_$_33a9[1147]](arguments));if(_ instanceof Error)return _;for(var a,$,e,n=1;void 0!==(e=_[_$_33a9[1803]]());)for(;1<e;){if(e%2){for(a=3,$=Math[_$_33a9[1177]](Math[_$_33a9[1634]](e));a<=$&&e%a;a+=2);$=a<=$?a:e}else $=2;for(e/=$,n*=$,a=_[_$_33a9[9]];a;0==_[--a]%$&&1==(_[a]/=$)&&_[_$_33a9[575]](a,1));}return n},v[_$_33a9[1804]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[199]](_)},v[_$_33a9[1805]]=function(_,a){return _=g[_$_33a9[966]](_),a=void 0===a?10:g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:Math[_$_33a9[199]](_)/Math[_$_33a9[199]](a)},v[_$_33a9[1806]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[199]](_)/Math[_$_33a9[199]](10)},v[_$_33a9[1807]]=null,v[_$_33a9[1808]]=null,v[_$_33a9[1809]]=null,v[_$_33a9[1810]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0===a?e[_$_33a9[1133]]:(_=Math[_$_33a9[1230]](_%a),0<a?_:-_)},v[_$_33a9[1811]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0>_*a?e[_$_33a9[1138]]:Math[_$_33a9[992]](_/a)*a},v[_$_33a9[1812]]=function(){var _=g[_$_33a9[1154]](g[_$_33a9[1147]](arguments));if(_ instanceof Error)return _;for(var a=0,$=1,e=0;e<_[_$_33a9[9]];e++)a+=_[e],$*=v[_$_33a9[1785]](_[e]);return v[_$_33a9[1785]](a)/$},v[_$_33a9[1813]]=null,v[_$_33a9[1814]]=function(_){if((_=g[_$_33a9[966]](_))instanceof Error)return _;var a=Math[_$_33a9[716]](Math[_$_33a9[1230]](_));return a=1&a?a:a+1,0<_?a:-a},v[_$_33a9[1644]]=function(){return Math[_$_33a9[1644]]},v[_$_33a9[1815]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:(_=Math[_$_33a9[1032]](_,a),isNaN(_)?e[_$_33a9[1138]]:_)},v[_$_33a9[1816]]=function(){var _=g[_$_33a9[1154]](g[_$_33a9[1147]](arguments));if(_ instanceof Error)return _;for(var a=1,$=0;$<_[_$_33a9[9]];$++)a*=_[$];return a},v[_$_33a9[1817]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:parseInt(_/a,10)},v[_$_33a9[1818]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:_*Math[_$_33a9[1644]]/180},v[_$_33a9[1819]]=function(){return Math[_$_33a9[1045]]()},v[_$_33a9[1820]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:_+Math[_$_33a9[716]]((a-_+1)*Math[_$_33a9[1045]]())-1},v[_$_33a9[1821]]=null,v[_$_33a9[1822]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:Math[_$_33a9[992]](_*Math[_$_33a9[1032]](10,a))/Math[_$_33a9[1032]](10,a)},v[_$_33a9[1823]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:(0<_?1:-1)*Math[_$_33a9[1177]](Math[_$_33a9[1230]](_)*Math[_$_33a9[1032]](10,a))/Math[_$_33a9[1032]](10,a)},v[_$_33a9[1824]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:(0<_?1:-1)*Math[_$_33a9[716]](Math[_$_33a9[1230]](_)*Math[_$_33a9[1032]](10,a))/Math[_$_33a9[1032]](10,a)},v[_$_33a9[1825]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:1/Math[_$_33a9[1648]](_)},v[_$_33a9[1826]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:2/(Math[_$_33a9[1649]](_)+Math[_$_33a9[1649]](-_))},v[_$_33a9[1827]]=function(_,a,$,n){if(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),n=g[_$_33a9[1154]](n),g[_$_33a9[1159]](_,a,$,n))return e[_$_33a9[246]];for(var r=n[0]*Math[_$_33a9[1032]](_,a),t=1;t<n[_$_33a9[9]];t++)r+=n[t]*Math[_$_33a9[1032]](_,a+t*$);return r},v[_$_33a9[1828]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:0>_?-1:0===_?0:1},v[_$_33a9[1829]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1650]](_)},v[_$_33a9[1830]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:(Math[_$_33a9[1649]](_)-Math[_$_33a9[1649]](-_))/2},v[_$_33a9[1831]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:0>_?e[_$_33a9[1138]]:Math[_$_33a9[1634]](_)},v[_$_33a9[1832]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1634]](_*Math[_$_33a9[1644]])},v[_$_33a9[1833]]=null,v[_$_33a9[1834]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:_+a)},v[_$_33a9[1835]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:_-a)},v[_$_33a9[1836]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:0===a?e[_$_33a9[1133]]:_/a)},v[_$_33a9[1837]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:_*a)},v[_$_33a9[1838]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[14]]:_>=a)},v[_$_33a9[1839]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[14]]:_<a)},v[_$_33a9[1840]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[14]]:_<=a)},v[_$_33a9[1841]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:_===a},v[_$_33a9[1842]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:_!==a},v[_$_33a9[1843]]=function(_,a){return 2!==arguments[_$_33a9[9]]?e[_$_33a9[1140]]:(_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[14]]:v[_$_33a9[1815]](_,a))},v[_$_33a9[1844]]=function(){for(var _=0,a=Object[_$_33a9[119]](arguments),$=0;$<a[_$_33a9[9]];++$){var e=arguments[a[$]];typeof e===_$_33a9[618]?_+=e:typeof e===_$_33a9[370]?(e=parseFloat(e),!isNaN(e)&&(_+=e)):Array[_$_33a9[8]](e)&&(_+=v[_$_33a9[1844]][_$_33a9[77]](null,e))}return _},v[_$_33a9[1845]]=function(){var c=g[_$_33a9[1148]](arguments),f=c[_$_33a9[1803]]();if(c=g[_$_33a9[1154]](g[_$_33a9[1147]](c)),c instanceof Error)return c;for(var l=0,r=0;r<c[_$_33a9[9]];r++)l+=eval(c[r]+f)?c[r]:0;return l},v[_$_33a9[1846]]=function(){var c=g[_$_33a9[1148]](arguments),f=g[_$_33a9[1154]](g[_$_33a9[1147]](c[_$_33a9[853]]()));if(f instanceof Error)return f;for(var l=f[_$_33a9[9]],r=c[_$_33a9[9]],z=0,B=0;B<l;B++){for(var F=f[B],K=_$_33a9[75],b=0;b<r;b+=2)K=isNaN(c[b][B])?K+(_$_33a9[744]+c[b][B]+_$_33a9[744]+c[b+1]):K+(c[b][B]+c[b+1]),b!==r-1&&(K+=_$_33a9[1847]);K=K[_$_33a9[285]](0,-4),eval(K)&&(z+=F)}return z},v[_$_33a9[1848]]=null,v[_$_33a9[1849]]=function(){var _=g[_$_33a9[1154]](g[_$_33a9[1147]](arguments));if(_ instanceof Error)return _;for(var a=0,$=_[_$_33a9[9]],e=0;e<$;e++)a+=ISNUMBER(_[e])?_[e]*_[e]:0;return a},v[_$_33a9[1850]]=function(_,a){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];for(var $=0,n=0;n<_[_$_33a9[9]];n++)$+=_[n]*_[n]-a[n]*a[n];return $},v[_$_33a9[1851]]=function(_,a){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];var $=0;_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a));for(var n=0;n<_[_$_33a9[9]];n++)$+=_[n]*_[n]+a[n]*a[n];return $},v[_$_33a9[1852]]=function(_,a){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];var $=0;_=g[_$_33a9[1147]](_),a=g[_$_33a9[1147]](a);for(var n=0;n<_[_$_33a9[9]];n++)$+=Math[_$_33a9[1032]](_[n]-a[n],2);return $},v[_$_33a9[1853]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[1790]](_)},v[_$_33a9[1854]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:((_=Math[_$_33a9[1649]](2*_))-1)/(_+1)},v[_$_33a9[1855]]=function(_,a){return a=void 0===a?0:a,_=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:(0<_?1:-1)*Math[_$_33a9[1177]](Math[_$_33a9[1230]](_)*Math[_$_33a9[1032]](10,a))/Math[_$_33a9[1032]](10,a)},v}(),q[_$_33a9[1856]]=function(){var _={};return _[_$_33a9[1857]]=function(){for(var _=[],a=0;a<arguments[_$_33a9[9]];++a){for(var $=!1,e=arguments[a],n=0;n<_[_$_33a9[9]]&&!($=_[n]===e);++n);$||_[_$_33a9[10]](e)}return _},_[_$_33a9[1858]]=g[_$_33a9[1147]],_[_$_33a9[1859]]=function(){return Array[_$_33a9[286]][_$_33a9[285]][_$_33a9[284]](arguments,0)},_[_$_33a9[1860]]=function(_,a){try{var $=a[_$_33a9[86]](_$_33a9[96]);for(a=0;a<$[_$_33a9[9]];++a){var e=$[a];if(e[e[_$_33a9[9]]-1]===_$_33a9[689]){var n=e[_$_33a9[98]](_$_33a9[688]),r=e[_$_33a9[120]](n+1,e[_$_33a9[9]]-1);_=_[e[_$_33a9[120]](0,n)][r]}else _=_[e]}return _}catch(_){}},_[_$_33a9[1861]]=function(_,a){return _[_$_33a9[76]](a)},_[_$_33a9[1862]]=function(){return g[_$_33a9[1147]](arguments)[_$_33a9[216]]((function(_){return typeof _===_$_33a9[618]}))},_[_$_33a9[1863]]=null,_}(),q[_$_33a9[186]]=function(){var _={};return _[_$_33a9[1864]]=null,_[_$_33a9[1865]]=null,_[_$_33a9[1866]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:String[_$_33a9[80]](_)},_[_$_33a9[1867]]=function(_){return(_=_||_$_33a9[75])[_$_33a9[573]](/[\0-\x1F]/g,_$_33a9[75])},_[_$_33a9[1868]]=function(_){return(_=_||_$_33a9[75])[_$_33a9[79]](0)},_[_$_33a9[1869]]=function(){for(var _,a=g[_$_33a9[1147]](arguments);-1<(_=a[_$_33a9[98]](!0));)a[_]=_$_33a9[703];for(;-1<(_=a[_$_33a9[98]](!1));)a[_]=_$_33a9[704];return a[_$_33a9[76]](_$_33a9[75])},_[_$_33a9[1870]]=null,_[_$_33a9[1871]]=null,_[_$_33a9[1872]]=function(_,a){return _===a},_[_$_33a9[1873]]=function(_,a,$){return a?a[_$_33a9[98]](_,(void 0===$?0:$)-1)+1:null},_[_$_33a9[1874]]=null,_[_$_33a9[1875]]=function(_){var a=_$_33a9[75];return _&&(_ instanceof Array?_[_$_33a9[1876]]((function(_){a!==_$_33a9[75]&&(a+=_$_33a9[797]),a+=_[_$_33a9[573]](/<(?:.|\n)*?>/gm,_$_33a9[75])})):a=_[_$_33a9[573]](/<(?:.|\n)*?>/gm,_$_33a9[75])),a},_[_$_33a9[1877]]=function(_,a){return(a=g[_$_33a9[966]](void 0===a?1:a))instanceof Error||typeof _!==_$_33a9[370]?e[_$_33a9[246]]:_?_[_$_33a9[120]](0,a):null},_[_$_33a9[1878]]=function(_){return 0===arguments[_$_33a9[9]]?e[_$_33a9[14]]:typeof _===_$_33a9[370]?_?_[_$_33a9[9]]:0:_[_$_33a9[9]]?_[_$_33a9[9]]:e[_$_33a9[246]]},_[_$_33a9[1879]]=function(_){return typeof _!==_$_33a9[370]?e[_$_33a9[246]]:_?_[_$_33a9[620]]():_},_[_$_33a9[1880]]=function(_,a,$){return a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](a,$)||typeof _!==_$_33a9[370]?$:(--a,_[_$_33a9[120]](a,a+$))},_[_$_33a9[1881]]=null,_[_$_33a9[1882]]=null,_[_$_33a9[1883]]=function(_){return void 0===_||0===_[_$_33a9[9]]?e[_$_33a9[246]]:(!0===_&&(_=_$_33a9[703]),!1===_&&(_=_$_33a9[704]),isNaN(_)&&typeof _===_$_33a9[618]?e[_$_33a9[246]]:(typeof _===_$_33a9[618]&&(_=_$_33a9[75]+_),_[_$_33a9[573]](/\w\S*/g,(function(_){return _[_$_33a9[1884]](0)[_$_33a9[571]]()+_[_$_33a9[564]](1)[_$_33a9[620]]()}))))},_[_$_33a9[1885]]=function(_,a){return(_=_[_$_33a9[690]](new RegExp(a)))?_[1<_[_$_33a9[9]]?_[_$_33a9[9]]-1:0]:null},_[_$_33a9[1886]]=function(_,a,$){return _=_[_$_33a9[690]](new RegExp(a)),$?_:!!_},_[_$_33a9[1887]]=function(_,a,$){return _[_$_33a9[573]](new RegExp(a),$)},_[_$_33a9[1888]]=function(_,a,$,n){return a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](a,$)||typeof _!==_$_33a9[370]||typeof n!==_$_33a9[370]?e[_$_33a9[246]]:_[_$_33a9[564]](0,a-1)+n+_[_$_33a9[564]](a-1+$)},_[_$_33a9[1889]]=function(_,a){return(a=g[_$_33a9[966]](a))instanceof Error?a:Array(a+1)[_$_33a9[76]](_)},_[_$_33a9[1890]]=function(_,a){return(a=g[_$_33a9[966]](void 0===a?1:a))instanceof Error?a:_?_[_$_33a9[120]](_[_$_33a9[9]]-a):null},_[_$_33a9[1891]]=function(_,a,$){return typeof _!==_$_33a9[370]||typeof a!==_$_33a9[370]?e[_$_33a9[246]]:($=void 0===$?0:$,0===(_=a[_$_33a9[620]]()[_$_33a9[98]](_[_$_33a9[620]](),$-1)+1)?e[_$_33a9[246]]:_)},_[_$_33a9[1892]]=function(_,a){return _[_$_33a9[86]](a)},_[_$_33a9[1893]]=function(_,a,$,e){if(!(_&&a&&$))return _;if(void 0===e)return _[_$_33a9[573]](new RegExp(a,_$_33a9[745]),$);for(var n=0,r=0;0<_[_$_33a9[98]](a,n);)if(n=_[_$_33a9[98]](a,n+1),++r===e)return _[_$_33a9[120]](0,n)+$+_[_$_33a9[120]](n+a[_$_33a9[9]])},_[_$_33a9[1184]]=function(_){return typeof _===_$_33a9[370]?_:_$_33a9[75]},_[_$_33a9[1894]]=null,_[_$_33a9[1895]]=function(_){return typeof _!==_$_33a9[370]?e[_$_33a9[246]]:_[_$_33a9[573]](/ +/g,_$_33a9[572])[_$_33a9[605]]()},_[_$_33a9[1896]]=_[_$_33a9[1866]],_[_$_33a9[1897]]=_[_$_33a9[1868]],_[_$_33a9[1898]]=function(_){return typeof _!==_$_33a9[370]?e[_$_33a9[246]]:_[_$_33a9[571]]()},_[_$_33a9[701]]=null,_}(),q[_$_33a9[1899]]=function(){var v={};return v[_$_33a9[1900]]=null,v[_$_33a9[1901]]=function(){for(var _=g[_$_33a9[1150]](g[_$_33a9[1147]](arguments)),a=_[_$_33a9[9]],$=0,e=0,n=0;n<a;n++)$+=_[n],e+=1;return $/e},v[_$_33a9[1902]]=function(){for(var _=g[_$_33a9[1147]](arguments),a=_[_$_33a9[9]],$=0,e=0,n=0;n<a;n++){var r=_[n];typeof r===_$_33a9[618]&&($+=r),!0===r&&$++,null!==r&&e++}return $/e},v[_$_33a9[1903]]=function(n,c,f){if(f=f||n,n=g[_$_33a9[1147]](n),f=g[_$_33a9[1154]](g[_$_33a9[1147]](f)),f instanceof Error)return f;for(var l=0,r=0,z=0;z<n[_$_33a9[9]];z++)eval(n[z]+c)&&(r+=f[z],l++);return r/l},v[_$_33a9[1904]]=null,v[_$_33a9[1905]]=function(){return g[_$_33a9[1150]](g[_$_33a9[1147]](arguments))[_$_33a9[9]]},v[_$_33a9[1906]]=function(){var _=g[_$_33a9[1147]](arguments);return _[_$_33a9[9]]-v[_$_33a9[1907]](_)},v[_$_33a9[1908]]=function(_,a){for(var $=0,e=0;e<_[_$_33a9[9]];e++)_[e]===a&&$++;return $},v[_$_33a9[1907]]=function(){for(var _,a=g[_$_33a9[1147]](arguments),$=0,e=0;e<a[_$_33a9[9]];e++)null!==(_=a[e])&&_!==_$_33a9[75]||$++;return $},v[_$_33a9[1909]]=function(){var n=g[_$_33a9[1148]](arguments),c=n[_$_33a9[1803]]();n=g[_$_33a9[1147]](n),/[<>=!]/[_$_33a9[1034]](c)||(c=_$_33a9[1910]+c+_$_33a9[744]);for(var f=0,l=0;l<n[_$_33a9[9]];l++)typeof n[l]!==_$_33a9[370]?eval(n[l]+c)&&f++:eval(_$_33a9[744]+n[l]+_$_33a9[744]+c)&&f++;return f},v[_$_33a9[1911]]=function(){for(var n=g[_$_33a9[1148]](arguments),c=Array(g[_$_33a9[1147]](n[0])[_$_33a9[9]]),f=0;f<c[_$_33a9[9]];f++)c[f]=!0;for(f=0;f<n[_$_33a9[9]];f+=2){var l=g[_$_33a9[1147]](n[f]),r=n[f+1];/[<>=!]/[_$_33a9[1034]](r)||(r=_$_33a9[1910]+r+_$_33a9[744]);for(var z=0;z<l[_$_33a9[9]];z++)c[z]=typeof l[z]!==_$_33a9[370]?c[z]&&eval(l[z]+r):c[z]&&eval(_$_33a9[744]+l[z]+_$_33a9[744]+r)}for(f=n=0;f<c[_$_33a9[9]];f++)c[f]&&n++;return n},v[_$_33a9[1912]]=function(){return UNIQUE[_$_33a9[77]](null,g[_$_33a9[1147]](arguments))[_$_33a9[9]]},v[_$_33a9[1913]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:Math[_$_33a9[199]]((1+_)/(1-_))/2},v[_$_33a9[1914]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?_:((_=Math[_$_33a9[1649]](2*_))-1)/(_+1)},v[_$_33a9[1915]]=function(_,a){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];for(var $=_[_$_33a9[9]],n=a[_$_33a9[9]],r=[],t=0;t<=n;t++)for(var u=r[t]=0;u<$;u++)0===t?_[u]<=a[0]&&(r[0]+=1):t<n?_[u]>a[t-1]&&_[u]<=a[t]&&(r[t]+=1):t===n&&_[u]>a[n-1]&&(r[n]+=1);return r},v[_$_33a9[1916]]=function(_,a){return _=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?_:_[_$_33a9[621]]((function(_,a){return a-_}))[a-1]},v[_$_33a9[1917]]=function(){var _=g[_$_33a9[1150]](g[_$_33a9[1147]](arguments));return 0===_[_$_33a9[9]]?0:Math[_$_33a9[1007]][_$_33a9[77]](Math,_)},v[_$_33a9[1918]]=function(){var _=g[_$_33a9[1160]](g[_$_33a9[1147]](arguments));return 0===_[_$_33a9[9]]?0:Math[_$_33a9[1007]][_$_33a9[77]](Math,_)},v[_$_33a9[1919]]=function(){var _=g[_$_33a9[1150]](g[_$_33a9[1147]](arguments));return 0===_[_$_33a9[9]]?0:Math[_$_33a9[1006]][_$_33a9[77]](Math,_)},v[_$_33a9[1920]]=function(){var _=g[_$_33a9[1160]](g[_$_33a9[1147]](arguments));return 0===_[_$_33a9[9]]?0:Math[_$_33a9[1006]][_$_33a9[77]](Math,_)},v[_$_33a9[1921]]={},v[_$_33a9[1921]][_$_33a9[1922]]=function(){var _=g[_$_33a9[1154]](g[_$_33a9[1147]](arguments));if(_ instanceof Error)return _;for(var a,$=_[_$_33a9[9]],e={},n=[],r=0,t=0;t<$;t++)e[a=_[t]]=e[a]?e[a]+1:1,e[a]>r&&(r=e[a],n=[]),e[a]===r&&(n[n[_$_33a9[9]]]=a);return n},v[_$_33a9[1921]][_$_33a9[1923]]=function(){var _=g[_$_33a9[1154]](g[_$_33a9[1147]](arguments));return _ instanceof Error?_:v[_$_33a9[1921]][_$_33a9[1922]](_)[_$_33a9[621]]((function(_,a){return _-a}))[0]},v[_$_33a9[1924]]={},v[_$_33a9[1924]][_$_33a9[1925]]=function(_,a){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];var $=(_=_[_$_33a9[621]]((function(_,a){return _-a})))[_$_33a9[9]];return a<1/($+1)||a>1-1/($+1)?e[_$_33a9[1138]]:(a=a*($+1)-1,$=Math[_$_33a9[1177]](a),g[_$_33a9[1151]](a===$?_[a]:_[$]+(a-$)*(_[$+1]-_[$])))},v[_$_33a9[1924]][_$_33a9[1926]]=function(_,a){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];a*=(_=_[_$_33a9[621]]((function(_,a){return _-a})))[_$_33a9[9]]-1;var $=Math[_$_33a9[1177]](a);return g[_$_33a9[1151]](a===$?_[a]:_[$]+(a-$)*(_[$+1]-_[$]))},v[_$_33a9[1927]]={},v[_$_33a9[1927]][_$_33a9[1925]]=function(_,a,$){if($=void 0===$?3:$,_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$))return e[_$_33a9[246]];_=_[_$_33a9[621]]((function(_,a){return _-a}));var n=UNIQUE[_$_33a9[77]](null,_),r=_[_$_33a9[9]],t=n[_$_33a9[9]];$=Math[_$_33a9[1032]](10,$);for(var u=0,o=!1,i=0;!o&&i<t;)a===n[i]?(u=(_[_$_33a9[98]](n[i])+1)/(r+1),o=!0):a>=n[i]&&(a<n[i+1]||i===t-1)&&(u=(_[_$_33a9[98]](n[i])+1+(a-n[i])/(n[i+1]-n[i]))/(r+1),o=!0),i++;return Math[_$_33a9[1177]](u*$)/$},v[_$_33a9[1927]][_$_33a9[1926]]=function(_,a,$){if($=void 0===$?3:$,_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$))return e[_$_33a9[246]];_=_[_$_33a9[621]]((function(_,a){return _-a}));var n=UNIQUE[_$_33a9[77]](null,_),r=_[_$_33a9[9]],t=n[_$_33a9[9]];$=Math[_$_33a9[1032]](10,$);for(var u=0,o=!1,i=0;!o&&i<t;)a===n[i]?(u=_[_$_33a9[98]](n[i])/(r-1),o=!0):a>=n[i]&&(a<n[i+1]||i===t-1)&&(u=(_[_$_33a9[98]](n[i])+(a-n[i])/(n[i+1]-n[i]))/(r-1),o=!0),i++;return Math[_$_33a9[1177]](u*$)/$},v[_$_33a9[1928]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:FACT(_)/FACT(_-a)},v[_$_33a9[1929]]=function(_,a){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:Math[_$_33a9[1032]](_,a)},v[_$_33a9[1930]]=function(_){return(_=g[_$_33a9[966]](_))instanceof Error?e[_$_33a9[246]]:Math[_$_33a9[1649]](-.5*_*_)/2.5066282746310002},v[_$_33a9[1931]]=function(_,a,$,n){if(void 0===$)return 0;if(n=void 0===n?$:n,_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),$=g[_$_33a9[966]]($),n=g[_$_33a9[966]](n),g[_$_33a9[1159]](_,a,$,n))return e[_$_33a9[246]];if($===n)return 0<=_[_$_33a9[98]]($)?a[_[_$_33a9[98]]($)]:0;for(var r=_[_$_33a9[621]]((function(_,a){return _-a})),t=r[_$_33a9[9]],u=0,o=0;o<t;o++)r[o]>=$&&r[o]<=n&&(u+=a[_[_$_33a9[98]](r[o])]);return u},v[_$_33a9[1932]]={},v[_$_33a9[1932]][_$_33a9[1925]]=function(_,a){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];switch(a){case 1:return v[_$_33a9[1924]][_$_33a9[1925]](_,.25);case 2:return v[_$_33a9[1924]][_$_33a9[1925]](_,.5);case 3:return v[_$_33a9[1924]][_$_33a9[1925]](_,.75);default:return e[_$_33a9[1138]]}},v[_$_33a9[1932]][_$_33a9[1926]]=function(_,a){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];switch(a){case 1:return v[_$_33a9[1924]][_$_33a9[1926]](_,.25);case 2:return v[_$_33a9[1924]][_$_33a9[1926]](_,.5);case 3:return v[_$_33a9[1924]][_$_33a9[1926]](_,.75);default:return e[_$_33a9[1138]]}},v[_$_33a9[1933]]={},v[_$_33a9[1933]][_$_33a9[1934]]=function(_,a,$){if(_=g[_$_33a9[966]](_),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];$=(a=(a=g[_$_33a9[1147]](a))[_$_33a9[621]]($?function(_,a){return _-a}:function(_,a){return a-_}))[_$_33a9[9]];for(var n=0,r=0;r<$;r++)a[r]===_&&n++;return 1<n?(2*a[_$_33a9[98]](_)+n+1)/2:a[_$_33a9[98]](_)+1},v[_$_33a9[1933]][_$_33a9[1841]]=function(_,a,$){return _=g[_$_33a9[966]](_),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:(a=a[_$_33a9[621]]($?function(_,a){return _-a}:function(_,a){return a-_}))[_$_33a9[98]](_)+1},v[_$_33a9[1935]]=function(_,a){return _=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[1154]](g[_$_33a9[1147]](a)),g[_$_33a9[1159]](_,a)?e[_$_33a9[246]]:Math[_$_33a9[1032]](v[_$_33a9[1936]](_,a),2)},v[_$_33a9[1937]]=function(_,a){return _=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a)?_:_[_$_33a9[621]]((function(_,a){return _-a}))[a-1]},v[_$_33a9[1938]]=function(_,a,$){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:(_-a)/$},v[_$_33a9[1939]]={},v[_$_33a9[1939]][_$_33a9[1183]]=function(){var _=v[_$_33a9[1940]][_$_33a9[1183]][_$_33a9[77]](this,arguments);return Math[_$_33a9[1634]](_)},v[_$_33a9[1939]][_$_33a9[1182]]=function(){var _=v[_$_33a9[1940]][_$_33a9[1182]][_$_33a9[77]](this,arguments);return Math[_$_33a9[1634]](_)},v[_$_33a9[1941]]=function(){var _=v[_$_33a9[1942]][_$_33a9[77]](this,arguments);return Math[_$_33a9[1634]](_)},v[_$_33a9[1943]]=function(){var _=v[_$_33a9[1944]][_$_33a9[77]](this,arguments);return Math[_$_33a9[1634]](_)},v[_$_33a9[1940]]={},v[_$_33a9[1940]][_$_33a9[1183]]=function(){for(var _=g[_$_33a9[1150]](g[_$_33a9[1147]](arguments)),a=_[_$_33a9[9]],$=0,e=v[_$_33a9[1901]](_),n=0;n<a;n++)$+=Math[_$_33a9[1032]](_[n]-e,2);return $/a},v[_$_33a9[1940]][_$_33a9[1182]]=function(){for(var _=g[_$_33a9[1150]](g[_$_33a9[1147]](arguments)),a=_[_$_33a9[9]],$=0,e=v[_$_33a9[1901]](_),n=0;n<a;n++)$+=Math[_$_33a9[1032]](_[n]-e,2);return $/(a-1)},v[_$_33a9[1942]]=function(){for(var _=g[_$_33a9[1147]](arguments),a=_[_$_33a9[9]],$=0,e=0,n=v[_$_33a9[1902]](_),r=0;r<a;r++){var t=_[r];$=typeof t===_$_33a9[618]?$+Math[_$_33a9[1032]](t-n,2):!0===t?$+Math[_$_33a9[1032]](1-n,2):$+Math[_$_33a9[1032]](0-n,2),null!==t&&e++}return $/(e-1)},v[_$_33a9[1944]]=function(){for(var _=g[_$_33a9[1147]](arguments),a=_[_$_33a9[9]],$=0,e=0,n=v[_$_33a9[1902]](_),r=0;r<a;r++){var t=_[r];$=typeof t===_$_33a9[618]?$+Math[_$_33a9[1032]](t-n,2):!0===t?$+Math[_$_33a9[1032]](1-n,2):$+Math[_$_33a9[1032]](0-n,2),null!==t&&e++}return $/e},v[_$_33a9[1945]]={},v[_$_33a9[1945]][_$_33a9[1946]]=function(_,a,$,n){return _=g[_$_33a9[966]](_),a=g[_$_33a9[966]](a),$=g[_$_33a9[966]]($),g[_$_33a9[1159]](_,a,$)?e[_$_33a9[246]]:n?1-Math[_$_33a9[1649]](-Math[_$_33a9[1032]](_/$,a)):Math[_$_33a9[1032]](_,a-1)*Math[_$_33a9[1649]](-Math[_$_33a9[1032]](_/$,a))*a/Math[_$_33a9[1032]]($,a)},v[_$_33a9[1602]]={},v[_$_33a9[1602]][_$_33a9[1947]]=function(_,a,$){if(_=g[_$_33a9[1154]](g[_$_33a9[1147]](_)),a=g[_$_33a9[966]](a),g[_$_33a9[1159]](_,a))return e[_$_33a9[246]];$=$||v[_$_33a9[1939]][_$_33a9[1182]](_);var n=_[_$_33a9[9]];return 1-v[_$_33a9[1948]][_$_33a9[1182]][_$_33a9[1946]]((v[_$_33a9[1901]](_)-a)/($/Math[_$_33a9[1634]](n)),!0)},v}(),q[_$_33a9[1949]]=function(){var _={};return _[_$_33a9[1950]]=function(_,a){return _$_33a9[1951]+(_||_$_33a9[331])+_$_33a9[1952]+(a||_$_33a9[960])+_$_33a9[1953]},_[_$_33a9[1954]]=function(_){for(var a=_$_33a9[1955],$=0;5>$;$++)a=$<_?a+_$_33a9[1956]:a+_$_33a9[1957];return a+_$_33a9[1021]},_}();for(var u=0;u<Object[_$_33a9[119]](q)[_$_33a9[9]];u++)for(var x=q[Object[_$_33a9[119]](q)[u]],a=Object[_$_33a9[119]](x),A=0;A<a[_$_33a9[9]];A++)if(x[a[A]])if(typeof x[a[A]]==_$_33a9[12]||typeof x[a[A]]==_$_33a9[449]){if(window[a[A]]=x[a[A]],window[a[A]][_$_33a9[518]]=function(){return _$_33a9[693]},typeof x[a[A]]==_$_33a9[449])for(var H=Object[_$_33a9[119]](x[a[A]]),J=0;J<H[_$_33a9[9]];J++)window[a[A]][H[J]][_$_33a9[518]]=function(){return _$_33a9[693]}}else window[a[A]]=function(){return a[A]+_$_33a9[1958]};else window[a[A]]=function(){return a[A]+_$_33a9[1958]};p[_$_33a9[632]]=null},p}));
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jSuites=t()}(this,(function(){"use strict";var e=function(t){var n={},i=function(e,t){return!(!e[t.type]||e[t.type]!=t)||!!e.parentNode&&i(e.parentNode,t)};return n.init=function(){var t=null;document.addEventListener("mousedown",(function(e){if(e.changedTouches&&e.changedTouches[0])var n=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY;else n=e.clientX,i=e.clientY;if(e.target&&e.target.shadowRoot)var o=e.target.shadowRoot;else o=document;t=o.elementFromPoint(n,i)})),document.addEventListener("click",(function(n){!function(t){if(e.current.length>0)for(var n=0;n<e.current.length;n++)e.current[n]&&!i(t,e.current[n])&&e.current[n].close()}(t)})),n.version="4.9.21"},n.setExtensions=function(e){if("object"==typeof e)for(var t=Object.keys(e),i=0;i<t.length;i++)n[t[i]]=e[t[i]]},n.tracking=function(t,n){if(1==n)e.current=e.current.filter((function(e){return null!==e})),setTimeout((function(){e.current.push(t)}),0);else{var i=e.current.indexOf(t);i>=0&&(e.current[i]=null)}},n.path=function(e,t){if((e=e.split(".")).length){for(var n=this,i=null;e.length>1;)if(i=e.shift(),n.hasOwnProperty(i))n=n[i];else{if(void 0===t)return;n[i]={},n=n[i]}if(i=e.shift(),void 0!==t)return n[i]=t,!0;if(n)return n[i]}return!1},n.setDictionary=function(t){if(0==(i=Object.keys(n.dictionary)).length)n.dictionary=t;else for(var i=Object.keys(t),o=0;o<i.length;o++)n.dictionary[i[o]]=t[i[o]];var a=null;for(o=0;o<e.calendar.weekdays.length;o++)a=e.translate(e.calendar.weekdays[o]),e.calendar.weekdays[o]&&(e.calendar.weekdays[o]=a,e.calendar.weekdaysShort[o]=a.substr(0,3));for(o=0;o<e.calendar.months.length;o++)(a=e.translate(e.calendar.months[o]))&&(e.calendar.months[o]=a,e.calendar.monthsShort[o]=a.substr(0,3))},n.dictionary={},n.translate=function(e){return n.dictionary[e]||e},n.current=[],n}();"undefined"!=typeof document&&e.init(),e.ajax=function(t,n){if(Array.isArray(t)){var i={instance:[],complete:n};if(t.length>0)for(var o=0;o<t.length;o++)t[o].multiple=i,i.instance.push(e.ajax(t[o]));return i}if(t.data||(t.data={}),t.type&&(t.method=t.type),t.method||(t.method="GET"),t.dataType||(t.dataType="json"),t.data){var a=function(e,t){var n=[],i=Object.keys(e);if(i.length)for(var o=0;o<i.length;o++){if(t)var r=t+"["+i[o]+"]";else r=i[o];if("object"==typeof e[i[o]])for(var s=a(e[i[o]],r),l=Object.keys(s),d=0;d<l.length;d++)n[l[d]]=s[l[d]];else n[r]=e[i[o]]}return n},r=[],s=a(t.data),l=Object.keys(s);for(o=0;o<l.length;o++)r.push(l[o]+"="+encodeURIComponent(s[l[o]]));"GET"==t.method&&r.length>0&&(t.url.indexOf("?")<0&&(t.url+="?"),t.url+=r.join("&"))}var d=new XMLHttpRequest;return d.open(t.method,t.url,!0),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==t.method?(d.setRequestHeader("Accept","application/json"),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==t.dataType?d.setRequestHeader("Content-Type","text/json"):"blob"==t.dataType?d.responseType="blob":"html"==t.dataType&&d.setRequestHeader("Content-Type","text/html"),1!=t.cache&&(d.setRequestHeader("pragma","no-cache"),d.setRequestHeader("cache-control","no-cache")),1==t.withCredentials&&(d.withCredentials=!0),"function"==typeof t.beforeSend&&t.beforeSend(d),d.onload=function(){if(200===d.status)if("json"==t.dataType)try{var n=JSON.parse(d.responseText);t.success&&"function"==typeof t.success&&t.success(n)}catch(e){t.error&&"function"==typeof t.error&&t.error(e,n)}else{if("blob"==t.dataType)n=d.response;else n=d.responseText;t.success&&"function"==typeof t.success&&t.success(n)}else t.error&&"function"==typeof t.error&&t.error(d.responseText,d.status);if(e.ajax.queue&&e.ajax.queue.length>0&&e.ajax.send(e.ajax.queue.shift()),e.ajax.requests&&e.ajax.requests.length){var i=e.ajax.requests.indexOf(d);if(e.ajax.requests.splice(i,1),e.ajax.requests.length||t.complete&&"function"==typeof t.complete&&t.complete(n),t.group&&e.ajax.oncomplete&&"function"==typeof e.ajax.oncomplete[t.group]&&(e.ajax.pending(t.group)||(e.ajax.oncomplete[t.group](),e.ajax.oncomplete[t.group]=null)),t.multiple&&t.multiple.instance){i=t.multiple.instance.indexOf(d);t.multiple.instance.splice(i,1),t.multiple.instance.length||t.multiple.complete&&"function"==typeof t.multiple.complete&&t.multiple.complete(n)}}},d.options=t,d.data=r,1==t.queue&&e.ajax.requests.length>0?e.ajax.queue.push(d):e.ajax.send(d),d},e.ajax.send=function(t){t.data?t.send(t.data.join("&")):t.send(),e.ajax.requests.push(t)},e.ajax.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},e.ajax.pending=function(t){var n=0,i=e.ajax.requests;if(i&&i.length)for(var o=0;o<i.length;o++)t&&t!=i[o].options.group||n++;return n},e.ajax.oncomplete={},e.ajax.requests=[],e.ajax.queue=[],e.alert=function(t){e.getWindowWidth()<800&&e.dialog?e.dialog.open({title:"Alert",message:t}):alert(t)},e.animation={},e.animation.slideLeft=function(e,t,n){1==t?(e.classList.add("slide-left-in"),setTimeout((function(){e.classList.remove("slide-left-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-left-out"),setTimeout((function(){e.classList.remove("slide-left-out"),"function"==typeof n&&n()}),400))},e.animation.slideRight=function(e,t,n){1==t?(e.classList.add("slide-right-in"),setTimeout((function(){e.classList.remove("slide-right-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-right-out"),setTimeout((function(){e.classList.remove("slide-right-out"),"function"==typeof n&&n()}),400))},e.animation.slideTop=function(e,t,n){1==t?(e.classList.add("slide-top-in"),setTimeout((function(){e.classList.remove("slide-top-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-top-out"),setTimeout((function(){e.classList.remove("slide-top-out"),"function"==typeof n&&n()}),400))},e.animation.slideBottom=function(e,t,n){1==t?(e.classList.add("slide-bottom-in"),setTimeout((function(){e.classList.remove("slide-bottom-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-bottom-out"),setTimeout((function(){e.classList.remove("slide-bottom-out"),"function"==typeof n&&n()}),100))},e.animation.fadeIn=function(e,t){e.style.display="",e.classList.add("fade-in"),setTimeout((function(){e.classList.remove("fade-in"),"function"==typeof t&&t()}),2e3)},e.animation.fadeOut=function(e,t){e.classList.add("fade-out"),setTimeout((function(){e.style.display="none",e.classList.remove("fade-out"),"function"==typeof t&&t()}),1e3)},e.calendar=function(t,n){if(t.calendar)return t.calendar.setOptions(n,!0);var i={type:"calendar",options:{},date:null,setOptions:function(n,o){for(var a={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:e.calendar.monthsShort,monthsFull:e.calendar.months,weekdays:e.calendar.weekdays,weekdays_short:e.calendar.weekdays,textDone:e.translate("Done"),textReset:e.translate("Reset"),textUpdate:e.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null},r=0;r<a.weekdays_short.length;r++)a.weekdays_short[r]=a.weekdays_short[r].substr(0,1);for(var s in a)n&&n.hasOwnProperty(s)?i.options[s]=n[s]:void 0!==i.options[s]&&!0!==o||(i.options[s]=a[s]);if(0==i.options.resetButton?l.style.display="none":l.style.display="",i.options.readonly?t.setAttribute("readonly","readonly"):t.removeAttribute("readonly"),i.options.placeholder?t.setAttribute("placeholder",i.options.placeholder):t.removeAttribute("placeholder"),e.isNumeric(i.options.value)&&i.options.value>0&&(i.options.value=e.calendar.numToDate(i.options.value),i.options.dataType="numeric"),l.innerHTML=i.options.textReset,d.innerHTML=i.options.textDone,w.innerHTML=i.options.textUpdate,t.setAttribute("data-mask",i.options.format.toLowerCase()),!i.options.value&&i.options.today)var c=e.calendar.now();else c=i.options.value;return c&&(i.options.value=null,i.setValue(c)),i},open:function(n){if(!s.classList.contains("jcalendar-focus")&&!s.classList.contains("jcalendar-inline")){if(e.calendar.current=i,e.tracking(i,!0),i.getDays(),"year-month-picker"==i.options.type&&i.getMonths(),i.options.time&&(b.value=i.date[3],x.value=i.date[4]),s.classList.add("jcalendar-focus"),e.getWindowWidth()<800||i.options.fullscreen)s.classList.add("jcalendar-fullsize"),e.animation.slideBottom(u,1);else{s.classList.remove("jcalendar-fullsize");var o=t.getBoundingClientRect(),a=u.getBoundingClientRect();if(i.options.position)c.style.position="fixed",window.innerHeight<o.bottom+a.height?c.style.top=o.top-(a.height+2)+"px":c.style.top=o.top+o.height+2+"px",c.style.left=o.left+"px";else{if(window.innerHeight<o.bottom+a.height)(r=-1*(o.height+a.height+2))+o.top<0&&(r=-1*(o.top+o.height)),c.style.top=r+"px";else c.style.top="2px";if(window.innerWidth<o.left+a.width){var r=window.innerWidth-(o.left+a.width+20);c.style.left=r+"px"}else c.style.left="0px"}}"function"==typeof i.options.onopen&&i.options.onopen(t)}},close:function(n,o){if(s.classList.contains("jcalendar-focus")){if(!1!==o){var a=s.querySelector(".jcalendar-selected");if("string"==typeof o)var r=o;else if(!a||a.classList.contains("jcalendar-disabled"))r=i.options.value;else r=i.getValue();i.setValue(r)}n||"function"!=typeof i.options.onclose||i.options.onclose(t),s.classList.remove("jcalendar-focus"),e.tracking(i,!1),e.calendar.current=null}return i.options.value},prev:function(){"years"==i.options.mode?(i.date[0]=i.date[0]-12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])-1,i.getMonths()):(i.date[1]<2?(i.date[0]=i.date[0]-1,i.date[1]=12):i.date[1]=i.date[1]-1,i.getDays())},next:function(){"years"==i.options.mode?(i.date[0]=parseInt(i.date[0])+12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])+1,i.getMonths()):(i.date[1]>11?(i.date[0]=parseInt(i.date[0])+1,i.date[1]=1):i.date[1]=parseInt(i.date[1])+1,i.getDays())},setToday:function(){var e=(new Date).toISOString().substr(0,10);return i.setValue(e),e},setValue:function(e){e||(e=""+e);var n=e,o=i.options.value;if(o!=n){if(n){i.setLabel(n,i.options);(r=n.split(" "))[1]||(r[1]="00:00:00");var a=r[1].split(":"),r=r[0].split("-"),s=parseInt(r[0]),l=parseInt(r[1]),d=parseInt(r[2]),c=parseInt(a[0]),u=parseInt(a[1]);i.date=[s,l,d,c,u,0];e=i.setLabel(n,i.options)}else{i.date=null;var e=""}i.options.value=n,"function"==typeof i.options.onchange&&i.options.onchange(t,n,o),t.value!=e&&(t.value=e,"function"==typeof t.onchange&&t.onchange({type:"change",target:t,value:t.value}))}i.getDays()},getValue:function(){return i.date?i.options.time?e.two(i.date[0])+"-"+e.two(i.date[1])+"-"+e.two(i.date[2])+" "+e.two(i.date[3])+":"+e.two(i.date[4])+":"+e.two(0):e.two(i.date[0])+"-"+e.two(i.date[1])+"-"+e.two(i.date[2])+" "+e.two(0)+":"+e.two(0)+":"+e.two(0):""},update:function(e,t){if(e.classList.contains("jcalendar-disabled"));else{var n=s.querySelector(".jcalendar-selected");n&&n.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected"),e.classList.contains("jcalendar-set-month")?i.date[1]=t:i.date[2]=e.innerText,i.options.time?(i.date[3]=b.value,i.date[4]=x.value):i.close()}r()},reset:function(){i.setValue(""),i.date=null,i.close(!1,!1)},getDays:function(){i.options.mode="days";var t=new Date,n=i.date&&e.isNumeric(i.date[0])?i.date[0]:parseInt(t.getFullYear()),o=i.date&&e.isNumeric(i.date[1])?i.date[1]:parseInt(t.getMonth())+1,a=i.date&&e.isNumeric(i.date[2])?i.date[2]:parseInt(t.getDate()),s=i.date&&e.isNumeric(i.date[3])?i.date[3]:parseInt(t.getHours()),l=i.date&&e.isNumeric(i.date[4])?i.date[4]:parseInt(t.getMinutes());i.date=[n,o,a,s,l,0],p.innerHTML=n,h.innerHTML=i.options.months[o-1];var d=t.getMonth()==o-1&&t.getFullYear()==n,c=t.getDate(),u=(t=new Date(n,o,0,0,0)).getDate(),f=(t=new Date(n,o-1,0,0,0)).getDay()+1;f-=y=i.options.startingDay||0,m.innerHTML="",(x=document.createElement("tr")).setAttribute("align","center"),m.appendChild(x);for(var v=0;v<7;v++){(j=document.createElement("td")).classList.add("jcalendar-weekday"),j.innerHTML=i.options.weekdays_short[y],x.appendChild(j),++y>6&&(y=0)}for(var y=0,w=0,b=0;b<6;b++){var x;(x=document.createElement("tr")).setAttribute("align","center");var L=!0;for(v=0;v<7;v++){var j;if((j=document.createElement("td")).classList.add("jcalendar-set-day"),y>=f&&y<f+u){w++,j.innerHTML=w,w==a&&j.classList.add("jcalendar-selected"),d&&c==w&&(j.style.fontWeight="bold");var E=e.calendar.now(new Date(n,o-1,w),!0);if(i.options.validRange){if(!i.options.validRange[0]||E>=i.options.validRange[0])var C=!0;else C=!1;if(!i.options.validRange[1]||E<=i.options.validRange[1])var T=!0;else T=!1;C&&T||j.classList.add("jcalendar-disabled")}L=!1}x.appendChild(j),y++}0==L&&m.appendChild(x)}i.options.time?g.style.display="":g.style.display="none",r()},getMonths:function(){i.options.mode="months";var t=i.options.months,n=(i.options.value,new Date),o=parseInt(n.getFullYear()),a=parseInt(n.getMonth())+1,s=i.date&&e.isNumeric(i.date[0])?i.date[0]:o,l=i.date&&e.isNumeric(i.date[1])?i.date[1]:a;p.innerHTML=i.date[0],h.innerHTML=t[l-1];var d=document.createElement("table");d.setAttribute("width","100%");for(var c=null,u=0;u<12;u++){if(!(u%4))(c=document.createElement("tr")).setAttribute("align","center"),d.appendChild(c);var f=document.createElement("td");if(f.classList.add("jcalendar-set-month"),f.setAttribute("data-value",u+1),f.innerText=t[u],i.options.validRange){var v=s+"-"+e.two(u+1);if(!i.options.validRange[0]||v>=i.options.validRange[0].substr(0,7))var g=!0;else g=!1;if(!i.options.validRange[1]||v<=i.options.validRange[1].substr(0,7))var y=!0;else y=!1;g&&y||f.classList.add("jcalendar-disabled")}u+1==l&&f.classList.add("jcalendar-selected"),o==s&&u+1==a&&(f.style.fontWeight="bold"),c.appendChild(f)}m.innerHTML='<tr><td colspan="7"></td></tr>',m.children[0].children[0].appendChild(d),r()},getYears:function(){i.options.mode="years";for(var t=new Date,n=t.getFullYear(),o=i.date&&e.isNumeric(i.date[0])?i.date[0]:parseInt(t.getFullYear()),a=[],s=0;s<25;s++)a[s]=parseInt(i.date[0])+(s-12);var l=document.createElement("table");l.setAttribute("width","100%");for(s=0;s<25;s++){if(!(s%5)){var d=document.createElement("tr");d.setAttribute("align","center"),l.appendChild(d)}var c=document.createElement("td");c.classList.add("jcalendar-set-year"),c.innerText=a[s],o==a[s]&&c.classList.add("jcalendar-selected"),n==a[s]&&(c.style.fontWeight="bold"),d.appendChild(c)}m.innerHTML='<tr><td colspan="7"></td></tr>',m.firstChild.firstChild.appendChild(l),r()},setLabel:function(t,n){return e.calendar.getDateString(t,n)},fromFormatted:function(t,n){return e.calendar.extractDateFromString(t,n)}},o=function(t){if(e.findElement(t.target,"jcalendar-container")){var n=t.target.className;if("jcalendar-prev"==n)i.prev();else if("jcalendar-next"==n)i.next();else if("jcalendar-month"==n)i.getMonths();else if("jcalendar-year"==n)i.getYears();else if("jcalendar-set-year"==n)i.date[0]=t.target.innerText,"year-month-picker"==i.options.type?i.getMonths():i.getDays();else if(t.target.classList.contains("jcalendar-set-month")){var o=parseInt(t.target.getAttribute("data-value"));"year-month-picker"==i.options.type?i.update(t.target,o):(i.date[1]=o,i.getDays())}else"jcalendar-confirm"==n||"jcalendar-update"==n||"jcalendar-close"==n?i.close():"jcalendar-backdrop"==n?i.close(!1,!1):"jcalendar-reset"==n?i.reset():t.target.classList.contains("jcalendar-set-day")&&t.target.innerText&&i.update(t.target)}else i.close()},a=function(t){if(t.target.value&&t.target.value.length>3){var n=e.calendar.extractDateFromString(t.target.value,i.options.format);n&&i.setValue(n)}},r=function(){var e=s.querySelector(".jcalendar-selected");e&&e.classList.contains("jcalendar-disabled")?(w.setAttribute("disabled","disabled"),b.setAttribute("disabled","disabled"),x.setAttribute("disabled","disabled")):(w.removeAttribute("disabled"),b.removeAttribute("disabled"),x.removeAttribute("disabled")),"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())},s=null,l=null,d=null,c=null,u=null,p=null,h=null,f=null,m=null,v=null,g=null,y=null,w=null,b=null,x=null;return function(){"INPUT"==t.tagName&&t.value&&(n.value=t.value),(l=document.createElement("div")).className="jcalendar-reset",(d=document.createElement("div")).className="jcalendar-confirm",(v=document.createElement("div")).className="jcalendar-controls",v.style.borderBottom="1px solid #ddd",v.appendChild(l),v.appendChild(d),(c=document.createElement("div")).className="jcalendar-container",(u=document.createElement("div")).className="jcalendar-content",c.appendChild(u),"DIV"==t.tagName?(s=t).classList.add("jcalendar-inline"):(u.appendChild(v),(s=document.createElement("div")).className="jcalendar"),s.classList.add("jcalendar-container"),s.appendChild(c);var r=document.createElement("div");r.className="jcalendar-table",u.appendChild(r);var L=document.createElement("td");L.setAttribute("colspan","2"),L.className="jcalendar-prev",(p=document.createElement("span")).className="jcalendar-year",(h=document.createElement("span")).className="jcalendar-month";var j=document.createElement("td");j.className="jcalendar-header",j.setAttribute("colspan","3"),j.appendChild(h),j.appendChild(p);var E=document.createElement("td");E.setAttribute("colspan","2"),E.className="jcalendar-next";var C=document.createElement("thead"),T=document.createElement("tr");T.appendChild(L),T.appendChild(j),T.appendChild(E),C.appendChild(T),f=document.createElement("table"),m=document.createElement("tbody"),f.setAttribute("cellpadding","0"),f.setAttribute("cellspacing","0"),f.appendChild(C),f.appendChild(m),r.appendChild(f),(b=document.createElement("select")).className="jcalendar-select",b.onchange=function(){i.date[3]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())};for(var k=0;k<24;k++){(M=document.createElement("option")).value=k,M.innerHTML=e.two(k),b.appendChild(M)}(x=document.createElement("select")).className="jcalendar-select",x.onchange=function(){i.date[4]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())};for(k=0;k<60;k++){var M;(M=document.createElement("option")).value=k,M.innerHTML=e.two(k),x.appendChild(M)}var A=document.createElement("div");A.className="jcalendar-controls",(g=document.createElement("div")).className="jcalendar-time",g.style.maxWidth="140px",g.appendChild(b),g.appendChild(x),(w=document.createElement("button")).setAttribute("type","button"),w.className="jcalendar-update",(y=document.createElement("div")).style.flexGrow="10",y.appendChild(w),A.appendChild(g),"INPUT"==t.tagName&&A.appendChild(y),u.appendChild(A);var N=document.createElement("div");N.className="jcalendar-backdrop",s.appendChild(N),t.addEventListener("keyup",a),s.addEventListener("swipeleft",(function(t){e.animation.slideLeft(f,0,(function(){i.next(),e.animation.slideRight(f,1)})),t.preventDefault(),t.stopPropagation()})),s.addEventListener("swiperight",(function(t){e.animation.slideRight(f,0,(function(){i.prev(),e.animation.slideLeft(f,1)})),t.preventDefault(),t.stopPropagation()})),t.onmouseup=function(){i.open()},"ontouchend"in document.documentElement==!0?s.addEventListener("touchend",o):s.addEventListener("mouseup",o),e.calendar.hasEvents||(e.calendar.hasEvents=!0,document.addEventListener("keydown",e.calendar.keydown)),i.setOptions(n),"INPUT"==t.tagName?(t.parentNode.insertBefore(s,t.nextSibling),t.setAttribute("autocomplete","off"),t.classList.add("jcalendar-input"),t.value=i.setLabel(i.getValue(),i.options)):(i.getDays(),i.options.time&&(b.value=i.date[3],x.value=i.date[4])),1==i.options.opened&&i.open(),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.calendar=s.calendar=i}(),i},e.calendar.keydown=function(t){var n=null;(n=e.calendar.current)&&(13==t.which?n.close(!1,!0):27==t.which&&n.close(!1,!1))},e.calendar.prettify=function(e,t){if(!t)t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};var n=new Date,i=new Date(e),o=parseInt((n-i)/1e3/60);if(String.prototype.format=function(e){return this.replace("{0}",e)},0==o)var a=t.justNow;else if(o<90)a=t.xMinutesAgo.format(o);else if(o<1440)a=t.xHoursAgo.format(Math.round(o/60));else if(o<20160)a=t.xDaysAgo.format(Math.round(o/1440));else if(o<43200)a=t.xWeeksAgo.format(Math.round(o/10080));else if(o<1036800)a=t.xMonthsAgo.format(Math.round(o/43200));else a=t.xYearsAgo.format(Math.round(o/525600));return a},e.calendar.prettifyAll=function(){for(var t=document.querySelectorAll(".prettydate"),n=0;n<t.length;n++)t[n].getAttribute("data-date")?t[n].innerHTML=e.calendar.prettify(t[n].getAttribute("data-date")):t[n].innerHTML&&(t[n].setAttribute("data-date",t[n].innerHTML),t[n].innerHTML=e.calendar.prettify(t[n].innerHTML))},e.calendar.now=function(t,n){if(Array.isArray(t))var i=t[0],o=t[1],a=t[2],r=t[3],s=t[4],l=t[5];else{if(!t)t=new Date;i=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),r=t.getHours(),s=t.getMinutes(),l=t.getSeconds()}return 1==n?e.two(i)+"-"+e.two(o)+"-"+e.two(a):e.two(i)+"-"+e.two(o)+"-"+e.two(a)+" "+e.two(r)+":"+e.two(s)+":"+e.two(l)},e.calendar.toArray=function(e){var t=(n=e.split(-1!==e.indexOf("T")?"T":" "))[1],n=n[0].split("-"),i=parseInt(n[0]),o=parseInt(n[1]),a=parseInt(n[2]);if(t){t=t.split(":");var r=parseInt(t[0]),s=parseInt(t[1])}else r=0,s=0;return[i,o,a,r,s,0]},e.calendar.extractDateFromString=function(t,n){if(t>0&&Number(t)==t){var i=new Date(Math.round(86400*(t-25569)*1e3));return i.getFullYear()+"-"+e.two(i.getMonth())+"-"+e.two(i.getDate())+" 00:00:00"}var o=e.mask(t,{mask:n},!0);return o.date[0]&&o.date[1]?(o.date[2]||(o.date[2]=1),o.date[0]+"-"+e.two(o.date[1])+"-"+e.two(o.date[2])+" "+e.two(o.date[3])+":"+e.two(o.date[4])+":"+e.two(o.date[5])):""},e.calendar.dateToNum=function(e,t){e=new Date(e),t||(t="1899-12-30 "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()),t=new Date(t);var n=e.getTime()-t.getTime();return Math.round(n/864e5)},e.calendar.numToDate=function(t){var n=new Date(Math.round(86400*(t-25569)*1e3));return n.getFullYear()+"-"+e.two(n.getMonth()+1)+"-"+e.two(n.getDate())+" 00:00:00"},e.calendar.getDateString=function(t,n){if(!n)n={};if(n&&"object"==typeof n)var i=n.format;else i=n;if(i||(i="YYYY-MM-DD"),"number"==typeof t&&i.indexOf("[h]")>=0){var o=parseFloat(24*Number(t));if(i.indexOf("mm")>=0){if((u=(""+o).split("."))[1]){var a=60*parseFloat("0."+u[1]);a=parseFloat(a.toFixed(2))}else a=0;o=parseInt(u[0])+":"+e.two(a)}return o}t instanceof Date?t=e.calendar.now(t):t&&e.isNumeric(t)&&(t=e.calendar.numToDate(t));for(var r=new RegExp(["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."].join("|"),"gi"),s=i.match(r),l=0;l<s.length;l++)"MM"==s[l].toUpperCase()&&(s[l-1]&&s[l-1].toUpperCase().indexOf("H")>=0||s[l-2]&&s[l-2].toUpperCase().indexOf("H")>=0||s[l+1]&&s[l+1].toUpperCase().indexOf("S")>=0||s[l+2]&&s[l+2].toUpperCase().indexOf("S")>=0)&&(s[l]="mi");var d={tokens:s};if(t){var c=-1!==(a=""+t).indexOf("T")?"T":" ",u=0,p=0,h=0;if((a=a.split(c))[1]&&(p=(u=a[1].split(":"))[1]?u[1]:0,h=u[2]?u[2]:0,u=u[0]?u[0]:0),(a=a[0].split("-"))[0]&&a[1]&&a[2]&&a[0]>0&&a[1]>0&&a[1]<13&&a[2]>0&&a[2]<32){d.data=[a[0],a[1],a[2],u,p,h],d.value=[];var f=new Date(d.data[0],d.data[1]-1,d.data[2],d.data[3],d.data[4],d.data[5]),m=function(t){var n=this.tokens[t],i=n.toUpperCase(),o=null;"YYYY"===i?o=this.data[0]:"YYY"===i?o=this.data[0].substring(1,4):"YY"===i?o=this.data[0].substring(2,4):"Y"===i?o=this.data[0].substring(3,4):"MON"===n?o=e.calendar.months[f.getMonth()].substr(0,3).toUpperCase():"mon"===n?o=e.calendar.months[f.getMonth()].substr(0,3).toLowerCase():"MONTH"===n?o=e.calendar.months[f.getMonth()].toUpperCase():"month"===n?o=e.calendar.months[f.getMonth()].toLowerCase():"MMMMM"===i?o=e.calendar.months[f.getMonth()].substr(0,1):"MMMM"===i||"Month"===n?o=e.calendar.months[f.getMonth()]:"MMM"===i||"Mon"==n?o=e.calendar.months[f.getMonth()].substr(0,3):"MM"===i?o=e.two(this.data[1]):"M"===i?o=f.getMonth()+1:"DAY"===n?o=e.calendar.weekdays[f.getDay()].toUpperCase():"day"===n?o=e.calendar.weekdays[f.getDay()].toLowerCase():"DDDD"===i||"Day"==n?o=e.calendar.weekdays[f.getDay()]:"DDD"===i?o=e.calendar.weekdays[f.getDay()].substr(0,3):"DD"===i?o=e.two(this.data[2]):"D"===i?o=this.data[2]:"Q"===i?o=Math.floor((f.getMonth()+3)/3):"HH24"===i||"HH"===i?o=e.two(this.data[3]):"HH12"===i?o=this.data[3]>12?e.two(this.data[3]-12):e.two(this.data[3]):"H"===i?o=this.data[3]:"MI"===i?o=e.two(this.data[4]):"SS"===i?o=e.two(this.data[5]):"MS"===i?o=f.getMilliseconds():"AM/PM"===i?o=this.data[3]>=12?"PM":"AM":"WD"===i&&(o=e.calendar.weekdays[f.getDay()]),this.value[t]=null===o?this.tokens[t]:o};for(l=0;l<d.tokens.length;l++)m.call(d,l);t=d.value.join("")}else t=""}return t},e.calendar.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.calendar.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.calendar.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.calendar.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.color=function(t,n){if(t.color)return t.color.setOptions(n,!0);var i={type:"color",options:{}},o=null,a=null,r=null,s=null,l=null,d=null,c=null;i.setOptions=function(n,o){var a={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(var r in n||(n={}),n&&!n.palette&&(n.palette=e.palette()),a)n&&n.hasOwnProperty(r)?i.options[r]=n[r]:void 0!==i.options[r]&&!0!==o||(i.options[r]=a[r]);return s&&(s.innerHTML=i.options.resetLabel),l&&(l.innerHTML=i.options.doneLabel),i.options.palette&&c&&c.updateContent(0,v()),"string"==typeof i.options.value&&(t.value=i.options.value),i.options.placeholder?t.setAttribute("placeholder",i.options.placeholder):t.getAttribute("placeholder")&&t.removeAttribute("placeholder"),i},i.open=function(){if(!o.classList.contains("jcolor-focus")){e.tracking(i,!0),o.classList.add("jcolor-focus");var n=r.getBoundingClientRect();if(e.getWindowWidth()<800||1==i.options.fullscreen)r.style.top="",r.classList.add("jcolor-fullscreen"),e.animation.slideBottom(r,1),a.style.display="block";else{r.classList.contains("jcolor-fullscreen")&&(r.classList.remove("jcolor-fullscreen"),a.style.display="");var s=t.getBoundingClientRect();i.options.position?(r.style.position="fixed",window.innerHeight<s.bottom+n.height?r.style.top=s.top-(n.height+2)+"px":r.style.top=s.top+s.height+2+"px",r.style.left=s.left+"px"):window.innerHeight<s.bottom+n.height?r.style.top=-1*(n.height+s.height+2)+"px":r.style.top="2px"}if("function"==typeof i.options.onopen&&i.options.onopen(t),c.setBorder(c.getActive()),i.options.value){var l=m(i.options.value);j.forEach((function(e,t){e.value=l[t],e.dispatchEvent(new Event("input"))}))}}},i.close=function(n){return o.classList.contains("jcolor-focus")&&(o.classList.remove("jcolor-focus"),a.style.display="",n||"function"!=typeof i.options.onclose||i.options.onclose(t),e.tracking(i,!1)),i.options.value},i.setValue=function(e){if(e||(e=""),e!=i.options.value){i.options.value=e,L=e;var n=o.querySelector(".jcolor-selected");n&&n.classList.remove("jcolor-selected"),i.values[e]&&i.values[e].classList.add("jcolor-selected"),"function"==typeof i.options.onchange&&i.options.onchange(t,e),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.onchange&&t.onchange({type:"change",target:t,value:t.value})),1==i.options.closeOnChange&&i.close()}},i.getValue=function(){return i.options.value};var u=!1,p=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},h=function(e,t,n){return"#"+p(e)+p(t)+p(n)},f=function(e){return parseInt("0x"+e)},m=function(e){return[f(e.substr(1,2)),f(e.substr(3,2)),f(e.substr(5,2))]},v=function(){var e=document.createElement("div");e.className="jcolor-grid",i.values=[];var t=document.createElement("table");t.setAttribute("cellpadding","7"),t.setAttribute("cellspacing","0");for(var n=0;n<i.options.palette.length;n++){for(var o=document.createElement("tr"),a=0;a<i.options.palette[n].length;a++){var r=document.createElement("td"),s=i.options.palette[n][a];s.length<7&&"#"!==s.substr(0,1)&&(s="#"+s),r.style.backgroundColor=s,r.setAttribute("data-value",s),r.innerHTML="",o.appendChild(r),i.options.value==s&&r.classList.add("jcolor-selected"),i.values[s]=r}t.appendChild(o)}return e.appendChild(t),e.addEventListener("mousedown",(function(e){if("TD"==e.target.tagName){var t=e.target.getAttribute("data-value");t&&i.setValue(t)}})),e},g=document.createElement("canvas");g.width=200,g.height=160;var y=g.getContext("2d"),w=function(){var e=d.firstChild.getBoundingClientRect();g.width=e.width-14,b()},b=function(){var e=y.createLinearGradient(0,0,g.width,0);e.addColorStop(0,"rgb(255,0,0)"),e.addColorStop(.15,"rgb(255,0,255)"),e.addColorStop(.33,"rgb(0,0,255)"),e.addColorStop(.49,"rgb(0,255,255)"),e.addColorStop(.67,"rgb(0,255,0)"),e.addColorStop(.84,"rgb(255,255,0)"),e.addColorStop(1,"rgb(255,0,0)"),y.fillStyle=e,y.fillRect(0,0,g.width,g.height),(e=y.createLinearGradient(0,0,0,g.height)).addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(.5,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),y.fillStyle=e,y.fillRect(0,0,g.width,g.height)},x=function(){var e=document.createElement("div");e.className="jcolor-hsl";var t=document.createElement("div");t.className="jcolor-point";var n=document.createElement("div");n.appendChild(g),n.appendChild(t),e.appendChild(n);var i=function(n,i,o){if(1===n){var a=e.getBoundingClientRect(),r=i-a.left,s=o-a.top;r<0&&(r=0),s<0&&(s=0),r>a.width&&(r=a.width),s>a.height&&(s=a.height),t.style.left=r+"px",t.style.top=s+"px";var l=y.getImageData(r,s,1,1).data;L=h(l[0],l[1],l[2])}};return e.addEventListener("mousedown",(function(e){i(e.buttons,e.clientX,e.clientY)})),e.addEventListener("mousemove",(function(e){i(e.buttons,e.clientX,e.clientY)})),e.addEventListener("touchmove",(function(e){i(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)})),e},L="",j=[],E=function(){var e=document.createElement("div");e.className="jcolor-sliders";var t=document.createElement("div"),n=function(e){var n=document.createElement("div");n.className="jcolor-sliders-input-container";var i=document.createElement("label");i.innerText=e;var o=document.createElement("div");o.className="jcolor-sliders-input-subcontainer";var a=document.createElement("input");a.type="range",a.min=0,a.max=255,a.value=0,n.appendChild(i),o.appendChild(a);var r=document.createElement("div");return r.innerText=a.value,a.addEventListener("input",(function(){r.innerText=a.value})),o.appendChild(r),n.appendChild(o),t.appendChild(n),a};j=[n("Red"),n("Green"),n("Blue")],e.appendChild(t);var i=document.createElement("div");i.className="jcolor-sliders-final-color";var o=document.createElement("div");o.style.visibility="hidden",o.innerText="a",i.appendChild(o);return j.forEach((function(e){e.addEventListener("input",(function(){var e;e=h(parseInt(j[0].value),parseInt(j[1].value),parseInt(j[2].value)),o.innerText=e,o.style.color=e,o.style.removeProperty("visibility"),L=e,function(){if(""!==L)for(var e=0;e<j.length;e++){var t=m(L);t[e]=0;var n="linear-gradient(90deg, rgb(";n+=t.join(", "),n+="), rgb(",t[e]=255,n+=t.join(", "),n+="))",j[e].style.backgroundImage=n}}()}))})),e.appendChild(i),e};return function(){i.setOptions(n),"INPUT"==t.tagName&&(t.classList.add("jcolor-input"),t.readOnly=!0),(o=document.createElement("div")).className="jcolor",(a=document.createElement("div")).className="jcolor-backdrop",o.appendChild(a),(r=document.createElement("div")).className="jcolor-content";var p=document.createElement("div");p.className="jcolor-controls",r.appendChild(p),(s=document.createElement("div")).className="jcolor-reset",s.innerHTML=i.options.resetLabel,s.onclick=function(e){i.setValue(""),i.close()},p.appendChild(s),(l=document.createElement("div")).className="jcolor-close",l.innerHTML=i.options.doneLabel,l.onclick=function(e){c.getActive()>0&&i.setValue(L),i.close()},p.appendChild(l),d=document.createElement("div"),r.appendChild(d),c=e.tabs(d,{animation:!0,data:[{title:"Grid",contentElement:v()},{title:"Spectrum",contentElement:x()},{title:"Sliders",contentElement:E()}],onchange:function(e,t,n){if(1===n)w();else{var o=""!==L?L:i.getValue();if(2===n&&o){var a=m(o);j.forEach((function(e,t){e.value=a[t],e.dispatchEvent(new Event("input"))}))}}},palette:"modern"}),o.appendChild(r),"INPUT"==t.tagName?t.parentNode.insertBefore(o,t.nextSibling):t.appendChild(o),t.addEventListener("mouseup",(function(e){i.open()})),a.addEventListener("mousedown",(function(e){u=!0})),a.addEventListener("mouseup",(function(e){u&&(i.close(),u=!1)})),window.addEventListener("resize",(function(){o.classList.contains("jcolor-focus")&&1==c.getActive()&&w()})),1==i.options.opened&&i.open(),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.color=i,o.color=i}(),i},e.contextmenu=function(t,n){var i={options:{}},o={items:null,onclick:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];function r(e){if(!e.type||"line"!=e.type&&"divisor"!=e.type){d=document.createElement("div");var t=document.createElement("a");if(t.innerHTML=e.title,e.tooltip&&d.setAttribute("title",e.tooltip),e.icon&&d.setAttribute("data-icon",e.icon),e.id&&(d.id=e.id),e.disabled?d.className="jcontextmenu-disabled":e.onclick&&(d.method=e.onclick,d.addEventListener("mousedown",(function(e){e.preventDefault()})),d.addEventListener("mouseup",(function(){this.method(this)}))),d.appendChild(t),e.submenu){var n=document.createElement("span");n.innerHTML="&#9658;",d.appendChild(n),d.classList.add("jcontexthassubmenu");var i=document.createElement("div");i.classList.add("jcontextmenu"),i.setAttribute("tabindex","900");for(var o=e.submenu,a=0;a<o.length;a++){var s=r(o[a]);i.appendChild(s)}d.appendChild(i)}else if(e.shortcut){var l=document.createElement("span");l.innerHTML=e.shortcut,d.appendChild(l)}}else var d=document.createElement("hr");return d}return t.classList.add("jcontextmenu"),t.setAttribute("tabindex","900"),i.open=function(e,n){if(n&&(i.options.items=n,i.create(n)),i.options.items&&i.options.items.length>0||t.children.length){if(e.target)var o=e.clientX,a=e.clientY;else o=e.x,a=e.y;t.classList.add("jcontextmenu-focus"),t.focus();var r=t.getBoundingClientRect();if(window.innerHeight<a+r.height){var s=a-r.height;s<0&&(s=0),t.style.top=s+"px"}else t.style.top=a+"px";window.innerWidth<o+r.width?o-r.width>0?t.style.left=o-r.width+"px":t.style.left="10px":t.style.left=o+"px"}},i.close=function(){t.classList.contains("jcontextmenu-focus")&&t.classList.remove("jcontextmenu-focus")},i.create=function(n){t.innerHTML="";var o=function(){var t=document.createElement("div");t.classList.add("header"),t.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}));var n=document.createElement("a");n.classList.add("title"),n.innerHTML=e.translate("Menu"),t.appendChild(n);var o=document.createElement("a");return o.classList.add("close"),o.innerHTML=e.translate("close"),o.addEventListener("click",(function(e){i.close()})),t.appendChild(o),t}();t.appendChild(o);for(var a=0;a<n.length;a++){var s=r(n[a]);t.appendChild(s)}},"function"==typeof i.options.onclick&&t.addEventListener("click",(function(e){i.options.onclick(i,e)})),i.options.items&&i.create(i.options.items),t.addEventListener("blur",(function(e){i.close()})),e.contextmenu.hasEvents||(window.addEventListener("mousewheel",(function(){i.close()})),document.addEventListener("contextmenu",(function(t){var n=e.contextmenu.getElement(t.target);if(n){var i=document.querySelector("#"+n);i?(i.contextmenu.open(t),t.preventDefault()):console.error("JSUITES: Contextmenu id not found")}})),e.contextmenu.hasEvents=!0),t.contextmenu=i,i},e.contextmenu.getElement=function(e){var t=0;return function e(n){n.parentNode&&n.getAttribute("aria-contextmenu-id")?t=n.getAttribute("aria-contextmenu-id"):n.parentNode&&e(n.parentNode)}(e),t},e.dropdown=function(t,n){if(t.dropdown)return t.dropdown.setOptions(n,!0);var i={type:"dropdown",options:{}},o=function(e,n){e&&e.length&&(!1!==i.options.sortResults&&("function"==typeof i.options.sortResults?e.sort(i.options.sortResults):e.sort(a)),i.setData(e),"function"==typeof i.options.onload&&i.options.onload(t,i,e,n)),n&&s(n),null==n&&(i.options.value=""),t.value=i.options.value,1==i.options.opened&&i.open()},a=function(e,t){var n,i;return"string"==typeof e?n=e:e.text?n=e.text:e.name&&(n=e.name),"string"==typeof t?i=t:t.text?i=t.text:t.name&&(i=t.name),"string"==typeof n||"string"==typeof i?("string"!=typeof n&&(n=""+n),"string"!=typeof i&&(i=""+i),n.localeCompare(i)):n-i},r=function(){i.value={};for(var e=0;e<i.items.length;e++)1==i.items[e].selected&&(i.items[e].element&&i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=null);i.options.value=""},s=function(e){if(r(),null!==e)if(e){Array.isArray(e)||(e=(""+e).split(";"));for(var t=0;t<e.length;t++)i.value[e[t]]=""}else void 0!==i.value[""]&&(i.value[""]="");for(t=0;t<i.items.length;t++)void 0!==i.value[l(t)]&&(i.items[t].element&&i.items[t].element.classList.add("jdropdown-selected"),i.items[t].selected=!0,i.value[l(t)]=d(t));i.options.value=Object.keys(i.value).join(";"),i.header.value=i.getText()},l=function(e,t){if(i.options.format)n="id";else var n="value";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},d=function(e,t){if(i.options.format)n="name";else var n="text";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},c=function(){return Object.keys(i.value)},u=function(){for(var e=[],t=Object.keys(i.value),n=0;n<t.length;n++)e.push(i.value[t[n]]);return e};i.setOptions=function(n,a){n||(n={});var r={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,sortResults:!1,autofocus:!1};for(var s in r)n&&n.hasOwnProperty(s)?i.options[s]=n[s]:void 0!==i.options[s]&&!0!==a||(i.options[s]=r[s]);return 1!=i.options.remoteSearch&&"searchbar"!==i.options.type||(i.options.autocomplete=!0),1==i.options.newOptions?i.header.classList.add("jdropdown-add"):i.header.classList.remove("jdropdown-add"),1==i.options.autocomplete?i.header.removeAttribute("readonly"):i.header.setAttribute("readonly","readonly"),i.options.placeholder?i.header.setAttribute("placeholder",i.options.placeholder):i.header.removeAttribute("placeholder"),t.classList.remove("jdropdown-searchbar"),t.classList.remove("jdropdown-picker"),t.classList.remove("jdropdown-list"),"searchbar"==i.options.type?t.classList.add("jdropdown-searchbar"):"list"==i.options.type?t.classList.add("jdropdown-list"):"picker"==i.options.type?t.classList.add("jdropdown-picker"):e.getWindowWidth()<800?i.options.autocomplete?(t.classList.add("jdropdown-searchbar"),i.options.type="searchbar"):(t.classList.add("jdropdown-picker"),i.options.type="picker"):(i.options.width?(t.style.width=i.options.width,t.style.minWidth=i.options.width):(t.style.removeProperty("width"),t.style.removeProperty("min-width")),t.classList.add("jdropdown-default"),i.options.type="default"),"searchbar"==i.options.type?p.appendChild(m):h.insertBefore(m,h.firstChild),i.options.url&&!n.data?e.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){e&&o(e,i.options.value)}}):o(i.options.data,i.options.value),i};var p=null,h=null,f=null,m=null,v=null,g=null,y=null;i.getUrl=function(){return i.options.url},i.setUrl=function(t,n){i.options.url=t,e.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){i.setData(e),"function"==typeof n&&n(i)}})},i.setId=function(e,t){if(i.options.format)n="id";else var n="value";"object"==typeof e?e[n]=t:i.items[e].data[n]=t},i.add=function(t,n){if(!t){var o=1==i.options.autocomplete?i.header.value:"";if(!(t=prompt(e.translate("Add A New Option"),o)))return!1}if(n||(n=e.guid()),i.options.format)a={id:n,name:t};else var a={value:n,text:t};if("function"==typeof i.options.onbeforeinsert){var r=i.options.onbeforeinsert(i,a);if(!1===r)return!1;r&&(a=r)}i.options.data.push(a);var s=i.createItem(a);return f.appendChild(s.element),"function"==typeof i.options.oninsert&&i.options.oninsert(i,a,s),"none"==f.style.display&&(f.style.display=""),i.results&&i.results.push(s),a},i.createItem=function(e,t,n){i.options.format?(e.id||void 0===e.value||(e.id=e.value),e.name||void 0===e.text||(e.name=e.text)):(e.value||void 0===e.id||(e.value=e.id),e.text||void 0===e.name||(e.text=e.name));var o={};if(o.element=document.createElement("div"),o.element.className="jdropdown-item",o.element.indexValue=i.items.length,o.data=e,t&&(o.group=t),e.id&&o.element.setAttribute("id",e.id),1==e.disabled&&o.element.setAttribute("data-disabled",!0),e.tooltip&&o.element.setAttribute("title",e.tooltip),e.image){var a=document.createElement("img");a.className="jdropdown-image",a.src=e.image,e.title||a.classList.add("jdropdown-image-small"),o.element.appendChild(a)}else if(e.icon){var r=document.createElement("span");r.className="jdropdown-icon material-icons",r.innerText=e.icon,e.title||r.classList.add("jdropdown-icon-small"),e.color&&(r.style.color=e.color),o.element.appendChild(r)}else if(e.color){var s=document.createElement("div");s.className="jdropdown-color",s.style.backgroundColor=e.color,o.element.appendChild(s)}if(i.options.format)l=e.name;else var l=e.text;var d=document.createElement("div");if(d.className="jdropdown-description",d.innerHTML=l||"&nbsp;",e.title){var c=document.createElement("div");c.className="jdropdown-title",c.innerText=e.title,d.appendChild(c)}if(i.options.format)u=e.id;else var u=e.value;return i.value[u]&&(o.element.classList.add("jdropdown-selected"),o.selected=!0),i.items.push(o),o.element.appendChild(d),o},i.appendData=function(e){if(e.length){for(var t=[],n=[],o=0;o<e.length;o++)e[o].group?(n[e[o].group]||(n[e[o].group]=[]),n[e[o].group].push(o)):t.push(o);var a=0,r=Object.keys(n);if(r.length>0)for(o=0;o<r.length;o++){var s=document.createElement("div");s.className="jdropdown-group";var l=document.createElement("div");l.className="jdropdown-group-name",l.innerHTML=r[o];var d=document.createElement("i");d.className="jdropdown-group-arrow jdropdown-group-arrow-down",l.appendChild(d);var c=document.createElement("div");c.className="jdropdown-group-items";for(var u=0;u<n[r[o]].length;u++){var p=i.createItem(e[n[r[o]][u]],s,r[o]);(0==i.options.lazyLoading||a<200)&&(c.appendChild(p.element),a++)}s.appendChild(l),s.appendChild(c),i.groups.push(s),c.children.length>0&&f.appendChild(s)}if(t.length)for(o=0;o<t.length;o++){p=i.createItem(e[t[o]]);(0==i.options.lazyLoading||a<200)&&(f.appendChild(p.element),a++)}}},i.setData=function(e){if(e.length){for(var t=0;t<e.length;t++)"object"!=typeof e[t]&&(i.options.format?e[t]={id:e[t],name:e[t]}:e[t]={value:e[t],text:e[t]});r(),f.innerHTML="",i.header.value="",i.items=[],i.appendData(e),i.options.data=e}},i.getData=function(){return i.options.data},i.getPosition=function(e){for(var t=0;t<i.items.length;t++)if(l(t)==e)return t;return!1},i.getText=function(e){var t=u();return e?t:t.join("; ")},i.getValue=function(e){var t=c();return e?t:t.join(";")};var w=function(e){"function"==typeof i.options.onchange&&i.options.onchange(t,i,e,i.options.value),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.onchange&&t.onchange({type:"change",target:t,value:t.value}))};i.setValue=function(e){var t=i.getValue();Array.isArray(e)&&(e=e.join(";")),t!==e&&(s(e),w(t))},i.resetSelected=function(){i.setValue(null)},i.selectIndex=function(e,t){e=parseInt(e);if(i.items&&i.items[e]&&(!0===t||!0!==i.items[e].data.disabled))if(i.setCursor(e,!1),i.options.multiple){var n=i.options.value;i.items[e].selected?(i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=!1,delete i.value[l(e)]):(i.items[e].element.classList.add("jdropdown-selected"),i.items[e].selected=!0,i.value[l(e)]=d(e)),i.options.value=Object.keys(i.value).join(";"),0==i.options.autocomplete&&(i.header.value=u().join("; ")),w(n)}else i.items[e].selected?i.setValue(null):i.setValue(l(e)),i.close()},i.selectItem=function(e){i.selectIndex(e.indexValue)};var b=function(e,t){for(var n=0;n<t.length;n++)if(i.options.format){if(t[n].id==e)return!0}else if(t[n].value==e)return!0;return!1};return i.find=function(t){if(i.search==t.trim())return!1;if(i.search=t,i.setCursor(),i.groups.length)for(var n=0;n<i.groups.length;n++)i.groups[n].lastChild.innerHTML="";if(f.innerHTML="",1==i.options.remoteSearch){i.results=null;var o=i.options.url+(i.options.url.indexOf("?")>0?"&":"?")+"q="+t;e.ajax({url:o,method:"GET",dataType:"json",success:function(e){i.items=[];var t=Object.keys(i.value);if(t.length)for(var n=0;n<t.length;n++)b(t[n],e)||(i.options.format?e.unshift({id:t[n],name:i.value[t[n]]}):e.unshift({value:t[n],text:i.value[t[n]]}));i.appendData(e),e.length?f.style.display="":f.style.display="none"}})}else{t=new RegExp(t,"gi");var a=[];for(n=0;n<i.items.length;n++){var r=d(n),s=i.items[n].data.title||"",l=i.items[n].data.group||"",c=i.items[n].data.synonym||"";c&&(c=c.join(" ")),(null==t||1==i.items[n].selected||r.match(t)||s.match(t)||l.match(t)||c.match(t))&&a.push(i.items[n])}if(a.length){f.style.display="",i.results=a;var u=a.length||0;1==i.options.lazyLoading&&u>200&&(u=200);for(n=0;n<u;n++)i.results[n].group?(i.results[n].group.parentNode||f.appendChild(i.results[n].group),i.results[n].group.lastChild.appendChild(i.results[n].element)):f.appendChild(i.results[n].element)}else f.style.display="none",i.results=null}1==i.options.autofocus&&i.first()},i.open=function(){if(!t.classList.contains("jdropdown-focus")){e.dropdown.current=i,e.tracking(i,!0),t.classList.add("jdropdown-focus"),e.getWindowWidth()<800&&(null!=i.options.type&&"picker"!=i.options.type||e.animation.slideBottom(h,1)),1==i.options.autocomplete&&(i.header.value=i.search,i.header.focus());var n=c();if(n[0]){var o=i.getPosition(n[0]);!1!==o&&i.setCursor(o)}if(!i.options.type||"default"==i.options.type){var a=t.getBoundingClientRect(),r=h.getBoundingClientRect();i.options.position?(h.style.position="fixed",window.innerHeight<a.bottom+r.height?(h.style.top="",h.style.bottom=window.innerHeight-a.top+1+"px"):(h.style.top=a.bottom+"px",h.style.bottom=""),h.style.left=a.left+"px"):window.innerHeight<a.bottom+r.height?(h.style.top="",h.style.bottom=a.height+1+"px"):(h.style.top="",h.style.bottom=""),h.style.minWidth=a.width+"px",i.options.maxWidth&&(h.style.maxWidth=i.options.maxWidth),i.items.length||1!=i.options.autocomplete?f.style.display="":f.style.display="none"}}"function"==typeof i.options.onopen&&i.options.onopen(t)},i.close=function(n){return t.classList.contains("jdropdown-focus")&&(i.header.value=i.getText(),i.setCursor(),n||"function"!=typeof i.options.onclose||i.options.onclose(t),i.header.blur&&i.header.blur(),t.classList.remove("jdropdown-focus"),e.tracking(i,!1),e.dropdown.current=null),i.getValue()},i.setCursor=function(e,t){if(null!=i.currentIndex&&i.items&&i.items[i.currentIndex]&&i.items[i.currentIndex].element.classList.remove("jdropdown-cursor"),null==e)i.currentIndex=null;else if(e=parseInt(e),i.items[e].element.parentNode&&(i.items[e].element.classList.add("jdropdown-cursor"),i.currentIndex=e,!1!==t&&i.items[i.currentIndex].element)){f.scrollTop;var n=i.items[i.currentIndex].element;f.scrollTop=n.offsetTop-n.scrollTop+n.clientTop-95}},i.resetCursor=i.setCursor,i.updateCursor=i.setCursor,i.reset=function(){i.setCursor(),i.setValue(null)},i.first=function(){!0===i.options.lazyLoading&&i.loadFirst();var e=f.querySelectorAll(".jdropdown-item");if(e.length){var t=e[0].indexValue;i.setCursor(t)}},i.last=function(){!0===i.options.lazyLoading&&i.loadLast();var e=f.querySelectorAll(".jdropdown-item");if(e.length){var t=e[e.length-1].indexValue;i.setCursor(t)}},i.next=function(e){var t=null;if(e){if(1==e.length){var n=i.currentIndex||-1;e=e.toLowerCase();var o=null,a=null,r=f.querySelectorAll(".jdropdown-item");if(r.length){for(var s=0;s<r.length;s++)if(r[s].indexValue>n&&(o=i.items[r[s].indexValue])&&(a=o.element.innerText[0])&&e==(a=a.toLowerCase())){t=r[s].indexValue;break}i.setCursor(t)}}}else if(null==i.currentIndex||null==i.currentIndex)i.first();else{var l=i.items[i.currentIndex].element,d=l.nextElementSibling;d?(d.classList.contains("jdropdown-group")&&(d=d.lastChild.firstChild),t=d.indexValue):l.parentNode.classList.contains("jdropdown-group-items")&&((d=l.parentNode.parentNode.nextElementSibling)&&(d.classList.contains("jdropdown-group")?d=d.lastChild.firstChild:d.classList.contains("jdropdown-item")?t=d.indexValue:d=null),d&&(t=d.indexValue)),null!==t&&i.setCursor(t)}},i.prev=function(){var e=null;if(null===i.currentIndex)i.first();else{var t=i.items[i.currentIndex].element,n=t.previousElementSibling;n?(n.classList.contains("jdropdown-group")&&(n=n.lastChild.lastChild),e=n.indexValue):t.parentNode.classList.contains("jdropdown-group-items")&&((n=t.parentNode.parentNode.previousElementSibling)&&(n.classList.contains("jdropdown-group")?n=n.lastChild.lastChild:n.classList.contains("jdropdown-item")?e=n.indexValue:n=null),n&&(e=n.indexValue))}null!==e&&i.setCursor(e)},i.loadFirst=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length||0;1==i.options.lazyLoading&&t>200&&(t=200),f.innerHTML="";for(var n=0;n<t;n++)e[n].group?(e[n].group.parentNode||f.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):f.appendChild(e[n].element);f.scrollTop=0},i.loadLast=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length;if(t>200){t-=200,f.innerHTML="";for(var n=t;n<e.length;n++)e[n].group?(e[n].group.parentNode||f.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):f.appendChild(e[n].element);f.scrollTop=f.scrollHeight}},i.loadUp=function(){var e=!1;if(i.results)var t=i.results;else t=i.items;var n=f.querySelectorAll(".jdropdown-item")[0].indexValue;n=i.items[n];var o=t.indexOf(n)-1;if(o>0){for(var a=0;o>0&&t[o]&&a<200;)t[o].group?(t[o].group.parentNode||f.insertBefore(t[o].group,f.firstChild),t[o].group.lastChild.insertBefore(t[o].element,t[o].group.lastChild.firstChild)):f.insertBefore(t[o].element,f.firstChild),o--,a++;e=!0}return e},i.loadDown=function(){var e=!1;if(i.results)var t=i.results;else t=i.items;var n=f.querySelectorAll(".jdropdown-item"),o=n[n.length-1].indexValue;o=i.items[o];var a=t.indexOf(o)+1;if(a<t.length){for(var r=0;a<t.length&&t[a]&&r<200;)t[a].group?(t[a].group.parentNode||f.appendChild(t[a].group),t[a].group.lastChild.appendChild(t[a].element)):f.appendChild(t[a].element),a++,r++;e=!0}return e},function(){if(n||(n={}),"SELECT"==t.tagName){var o=e.dropdown.extractFromDom(t,n);t=o.el,n=o.options}!n.placeholder&&t.getAttribute("placeholder")&&(n.placeholder=t.getAttribute("placeholder")),i.value={},i.items=[],i.groups=[],i.search="",i.results=null,t.classList.add("jdropdown"),(p=document.createElement("div")).className="jdropdown-container-header",i.header=document.createElement("input"),i.header.className="jdropdown-header",i.header.type="text",i.header.setAttribute("autocomplete","off"),i.header.onfocus=function(){"function"==typeof i.options.onfocus&&i.options.onfocus(t)},i.header.onblur=function(){"function"==typeof i.options.onblur&&i.options.onblur(t)},i.header.onkeyup=function(e){1!=i.options.autocomplete||y?i.options.autocomplete||i.next(e.key):(i.search!=i.header.value.trim()&&(y=setTimeout((function(){i.find(i.header.value.trim()),y=null}),400)),t.classList.contains("jdropdown-focus")||i.open())},e.dropdown.hasEvents||(e.dropdown.hasEvents=!0,document.addEventListener("keydown",e.dropdown.keydown)),(h=document.createElement("div")).className="jdropdown-container",(f=document.createElement("div")).className="jdropdown-content",(m=document.createElement("div")).className="jdropdown-close",m.innerHTML="Done",(v=document.createElement("div")).className="jdropdown-reset",v.innerHTML="x",v.onclick=function(){i.reset(),i.close()},(g=document.createElement("div")).className="jdropdown-backdrop",p.appendChild(i.header),h.appendChild(f),t.appendChild(p),t.appendChild(h),t.appendChild(g),i.setOptions(n),"ontouchsend"in document.documentElement==!0?t.addEventListener("touchsend",e.dropdown.mouseup):t.addEventListener("mouseup",e.dropdown.mouseup),1==i.options.lazyLoading&&e.lazyLoading(f,{loadUp:i.loadUp,loadDown:i.loadDown}),f.onwheel=function(e){e.stopPropagation()},t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue(!!i.options.multiple);i.setValue(e)},t.dropdown=i}(),i},e.dropdown.keydown=function(t){var n=null;if(n=e.dropdown.current)if(13==t.which||9==t.which)n.header.value&&null==n.currentIndex&&n.options.newOptions?n.add():(null==n.currentIndex&&1==n.options.autocomplete&&""!=n.header.value&&n.find(n.header.value),n.selectIndex(n.currentIndex));else if(38==t.which)null==n.currentIndex?n.first():n.currentIndex>0&&n.prev(),t.preventDefault();else if(40==t.which)null==n.currentIndex?n.first():n.currentIndex+1<n.items.length&&n.next(),t.preventDefault();else if(36==t.which)n.first(),t.target.classList.contains("jdropdown-header")||t.preventDefault();else if(35==t.which)n.last(),t.target.classList.contains("jdropdown-header")||t.preventDefault();else if(27==t.which)n.close();else if(33==t.which){if(null==n.currentIndex)n.first();else if(n.currentIndex>0)for(var i=0;i<7;i++)n.prev();t.preventDefault()}else if(34==t.which){if(null==n.currentIndex)n.first();else if(n.currentIndex+1<n.items.length)for(i=0;i<7;i++)n.next();t.preventDefault()}},e.dropdown.mouseup=function(t){var n=e.findElement(t.target,"jdropdown");if(n){var i=n.dropdown;if(t.target.classList.contains("jdropdown-header"))if(n.classList.contains("jdropdown-focus")&&n.classList.contains("jdropdown-default")){var o=n.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var a=t.changedTouches[0].clientX;t.changedTouches[0].clientY}else a=t.clientX,t.clientY;o.width-(a-o.left)<30?t.target.classList.contains("jdropdown-add")?i.add():i.close():0==i.options.autocomplete&&i.close()}else i.open();else if(t.target.classList.contains("jdropdown-group-name")){var r=t.target.nextSibling.children;if("none"!=t.target.nextSibling.style.display)for(var s=0;s<r.length;s++)"none"!=r[s].style.display&&i.selectItem(r[s])}else t.target.classList.contains("jdropdown-group-arrow")?t.target.classList.contains("jdropdown-group-arrow-down")?(t.target.classList.remove("jdropdown-group-arrow-down"),t.target.classList.add("jdropdown-group-arrow-up"),t.target.parentNode.nextSibling.style.display="none"):(t.target.classList.remove("jdropdown-group-arrow-up"),t.target.classList.add("jdropdown-group-arrow-down"),t.target.parentNode.nextSibling.style.display=""):t.target.classList.contains("jdropdown-item")?i.selectItem(t.target):t.target.classList.contains("jdropdown-image")||t.target.classList.contains("jdropdown-description")?i.selectItem(t.target.parentNode):t.target.classList.contains("jdropdown-title")?i.selectItem(t.target.parentNode.parentNode):(t.target.classList.contains("jdropdown-close")||t.target.classList.contains("jdropdown-backdrop"))&&i.close()}},e.dropdown.extractFromDom=function(e,t){var n=e;if(t||(t={}),!e.getAttribute("multiple")||t&&null!=t.multiple||(t.multiple=!0),!e.getAttribute("placeholder")||t&&null!=t.placeholder||(t.placeholder=e.getAttribute("placeholder")),!e.getAttribute("data-autocomplete")||t&&null!=t.autocomplete||(t.autocomplete=!0),t&&null!=t.width||(t.width=e.offsetWidth),!e.value||t&&null!=t.value||(t.value=e.value),!t||null==t.data){t.data=[];for(var i=0;i<e.children.length;i++)if("OPTGROUP"==e.children[i].tagName)for(var o=0;o<e.children[i].children.length;o++)t.data.push({value:e.children[i].children[o].value,text:e.children[i].children[o].innerHTML,group:e.children[i].getAttribute("label")});else t.data.push({value:e.children[i].value,text:e.children[i].innerHTML})}t&&null!=t.onchange||(t.onchange=function(e,i,o,a){1==t.multiple?obj.items[i].classList.contains("jdropdown-selected")?n.options[i].setAttribute("selected","selected"):n.options[i].removeAttribute("selected"):n.value=a});var a=document.createElement("div");return e.parentNode.insertBefore(a,e),e.style.display="none",{el:e=a,options:t}},e.editor=function(t,n){var i={type:"editor",options:{}},o={value:null,snippet:null,toolbar:null,remoteParser:null,placeholder:null,parseURL:!1,filterPaste:!0,dropZone:!1,dropAsSnippet:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,border:!0,padding:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];var r=null,s=null,l=[];t.innerHTML="",i.el=t,"function"==typeof i.options.onclick&&(t.onclick=function(e){i.options.onclick(t,i,e)}),t.classList.add("jeditor-container"),1==i.options.padding&&t.classList.add("jeditor-padding"),0==i.options.border&&(t.style.border="0px");var d=document.createElement("div");d.className="jsnippet",d.setAttribute("contenteditable",!1);var c=document.createElement("div");c.className="jeditor-toolbar";var u=document.createElement("div");if(u.setAttribute("contenteditable",!0),u.setAttribute("spellcheck",!1),u.className="jeditor",i.options.placeholder&&u.setAttribute("data-placeholder",i.options.placeholder),(i.options.maxHeight||i.options.height)&&(u.style.overflowY="auto",i.options.maxHeight&&(u.style.maxHeight=i.options.maxHeight),i.options.height&&(u.style.height=i.options.height)),i.options.value)var p=i.options.value;else p=t.innerHTML?t.innerHTML:"";if(!p)p="";var h=function(e){"function"==typeof i.options.onchange&&i.options.onchange(t,i,e),i.options.value=i.getData(),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.onchange&&t.onchange({type:"change",target:t,value:t.value}))},f=function(e){var t,n;if(window.getSelection&&(t=window.getSelection()).rangeCount){(n=t.getRangeAt(0)).toString();n.deleteContents(),n.insertNode(e),n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n)}},m=function(){var e=null;if(e=d.children[0]){e.classList.contains("jslider-grid")||e.classList.add("jslider-grid");var t=e.children.length;e.setAttribute("data-number",t>4?4:t),t>4?e.setAttribute("data-total",t-4):e.removeAttribute("data-total")}},v=function(e){d.innerHTML="";for(var t=["image","title","description","host","url"],n=0;n<t.length;n++){var i=document.createElement("div");if(i.className="jsnippet-"+t[n],i.setAttribute("data-k",t[n]),d.appendChild(i),e[t[n]])if("image"==t[n]){Array.isArray(e.image)||(e.image=[e.image]);for(var o=0;o<e.image.length;o++){var a=document.createElement("img");a.src=e.image[o],i.appendChild(a)}}else i.innerHTML=e[t[n]]}u.appendChild(document.createElement("br")),u.appendChild(d)},g=function(){clearTimeout(r),r=setTimeout((function(){if(!u.querySelector(".jsnippet")){var t=u.innerHTML.replace(/\n/g," "),n=document.createElement("div");n.innerHTML=t;var o=n.innerText,a=e.editor.detectUrl(o);if(a)if("jpg"==a[0].substr(-3)||"png"==a[0].substr(-3)||"gif"==a[0].substr(-3))i.addImage(a[0],!0);else{var r=e.editor.youtubeParser(a[0]);i.parseWebsite(a[0],r)}}}),1e3)};i.parseContent=function(){g()},i.parseWebsite=function(t,n){if(i.options.remoteParser){if(n)t="https://www.youtube.com/watch?v="+n;var o={title:"",description:"",image:"",host:t.split("/")[2],url:t};e.ajax({url:i.options.remoteParser+encodeURI(t.trim()),method:"GET",dataType:"json",success:function(e){e.title&&(o.title=e.title),e.description&&(o.description=e.description),e.host&&(o.host=e.host),e.url&&(o.url=e.url),v(o),e.image?i.addImage(e.image,!0):e["og:image"]&&i.addImage(e["og:image"],!0)}})}else console.log("The remoteParser is not defined")},i.setData=function(t){u.innerHTML=t,i.options.focus&&e.editor.setCursor(u,!0),l=[]},i.getFiles=function(){for(var e=u.querySelectorAll(".jfile"),t=[],n=0;n<e.length;n++)l[e[n].src]&&t.push(l[e[n].src]);return t},i.getText=function(){return u.innerText},i.getData=function(e){if(e){r={content:""};if(d.innerHTML){r.snippet={};for(var t=0;t<d.children.length;t++){var n=d.children[t].getAttribute("data-k");if(n)if("image"==n){r.snippet.image||(r.snippet.image=[]);for(var i=0;i<d.children[t].children.length;i++)r.snippet.image.push(d.children[t].children[i].getAttribute("src"))}else r.snippet[n]=d.children[t].innerHTML}}var o=Object.keys(l);if(o.length){r.files=[];for(t=0;t<o.length;t++)r.files.push(l[o[t]])}var a=u.innerHTML;a=(a=(a=a.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),r.content=a.trim()}else var r=u.innerHTML;return r},i.reset=function(){u.innerHTML="",d.innerHTML="",l=[]},i.addPdf=function(e){if("data"!=e.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60,t.height=60;var n=new Image;t.getContext("2d").drawImage(n,0,0,t.width,t.height),t.toBlob((function(t){var n=document.createElement("img");n.src=window.URL.createObjectURL(t),n.title=e.name,n.className="jfile pdf",l[n.src]={file:n.src,extension:"pdf",content:e.result},f(n)}))}},i.addImage=function(e,t){if(e||(e=""),"data"==e.substr(0,4)||i.options.remoteParser){if("data"==e.substr(0,4)){n=(n=(n=e.split(";"))[0].split("/"))[1]}else{var n=e.substr(e.lastIndexOf(".")+1);e=i.options.remoteParser+e}var o=new Image;o.onload=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0,e.width,e.height),e.toBlob((function(o){var a,r=document.createElement("img");r.src=window.URL.createObjectURL(o),r.classList.add("jfile"),r.setAttribute("tabindex","900"),l[r.src]={file:r.src,extension:n,content:e.toDataURL()},i.options.dropAsSnippet||t?(a=r,d.innerHTML||v({}),d.children[0].appendChild(a),m(),l[r.src].snippet=!0):f(r),h()}))},o.src=e}else console.error("remoteParser not defined in your initialization")},i.addFile=function(e){for(var t=[],n=0;n<e.length;n++)if(e[n].size>i.options.maxFileSize)alert("The file is too big");else{var o=e[n].type.split("/");(o="image"==o[0]?1:"pdf"==o[1]?2:0)?(t[n]=new FileReader,t[n].index=n,t[n].type=o,t[n].name=e[n].name,t[n].date=e[n].lastModified,t[n].size=e[n].size,t[n].addEventListener("load",(function(e){2==e.target.type?1==i.options.acceptFiles&&i.addPdf(e.target):i.addImage(e.target.result)}),!1),t[n].readAsDataURL(e[n])):alert("The extension is not allowed")}},i.destroy=function(){u.removeEventListener("mouseup",y),u.removeEventListener("mousedown",w),u.removeEventListener("mousemove",b),u.removeEventListener("keyup",x),u.removeEventListener("keydown",L),u.removeEventListener("dragstart",M),u.removeEventListener("dragenter",A),u.removeEventListener("dragover",N),u.removeEventListener("drop",O),u.removeEventListener("paste",k),"function"==typeof i.options.onblur&&u.removeEventListener("blur",D),"function"==typeof i.options.onfocus&&u.removeEventListener("focus",I),t.editor=null,t.classList.remove("jeditor-container"),c.remove(),d.remove(),u.remove()};var y=function(e){s&&s.e&&s.e.classList.remove("resizing"),s=!1},w=function(e){var t=function(t){var n=t.getBoundingClientRect();n.width-(e.clientX-n.left)<40&&e.clientY-n.top<40&&(t.innerHTML="",t.remove())};if("IMG"==e.target.tagName)if(e.target.style.cursor){var n=e.target.getBoundingClientRect();s={e:e.target,x:e.clientX,y:e.clientY,w:n.width,h:n.height,d:e.target.style.cursor},e.target.width||(e.target.width=n.width+"px"),e.target.height||(e.target.height=n.height+"px");var i=window.getSelection();if(i.rangeCount)for(var o=0;o<i.rangeCount;o++)i.removeRange(i.getRangeAt(o));e.target.classList.add("resizing")}else s=!0;else e.target.classList.contains("jsnippet")?t(e.target):e.target.parentNode.classList.contains("jsnippet")&&t(e.target.parentNode),s=!0},b=function(e){if("IMG"==e.target.tagName&&!e.target.parentNode.classList.contains("jsnippet-image")&&1==i.options.allowImageResize&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&s&&s.d){if("e-resize"==s.d||"ne-resize"==s.d||"se-resize"==s.d)if(s.e.width=s.w+(e.clientX-s.x),e.shiftKey){var n=(e.clientX-s.x)*(s.h/s.w);s.e.height=s.h+n}else n=null;n||"s-resize"!=s.d&&"se-resize"!=s.d&&"sw-resize"!=s.d||e.shiftKey||(s.e.height=s.h+(e.clientY-s.y))}},x=function(e){u.innerHTML||(u.innerHTML="<div><br></div>"),"function"==typeof i.options.onkeyup&&i.options.onkeyup(t,i,e)},L=function(e){1==i.options.parseURL&&g(),"function"==typeof i.options.onkeydown&&i.options.onkeydown(t,i,e),"Delete"==e.key&&"IMG"==e.target.tagName&&e.target.parentNode.classList.contains("jsnippet-image")&&(e.target.remove(),m())},j=[HTMLUnknownElement,HTMLAudioElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTextAreaElement,HTMLInputElement,HTMLScriptElement],E=["width","height","align","border","src","tabindex"],C=["color","font-weight","font-size","background","background-color","margin"],T=function(e){if(e.attributes&&e.attributes.length){var t=null,n=e.getAttribute("style");if(n){t=[];for(var o=n.split(";"),a=0;a<o.length;a++){var r=o[a].trim().split(":");if(C.indexOf(r[0].trim())>=0){var s=r.shift();r=r.join(":");t.push(s+":"+r)}}}"IMG"==e.tagName.toUpperCase()&&(i.options.acceptImages&&e.src?(e.setAttribute("tabindex","900"),i.addImage(e.src)):e.parentNode.removeChild(e));var l=[],d=e.attributes.length-1;if(d>0){for(var c=d;c>=0;c--)l.push(e.attributes[c].name);l.forEach((function(t){-1==E.indexOf(t)&&e.removeAttribute(t)}))}e.style="",t&&t.length&&e.setAttribute("style",t.join(";"))}if(e.children.length)for(c=0;c<e.children.length;c++)T(e.children[c]);j.indexOf(e.constructor)>=0&&e.remove()},k=function(e){if(1==i.options.filterPaste){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/html"),n=(e.originalEvent||e).clipboardData.getData("text/plain"),o=(e.originalEvent||e).clipboardData.files;else if(window.clipboardData)t=window.clipboardData.getData("Html"),n=window.clipboardData.getData("Text"),o=window.clipboardData.files;if(o.length)i.addFile(o);else if(t){var a=function(e){e&&(e=e.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""));var t=(new DOMParser).parseFromString(e,"text/html");T(t);var n=document.createElement("span");return n.innerHTML=t.firstChild.innerHTML,n}(t);document.execCommand("insertHtml",!1,a.innerHTML)}else t=n.split("\r\n"),e.target.innerText?(t=t.map((function(e){return"<div>"+e+"</div>"})),document.execCommand("insertHtml",!1,t.join(""))):t.map((function(e){var t=document.createElement("div");t.innerText=e,u.appendChild(t)}));e.preventDefault()}},M=function(e){s&&s.e&&e.preventDefault()},A=function(e){s||0==i.options.dropZone||(t.classList.add("jeditor-dragging"),e.preventDefault())},N=function(e){s||0==i.options.dropZone||(r&&clearTimeout(r),r=setTimeout((function(){t.classList.remove("jeditor-dragging")}),100),e.preventDefault())},O=function(e){if(s||0==i.options.dropZone);else{var n=null;document.caretRangeFromPoint?n=document.caretRangeFromPoint(e.clientX,e.clientY):e.rangeParent&&(n=document.createRange()).setStart(e.rangeParent,e.rangeOffset);var o=window.getSelection();o.removeAllRanges(),o.addRange(n),o.anchorNode.parentNode.focus();var a=(e.originalEvent||e).dataTransfer.getData("text/html"),r=(e.originalEvent||e).dataTransfer.getData("text/plain"),l=(e.originalEvent||e).dataTransfer.files;l.length?i.addFile(l):r&&function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll("img");if(n.length)for(var o=0;o<n.length;o++)i.addImage(n[o].src)}(a),t.classList.remove("jeditor-dragging"),e.preventDefault()}},D=function(e){"function"==typeof i.options.onblur&&i.options.onblur(t,i,e),h(e)},I=function(e){"function"==typeof i.options.onfocus&&i.options.onfocus(t,i,e)};return u.addEventListener("mouseup",y),u.addEventListener("mousedown",w),u.addEventListener("mousemove",b),u.addEventListener("keyup",x),u.addEventListener("keydown",L),u.addEventListener("dragstart",M),u.addEventListener("dragenter",A),u.addEventListener("dragover",N),u.addEventListener("drop",O),u.addEventListener("paste",k),u.addEventListener("focus",I),u.addEventListener("blur",D),"function"==typeof i.options.onload&&i.options.onload(t,i,u),u.innerHTML=p,t.appendChild(u),i.options.snippet&&v(i.options.snippet),null==i.options.toolbar&&(i.options.toolbar=e.editor.getDefaultToolbar()),i.options.toolbar&&(t.appendChild(c),e.toolbar(c,{container:!0,responsive:!0,items:i.options.toolbar})),i.options.focus&&e.editor.setCursor(u,"initial"==i.options.focus),t.change=i.setData,t.val=function(e){if(void 0===e){var n="true"!==t.getAttribute("data-html");return i.getData(n)}i.setData(e)},t.editor=i,i},e.editor.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n=window.getSelection(),i=n.getRangeAt(0);if(1==t)var o=i.startContainer,a=0;else a=(o=i.endContainer).length;i.setStart(o,a),i.setEnd(o,a),n.removeAllRanges(),n.addRange(i)},e.editor.getDomain=function(e){return e.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]},e.editor.detectUrl=function(e){var t=e.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi);return t&&"www"==t[0].substr(0,3)&&(t[0]="http://"+t[0]),t},e.editor.youtubeParser=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return!(!t||11!=t[7].length)&&t[7]},e.editor.getDefaultToolbar=function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]},e.form=function(t,n){var i={options:{}},o={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(t,n){e.alert(n)}};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];i.options.validations||(i.options.validations={}),i.options.submitButton||(i.options.submitButton=t.querySelector("input[type=submit]")),i.options.submitButton&&i.options.url&&(i.options.submitButton.onclick=function(){i.save()}),i.options.validations.email||(i.options.validations.email=e.validations.email),i.options.validations.length||(i.options.validations.length=e.validations.length),i.options.validations.required||(i.options.validations.required=e.validations.required),i.setUrl=function(e){i.options.url=e},i.load=function(){e.ajax({url:i.options.url,method:"GET",dataType:"json",queue:!0,success:function(n){if("function"==typeof i.options.onbeforeload){var o=i.options.onbeforeload(t,n);o&&(n=o)}e.form.setElements(t,n),"function"==typeof i.options.onload&&i.options.onload(t,n)}})},i.save=function(){var n=i.validate();if(n)i.options.onerror(t,n);else{var o=e.form.getElements(t,!0);if("function"==typeof i.options.onbeforesave)if(!1===(o=i.options.onbeforesave(t,o)))return;e.ajax({url:i.options.url,method:"POST",dataType:"json",data:o,success:function(e){"function"==typeof i.options.onsave&&i.options.onsave(t,o,e)}})}},i.remove=function(){if("function"==typeof i.options.onbeforeremove&&!1===i.options.onbeforeremove(t,i))return!1;e.ajax({url:i.options.url,method:"DELETE",dataType:"json",success:function(e){"function"==typeof i.options.onremove&&i.options.onremove(t,i,e),i.reset()}})};return i.validateElement=function(n){var o=!1,a=e.form.getValue(n),r=n.getAttribute("data-validation");return"function"!=typeof i.options.validations[r]||i.options.validations[r](a,n)?n.classList.contains("error")&&function(e){var n=!1;e.classList.remove("error"),e.removeAttribute("title");for(var o=t.querySelectorAll("input, select, textarea, div[name]"),a=0;a<o.length;a++)o[a].getAttribute("data-validation")&&o[a].classList.contains("error")&&(n=!0);i.options.submitButton&&(n?i.options.submitButton.setAttribute("disabled",!0):i.options.submitButton.removeAttribute("disabled"))}(n):o=function(e){e.classList.add("error"),i.options.submitButton&&i.options.submitButton.setAttribute("disabled",!0);var t=e.getAttribute("data-error")||"There is an error in the form";return e.setAttribute("title",t),t}(n),o},i.reset=function(){for(var e=t.querySelectorAll("input, select, textarea, div[name]"),n=0;n<e.length;n++)e[n].getAttribute("name")&&("checkbox"==e[n].type||"radio"==e[n].type?e[n].checked=!1:"function"==typeof e[n].val?e[n].val(""):e[n].value="")},i.validate=function(){for(var e=[],n=t.querySelectorAll("input, select, textarea, div[name]"),o=0;o<n.length;o++)if(n[o].getAttribute("data-validation")){var a=i.validateElement(n[o]);a&&e.push(a)}return e.length>0&&e.join("<br>")},i.getError=function(){return!!i.validation()},i.setHash=function(){return i.getHash(e.form.getElements(t))},i.getHash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},i.isChanged=function(){var e=i.setHash();return i.options.currentHash!=e},i.resetTracker=function(){i.options.currentHash=i.setHash(),i.options.ignore=!1},i.setIgnore=function(e){i.options.ignore=!!e},setTimeout((function(){i.options.currentHash=i.setHash()}),1e3),t.addEventListener("keyup",(function(e){e.target.getAttribute("data-validation")&&i.validateElement(e.target)})),e.form.hasEvents||(window.addEventListener("beforeunload",(function(e){if(i.isChanged()&&0==i.options.ignore){var t=i.options.message?i.options.message:"o/";return t?(void 0===e&&(e=window.event),e&&(e.returnValue=t),t):void 0}})),e.form.hasEvents=!0),t.form=i,i},e.form.getValue=function(e){var t=null;if("checkbox"==e.type)1==e.checked&&(t=e.value||!0);else if("radio"==e.type)1==e.checked&&(t=e.value);else if("select"==e.tagName&&1==e.multiple){t=[];for(var n=e.querySelectorAll("options[selected]"),i=0;i<n.length;i++)t.push(n[i].value)}else t="function"==typeof e.val?e.val():e.value||"";return t},e.form.getElements=function(t,n){for(var i={},o=null,a=t.querySelectorAll("input, select, textarea, div[name]"),r=0;r<a.length;r++)(o=a[r].getAttribute("name"))&&(i[o]=e.form.getValue(a[r])||"");return 1==n?i:JSON.stringify(i)},e.form.setElements=function(t,n){for(var i=null,o=null,a=t.querySelectorAll("input, select, textarea, div[name]"),r=0;r<a.length;r++){var s=a[r].getAttribute("type");if(i=a[r].getAttribute("name")){if(o=null,(i=i.replace(new RegExp(/\[(.*?)\]/gi),".$1")).match(/\./)){var l=e.path.call(n,i)||"";void 0!==l&&(o=l)}else void 0!==n[i]&&(o=n[i]);null!==o&&("checkbox"==s||"radio"==s?a[r].checked=!!o:"function"==typeof a[r].val?a[r].val(o):a[r].value=o)}}},e.tracker=e.form,e.focus=function(e){if(e.innerText.length){var t=document.createRange(),n=window.getSelection(),i=e.childNodes[e.childNodes.length-1];t.setStart(i,i.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t),e.scrollLeft=e.scrollWidth}},e.isNumeric=function(e){return!isNaN(e)&&null!==e&&""!==e},e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.getNode=function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},e.hash=function(e){var t,n,i=0;if(0===e.length)return i;for(t=0;t<e.length;t++)(n=e.charCodeAt(t))>32&&(i=(i<<5)-i+n,i|=0);return i},e.randomColor=function(t){var n=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var i,o,a=[];for(o=0;o<3;o++)i=parseInt(n.substr(2*o,2),16),i=Math.round(Math.min(Math.max(0,i+-.25*i),255)).toString(16),a.push(("00"+i).substr(i.length));return 1==t?"#"+e.two(a[0].toString(16))+e.two(a[1].toString(16))+e.two(a[2].toString(16)):a},e.getWindowWidth=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||i.clientWidth},e.getWindowHeight=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||i.clientHeight},e.getPosition=function(e){if(e.changedTouches&&e.changedTouches[0])var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[t,n]},e.click=function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}},e.findElement=function(e,t){var n=!1;return function e(i){i&&!n&&("function"==typeof t?n=t(i):"string"==typeof t&&i.classList&&i.classList.contains(t)&&(n=i)),i.parentNode&&!n&&e(i.parentNode)}(e),n},e.two=function(e){return 1==(e=""+e).length&&(e="0"+e),e},e.sha512=function(e){function t(e,t){this.highOrder=e,this.lowOrder=t}var n,i,o,a,r,s,l,d,c,u,p=[new t(1779033703,4089235720),new t(3144134277,2227873595),new t(1013904242,4271175723),new t(2773480762,1595750129),new t(1359893119,2917565137),new t(2600822924,725511199),new t(528734635,4215389547),new t(1541459225,327033209)],h=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)],f=new Array(64);function m(e,n){var i,o,a;return i=(65535&e.lowOrder)+(65535&n.lowOrder),a=(65535&(o=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i>>>16)))<<16|65535&i,i=(65535&e.highOrder)+(65535&n.highOrder)+(o>>>16),new t((65535&(o=(e.highOrder>>>16)+(n.highOrder>>>16)+(i>>>16)))<<16|65535&i,a)}function v(e,n,i,o){var a,r,s;return a=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&o.lowOrder),s=(65535&(r=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(o.lowOrder>>>16)+(a>>>16)))<<16|65535&a,a=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&o.highOrder)+(r>>>16),new t((65535&(r=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(o.highOrder>>>16)+(a>>>16)))<<16|65535&a,s)}function g(e,n,i,o,a){var r,s,l;return r=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&o.lowOrder)+(65535&a.lowOrder),l=(65535&(s=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(o.lowOrder>>>16)+(a.lowOrder>>>16)+(r>>>16)))<<16|65535&r,r=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&o.highOrder)+(65535&a.highOrder)+(s>>>16),new t((65535&(s=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(o.highOrder>>>16)+(a.highOrder>>>16)+(r>>>16)))<<16|65535&r,l)}function y(e,n,i){return new t(e.highOrder&n.highOrder^e.highOrder&i.highOrder^n.highOrder&i.highOrder,e.lowOrder&n.lowOrder^e.lowOrder&i.lowOrder^n.lowOrder&i.lowOrder)}function w(e,n,i){return new t(e.highOrder&n.highOrder^~e.highOrder&i.highOrder,e.lowOrder&n.lowOrder^~e.lowOrder&i.lowOrder)}function b(e,n){return n<=32?new t(e.highOrder>>>n|e.lowOrder<<32-n,e.lowOrder>>>n|e.highOrder<<32-n):new t(e.lowOrder>>>n|e.highOrder<<32-n,e.highOrder>>>n|e.lowOrder<<32-n)}function x(e){var n=b(e,28),i=b(e,34),o=b(e,39);return new t(n.highOrder^i.highOrder^o.highOrder,n.lowOrder^i.lowOrder^o.lowOrder)}function L(e){var n=b(e,14),i=b(e,18),o=b(e,41);return new t(n.highOrder^i.highOrder^o.highOrder,n.lowOrder^i.lowOrder^o.lowOrder)}function j(e){var n=b(e,1),i=b(e,8),o=E(e,7);return new t(n.highOrder^i.highOrder^o.highOrder,n.lowOrder^i.lowOrder^o.lowOrder)}function E(e,n){return n<=32?new t(e.highOrder>>>n,e.lowOrder>>>n|e.highOrder<<32-n):new t(0,e.highOrder<<32-n)}var C,T,k,M,A=8*(e=function(e){return unescape(encodeURIComponent(e))}(e)).length;e=function(e){for(var t=[],n=8*e.length,i=0;i<n;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}(e),e[A>>5]|=128<<24-A%32,e[31+(A+128>>10<<5)]=A;for(var N=0;N<e.length;N+=32){n=p[0],i=p[1],o=p[2],a=p[3],r=p[4],s=p[5],l=p[6],d=p[7];for(var O=0;O<80;O++)f[O]=O<16?new t(e[2*O+N],e[2*O+N+1]):v((C=f[O-2],T=void 0,k=void 0,M=void 0,T=b(C,19),k=b(C,61),M=E(C,6),new t(T.highOrder^k.highOrder^M.highOrder,T.lowOrder^k.lowOrder^M.lowOrder)),f[O-7],j(f[O-15]),f[O-16]),c=g(d,L(r),w(r,s,l),h[O],f[O]),u=m(x(n),y(n,i,o)),d=l,l=s,s=r,r=m(a,c),a=o,o=i,i=n,n=m(c,u);p[0]=m(n,p[0]),p[1]=m(i,p[1]),p[2]=m(o,p[2]),p[3]=m(a,p[3]),p[4]=m(r,p[4]),p[5]=m(s,p[5]),p[6]=m(l,p[6]),p[7]=m(d,p[7])}var D=[];for(N=0;N<p.length;N++)D.push(p[N].highOrder),D.push(p[N].lowOrder);return function(e){for(var t,n="0123456789abcdef",i="",o=4*e.length,a=0;a<o;a+=1)t=e[a>>2]>>8*(3-a%4),i+=n.charAt(t>>4&15)+n.charAt(15&t);return i}(D)},e.login||(e.login={},e.login.sha512=e.sha512),e.image=e.upload=function(t,n){var i={options:{}},o={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed"}};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];1==i.options.multiple&&t.setAttribute("data-multiple",!0),t.content=[],t.classList.add("jupload"),1==i.options.input&&t.classList.add("input"),i.add=function(n){if(0==i.options.multiple&&(t.content=[],t.innerText=""),"image"==i.options.type){var o=document.createElement("img");o.setAttribute("src",n.file),o.setAttribute("tabindex",-1),t.getAttribute("name")||(o.className="jfile",o.content=n),t.appendChild(o)}else{if(n.name)var a=n.name;else a=n.file;var r=document.createElement("div");r.innerText=a||i.options.type,r.classList.add("jupload-item"),r.setAttribute("tabindex",-1),t.appendChild(r)}n.content&&(n.file=e.guid()),t.content.push(n),"function"==typeof i.options.onchange&&i.options.onchange(t,n)},i.addFromFile=function(e){if(e.type.split("/")[0]==i.options.type){var t=new FileReader;t.addEventListener("load",(function(t){var n={file:t.srcElement.result,extension:e.name.substr(e.name.lastIndexOf(".")+1),name:e.name,size:e.size,lastmodified:e.lastModified,content:t.srcElement.result};i.add(n)})),t.readAsDataURL(e)}else alert(i.options.text.extensionNotAllowed)},i.addFromUrl=function(t){if("data"==t.substr(0,4)||i.options.remoteParser)if("data"==t.substr(0,4)){if((o=(o=t.split(";"))[0].split("/"))[0].replace("data:","")==i.options.type){var n={file:t,name:"",extension:o[1],content:t};i.add(n)}else alert(i.options.text.extensionNotAllowed)}else{var o=t.substr(t.lastIndexOf(".")+1);t=i.options.remoteParser+t,e.ajax({url:t,type:"GET",dataType:"blob",success:function(e){}})}else console.error("remoteParser not defined in your initialization")};var r=i.options.type+"/"+i.options.extension,s=document.createElement("input");s.type="file",s.setAttribute("accept",r),s.onchange=function(){for(var e=0;e<this.files.length;e++)i.addFromFile(this.files[e])},1==i.options.multiple&&s.setAttribute("multiple",!0);var l=null;return t.addEventListener("click",(function(n){l=null,t.children.length&&n.target!==t?n.target.parentNode==t&&(l=n.target):e.click(s)})),t.addEventListener("dblclick",(function(t){e.click(s)})),t.addEventListener("dragenter",(function(e){t.style.border="1px dashed #000"})),t.addEventListener("dragleave",(function(e){t.style.border="1px solid #eee"})),t.addEventListener("dragstop",(function(e){t.style.border="1px solid #eee"})),t.addEventListener("dragover",(function(e){e.preventDefault()})),t.addEventListener("keydown",(function(e){if(l&&46==e.which){var n=Array.prototype.indexOf.call(t.children,l);n>=0&&(t.content.splice(n,1),l.remove(),l=null)}})),t.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation();var n=(e.originalEvent||e).dataTransfer.getData("text/html");if((e.originalEvent||e).dataTransfer.files.length)for(var o=0;o<e.dataTransfer.files.length;o++)i.addFromFile(e.dataTransfer.files[o]);else if(n){0==i.options.multiple&&(t.innerText="");var a=document.createElement("div");a.innerHTML=n;var r=a.querySelectorAll("img");if(r.length)for(o=0;o<r.length;o++)i.addFromUrl(r[o].src)}return t.style.border="1px solid #eee",!1})),t.val=function(e){if(void 0===e)return t.content&&t.content.length?t.content:null;if(t.innerText="",t.content=[],e)if(Array.isArray(e))for(var n=0;n<e.length;n++)"string"==typeof e[n]?i.add({file:e[n]}):i.add(e[n]);else"string"==typeof e&&i.add({file:e})},t.upload=t.image=i,i},e.image.create=function(e){var t=document.createElement("img");return t.setAttribute("src",e.file),t.className="jfile",t.setAttribute("tabindex",-1),t.content=e,t},e.lazyLoading=function(e,t){t.loadUp&&"function"==typeof t.loadUp||(t.loadUp=function(){return!1}),t.loadDown&&"function"==typeof t.loadDown||(t.loadDown=function(){return!1}),t.timer||(t.timer=100);var n=null,i=function(i){if(null==n){var o=!1,a=e.scrollTop;e.scrollTop+2*e.clientHeight>=e.scrollHeight?t.loadDown()&&(a==e.scrollTop&&(e.scrollTop=e.scrollTop-e.clientHeight),o=!0):e.scrollTop<=e.clientHeight&&t.loadUp()&&(a==e.scrollTop&&(e.scrollTop=e.scrollTop+e.clientHeight),o=!0),n=setTimeout((function(){n=null}),t.timer),o&&"function"==typeof t.onupdate&&t.onupdate()}};return e.onscroll=function(e){i()},e.onwheel=function(e){i()},{}},e.loading=function(){var e={},t=null;return e.show=function(){t||((t=document.createElement("div")).className="jloading"),document.body.appendChild(t)},e.hide=function(){t&&t.parentNode&&document.body.removeChild(t)},e}(),e.mask=function(){var t={currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","HH24","HH12","HH","\\[H\\]","H","AM/PM","PM","AM","MI","SS","MS","MONTH","MON","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},n=function(){if(-1!==this.mask.toLowerCase().indexOf("[h]")){var t=0;this.date[4]&&(t=parseFloat(this.date[4]/60));var n=parseInt(this.date[3])+t;n/=24}else this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]?(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),n=e.two(this.date[0])+"-"+e.two(this.date[1])+"-"+e.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(n+=" "+e.two(this.date[3])+":"+e.two(this.date[4])+":"+e.two(this.date[5]))):n=e.two(this.date[3])+":"+e.two(this.date[4])+":"+e.two(this.date[5]);return n},i=function(e){return null===e||""===e||void 0===e},o=function(e){return"currency"===e||"percentage"===e||"numeric"===e},a=function(e){if(e&&Number(e)==e)return".";if(this.options.decimal)return this.options.decimal;if(this.locale){var t=Intl.NumberFormat(this.locale).format(1.1);return this.options.decimal=t[1]}if(e||(e=this.mask),(t=(n=new RegExp("0{1}(.{1})0+","ig")).exec(e))&&t[1]&&1==t[1].length)return this.options.decimal=t[1],t[1];var n=new RegExp("#,##","ig");return e&&e.match(n)||"."=="1.1".toLocaleString().substring(1,2)?this.options.decimal=".":this.options.decimal=",",this.options.decimal?this.options.decimal:null},r=function(e,t){return""==e?"":(t||(t=a.call(this)),(e=(""+e).split(t))[0]=e[0].match(/[\-0-9]+/g,""),e[0]&&(e[0]=e[0].join("")),e[0]||e[1]?(void 0!==e[1]&&(e[1]=e[1].match(/[0-9]+/g,""),e[1]?e[1]=e[1].join(""):e[1]=""),e):"")},s=function(e){if(""==e)return"";var t=a.call(this),n=Object.create(this.options||{});if(n.minimumFractionDigits||(n.minimumFractionDigits=1),""==(e=r.call(this,e)))return"";if(e[0]){var i=parseFloat(e.join("."));"percent"==n.style&&(i/=100)}else i=null;var o=new Intl.NumberFormat(this.locale,n).format(i),s=(o=o.split(t))[1].replace(/[0-9]*/g,"");return s&&(o[2]=s),void 0!==e[1]?o[1]=t+e[1]:o[1]="",o.join("")},l=function(e){var t=u.call(e);if(t){a.call(this);var n=s.call(this,t),i=n.length-t.length,o=c.call(e)+i;u.call(e,n,o,!0)}},d=function(e){var t=r.call(this,e);return t?parseFloat(t.join(".")):null},c=function(e,t){if(void 0===e){if("DIV"==this.tagName){var n=0;if(s=window.getSelection())if(0!==s.rangeCount)(o=(r=s.getRangeAt(0)).cloneRange()).selectNodeContents(this),o.setEnd(r.endContainer,r.endOffset),n=o.toString().length;return n}return this.selectionStart}var i=u.call(this);if(t){for(var o=null,a=0;a<i.length;a++)(i[a].match(/[\-0-9]/g)||"."==i[a]||","==i[a])&&(o=a);null===o&&(o=i.indexOf(" ")),e>=o&&(e=o+1)}if(e>i.length&&(e=i.length),e)if("DIV"==this.tagName){var r,s=window.getSelection();(r=document.createRange()).setStart(this.childNodes[0],e),s.removeAllRanges(),s.addRange(r)}else this.selectionStart=e,this.selectionEnd=e},u=function(e,t,n){if("DIV"==this.tagName){if(void 0===e)return this.innerText;this.innerText!==e&&(this.innerText=e,t&&c.call(this,t,n))}else{if(void 0===e)return this.value;this.value!==e&&(this.value=e,t&&c.call(this,t,n))}},p=e.calendar.weekdays,h=e.calendar.weekdaysShort,f=e.calendar.months,m=e.calendar.monthsShort,v={YEAR:function(e,t){var n=""+(new Date).getFullYear();if(void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&parseInt(e)<=10&&this.values[this.index].length<t&&(this.values[this.index]+=e),this.values[this.index].length==t){if(2==t)n=n.substr(0,2)+this.values[this.index];else if(3==t)n=n.substr(0,1)+this.values[this.index];else if(4==t)n=this.values[this.index];this.date[0]=n,this.index++}},YYYY:function(e){v.YEAR.call(this,e,4)},YYY:function(e){v.YEAR.call(this,e,3)},YY:function(e){v.YEAR.call(this,e,2)},FIND:function(e,t){i(this.values[this.index])&&(this.values[this.index]="");for(var n=0,o=0,a=(this.values[this.index]+e).toLowerCase(),r=0;r<t.length;r++)0==t[r].toLowerCase().indexOf(a)&&(n=r,o++);if(o>1)this.values[this.index]+=e;else if(1==o){var s=t[n].length-this.values[this.index].length-1;return this.position+=s,this.values[this.index]=t[n],this.index++,n}},MMM:function(e){var t=v.FIND.call(this,e,m);void 0!==t&&(this.date[1]=t+1)},MMMM:function(e){var t=v.FIND.call(this,e,f);void 0!==t&&(this.date[1]=t+1)},MMMMM:function(e){i(this.values[this.index])&&(this.values[this.index]="");for(var t=(this.values[this.index]+e).toLowerCase(),n=0;n<f.length;n++)if(0==f[n][0].toLowerCase().indexOf(t)){this.values[this.index]=f[n][0],this.date[1]=n+1,this.index++;break}},MM:function(e){i(this.values[this.index])?parseInt(e)>1&&parseInt(e)<10?(this.date[1]=this.values[this.index]="0"+e,this.index++):parseInt(e)<2&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&parseInt(e)>0&&parseInt(e)<10)&&(this.date[1]=this.values[this.index]+=e,this.index++)},M:function(e){var t=!1;if(parseInt(e)>=0&&parseInt(e)<10)if(i(this.values[this.index]))this.values[this.index]=e,e>1&&(this.date[1]=this.values[this.index],this.index++);else if(1==this.values[this.index]&&parseInt(e)<3)this.date[1]=this.values[this.index]+=e,this.index++;else if(0==this.values[this.index]&&parseInt(e)>0)this.date[1]=this.values[this.index]+=e,this.index++;else t=!0;else t=!0;if(1==t){var n=parseInt(this.values[this.index]);n>0&&n<12&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},D:function(e){var t=!1;if(parseInt(e)>=0&&parseInt(e)<10)if(i(this.values[this.index]))this.values[this.index]=e,parseInt(e)>3&&(this.date[2]=this.values[this.index],this.index++);else if(3==this.values[this.index]&&parseInt(e)<2)this.date[2]=this.values[this.index]+=e,this.index++;else if(1==this.values[this.index]||2==this.values[this.index])this.date[2]=this.values[this.index]+=e,this.index++;else if(0==this.values[this.index]&&parseInt(e)>0)this.date[2]=this.values[this.index]+=e,this.index++;else t=!0;else t=!0;if(1==t){var n=parseInt(this.values[this.index]);n>0&&n<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},DD:function(e){i(this.values[this.index])?parseInt(e)>3&&parseInt(e)<10?(this.date[2]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(3==this.values[this.index]&&parseInt(e)<2||(1==this.values[this.index]||2==this.values[this.index])&&parseInt(e)<10||0==this.values[this.index]&&parseInt(e)>0&&parseInt(e)<10)&&(this.date[2]=this.values[this.index]+=e,this.index++)},DDD:function(e){v.FIND.call(this,e,h)},DDDD:function(e){v.FIND.call(this,e,p)},HH12:function(e,t){i(this.values[this.index])?parseInt(e)>1&&parseInt(e)<10?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||this.values[this.index]<1&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++)},HH24:function(e,t){parseInt(e)>=0&&parseInt(e)<10&&(null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>2&&parseInt(e)<10?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(2==this.values[this.index]&&parseInt(e)<4||this.values[this.index]<2&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++))},HH:function(e){v.HH24.call(this,e,1)},H:function(e){v.HH24.call(this,e,0)},"\\[H\\]":function(e){null==this.values[this.index]&&(this.values[this.index]=""),e.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=e:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(e,t){null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>5&&parseInt(e)<10?(this.date[t]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):parseInt(e)<10&&(this.date[t]=this.values[this.index]+=e,this.index++)},MI:function(e){v.N60.call(this,e,4)},SS:function(e){v.N60.call(this,e,5)},"AM/PM":function(e){this.values[this.index]="",e&&(this.date[3]>12?this.values[this.index]="PM":this.values[this.index]="AM"),this.index++},WD:function(e){void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&parseInt(e)<7&&(this.values[this.index]=e),1==this.value[this.index].length&&this.index++},"0{1}(.{1}0+)?":function(e){var t=a.call(this),n=!1;i(this.values[this.index])?this.values[this.index]="":"-"==this.values[this.index]&&(n=!0);var o=r.call(this,this.values[this.index],t);o&&(this.values[this.index]=o.join(t)),parseInt(e)>=0&&parseInt(e)<10?"0"==this.values[this.index]&&e!=t||(this.values[this.index]+=e):t&&e==t?-1==this.values[this.index].indexOf(t)&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=e):"-"==e&&(n=!0),!0===n&&"-"!==this.values[this.index][0]&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?%":function(e){v["0{1}(.{1}0+)?"].call(this,e),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&-1==this.values[this.index].indexOf("%")&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(e){v["0{1}(.{1}0+)?"].call(this,e);var t=a.call(this),n=this.tokens[this.index].substr(1,1),i="-"===this.values[this.index][0],o=r.call(this,this.values[this.index],t);if(""!==o){var s=o[0].match(/[0-9]/g);if(s){for(var l=[],d=0,c=(s=s.join("")).length-1;c>=0;c--)l.push(s[c]),++d%3||l.push(n);l=l.reverse(),o[0]=l.join(""),o[0].substr(0,1)==n&&(o[0]=o[0].substr(1))}else o[0]="";this.values[this.index]=o.join(t),i&&(this.values[this.index]="-"+this.values[this.index])}},0:function(e){e.match(/[0-9]/g)&&(this.values[this.index]=e,this.index++)},"[0-9a-zA-Z$]+":function(e){i(this.values[this.index])&&(this.values[this.index]="");var t=this.tokens[this.index];t[this.values[this.index].length]==e?(this.values[this.index]+=e,this.values[this.index]==t&&this.index++):(this.values[this.index]=t,this.index++,e.match(/[\-0-9]/g)&&this.position--)},A:function(e){e.match(/[a-zA-Z]/gi)&&(this.values[this.index]=e,this.index++)},".":function(e){v["[0-9a-zA-Z$]+"].call(this,e)}},g=function(e){if("general"==this.type)var n=[].concat(t.general);else n=[].concat(t.currency,t.datetime,t.percentage,t.numeric,t.general);var i=new RegExp(n.join("|"),"gi");return e.match(i)},y=function(e){if(this.type)if("general"==this.type)n=["general"];else if("datetime"==this.type)n=["numeric","datetime","general"];else n=["currency","percentage","numeric","general"];else var n=Object.keys(t);for(var i=0;i<n.length;i++)for(var o=n[i],a=0;a<t[o].length;a++){var r=new RegExp(t[o][a],"gi");if(e.match(r))return{type:o,method:t[o][a]}}},w=function(e){for(var t=[],n=0;n<e.length;n++){var i=y.call(this,e[n]);i?t.push(i.method):t.push(null)}for(n=0;n<t.length;n++)"MM"==t[n]&&(t[n-1]&&t[n-1].indexOf("H")>=0||t[n-2]&&t[n-2].indexOf("H")>=0||t[n+1]&&t[n+1].indexOf("S")>=0||t[n+2]&&t[n+2].indexOf("S")>=0)&&(t[n]="MI");return t},b=function(e){var t=y.call(this,e);if(t)var n=t.type;if(n){for(var i=0,a=g.call(this,e),r=0;r<a.length;r++)(t=y.call(this,a[r]))&&o(t.type)&&i++;i>1&&(n="general")}return n},x=function(){"function"==typeof v[this.methods[this.index]]?(v[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)},L=function(t,i,r){var p=null,h={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if("object"==typeof t){if(h.input=t.target,h.value=u.call(t.target),h.caret=c.call(t.target),(p=t.target.getAttribute("data-mask"))&&(h.mask=p),(p=t.target.getAttribute("data-type"))&&(h.type=p),t.target.mask?(t.target.mask.options&&(h.options=t.target.mask.options),t.target.mask.locale&&(h.locale=t.target.mask.locale)):(p=t.target.getAttribute("data-locale"))&&(h.locale=p,h.mask&&(h.options.style=h.mask)),t.target.attributes&&t.target.attributes.length)for(var f=0;f<t.target.attributes.length;f++){var m=t.target.attributes[f].name,v=t.target.attributes[f].value;"data"==m.substr(0,4)&&(h.options[m.substr(5)]=v)}}else{if("string"==typeof i)h.mask=i;else for(m=Object.keys(i),f=0;f<m.length;f++)h[m[f]]=i[m[f]];"number"==typeof t&&(a.call(h,h.mask),t=(""+t).replace(".",h.options.decimal)),h.value=t,h.input&&(u.call(h.input,t),e.focus(h.input),h.caret=c.call(h.input))}if("="!=(""+h.value)[0]&&(h.mask||h.locale)){if(h.mask){if(h.mask=h.mask.replace("[-]",""),-1!==h.mask.indexOf("##")){var L=h.mask.split(";");L[0]&&(L[0]=L[0].replace("*",""),L[0]=L[0].replace(/_/g,""),L[0]=L[0].replace(/-/g,""),L[0]=L[0].replace("(",""),L[0]=L[0].replace(")",""),L[0]=L[0].replace("##0.###","##0.000"),L[0]=L[0].replace("##0.##","##0.00"),L[0]=L[0].replace("##0.#","##0.0")),h.mask=L[0]}h.type||(h.type=b.call(h,h.mask)),h.tokens=g.call(h,h.mask)}if("object"!=typeof t||!t.inputType||"insertText"==t.inputType||"insertFromPaste"==t.inputType)if(h.locale)if(h.input)l.call(h,h.input);else var j=s.call(h,h.value);else{for(h.methods=w.call(h,h.tokens);h.position<h.value.length&&void 0!==h.tokens[h.index];)x.call(h);if(o(h.type)){for(;void 0!==h.tokens[h.index];){(p=y.call(h,h.tokens[h.index]))&&"general"==p.type&&(h.values[h.index]=h.tokens[h.index]),h.index++}var E=!0}else E=!1;j=h.values.join("");if(h.input){if((p=j.length-h.value.length)>0)var C=h.caret+p;else C=h.caret;u.call(h.input,j,C,E)}}if(h.input){var T=null;o(h.type)?(h.number=d.call(h,u.call(h.input)),T="percentage"==h.type?h.number/100:h.number):"datetime"==h.type&&(T=n.call(h),h.date[0]&&h.date[1]&&h.date[2]&&h.input.setAttribute("data-completed",!0)),T&&h.input.setAttribute("data-value",T)}if(void 0!==j)return r?h:j}};return L.prepare=function(e,t){return t||(t={}),g.call(t,e)},L.apply=function(e){var t=u.call(e.target);1==e.key.length&&(t+=e.key),u.call(e.target,L(t,e.target.getAttribute("data-mask")))},L.run=function(e,t,n){return L(e,{mask:t,decimal:n})},L.extract=function(t,o,r){if(i(t))return t;if("object"!=typeof o)return u;o.options||(o.options={}),!o.mask&&o.format&&(o.mask=o.format),a.call(o,o.mask);var s=null;if("percent"==o.type||"percent"==o.options.style?s="percentage":o.mask&&(s=b.call(o,o.mask)),"datetime"===s){if(t instanceof Date)var l=e.calendar.getDateString(u,o.mask);var c=L(t,o,!0),u=n.call(c);if(c.date[0]&&c.date[1]&&c.date[2]&&!(c.date[3]||c.date[4]||c.date[5])){l=e.calendar.now(c.date);u=e.calendar.dateToNum(l)}}else{u=d.call(o,t);"percentage"==s&&(u/=100);c=o}return c.value=u,r?c:u},L.render=function(t,n,o){if(i(t))return t;if("object"!=typeof n)return t;n.options||(n.options={}),!n.mask&&n.format&&(n.mask=n.format);var r=null;"percent"==n.type||"percent"==n.options.style?r="percentage":n.mask?r=b.call(n,n.mask):t instanceof Date&&(r="datetime");var s=!1;if("datetime"==r||"calendar"==n.type)(l=e.calendar.getDateString(t,n.mask))&&(t=l),n.mask&&o&&(s=!0);else if("percentage"==r&&(t*=100),"number"==typeof t){var l=null;if(n.mask&&o){var d=new RegExp("0{1}(.{1})0+","ig");(c=n.mask.match(d))&&c[0]?(c=c[0].length-2,l=t.toFixed(c)):l=""+t}else if(n.locale&&o){var c;(c=(""+t).split("."))[1]?1==c[1].length&&(c[1]+="0"):c[1]="00",l=c.join(".")}else l=(""+ +t).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,(function(e,t,n,i,o){return o<0?t+"0."+Array(1-o-n.length).join(0)+n+i:t+n+i+Array(o-i.length+1).join(0)}));null!==l&&(t=l,a.call(n,n.mask),n.options.decimal&&(t=t.replace(".",n.options.decimal)))}else n.mask&&o&&(s=!0);if(s){var u=n.mask.length-t.length;if(u>0)for(var p=0;p<u;p++)t+=" "}return t=L(t,n)},L.set=function(e,t){if(t){e.setAttribute("data-mask",t);var n=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}},"undefined"!=typeof document&&document.addEventListener("input",(function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&L(e)})),L}(),e.modal=function(t,n){var i={options:{}},o={url:null,onopen:null,onclose:null,closed:!1,width:null,height:null,title:null,padding:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];!i.options.title&&t.getAttribute("title")&&(i.options.title=t.getAttribute("title"));for(var r=document.createElement("div");t.children[0];)r.appendChild(t.children[0]);for(i.content=document.createElement("div"),i.content.className="jmodal_content",i.content.innerHTML=t.innerHTML;r.children[0];)i.content.appendChild(r.children[0]);i.container=document.createElement("div"),i.container.className="jmodal",i.container.appendChild(i.content),i.options.padding&&(i.content.style.padding=i.options.padding),i.options.width&&(i.container.style.width=i.options.width),i.options.height&&(i.container.style.height=i.options.height),i.options.title?i.container.setAttribute("title",i.options.title):i.container.classList.add("no-title"),t.innerHTML="",t.style.display="none",t.appendChild(i.container);var s=document.createElement("div");return s.className="jmodal_backdrop",s.onclick=function(){i.close()},t.appendChild(s),i.open=function(){t.style.display="block";var n=i.container.getBoundingClientRect();e.getWindowWidth()<n.width?(i.container.style.top="",i.container.style.left="",i.container.classList.add("jmodal_fullscreen"),e.animation.slideBottom(i.container,1)):s.style.display="block",e.modal.current=i,"function"==typeof i.options.onopen&&i.options.onopen(t,i)},i.resetPosition=function(){i.container.style.top="",i.container.style.left=""},i.isOpen=function(){return"none"!=t.style.display},i.close=function(){t.style.display="none",s.style.display="",e.modal.current=null,i.container.classList.remove("jmodal_fullscreen"),"function"==typeof i.options.onclose&&i.options.onclose(t,i)},e.modal.hasEvents||(e.modal.current=i,"ontouchstart"in document.documentElement==!0?document.addEventListener("touchstart",e.modal.mouseDownControls):(document.addEventListener("mousedown",e.modal.mouseDownControls),document.addEventListener("mousemove",e.modal.mouseMoveControls),document.addEventListener("mouseup",e.modal.mouseUpControls)),document.addEventListener("keydown",e.modal.keyDownControls),e.modal.hasEvents=!0),i.options.url?e.ajax({url:i.options.url,method:"GET",dataType:"text/html",success:function(e){i.content.innerHTML=e,i.options.closed||i.open()}}):i.options.closed||i.open(),t.modal=i,i},e.modal.current=null,e.modal.position=null,e.modal.keyDownControls=function(t){27==t.which&&e.modal.current&&e.modal.current.close()},e.modal.mouseUpControls=function(t){e.modal.current&&(e.modal.current.container.style.cursor="auto"),e.modal.position=null},e.modal.mouseMoveControls=function(t){if(e.modal.current&&e.modal.position)if(1==t.which||3==t.which){var n=e.modal.position;e.modal.current.container.style.top=n[1]+(t.clientY-n[3])+n[5]/2+"px",e.modal.current.container.style.left=n[0]+(t.clientX-n[2])+n[4]/2+"px",e.modal.current.container.style.cursor="move"}else e.modal.current.container.style.cursor="auto"},e.modal.mouseDownControls=function(t){e.modal.position=[],t.target.classList.contains("jmodal")&&setTimeout((function(){var n=t.target.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0])var i=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY;else i=t.clientX,o=t.clientY;n.width-(i-n.left)<50&&o-n.top<50?setTimeout((function(){e.modal.current.close()}),100):t.target.getAttribute("title")&&o-n.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),e.modal.position=[n.left,n.top,t.clientX,t.clientY,n.width,n.height])}),100)},e.notification=function(t){var n={options:{}},i={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var o in i)t&&t.hasOwnProperty(o)?n.options[o]=t[o]:n.options[o]=i[o];var a=document.createElement("div");a.className="jnotification",n.options.error&&a.classList.add("jnotification-error");var r=document.createElement("div");r.className="jnotification-container",a.appendChild(r);var s=document.createElement("div");s.className="jnotification-header",r.appendChild(s);var l=document.createElement("div");if(l.className="jnotification-image",s.appendChild(l),n.options.icon){var d=document.createElement("img");d.src=n.options.icon,l.appendChild(d)}var c=document.createElement("div");if(c.className="jnotification-name",c.innerHTML=n.options.name,s.appendChild(c),1==n.options.closeable){var u=document.createElement("div");u.className="jnotification-close",u.onclick=function(){n.hide()},s.appendChild(u)}var p=document.createElement("div");p.className="jnotification-date",s.appendChild(p);var h=document.createElement("div");if(h.className="jnotification-content",r.appendChild(h),n.options.title){var f=document.createElement("div");f.className="jnotification-title",f.innerHTML=n.options.title,h.appendChild(f)}var m=document.createElement("div");if(m.className="jnotification-message",m.innerHTML=n.options.message,h.appendChild(m),n.show=function(){document.body.appendChild(a),e.getWindowWidth()>800?e.animation.fadeIn(a):e.animation.slideTop(a,1)},n.hide=function(){e.getWindowWidth()>800?e.animation.fadeOut(a,(function(){a.parentNode&&(a.parentNode.removeChild(a),v&&clearTimeout(v))})):e.animation.slideTop(a,0,(function(){a.parentNode&&(a.parentNode.removeChild(a),v&&clearTimeout(v))}))},n.show(),1==n.options.autoHide)var v=setTimeout((function(){n.hide()}),n.options.timeout);return e.getWindowWidth()<800&&a.addEventListener("swipeup",(function(e){n.hide(),e.preventDefault(),e.stopPropagation()})),n},e.notification.isVisible=function(){var e=document.querySelector(".jnotification");return!(!e||!e.parentNode)},e.palette=function(e){var t={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]]};return t[e]?t[e]:t.material},e.picker=function(t,n){if(t.picker)return t.picker.setOptions(n,!0);var i={type:"picker",options:{}},o=null,a=null;i.setOptions=function(e,t){var n={value:0,data:null,render:null,onchange:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,content:!1,columns:null,height:null};for(var r in e&&e.options&&(e.data=e.options),n)e&&e.hasOwnProperty(r)?i.options[r]=e[r]:void 0!==i.options[r]&&!0!==t||(i.options[r]=n[r]);return!1===i.options.header?o.style.display="none":o.style.display="",i.options.width?o.style.width=parseInt(i.options.width)+"px":o.style.width="",i.options.height?(a.style.maxHeight=i.options.height+"px",a.style.overflow="scroll"):a.style.overflow="",i.options.columns>0&&(a.classList.add("jpicker-columns"),a.style.width=i.options.width?i.options.width:36*i.options.columns+"px"),isNaN(i.options.value)&&(i.options.value="0"),function(){a.innerHTML="";for(var e=Object.keys(i.options.data),t=0;t<e.length;t++){var n=document.createElement("div");n.classList.add("jpicker-item"),n.k=e[t],n.v=i.options.data[e[t]],n.innerHTML=i.getLabel(e[t]),a.appendChild(n)}}(),i.setValue(i.options.value),i},i.getValue=function(){return i.options.value},i.setValue=function(e){i.setLabel(e),i.options.value=String(e),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.onchange&&t.onchange({type:"change",target:t,value:t.value})),"generic"!==a.children[e].getAttribute("type")&&i.close()},i.getLabel=function(e){var t=i.options.data[e]||null;return"function"==typeof i.options.render&&(t=i.options.render(t)),t},i.setLabel=function(e){if(i.options.content)var t='<i class="material-icons">'+i.options.content+"</i>";else t=i.getLabel(e);o.innerHTML=t},i.open=function(){if(!t.classList.contains("jpicker-focus")){e.tracking(i,!0),t.classList.add("jpicker-focus"),t.focus();var n=o.getBoundingClientRect(),r=a.getBoundingClientRect();window.innerHeight<n.bottom+r.height?a.style.marginTop=-1*(r.height+4)+"px":a.style.marginTop=n.height+2+"px",!0===i.options.right&&(a.style.marginLeft=-1*r.width+24+"px"),"function"==typeof i.options.onopen&&i.options.onopen(t,i)}},i.close=function(){t.classList.contains("jpicker-focus")&&(t.classList.remove("jpicker-focus"),e.tracking(i,!1),"function"==typeof i.options.onclose&&i.options.onclose(t,i))};return t.classList.add("jpicker"),t.setAttribute("tabindex","900"),t.onmousedown=function(e){t.classList.contains("jpicker-focus")||i.open()},(o=document.createElement("div")).classList.add("jpicker-header"),(a=document.createElement("div")).classList.add("jpicker-content"),a.onclick=function(n){var o=e.findElement(n.target,"jpicker-item");o&&o.parentNode===a&&(i.setValue(o.k),"function"==typeof i.options.onchange&&i.options.onchange.call(i,t,i,o.v,o.v,o.k))},t.appendChild(o),t.appendChild(a),t.value=n.value||0,i.setOptions(n),"function"==typeof i.options.onload&&i.options.onload(t,i),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.picker=i,i},e.progressbar=function(e,t){var n={options:{}},i={value:0,onchange:null,width:null};for(var o in i)t&&t.hasOwnProperty(o)?n.options[o]=t[o]:n.options[o]=i[o];e.classList.add("jprogressbar"),e.setAttribute("tabindex",1),e.setAttribute("data-value",n.options.value);var a=document.createElement("div");a.style.width=n.options.value+"%",a.style.color="#fff",e.appendChild(a),n.options.width&&(e.style.width=n.options.width),n.setValue=function(t){t=parseInt(t),n.options.value=t,a.style.width=t+"%",e.setAttribute("data-value",t+"%"),e.style.color=t<6?"#000":"#fff",n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value}))},n.getValue=function(){return n.options.value};var r=function(t){if(t.which){var i=e.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var o=t.changedTouches[0].clientX;t.changedTouches[0].clientY}else o=t.clientX,t.clientY;n.setValue(Math.round((o-i.left)/i.width*100))}};return"touchstart"in document.documentElement==!0?(e.addEventListener("touchstart",r),e.addEventListener("touchend",r)):(e.addEventListener("mousedown",r),e.addEventListener("mousemove",r)),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.progressbar=n,n},e.rating=function(e,t){if(e.rating)return e.rating.setOptions(t,!0);var n={options:{},setOptions:function(t,i){var o={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var a in o)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:void 0!==n.options[a]&&!0!==i||(n.options[a]=o[a]);e.innerHTML="";for(var r=0;r<n.options.number;r++){var s=document.createElement("div");s.setAttribute("data-index",r+1),s.setAttribute("title",n.options.tooltip[r]),e.appendChild(s)}if(n.options.value)for(r=0;r<n.options.number;r++)r<n.options.value&&e.children[r].classList.add("jrating-selected");return n},setValue:function(t){for(var i=0;i<n.options.number;i++)i<t?e.children[i].classList.add("jrating-selected"):(e.children[i].classList.remove("jrating-over"),e.children[i].classList.remove("jrating-selected"));n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value}))},getValue:function(){return n.options.value}};return n.setOptions(t),e.classList.add("jrating"),e.addEventListener("click",(function(e){var t=e.target.getAttribute("data-index");null!=t&&(t==n.options.value?n.setValue(0):n.setValue(t))})),e.addEventListener("mouseover",(function(t){for(var i=t.target.getAttribute("data-index"),o=0;o<n.options.number;o++)o<i?e.children[o].classList.add("jrating-over"):e.children[o].classList.remove("jrating-over")})),e.addEventListener("mouseout",(function(t){for(var i=0;i<n.options.number;i++)e.children[i].classList.remove("jrating-over")})),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.rating=n,n},e.search=function(t,n){if(t.search)return t.search;var i=null,o=function(e){if(l.innerHTML="",e.length){t.style.display="block";for(var n=e.length<11?e.length:10,i=0;i<n;i++){if("string"==typeof e[i])var o=e[i],a=e[i];else!(o=e[i].text)&&e[i].name&&(o=e[i].name),!(a=e[i].value)&&e[i].id&&(a=e[i].id);var r=document.createElement("div");r.setAttribute("data-value",a),r.setAttribute("data-text",o),r.className="jsearch_item",e[i].id&&r.setAttribute("id",e[i].id),s.options.forceSelect&&0==i&&r.classList.add("selected");var d=document.createElement("img");e[i].image?d.src=e[i].image:d.style.display="none",r.appendChild(d);var c=document.createElement("div");c.innerHTML=o,r.appendChild(c),l.appendChild(r)}}else t.style.display=""},a=function(t){if(t!=s.terms)if(s.terms=t,i=s.options.forceSelect?0:null,Array.isArray(s.options.data)){var n=s.options.data.filter((function(e){return function(e){if("string"==typeof e){if((""+e).toLowerCase().search(t.toLowerCase())>=0)return!0}else for(var n in e)if((""+e[n]).toLowerCase().search(t.toLowerCase())>=0)return!0;return!1}(e)}));o(n)}else e.ajax({url:s.options.data+t,method:"GET",dataType:"json",success:function(e){o(e)}})},r=null,s=function(e){r&&clearTimeout(r),r=setTimeout((function(){a(e)}),500)};null===n.forceSelect&&(n.forceSelect=!0),s.options={data:n.data||null,input:n.input||null,onselect:n.onselect||null,forceSelect:n.forceSelect},s.selectIndex=function(e){var t=e.getAttribute("id"),n=e.getAttribute("data-text"),i=e.getAttribute("data-value");"function"==typeof s.options.onselect&&s.options.onselect(s,n,i,t),s.close()},s.open=function(){t.style.display="block"},s.close=function(){r&&clearTimeout(r),s.terms="",l.innerHTML="",t.style.display=""},s.isOpened=function(){return!!t.style.display},s.keydown=function(e){s.isOpened()&&("Enter"==e.key?null!==i&&l.children[i]?(s.selectIndex(l.children[i]),e.preventDefault()):s.close():"ArrowUp"===e.key?(null!==i&&l.children[0]&&(l.children[i].classList.remove("selected"),s.options.forceSelect||0!==i?(i=Math.max(0,i-1),l.children[i].classList.add("selected")):i=null),e.preventDefault()):"ArrowDown"===e.key&&(null==i?i=-1:l.children[i].classList.remove("selected"),i<9&&l.children[i+1]&&i++,l.children[i].classList.add("selected"),e.preventDefault()))},s.keyup=function(t){if(s.options.input)s(s.options.input.value);else{var n=e.getNode();n&&s(n.innerText)}},s.options.input&&(s.options.input.addEventListener("keyup",s.keyup),s.options.input.addEventListener("keydown",s.keydown));var l=document.createElement("div");return l.classList.add("jsearch_container"),l.onmousedown=function(e){if(e.target.classList.contains("jsearch_item"))var t=e.target;else t=e.target.parentNode;s.selectIndex(t),e.preventDefault()},t.appendChild(l),t.classList.add("jsearch"),t.search=s,s},e.slider=function(e,t){var n={options:{},currentImage:null};if(t&&(n.options=t),e.setAttribute("tabindex","900"),n.options.items=[],!e.classList.contains("jslider")){if(e.classList.add("jslider"),e.classList.add("unselectable"),n.options.height&&(e.style.minHeight=n.options.height),n.options.width&&(e.style.width=n.options.width),n.options.grid){e.classList.add("jslider-grid");var i=e.children.length;i>4&&e.setAttribute("data-total",i-4),e.setAttribute("data-number",i>4?4:i)}var o=document.createElement("div");if(o.classList.add("jslider-counter"),e.children.length>0)for(var a=0;a<e.children.length;a++){n.options.items.push(e.children[a]);var r=document.createElement("div");r.onclick=function(){var e=Array.prototype.slice.call(o.children).indexOf(this);n.show(n.currentImage=n.options.items[e])},o.appendChild(r)}var s=document.createElement("div");s.className="jslider-caption";var l=document.createElement("div"),d=document.createElement("div");d.className="jslider-close",d.innerHTML="",d.onclick=function(){n.close()},l.appendChild(s),l.appendChild(d)}n.updateCounter=function(e){for(var t=0;t<o.children.length;t++)if(o.children[t].classList.contains("jslider-counter-focus")){o.children[t].classList.remove("jslider-counter-focus");break}o.children[e].classList.add("jslider-counter-focus")},n.show=function(t){if(!t)t=e.children[0];e.classList.add("jslider-focus"),e.classList.remove("jslider-grid"),e.appendChild(l),e.appendChild(o);var i=n.options.items.indexOf(t);n.updateCounter(i);for(var a=0;a<e.children.length;a++)e.children[a].style.display="";t.style.display="block",t.previousElementSibling?e.classList.add("jslider-left"):e.classList.remove("jslider-left"),t.nextElementSibling&&"IMG"==t.nextElementSibling.tagName?e.classList.add("jslider-right"):e.classList.remove("jslider-right"),n.currentImage=t,n.currentImage.offsetHeight>n.currentImage.offsetWidth&&n.currentImage.classList.add("jslider-vertical"),l.children[0].innerText=n.currentImage.getAttribute("title")},n.open=function(){n.show(),"function"==typeof n.options.onopen&&n.options.onopen(e)},n.close=function(){e.classList.remove("jslider-focus"),e.classList.remove("jslider-left"),e.classList.remove("jslider-right"),n.options.grid&&e.classList.add("jslider-grid");for(var t=0;t<e.children.length;t++)e.children[t].style.display="";o.remove(),l.remove(),n.currentImage=null,"function"==typeof n.options.onclose&&n.options.onclose(e)},n.reset=function(){e.innerHTML=""},n.next=function(){var e=n.currentImage.nextElementSibling;e&&"IMG"===e.tagName&&n.show(n.currentImage.nextElementSibling)},n.prev=function(){n.currentImage.previousElementSibling&&n.show(n.currentImage.previousElementSibling)};var c=function(e){if("IMG"==e.target.tagName)n.show(e.target);else if(!e.target.classList.contains("jslider-close")&&!e.target.parentNode.classList.contains("jslider-counter")&&!e.target.classList.contains("jslider-counter")){var t=e.offsetX||e.changedTouches[0].clientX;e.target.clientWidth-t<40?n.next():t<40&&n.prev()}};return"ontouchend"in document.documentElement==!0?e.addEventListener("touchend",c):e.addEventListener("mouseup",c),e.addEventListener("swipeleft",(function(e){n.next(),e.preventDefault(),e.stopPropagation()})),e.addEventListener("swiperight",(function(e){n.prev(),e.preventDefault(),e.stopPropagation()})),e.addEventListener("keydown",(function(e){27==e.which&&n.close()})),e.slider=n,n},e.sorting=function(e,t){var n={options:{}},i={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},o=null;for(var a in i)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:n.options[a]=i[a];e.classList.add("jsorting"),e.addEventListener("dragstart",(function(t){var i=Array.prototype.indexOf.call(t.target.parentNode.children,t.target);o={element:t.target,o:i,d:i},t.target.style.opacity="0.25","function"==typeof n.options.ondragstart&&n.options.ondragstart(e,t.target,t)})),e.addEventListener("dragover",(function(e){if(e.preventDefault(),r(e.target)&&o&&"true"==e.target.getAttribute("draggable")&&o.element!=e.target){if(n.options.direction)t=e.target.clientWidth/2>e.offsetX;else var t=e.target.clientHeight/2>e.offsetY;t?e.target.parentNode.insertBefore(o.element,e.target):e.target.parentNode.insertBefore(o.element,e.target.nextSibling),o.d=Array.prototype.indexOf.call(e.target.parentNode.children,o.element)}})),e.addEventListener("dragleave",(function(e){e.preventDefault()})),e.addEventListener("dragend",(function(t){t.preventDefault(),o&&("function"==typeof n.options.ondragend&&n.options.ondragend(e,o.element,t),o.o<o.d?t.target.parentNode.insertBefore(o.element,t.target.parentNode.children[o.o]):t.target.parentNode.insertBefore(o.element,t.target.parentNode.children[o.o].nextSibling),o.element.style.opacity="",o=null)})),e.addEventListener("drop",(function(t){t.preventDefault(),o&&o.o!=o.d&&"function"==typeof n.options.ondrop&&n.options.ondrop(e,o.o,o.d,o.element,t.target,t),o.element.style.opacity="",o=null}));for(var r=function(e){var t=!1;return function e(n){n.className&&n.classList.contains("jsorting")&&(t=!0),t||e(n.parentNode)}(e),t},s=0;s<e.children.length;s++)e.children[s].hasAttribute("draggable")||e.children[s].setAttribute("draggable","true");return e.val=function(){for(var t=null,n=[],i=0;i<e.children.length;i++)(t=e.children[i].getAttribute("data-id"))&&n.push(t);return n},e},e.tabs=function(t,n){var i={options:{}},o={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];t.classList.add("jtabs");var r=null,s=null,l=null,d=function(e){if(i.options.animation){var t=i.headers.children[e].getBoundingClientRect();"modern"==i.options.palette?(l.style.width=t.width-4+"px",l.style.left=i.headers.children[e].offsetLeft+2+"px"):(l.style.width=t.width+"px",l.style.left=i.headers.children[e].offsetLeft+"px"),"bottom"==i.options.position?l.style.top="0px":l.style.bottom="0px"}},c=function(e){"function"==typeof i.headers.scrollTo?i.headers.scrollTo({left:e,behavior:"smooth"}):i.headers.scrollLeft=e,e<=1?r.classList.add("disabled"):r.classList.remove("disabled"),e>=i.headers.scrollWidth-i.headers.offsetWidth?s.classList.add("disabled"):s.classList.remove("disabled"),i.headers.scrollWidth<=i.headers.offsetWidth?(r.style.display="none",s.style.display="none"):(r.style.display="",s.style.display="")};if(i.setBorder=d,i.open=function(e){for(var n=null,o=0;o<i.headers.children.length;o++)i.headers.children[o].classList.contains("jtabs-selected")&&(n=o),i.headers.children[o].classList.remove("jtabs-selected"),i.content.children[o]&&i.content.children[o].classList.remove("jtabs-selected");if(i.headers.children[e].classList.add("jtabs-selected"),i.content.children[e]&&i.content.children[e].classList.add("jtabs-selected"),n!=e&&"function"==typeof i.options.onchange&&i.content.children[e]&&i.options.onchange(t,i,e,i.headers.children[e],i.content.children[e]),1==i.options.hideHeaders&&i.headers.children.length<3&&0==i.options.allowCreate)i.headers.parentNode.style.display="none";else{d(e),i.headers.parentNode.style.display="";var a=i.headers.children[e].offsetLeft,r=a+i.headers.children[e].offsetWidth,s=i.headers.scrollLeft,l=s+i.headers.offsetWidth;s<=a&&l>=r||c(a-1)}},i.selectIndex=function(e){var t=Array.prototype.indexOf.call(i.headers.children,e);return t>=0&&i.open(t),t},i.rename=function(e,t){t||(t=prompt("New title",i.headers.children[e].innerText)),i.headers.children[e].innerText=t,i.open(e)},i.create=function(e,n){if("function"==typeof i.options.onbeforecreate){var o=i.options.onbeforecreate(t);if(!1===o)return!1;e=o}var a=i.appendElement(e);return"function"==typeof i.options.oncreate&&i.options.oncreate(t,a),a},i.remove=function(e){return i.deleteElement(e)},i.nextNumber=function(){for(var e=0,t=0;t<i.headers.children.length;t++){var n=i.headers.children[t].innerText.match(/[0-9].*/);n>e&&(e=parseInt(n))}return e?e++:e=1,e},i.deleteElement=function(e){if(!i.headers.children[e])return!1;i.headers.removeChild(i.headers.children[e]),i.content.removeChild(i.content.children[e]),i.open(0),"function"==typeof i.options.ondelete&&i.options.ondelete(t,e)},i.appendElement=function(e,t){if(!e)e=prompt("Title?","");if(e){var n=document.createElement("div");i.content.appendChild(n);var o=document.createElement("div");return o.innerHTML=e,o.content=n,i.headers.insertBefore(o,i.headers.lastChild),i.options.allowChangePosition&&o.setAttribute("draggable","true"),i.selectIndex(o),"function"==typeof t&&t(n,o),n}},i.getActive=function(){for(var e=0;e<i.headers.children.length;e++)if(i.headers.children[e].classList.contains("jtabs-selected"))return e;return 0},i.updateContent=function(e,t){"string"!=typeof t||(document.createElement("div").innerHTML=t);i.content.children[e].classList.contains("jtabs-selected")&&t.classList.add("jtabs-selected"),i.content.replaceChild(t,i.content.children[e])},i.updatePosition=function(e,t){e>t?i.content.insertBefore(i.content.children[e],i.content.children[t]):i.content.insertBefore(i.content.children[e],i.content.children[t].nextSibling),i.open(t),"function"==typeof i.options.onchangeposition&&i.options.onchangeposition(i.headers,e,t)},i.move=function(e,t){e>t?i.headers.insertBefore(i.headers.children[e],i.headers.children[t]):i.headers.insertBefore(i.headers.children[e],i.headers.children[t].nextSibling),i.updatePosition(e,t)},i.setBorder=d,i.init=function(){t.innerHTML="",i.headers=document.createElement("div"),i.content=document.createElement("div"),i.headers.classList.add("jtabs-headers"),i.content.classList.add("jtabs-content"),i.options.palette?t.classList.add("jtabs-modern"):t.classList.remove("jtabs-modern"),i.options.padding&&(i.content.style.padding=parseInt(i.options.padding)+"px");var n=document.createElement("div");n.className="jtabs-headers-container",n.appendChild(i.headers),i.options.maxWidth&&(n.style.maxWidth=parseInt(i.options.maxWidth)+"px");var o=document.createElement("div");if(o.className="jtabs-controls",o.setAttribute("draggable","false"),n.appendChild(o),"bottom"==i.options.position?(t.appendChild(i.content),t.appendChild(n)):(t.appendChild(n),t.appendChild(i.content)),1==i.options.allowCreate){var a=document.createElement("div");a.className="jtabs-add",a.onclick=function(){i.create()},o.appendChild(a)}(r=document.createElement("div")).className="jtabs-prev",r.onclick=function(){c(i.headers.scrollLeft-i.headers.offsetWidth)},o.appendChild(r),(s=document.createElement("div")).className="jtabs-next",s.onclick=function(){c(i.headers.scrollLeft+i.headers.offsetWidth)},o.appendChild(s);for(var d=0;d<i.options.data.length;d++){if(i.options.data[d].titleElement)var u=i.options.data[d].titleElement;else u=document.createElement("div");if(i.options.data[d].icon){var p=document.createElement("div"),h=document.createElement("i");h.classList.add("material-icons"),h.innerHTML=i.options.data[d].icon,p.appendChild(h),u.appendChild(p)}if(i.options.data[d].title){var f=document.createTextNode(i.options.data[d].title);u.appendChild(f)}if(i.options.data[d].width&&(u.style.width=i.options.data[d].width),i.options.data[d].contentElement)var m=i.options.data[d].contentElement;else(m=document.createElement("div")).innerHTML=i.options.data[d].content;i.headers.appendChild(u),i.content.appendChild(m)}(l=document.createElement("div")).className="jtabs-border",i.headers.appendChild(l),i.options.animation&&t.classList.add("jtabs-animation"),i.headers.addEventListener("click",(function(e){if(e.target.parentNode.classList.contains("jtabs-headers"))var n=e.target;else if("I"==e.target.tagName)n=e.target.parentNode.parentNode;else n=e.target.parentNode;var o=i.selectIndex(n);"function"==typeof i.options.onclick&&i.options.onclick(t,i,o,i.headers.children[o],i.content.children[o])})),i.headers.addEventListener("contextmenu",(function(e){i.selectIndex(e.target)})),i.headers.children.length&&i.open(0),c(0),1==i.options.allowChangePosition&&e.sorting(i.headers,{direction:1,ondrop:function(e,t,n){i.updatePosition(t,n)}}),"function"==typeof i.options.onload&&i.options.onload(t,i)},t.children[0]&&t.children[0].children.length)for(var u=0;u<t.children[0].children.length;u++){var p=i.options.data&&i.options.data[u]?i.options.data[u]:{};t.children[1]&&t.children[1].children[u]?(p.titleElement=t.children[0].children[u],p.contentElement=t.children[1].children[u]):p.contentElement=t.children[0].children[u],i.options.data[u]=p}var h=!1;if(i.options.data)for(u=0;u<i.options.data.length;u++)i.options.data[u].url&&(e.ajax({url:i.options.data[u].url,type:"GET",dataType:"text/html",index:u,success:function(e){i.options.data[this.index].content=e},complete:function(){i.init()}}),h=!0);return h||i.init(),t.tabs=i,i},e.tags=function(t,n){if(t.tags)return t.tags.setOptions(n,!0);var i={type:"tags",options:{}},o=function(){return!!(i.options.limit&&t.children.length>=i.options.limit)},a=null,r=null;i.setOptions=function(n,o){var s={value:"",limit:null,limitMessage:null,search:null,placeholder:null,validation:null,onbeforechange:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var l in s)n&&n.hasOwnProperty(l)?i.options[l]=n[l]:void 0!==i.options[l]&&!0!==o||(i.options[l]=s[l]);return i.options.placeholder?t.setAttribute("data-placeholder",i.options.placeholder):t.removeAttribute("data-placeholder"),t.placeholder=i.options.placeholder,i.setValue(i.options.value),c(),i.options.search?r||(r=document.createElement("div"),t.parentNode.insertBefore(r,t.nextSibling),a=e.search(r,{data:i.options.search,onselect:function(e,t,n){i.selectIndex(t,n)}})):r&&(a=null,r.remove(),r=null),i},i.add=function(n,r){if("function"==typeof i.options.onbeforechange){var c=i.options.onbeforechange(t,i,i.options.value,n);if(!1===c)return!1;null!=c&&(n=c)}if(a&&a.close(),o())"function"==typeof i.options.onlimit?i.options.onlimit(i,i.options.limit):i.options.limitMessage&&alert(i.options.limitMessage+" "+i.options.limit);else{var u=e.getNode();if(!(u&&u.parentNode&&u.parentNode.classList.contains("jtags")&&u.nextSibling)||u.nextSibling.innerText&&u.nextSibling.innerText.trim()){if(t.lastChild&&(t.lastChild.innerText.trim()||t.removeChild(t.lastChild)),n&&"string"!=typeof n){for(var p=0;p<=n.length;p++)if(!o()){if(n[p]&&"string"!=typeof n[p])h=n[p].text,f=n[p].value;else var h=n[p]||"",f=null;m=l(h,f)}}else var m=l(n,n,u);d()}else m=u.nextSibling;r&&s(m)}},i.setLimit=function(e){i.options.limit=e;for(t.children.length;t.children.length>e;)t.removeChild(t.lastChild)},i.remove=function(e){e.parentNode.removeChild(e),t.children.length?d():i.add("",!0)},i.getData=function(){for(var e=[],n=0;n<t.children.length;n++){var i=t.children[n].innerText.replace("\n",""),o=t.children[n].getAttribute("data-value");o||(o=i),(i||o)&&e.push({text:i,value:o})}return e},i.getValue=function(e){var n=null;if(null!=e)(n=t.children[e].getAttribute("data-value"))||(n=t.children[e].innerText.replace("\n",""));else{for(var o=[],a=0;a<t.children.length;a++)(n=t.children[a].innerText.replace("\n",""))&&o.push(i.getValue(a));n=o.join(",")}return n},i.setValue=function(e){if(e){if(t.value!=e)if(Array.isArray(e))i.add(e);else{var n=(""+e).trim(),o=p(n);t.innerHTML="",i.add(o)}}else i.reset()},i.reset=function(){t.classList.add("jtags-empty"),t.innerHTML="<div></div>",d()},i.isValid=function(){for(var e=0,n=0;n<t.children.length;n++)t.children[n].classList.contains("jtags_error")&&e++;return 0==e},i.selectIndex=function(t,n){var a=e.getNode();a&&(a.innerText=t,n&&a.setAttribute("data-value",n),a.classList.remove("jtags_error"),o()||i.add("",!0))},i.search=function(e){e.innerText},i.destroy=function(){t.removeEventListener("mouseup",g),t.removeEventListener("keydown",f),t.removeEventListener("keyup",m),t.removeEventListener("paste",v),t.removeEventListener("focus",y),t.removeEventListener("blur",w),t.parentNode.removeChild(t)};var s=function(e){if(t.children.length>1){var n=document.createRange(),i=window.getSelection();if(!e)e=t.childNodes[t.childNodes.length-1];n.setStart(e,e.length),n.collapse(!0),i.removeAllRanges(),i.addRange(n),t.scrollLeft=t.scrollWidth}},l=function(e,n,i){var o=document.createElement("div");return o.innerHTML=e||"",n&&o.setAttribute("data-value",n),i&&i.parentNode.classList.contains("jtags")?t.insertBefore(o,i.nextSibling):t.appendChild(o),o},d=function(){var e=i.getValue();e!=i.options.value&&(i.options.value=e,"function"==typeof i.options.onchange&&i.options.onchange(t,i,i.options.value),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.onchange&&t.onchange({type:"change",target:t,value:t.value}))),c()},c=function(){for(var e=0;e<t.children.length;e++)i.getValue(e)?(t.children[e].classList.add("jtags_label"),"function"==typeof i.options.validation&&i.getValue(e)?i.options.validation(t.children[e],t.children[e].innerText,t.children[e].getAttribute("data-value"))?t.children[e].classList.remove("jtags_error"):t.children[e].classList.add("jtags_error"):t.children[e].classList.remove("jtags_error")):t.children[e].classList.remove("jtags_label");u()},u=function(){t.innerText.trim()?t.classList.remove("jtags-empty"):(t.innerHTML="<div></div>",t.classList.add("jtags-empty"))},p=function(e){var t=[],n="";if(e=e.trim()){for(var i=0;i<e.length;i++)","==e[i]||";"==e[i]||"\n"==e[i]?n&&(t.push(n.trim()),n=""):n+=e[i];n&&t.push(n)}return t},h=0,f=function(e){if(h=window.getSelection().anchorOffset,u(),"Tab"===e.key||";"===e.key||","===e.key)window.getSelection().anchorOffset>1&&(o()?"function"==typeof i.options.onlimit&&i.options.onlimit(i,i.options.limit):i.add("",!0)),e.preventDefault();else if("Enter"==e.key){if(!a||!a.isOpened())window.getSelection().anchorOffset>1&&(o()||i.add("",!0)),e.preventDefault()}else"Backspace"==e.key&&1==t.children.length&&window.getSelection().anchorOffset<1&&e.preventDefault();a&&a.keydown(e)},m=function(e){if(39==e.which){var t=window.getSelection().anchorOffset;t>1&&t==h&&i.add("",!0)}else 13==e.which||38==e.which||40==e.which?e.preventDefault():a&&a.keyup(e);c()},v=function(e){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/plain");else if(window.clipboardData)t=window.clipboardData.getData("Text");var n=p(t);n.length>1&&(i.add(n,!0),e.preventDefault())},g=function(e){if(e.target.parentNode&&e.target.parentNode.classList.contains("jtags")&&(e.target.classList.contains("jtags_label")||e.target.classList.contains("jtags_error"))){var n=e.target.getBoundingClientRect();n.width-(e.clientX-n.left)<16&&i.remove(e.target)}e.target==t&&s()},y=function(){t.classList.contains("jtags-focus")||(t.children.length&&!i.getValue(t.children.length-1)||o()||l(""),"function"==typeof i.options.onfocus&&i.options.onfocus(t,i,i.getValue()),t.classList.add("jtags-focus"))},w=function(){if(t.classList.contains("jtags-focus")){a&&a.close();for(var e=0;e<t.children.length-1;e++)i.getValue(e)||t.removeChild(t.children[e]);d(),t.classList.remove("jtags-focus"),"function"==typeof i.options.onblur&&i.options.onblur(t,i,i.getValue())}};return"touchend"in document.documentElement==1?t.addEventListener("touchend",g):t.addEventListener("mouseup",g),t.addEventListener("keydown",f),t.addEventListener("keyup",m),t.addEventListener("paste",v),t.addEventListener("focus",y),t.addEventListener("blur",w),t.setAttribute("contenteditable",!0),t.classList.add("jtags"),i.setOptions(n),"function"==typeof i.options.onload&&i.options.onload(t,i),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.tags=i,i},e.toolbar=function(t,n){var i={type:"toolbar",options:{}},o={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];!t&&n.app&&n.app.el&&(t=document.createElement("div"),n.app.el.appendChild(t));var r=document.createElement("div");r.classList.add("jtoolbar-item"),r.classList.add("jtoolbar-arrow");var s=document.createElement("div");s.classList.add("jtoolbar-floating"),r.appendChild(s),i.selectItem=function(e){for(var t=l.children,n=0;n<t.length;n++)e!=t[n]&&t[n].classList.remove("jtoolbar-selected");e.classList.add("jtoolbar-selected")},i.hide=function(){e.animation.slideBottom(t,0,(function(){t.style.display="none"}))},i.show=function(){t.style.display="",e.animation.slideBottom(t,1)},i.get=function(){return t},i.setBadge=function(e,t){l.children[e].children[1].firstChild.innerHTML=t},i.destroy=function(){toolbar.remove(),t.innerHTML=""},i.update=function(e,n){for(var o=0;o<l.children.length;o++){var a=l.children[o];"function"==typeof a.updateState&&a.updateState(t,i,a,e,n)}},i.create=function(n){l.innerHTML="";for(var o=0;o<n.length;o++){var a=document.createElement("div");if(a.classList.add("jtoolbar-item"),n[o].width&&(a.style.width=parseInt(n[o].width)+"px"),n[o].k&&(a.k=n[o].k),n[o].tooltip&&a.setAttribute("title",n[o].tooltip),n[o].id&&a.setAttribute("id",n[o].id),n[o].updateState&&(a.updateState=n[o].updateState),n[o].active&&a.classList.add("jtoolbar-active"),"select"==n[o].type||"dropdown"==n[o].type)e.picker(a,n[o]);else if("divisor"==n[o].type)a.classList.add("jtoolbar-divisor");else if("label"==n[o].type)a.classList.add("jtoolbar-label"),a.innerHTML=n[o].content;else{var r=document.createElement("i");if(void 0===n[o].class)r.classList.add("material-icons");else for(var s=n[o].class.split(" "),d=0;d<s.length;d++)r.classList.add(s[d]);if(r.innerHTML=n[o].content?n[o].content:"",a.appendChild(r),1==i.options.badge){var c=document.createElement("div");c.classList.add("jbadge");var u=document.createElement("div");u.innerHTML=n[o].badge?n[o].badge:"",c.appendChild(u),a.appendChild(c)}if(n[o].title)if(1==i.options.title){var p=document.createElement("span");p.innerHTML=n[o].title,a.appendChild(p)}else a.setAttribute("title",n[o].title);i.options.app&&n[o].route&&(a.route=n[o].route,a.onclick=function(){i.options.app.pages(this.route)},i.options.app.pages(n[o].route,{toolbarItem:a,closed:!0}))}n[o].onclick&&(a.onclick=n[o].onclick.bind(n[o],t,i,a)),l.appendChild(a)}setTimeout((function(){i.refresh()}),0)},i.open=function(){r.classList.add("jtoolbar-arrow-selected");t.getBoundingClientRect();s.getBoundingClientRect().bottom>window.innerHeight||i.options.bottom?s.style.bottom="0":s.style.removeProperty("bottom"),s.style.right="0",r.children[0].focus(),e.tracking(i,!0)},i.close=function(){r.classList.remove("jtoolbar-arrow-selected"),e.tracking(i,!1)},i.refresh=function(){if(1==i.options.responsive){var e=t.parentNode.getBoundingClientRect();i.options.maxWidth||(i.options.maxWidth=e.width);var n=parseInt(i.options.maxWidth);for(r.remove();s.firstChild;)l.appendChild(s.firstChild);if(n<l.offsetWidth)for(n-=50;l.lastChild&&n<l.offsetWidth;)s.insertBefore(l.lastChild,s.firstChild);s.children.length>0&&l.appendChild(r)}},t.onclick=function(t){var n=e.findElement(t.target,"jtoolbar-item");n&&i.selectItem(n),t.target.classList.contains("jtoolbar-arrow")&&i.open()},window.addEventListener("resize",(function(){i.refresh()})),t.classList.add("jtoolbar"),t.innerHTML="",1==i.options.container&&t.classList.add("jtoolbar-container");var l=document.createElement("div");return t.appendChild(l),i.options.app&&t.classList.add("jtoolbar-mobile"),i.create(i.options.items),t.toolbar=i,i},e.validations=function(t,n){return"function"==typeof e.validations[n.type]?e.validations[n.type](t,n):null},e.validations.email=function(e){var t=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!(!e||!t.test(e))},e.validations.required=function(e){return!!e.trim()},e.validations.number=function(t){return e.isNumber(t)},e.validations.login=function(e){var t=new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);return!(!e||!t.test(e))};var t=function(e,t){return"="===t.constraint?e===t.reference:"<"===t.constraint?e<t.reference:"<="===t.constraint?e<=t.reference:">"===t.constraint?e>t.reference:">="===t.constraint?e>=t.reference:"between"===t.constraint?e>=t.reference[0]&&e<=t.reference[1]:"not between"===t.constraint?e<t.reference[0]||e>t.reference[1]:null};return e.validations.number=function(n,i){return!!e.isNumeric(n)&&(void 0===i||void 0===i.constraint||t(n,i))},e.validations.date=function(e,n){return"Invalid Date"!=new Date(e)&&(void 0===n||void 0===n.constraint||("object"==typeof n?(e=new Date(e).getTime(),Array.isArray(n.reference)?n.reference=n.reference.map((function(e){return new Date(e).getTime()})):n.reference=new Date(n.reference).getTime(),t(e,n)):null))},e.validations.itemList=function(e,t){return t.reference.some((function(t){return t==e}))},e.validations.text=function(t,n){return"string"==typeof t&&(void 0===n||void 0===n.constraint||("="===n.constraint?t===n.reference:"contains"===n.constraint?t.includes(n.reference):"not contain"===n.constraint?!t.includes(n.reference):"email"===n.constraint?e.validations.email(t):"url"===n.constraint?!!new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(t):null))},e.validations.constraints=function(){},e}));
function IconGrid(){this.div,this.clone,this.modal,this.icons,this.iconNum,this.iconCount,this.field_class,this.itemTemplate,this.iconPage=1,this.modalTemplate,this.iconPerPage=20,this.selectedIcon=null;let i=this;this.Init=function(c){this.icons=c.icons,this.modal=".modalIconGridClass",this.modalTemplate=$("#modalIconGrid").contents(),this.itemTemplate=$("#icon-item").clone(!0).html(),$(document).on("click",i.closeIconGridClick).on("keydown",i.closeIconGridEscape).on("click",".moreIcons",i.renderIcons).on("click",".icon-picker-list a",i.clickIcon).on("click",i.modal+" .deleteicon",i.deleteIcon).on("click",i.modal+" .close-btn",i.closeIconGrid).on("click",i.modal+" .search-reset-btn",i.searchFieldReset).on("keyup",".modalIconGridClass .iconPickerGrid .iconsearch",i.changeSearch)},this.closeIconGridClick=function(c){-1!==c.target.className.search(/notclose-search/i)||!$(".modalIconGridClass").is(":visible")||null!=c.target.name&&-1!=c.target.name.indexOf("icon")||i.closeIconGrid()},this.modalIconGridShow=function(c,e){i.div=c,i.field_class=e,$(i.modal).find(".iconsearch").val(""),i.clone=i.modalTemplate.clone(),i.clone.appendTo(".modalIconGridClass"),i.renderIcons(),$(".modalIconGridClass").show()},this.renderIcons=function(c){var e=$(i.modal).find(".iconsearch").val()||void 0;void 0!==e&&""!==e&&(c=i.icons.filter((function(i){return i.icon.indexOf(e)>=0}))),void 0!==c&&void 0===c.currentTarget||(c=i.icons),$(i.modal).find(".icon-picker-list").html("").val(),i.iconCount=c.length,i.iconNum=i.iconPage*i.iconPerPage>i.iconCount?i.iconCount:i.iconPage*i.iconPerPage;for(let e=0;e<i.iconNum;e++){var o=i.itemTemplate,n=c[e].icon;o=o.replace(/{{item}}/g,n).replace(/{{index}}/g,e).replace(/{{activeState}}/g,"active"),$(i.modal).find(".icon-picker-list").append(o)}$(".modalIconGridClass").find(".moreIcons").toggle(!(i.iconPage*i.iconPerPage>i.iconCount)),i.iconPage++},this.changeSearch=function(){i.iconPage=1,i.renderIcons()},this.clickIcon=function(){i.selectedIcon=$(this).data("index"),$(i.div).is(":visible")&&$(i.div).find(" "+i.field_class).val(i.selectedIcon),i.closeIconGrid()},this.deleteIcon=function(){$(i.div+" "+i.field_class).val(""),i.closeIconGrid()},this.closeIconGrid=function(){$(i.modal).find(".iconPickerGrid").remove(),$(i.modal).hide(),i.iconPage=1},this.searchFieldReset=function(){$(i.modal).find(".iconsearch").val(""),i.changeSearch()},this.closeIconGridEscape=function(c){"Escape"==c.key&&$(i.modal).is(":visible")&&i.closeIconGrid()}}
/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){t.ui=t.ui||{};t.ui.version="1.12.1";
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var e,i=0,s=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0],l=h+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(s,(function(e,s){t.isFunction(s)?r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}():r[e]=s})),o.prototype=t.widget.extend(a,{widgetEventPrefix:n&&a.widgetEventPrefix||e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,(function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)})),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,o=s.call(arguments,1),a=0,r=o.length;a<r;a++)for(i in o[a])n=o[a][i],o[a].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=s.call(arguments,1),h=this;return a?this.length||"instance"!==o?this.each((function(){var i,s=t.data(this,n);return"instance"===o?(h=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r))!==s&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):h=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each((function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new i(o,this))}))),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],s=this;function n(n,o){var a,r;for(r=0;r<n.length;r++)a=s.classesElementLookup[n[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),s.classesElementLookup[n[r]]=a,i.push(n[r]),o&&e.classes[n[r]]&&i.push(e.classes[n[r]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,(function(s,a){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){var a;"string"==typeof n&&(n={effect:n});var r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue((function(i){t(this)[e](),o&&o.call(s[0]),i()}))}}));t.widget;
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */!function(){var e,i=Math.max,s=Math.abs,n=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,h=/%$/,l=t.fn.position;function c(t,e,i){return[parseFloat(t[0])*(h.test(t[0])?e/100:1),parseFloat(t[1])*(h.test(t[1])?i/100:1)]}function u(e,i){return parseInt(t.css(e,i),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),i===(s=o.offsetWidth)&&(s=n[0].clientWidth),n.remove(),e=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:!s&&!n?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return l.apply(this,arguments);e=t.extend({},e);var h,d,p,f,g,m,_,v,b=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),k=(e.collision||"flip").split(" "),x={};return m=9===(v=(_=b)[0]).nodeType?{width:_.width(),height:_.height(),offset:{top:0,left:0}}:t.isWindow(v)?{width:_.width(),height:_.height(),offset:{top:_.scrollTop(),left:_.scrollLeft()}}:v.preventDefault?{width:0,height:0,offset:{top:v.pageY,left:v.pageX}}:{width:_.outerWidth(),height:_.outerHeight(),offset:_.offset()},b[0].preventDefault&&(e.at="left top"),d=m.width,p=m.height,f=m.offset,g=t.extend({},f),t.each(["my","at"],(function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=n.test(s[0])?s.concat(["center"]):o.test(s[0])?["center"].concat(s):["center","center"]),s[0]=n.test(s[0])?s[0]:"center",s[1]=o.test(s[1])?s[1]:"center",t=a.exec(s[0]),i=a.exec(s[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[r.exec(s[0])[0],r.exec(s[1])[0]]})),1===k.length&&(k[1]=k[0]),"right"===e.at[0]?g.left+=d:"center"===e.at[0]&&(g.left+=d/2),"bottom"===e.at[1]?g.top+=p:"center"===e.at[1]&&(g.top+=p/2),h=c(x.at,d,p),g.left+=h[0],g.top+=h[1],this.each((function(){var n,o,a=t(this),r=a.outerWidth(),l=a.outerHeight(),m=u(this,"marginLeft"),_=u(this,"marginTop"),v=r+m+u(this,"marginRight")+w.width,C=l+_+u(this,"marginBottom")+w.height,D=t.extend({},g),I=c(x.my,a.outerWidth(),a.outerHeight());"right"===e.my[0]?D.left-=r:"center"===e.my[0]&&(D.left-=r/2),"bottom"===e.my[1]?D.top-=l:"center"===e.my[1]&&(D.top-=l/2),D.left+=I[0],D.top+=I[1],n={marginLeft:m,marginTop:_},t.each(["left","top"],(function(i,s){t.ui.position[k[i]]&&t.ui.position[k[i]][s](D,{targetWidth:d,targetHeight:p,elemWidth:r,elemHeight:l,collisionPosition:n,collisionWidth:v,collisionHeight:C,offset:[h[0]+I[0],h[1]+I[1]],my:e.my,at:e.at,within:y,elem:a})})),e.using&&(o=function(t){var n=f.left-D.left,o=n+d-r,h=f.top-D.top,c=h+p-l,u={target:{element:b,left:f.left,top:f.top,width:d,height:p},element:{element:a,left:D.left,top:D.top,width:r,height:l},horizontal:o<0?"left":n>0?"right":"center",vertical:c<0?"top":h>0?"bottom":"middle"};d<r&&s(n+o)<d&&(u.horizontal="center"),p<l&&s(h+c)<p&&(u.vertical="middle"),i(s(n),s(o))>i(s(h),s(c))?u.important="horizontal":u.important="vertical",e.using.call(this,t,u)}),a.offset(t.extend(D,{using:o}))}))},t.ui.position={fit:{left:function(t,e){var s,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,r=t.left-e.collisionPosition.marginLeft,h=o-r,l=r+e.collisionWidth-a-o;e.collisionWidth>a?h>0&&l<=0?(s=t.left+h+e.collisionWidth-a-o,t.left+=h-s):t.left=l>0&&h<=0?o:h>l?o+a-e.collisionWidth:o:h>0?t.left+=h:l>0?t.left-=l:t.left=i(t.left-r,t.left)},top:function(t,e){var s,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=o-r,l=r+e.collisionHeight-a-o;e.collisionHeight>a?h>0&&l<=0?(s=t.top+h+e.collisionHeight-a-o,t.top+=h-s):t.top=l>0&&h<=0?o:h>l?o+a-e.collisionHeight:o:h>0?t.top+=h:l>0?t.top-=l:t.top=i(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,a=o.offset.left+o.scrollLeft,r=o.width,h=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((i=t.left+d+p+f+e.collisionWidth-r-a)<0||i<s(c))&&(t.left+=d+p+f):u>0&&((n=t.left-e.collisionPosition.marginLeft+d+p+f-h)>0||s(n)<u)&&(t.left+=d+p+f)},top:function(t,e){var i,n,o=e.within,a=o.offset.top+o.scrollTop,r=o.height,h=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?((n=t.top+d+p+f+e.collisionHeight-r-a)<0||n<s(c))&&(t.top+=d+p+f):u>0&&((i=t.top-e.collisionPosition.marginTop+d+p+f-h)>0||s(i)<u)&&(t.top+=d+p+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(n+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var n,o,a="ui-effects-",r="ui-effects-style",h="ui-effects-animated",l=t;t.effects={effect:{}},
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){var i,s=/^([\-+])=\s*(\d+\.?\d*)/,n=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},r={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=o.support={},l=t("<p>")[0],c=t.each;function u(t,e,i){var s=r[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function d(e){var s=o(),r=s._rgba=[];return e=e.toLowerCase(),c(n,(function(t,i){var n,o=i.re.exec(e),h=o&&i.parse(o),l=i.space||"rgba";if(h)return n=s[l](h),s[a[l].cache]=n[a[l].cache],r=s._rgba=n._rgba,!1})),r.length?("0,0,0,0"===r.join()&&t.extend(r,i.transparent),s):i[e]}function p(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}l.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=l.style.backgroundColor.indexOf("rgba")>-1,c(a,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),o.fn=t.extend(o.prototype,{parse:function(s,n,r,h){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(n),n=e);var l=this,p=t.type(s),f=this._rgba=[];return n!==e&&(s=[s,n,r,h],p="array"),"string"===p?this.parse(d(s)||i._default):"array"===p?(c(a.rgba.props,(function(t,e){f[e.idx]=u(s[e.idx],e)})),this):"object"===p?(c(a,s instanceof o?function(t,e){s[e.cache]&&(l[e.cache]=s[e.cache].slice())}:function(e,i){var n=i.cache;c(i.props,(function(t,e){if(!l[n]&&i.to){if("alpha"===t||null==s[t])return;l[n]=i.to(l._rgba)}l[n][e.idx]=u(s[t],e,!0)})),l[n]&&t.inArray(null,l[n].slice(0,3))<0&&(l[n][3]=1,i.from&&(l._rgba=i.from(l[n])))}),this):void 0},is:function(t){var e=o(t),i=!0,s=this;return c(a,(function(t,n){var o,a=e[n.cache];return a&&(o=s[n.cache]||n.to&&n.to(s._rgba)||[],c(n.props,(function(t,e){if(null!=a[e.idx])return i=a[e.idx]===o[e.idx]}))),i})),i},_space:function(){var t=[],e=this;return c(a,(function(i,s){e[s.cache]&&t.push(i)})),t.pop()},transition:function(t,e){var i=o(t),s=i._space(),n=a[s],h=0===this.alpha()?o("transparent"):this,l=h[n.cache]||n.to(h._rgba),d=l.slice();return i=i[n.cache],c(n.props,(function(t,s){var n=s.idx,o=l[n],a=i[n],h=r[s.type]||{};null!==a&&(null===o?d[n]=a:(h.mod&&(a-o>h.mod/2?o+=h.mod:o-a>h.mod/2&&(o-=h.mod)),d[n]=u((a-o)*e+o,s)))})),this[s](d)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=o(e)._rgba;return o(t.map(i,(function(t,e){return(1-s)*n[e]+s*t})))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,a.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:u<=.5?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},a.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],n=t[3],o=s<=.5?s*(1+i):s+i-s*i,a=2*s-o;return[Math.round(255*p(a,o,e+1/3)),Math.round(255*p(a,o,e)),Math.round(255*p(a,o,e-1/3)),n]},c(a,(function(i,n){var a=n.props,r=n.cache,h=n.to,l=n.from;o.fn[i]=function(i){if(h&&!this[r]&&(this[r]=h(this._rgba)),i===e)return this[r].slice();var s,n=t.type(i),d="array"===n||"object"===n?i:arguments,p=this[r].slice();return c(a,(function(t,e){var i=d["object"===n?t:e.idx];null==i&&(i=p[e.idx]),p[e.idx]=u(i,e)})),l?((s=o(l(p)))[r]=p,s):o(p)},c(a,(function(e,n){o.fn[e]||(o.fn[e]=function(o){var a,r=t.type(o),h="alpha"===e?this._hsla?"hsla":"rgba":i,l=this[h](),c=l[n.idx];return"undefined"===r?c:("function"===r&&(o=o.call(this,c),r=t.type(o)),null==o&&n.empty?this:("string"===r&&(a=s.exec(o))&&(o=c+parseFloat(a[2])*("+"===a[1]?1:-1)),l[n.idx]=o,this[h](l)))})}))})),o.hook=function(e){var i=e.split(" ");c(i,(function(e,i){t.cssHooks[i]={set:function(e,s){var n,a,r="";if("transparent"!==s&&("string"!==t.type(s)||(n=d(s)))){if(s=o(n||s),!h.rgba&&1!==s._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}s=s.blend(r&&"transparent"!==r?r:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=o(e.elem,i),e.end=o(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}))},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],(function(i,s){e["border"+s+"Color"]=t})),e}},i=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(l),function(){var e=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function s(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)"string"==typeof n[i=n[s]]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(l.style(t.elem,i,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue((function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map((function(){return{el:t(this),start:s(this)}})),(o=function(){t.each(e,(function(t,e){n[e]&&a[e+"Class"](n[e])}))})(),l=l.map((function(){return this.end=s(this.el[0]),this.diff=function(e,s){var n,o,a={};for(n in s)o=s[n],e[n]!==o&&(i[n]||!t.fx.step[n]&&isNaN(parseFloat(o))||(a[n]=o));return a}(this.start,this.end),this})),a.attr("class",r),l=l.map((function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()})),t.when.apply(t,l.get()).done((function(){o(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),h.complete.call(a[0])}))}))},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,s,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?s:parseFloat(n[3]),left:parseFloat(n[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(h)||e(i)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;i<s;i++)null!==e[i]&&t.data(a+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;s<n;s++)null!==e[s]&&(i=t.data(a+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(r,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(r)||"",t.removeData(r)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(a+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=a+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,(function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])})),n}}),t.fn.extend({effect:function(){var i=e.apply(this,arguments),s=t.effects.effect[i.effect],n=s.mode,o=i.queue,a=o||"fx",r=i.complete,l=i.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||n;i.data(h,!0),c.push(s),n&&("show"===s||s===n&&"hide"===s)&&i.show(),n&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};if(t.fx.off||!s)return l?this[l](i.duration,r):this.each((function(){r&&r.call(this)}));function d(e){var o=t(this);function a(){t.isFunction(r)&&r.call(o[0]),t.isFunction(e)&&e()}i.mode=c.shift(),!1===t.uiBackCompat||n?"none"===i.mode?(o[l](),a()):s.call(o[0],i,(function(){o.removeData(h),t.effects.cleanUp(o),"hide"===i.mode&&o.hide(),a()})):(o.is(":hidden")?"hide"===l:"show"===l)?(o[l](),a()):s.call(o[0],i,a)}return!1===o?this.each(u).each(d):this.queue(a,u).queue(a,d)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],(function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])})),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,(function(){d.remove(),t.isFunction(i)&&i()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),o={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,e){o[e]=function(e){return Math.pow(e,t+2)}})),t.extend(o,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(o,(function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}}));t.effects,t.effects.define("blind","hide",(function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("bounce",(function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&((n={opacity:1})[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),(n={})[m]=o;v<d;v++)(s={})[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&((s={opacity:0})[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)})),t.effects.define("clip","hide",(function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("drop","hide",(function(e,i){var s,n=t(this),o="show"===e.mode,a=e.direction||"left",r="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a?"-=":"+=",l="+="===h?"-=":"+=",c={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===r?"outerHeight":"outerWidth"](!0)/2,c[r]=h+s,o&&(n.css(c),c[r]=l+s,c.opacity=1),n.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("explode","hide",(function(e,i){var s,n,o,a,r,h,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=l,u=t(this),d="show"===e.mode,p=u.show().css("visibility","hidden").offset(),f=Math.ceil(u.outerWidth()/c),g=Math.ceil(u.outerHeight()/l),m=[];function _(){m.push(this),m.length===l*c&&(u.css({visibility:"visible"}),t(m).remove(),i())}for(s=0;s<l;s++)for(a=p.top+s*g,h=s-(l-1)/2,n=0;n<c;n++)o=p.left+n*f,r=n-(c-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*f,top:-s*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:g,left:o+(d?r*f:0),top:a+(d?h*g:0),opacity:d?0:1}).animate({left:o+(d?0:r*f),top:a+(d?0:h*g),opacity:d?1:0},e.duration||500,e.easing,_)})),t.effects.define("fade","toggle",(function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("fold","hide",(function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst?["right","bottom"]:["bottom","right"],c=e.duration/2,u=t.effects.createPlaceholder(s),d=s.cssClip(),p={clip:t.extend({},d)},f={clip:t.extend({},d)},g=[d[l[0]],d[l[1]]],m=s.queue().length;h&&(r=parseInt(h[1],10)/100*g[a?0:1]),p.clip[l[0]]=r,f.clip[l[0]]=r,f.clip[l[1]]=0,o&&(s.cssClip(f.clip),u&&u.css(t.effects.clipToBox(f)),f.clip=d),s.queue((function(i){u&&u.animate(t.effects.clipToBox(p),c,e.easing).animate(t.effects.clipToBox(f),c,e.easing),i()})).animate(p,c,e.easing).animate(f,c,e.easing).queue(i),t.effects.unshift(s,m,4)})),t.effects.define("highlight","show",(function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("size",(function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},"box"!==d&&"both"!==d||(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),"content"!==d&&"both"!==d||n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),"content"!==d&&"both"!==d||(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each((function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,(function(){u&&t.effects.restoreStyle(i)}))}))),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})})),t.effects.define("scale",(function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)})),t.effects.define("puff","hide",(function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)})),t.effects.define("pulsate","show",(function(e,i){var s=t(this),n=e.mode,o="show"===n,a=o||"hide"===n,r=2*(e.times||5)+(a?1:0),h=e.duration/r,l=0,c=1,u=s.queue().length;for(!o&&s.is(":visible")||(s.css("opacity",0).show(),l=1);c<r;c++)s.animate({opacity:l},h,e.easing),l=1-l;s.animate({opacity:l},h,e.easing),s.queue(i),t.effects.unshift(s,u,r+1)})),t.effects.define("shake",(function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);s<r;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)})),t.effects.define("slide","show",(function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}));
/*!
 * jQuery UI Effects Blind 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */!1!==t.uiBackCompat&&t.effects.define("transfer",(function(e,i){t(this).transfer(e,i)}));
/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.ui.focusable=function(e,i){var s,n,o,a,r,h=e.nodeName.toLowerCase();return"area"===h?(n=(s=e.parentNode).name,!(!e.href||!n||"map"!==s.nodeName.toLowerCase())&&((o=t("img[usemap='#"+n+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(h)?(a=!e.disabled)&&(r=t(e).closest("fieldset")[0])&&(a=!r.disabled):a="a"===h&&e.href||i,a&&t(e).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout((function(){var i=e.data("ui-form-reset-instances");t.each(i,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};
/*!
 * jQuery UI Support for jQuery core 1.7.x 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],(function(e,i){var s="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function a(e,i,n,o){return t.each(s,(function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)})),i}t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each((function(){t(this).css(n,a(this,e)+"px")}))},t.fn["outer"+i]=function(e,s){return"number"!=typeof e?o["outer"+i].call(this,e):this.each((function(){t(this).css(n,a(this,e,!0,s)+"px")}))}})),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var c,u;t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(c=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(c,"\\$1")}),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(s=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var e=t(this);return(!s||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:(u=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++u)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each((function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))})),this.headers.each((function(){e-=t(this).outerHeight(!0)})),this.headers.next().each((function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each((function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()})).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!h&&this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter((function(){return 0===parseInt(t(this).attr("tabIndex"),10)})).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}})):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay((function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each((function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()}))},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o=this,a=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=r.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(s,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))})),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(e=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")})),n=(s=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(s,"ui-menu-item")._addClass(n,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),n<0?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(t)}),this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay((function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s}),this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay((function(){this.focus(t,e)})))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;this.active?this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-s-n<0})),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var i,s,n;this.active?this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-s+n>0})),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))}))}});
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){if(s)return s=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(e,i){var s,n;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){t(e.target).trigger(e.originalEvent)}));n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),(s=i.item.attr("aria-label")||n.value)&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion))},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay((function(){this.previous=n,this.selectedItem=s}))),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay((function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||s)||(this.selectedItem=null,this.search(null,t))}),this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy((function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,(function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})}))},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,(function(t,i){s._renderItemData(e,i)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,(function(t){return s.test(t.label||t.value||t)}))}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});t.ui.autocomplete;
/*!
 * jQuery UI Controlgroup 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var d=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,(function(s,n){var o,a={};if(n)return"controlgroupLabel"===s?((o=e.element.find(n)).each((function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(o.get()))):void(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each((function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o||n[s]("instance")),i.push(h[0])}}))))})),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each((function(){var i=t(this).data("ui-controlgroup-data");i&&i[e]&&i[e]()}))},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,(function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(d,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")})),s},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],(function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)})),this._callChildMethod("refresh"))}});
/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each((function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML})),this.originalLabel&&(n.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,i="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(i):t(i).filter((function(){return 0===t(this).form().length}))).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each((function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);t.ui.checkboxradio;
/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var p;
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.ui.button;function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=g(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function g(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",i,m)}function m(){t.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function _(e,i){for(var s in t.extend(e,i),i)null==i[s]&&(e[s]=i[s]);return e}t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return _(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;n="div"===(s=e.nodeName.toLowerCase())||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),n)).settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?g(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(s=this._get(i,"showOn"))&&"both"!==s||e.on("focus",this._showDatepicker),"button"!==s&&"both"!==s||(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var a,r,h,l,c,u=this._dialogInst;return u||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",u)),_(u.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(r=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+l,h/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||s.removeClass(this.markerClassName).empty(),p===n&&(p=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((s=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((s=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,a,r,h=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null;n=i||{},"string"==typeof i&&((n={})[i]=s),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(h,"min"),r=this._getMinMaxDate(h,"max"),_(h.settings,n),null!==a&&void 0!==n.dateFormat&&void 0===n.minDate&&(h.settings.minDate=this._formatDate(h,a)),null!==r&&void 0!==n.dateFormat&&void 0===n.maxDate&&(h.settings.maxDate=this._formatDate(h,r)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return(n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),(i=t.datepicker._get(o,"onSelect"))?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);if(t.datepicker._get(n,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||s<" "||!i||i.indexOf(s)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(t){}return!0},_showDatepicker:function(e){var i,s,n,o,a,r,h;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(n=(s=t.datepicker._get(i,"beforeShow"))?s.apply(e,[e,i]):{})&&(_(i.settings,n),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each((function(){return!(o|="fixed"===t(this).css("position"))})),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),a=t.datepicker._checkOffset(i,a,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(r=t.datepicker._get(i,"showAnim"),h=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[r]?i.dpDiv.show(r,t.datepicker._get(i,"showOptions"),h):i.dpDiv[r||"show"](r?h:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,p=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&m.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout((function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===s)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),(s=this._get(o,"onSelect"))?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=new RegExp("^\\d{"+("y"===t?s:1)+","+s+"}"),o=i.substring(h).match(n);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(a,(function(t,e){var s=e[1];if(i.substr(h,s.length).toLowerCase()===s.toLowerCase())return o=e[0],h+=s.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;n<e.length;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":g=(r=new Date(w("@"))).getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":g=(r=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(h<i.length&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),v>-1)for(m=1,_=v;;){if(_<=(o=this._getDaysInMonth(g,m-1)))break;m++,_-=o}if((r=this._daylightSavingAdjust(new Date(g,m-1,_))).getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;s.length<i;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;s<t.length;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=e+1<t.length&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;e<t.length;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(t){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=null==i||""===i?s:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,n=s.getFullYear(),o=s.getMonth(),a=s.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=r.exec(i);h;){switch(h[2]||"d"){case"d":case"D":a+=parseInt(h[1],10);break;case"w":case"W":a+=7*parseInt(h[1],10);break;case"m":case"M":o+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(n,o));break;case"y":case"Y":n+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(n,o))}h=r.exec(i)}return new Date(n,o,a)}(i):"number"==typeof i?isNaN(i)?s:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(n=n&&"Invalid Date"===n.toString()?s:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;k<U[0];k++){for(x="",this.maxRows=4,C=0;C<U[1];C++){if(D=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M=(w+c)%7]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X&&this.maxRows>z?this.maxRows:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(tt,Z,1-H)),N=0;N<O;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;w<7;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],L=(F=A.getMonth()!==Z)&&!v||!E[0]||Q&&A<Q||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}++Z>11&&(Z=0,tt++),x+=T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!h||c>=s.getMonth())&&(!l||c<=n.getMonth())&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new f,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1";t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var v=!1;t(document).on("mouseup",(function(){v=!1}));t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(s&&!n&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),v=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",e)&&i._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(s=(i=t(n.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=n.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each((function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))}))},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,(function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))}))},drag:function(e,i,s){t.each(s.sortables,(function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,(function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n}))),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,(function(){this.refreshPositions()})),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each((function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})}))},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=(h=s.snapElements[d].left-s.margins.left)+s.snapElements[d].width,u=(c=s.snapElements[d].top-s.margins.top)+s.snapElements[d].height,_<h-g||m>l+g||b<c-g||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-b)<=g,o=Math.abs(u-v)<=g,a=Math.abs(h-_)<=g,r=Math.abs(l-m)<=g,n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=Math.abs(c-v)<=g,o=Math.abs(u-b)<=g,a=Math.abs(h-m)<=g,r=Math.abs(l-_)<=g,n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort((function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)}));a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each((function(e){t(this).css("zIndex",n+e)})),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}});t.ui.draggable;
/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s,n=i&&"left"===i?"scrollLeft":"scrollTop";return e[n]>0||(e[n]=1,s=e[n]>0,e[n]=0,s)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",(function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())})).on("mouseleave",(function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){if(this._super(t,e),"handles"===t)this._removeHandles(),this._setupHandles()},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;i<s.length;i++)n="ui-resizable-"+(e=t.trim(s[i])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;for(i in e=e||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")})),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)((s=t(this.handles[i])[0])===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),!!h&&(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(n=(s=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),i<o.maxWidth&&(o.maxWidth=i),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each((function(t,s){i[t]=h._num(e.css("padding"+s))})),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each((function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})}))},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each((function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,(function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)})),e.css(n)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&s.maxWidth<p,m=s.maxHeight&&s.maxHeight<f,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((f-c<=0||p-l<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}});t.ui.resizable;
/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",e)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map((function(){return+t(this).css("z-index")})).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){e._focusTabbable(),e._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay((function(){n.trigger("focus")})),e.preventDefault()):(this._delay((function(){s.trigger("focus")})),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(i,(function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",(function(){n.apply(e.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,i=this.options;function s(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,n){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",i,s(n))},drag:function(t,i){e._trigger("drag",t,s(i))},stop:function(n,o){var a=o.offset.left-e.document.scrollLeft(),r=o.offset.top-e.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(r>=0?"+":"")+r,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",n,s(o))}})},_makeResizable:function(){var e=this,i=this.options,s=i.resizable,n=this.uiDialog.css("position"),o="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(i,s){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",i,a(s))},resize:function(t,i){e._trigger("resize",t,a(i))},stop:function(s,n){var o=e.uiDialog.offset(),r=o.left-e.document.scrollLeft(),h=o.top-e.document.scrollTop();i.height=e.uiDialog.height(),i.width=e.uiDialog.width(),i.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(h>=0?"+":"")+h,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",s,a(n))}}).css("position",n)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,(function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)})),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((s=o.is(":data(ui-draggable)"))&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=o.is(":data(ui-resizable)"))&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||!1===i||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay((function(){e=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});t.ui.dialog;
/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var i=t(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&b(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e))return n=!0,!1})),!n&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var b=t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return l<=o&&r<=u&&c<=a&&h<=d;case"intersect":return l<o+e.helperProportions.width/2&&r-e.helperProportions.width/2<u&&c<a+e.helperProportions.height/2&&h-e.helperProportions.height/2<d;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&a<=d||h>=c&&h<=d||a<c&&h>d)&&(o>=l&&o<=u||r>=l&&r<=u||o<l&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<o.length;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;n<r.length;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&b(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}))},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=b(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return t(this).droppable("instance").options.scope===n}))).length&&((s=t(o[0]).droppable("instance")).greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}}))},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each((function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))})),t(e.target).parents().addBack().each((function(){var s,n=t.data(this,"selectable-item");if(n)return s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1})))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each((function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||c.right<o||c.top>h||c.bottom<a):"fit"===n.tolerance&&(l=c.left>o&&c.right<r&&c.top>a&&c.bottom<h),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))})),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each((function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})})),t(".ui-selecting",this.element[0]).each((function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})})),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){i._rendered||i._refreshMenu()}))},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,(function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),(s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0)).length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each((function(e,n){s.push(i._parseOption(t(n),e))})),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;e<i;e++)o.push("<span tabindex='0'></span>");this.handles=n.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var i=Math.abs(s-l.values(e));(n>i||n===i&&(e===l._lastChangedValue||l.values(e)===c.min))&&(n=i,o=t(this),a=e)})),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),r=o.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-r.left-o.width()/2,top:e.pageY-r.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(s=i/e)>1&&(s=1),s<0&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n=this.value(),o=this.values();this._hasMultipleValues()&&(s=this.values(e?0:1),n=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(s,i):Math.max(s,i)),o[e]=i),i!==n&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;o<s.length;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=!this._animateOff&&r.animate,c={};this._hasMultipleValues()?this.handles.each((function(s){i=(h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())*100,c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),!0===h.options.range&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i})):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(s-n)/(o-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(n=this.options.step,i=s=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+n);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-n)}this._slide(e,o,s)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,o.widgetName+"-item")===o)return s=t(this),!1})),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),!!s&&(!(this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each((function(){this===e.target&&(n=!0)})),!n))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==r&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=(s=this.items[i]).item[0],(o=this._intersectsWithPointer(s))&&s.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===n||t.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){s._clear(e)}))}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each((function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))})),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each((function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")})),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&s+l<h,d="y"===this.options.axis||e+c>o&&e+c<a,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!s||!n)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,s,n,o,a=[],r=[],h=this._connectWith();if(h&&e)for(i=h.length-1;i>=0;i--)for(s=(n=t(h[i],this.document[0])).length-1;s>=0;s--)(o=t.data(n[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&r.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){a.push(this)}for(r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(l);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(s=(n=t(d[i],this.document[0])).length-1;s>=0;s--)(o=t.data(n[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],s=0,l=(r=u[i][0]).length;s<l;s++)(h=t(r[s])).data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,s,n,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(s=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,s=(e=e||this).options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){i&&!s.forcePlaceholderSize||(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each((function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)}))},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,a=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),Math.abs(e[u]-h)<n&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay((function(){n===this.counter&&this.refreshPositions(!s)}))},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}for(this.fromOutside&&!e&&s.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(s.push((function(t){this._trigger("remove",t,this._uiHash())})),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||s.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});
/*!
 * jQuery UI Progressbar 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Spinner 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function y(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],(function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)})),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(t)}),100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var i;function s(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay((function(){this.previous=i})))}i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),s.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,s.call(this)})),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,e,i)}),t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return i=t-(e=null!==s.min?s.min:0),t=e+(i=Math.round(i/s.step)*s.step),t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:y((function(t){this._super(t)})),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:y((function(t){this._stepUp(t)})),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:y((function(t){this._stepDown(t)})),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:y((function(t){this._stepUp((t||1)*this.options.page)})),pageDown:y((function(t){this._stepDown((t||1)*this.options.page)})),value:function(t){if(!arguments.length)return this._parse(this.element.val());y(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var w;
/*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.ui.spinner;t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(w=/#.*$/,function(t){var e,i;e=t.href.replace(w,""),i=location.href.replace(w,"");try{e=decodeURIComponent(e)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return t.hash.length>1&&e===i}),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),(function(t){return e.tabs.index(t)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each((function(i,n){if(t(n).attr("aria-controls")===s)return e=i,!1})),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s!==this.options.active&&s);default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",s)}),this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){var s=this.tabs.length-1;for(;-1!==t.inArray((e>s&&(e=0),e<0&&(e=s),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),(function(t){return i.index(t)})),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return t("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each((function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(a=(n=s.hash).substring(1),o=e.element.find(e._sanitizeSelector(n))):(n="#"+(a=h.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(n)).length||(o=e._createPanel(a)).insertAfter(e.panels[i-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),!0===e||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){i-=t(this).outerHeight(!0)})),this.panels.each((function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each((function(){i=Math.max(i,t(this).height("").height())})).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget).closest("li"),o=n[0]===s[0],a=o&&i.collapsible,r=a?t():this._getPanelForTab(n),h=s.length?this._getPanelForTab(s):t(),l={oldTab:s,oldPanel:h,newTab:a?t():n,newPanel:r};e.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",e,l)||(i.active=!a&&this.tabs.index(n),this.active=o?t():n,this.xhr&&this.xhr.abort(),h.length||r.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),r.length&&this.load(this.tabs.index(n),e),this._toggle(e,l))},_toggle:function(e,i){var s=this,n=i.newPanel,o=i.oldPanel;function a(){s.running=!1,s._trigger("activate",e,i)}function r(){s._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),n.length&&s.options.show?s._show(n,s.options.show,a):(n.show(),a())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,(function(){s._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()})):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),r()),o.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&o.length?i.oldTab.attr("tabIndex",-1):n.length&&this.tabs.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),n.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,(function(t){return t!==e?t:null})):t.map(this.tabs,(function(t,i){return i!==e?i:null}))),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done((function(t,e,n){setTimeout((function(){a.html(t),s._trigger("load",i,r),h(n,e)}),1)})).fail((function(t,e){setTimeout((function(){h(t,e)}),1)}))))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});t.ui.tabs;
/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),(s=t.trim(s.join(" ")))?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,(function(t,e){s._updateContent(e.element)}))},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,(function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each((function(){var e,s=t(this);s.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))})),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;if("string"==typeof s||s.nodeType||s.jquery)return this._open(e,t,s);(i=s.call(t[0],(function(i){n._delay((function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))}))})))&&this._open(e,t,i)},_open:function(e,i,s){var n,o,a,r,h=t.extend({},this.options.position);function l(t){h.of=t,o.is(":hidden")||o.position(h)}s&&((n=this._find(i))?n.tooltip.find(".ui-tooltip-content").html(s):(i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),n=this._tooltip(i),o=n.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),(r=t("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),r.removeAttr("id").find("[id]").removeAttr("id"),r.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):o.position(t.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){o.is(":visible")&&(l(h.of),clearInterval(a))}),t.fx.interval)),this._trigger("open",e,{tooltip:o})))},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,(function(){s._removeTooltip(t(this))})),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,(function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]})),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1))):n.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,(function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});t.ui.tooltip}));
var DragAndDrop=function(){function t(t,e){return e.children().each((function(){$(this).width($(this).width())})),e}return{Init:function(e){$(e.container).sortable({axis:"y",opacity:.8,cursor:"pointer",helper:t,update:function(t,a){var n=[];$(e.rowcontainer).each((function(t){n.push({sort_id:t+1,id:$(this).attr("data-id")})})),$.post("api/",{do:"updateDDSort",data:{details:n,dbname:e.dbname,type:e.type?e.type:""}},(function(t){AppData[e.dbname]=t,null!=e.socketupdate&&Socket.Send(e.socketupdate,!0),void 0!==e.callback&&e.callback(t)}))},sort:function(t,e){var a=$(t.target);if(!/html|body/i.test(a.offsetParent()[0].tagName)){var n=t.pageY-a.offsetParent().offset().top-e.helper.outerHeight(!0)/2;e.helper.css({top:n+"px"})}}}).disableSelection()}}}();
/*! jQuery Timepicker Addon - v1.6.3 - 2016-04-20
* http://trentrichardson.com/examples/timepicker
* Copyright (c) 2016 Trent Richardson; Licensed MIT */
!function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],e):e(jQuery)}((function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}for(i in overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)},onChangeMonthYear:function(e,t,i){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){!0===tp_inst.timeDefined&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}},overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,(function(e){return e.toUpperCase()})),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,(function(e){return e.toUpperCase()})),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&void 0===$.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzi<tzl;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),!0===tp_inst._defaults.altRedirectFocus&&tp_inst.$altInput.css({cursor:"pointer"}).focus((function(){$input.trigger("focus")}))),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",(function(){tp_inst._onFocus()})),tp_inst},_addTimePicker:function(e){var t=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var s=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!s.timeObj)return!1;$.extend(this,s.timeObj)}catch(t){return $.timepicker.log("Error parsing the date/time string: "+t+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var n=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return!!n&&($.extend(this,n),!0)},_afterInject:function(){var e=this.inst.settings;$.isFunction(e.afterInject)&&e.afterInject.call(this)},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,s="",n="",a=null,r={},l={},o=null,c=0,u=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var m=" ui_tpicker_unit_hide",d='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+(t.oneLine&&"select"===t.controlType?" ui-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(t.showTime?"":m)+'">'+t.timeText+'</dt><dd class="ui_tpicker_time '+(t.showTime?"":m)+'"><input class="ui_tpicker_time_input" '+(t.timeInput?"":"disabled")+"/></dd>";for(c=0,u=this.units.length;c<u;c++){if(a=null!==t["show"+(n=(s=this.units[c]).substr(0,1).toUpperCase()+s.substr(1))]?t["show"+n]:this.support[s],r[s]=parseInt(t[s+"Max"]-(t[s+"Max"]-t[s+"Min"])%t["step"+n],10),l[s]=0,d+='<dt class="ui_tpicker_'+s+"_label"+(a?"":m)+'">'+t[s+"Text"]+'</dt><dd class="ui_tpicker_'+s+(a?"":m)+'"><div class="ui_tpicker_'+s+"_slider"+(a?"":m)+'"></div>',a&&t[s+"Grid"]>0){if(d+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===s)for(var h=t[s+"Min"];h<=r[s];h+=parseInt(t[s+"Grid"],10)){l[s]++;var p=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:h},t);d+='<td data-for="'+s+'">'+p+"</td>"}else for(var f=t[s+"Min"];f<=r[s];f+=parseInt(t[s+"Grid"],10))l[s]++,d+='<td data-for="'+s+'">'+(f<10?"0":"")+f+"</td>";d+="</tr></table></div>"}d+="</dd>"}var _=null!==t.showTimezone?t.showTimezone:this.support.timezone;d+='<dt class="ui_tpicker_timezone_label'+(_?"":m)+'">'+t.timezoneText+"</dt>",d+='<dd class="ui_tpicker_timezone'+(_?"":m)+'"></dd>';var g=$(d+="</dl></div>");for(!0===t.timeOnly&&(g.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),c=0,u=i.units.length;c<u;c++)a=null!==t["show"+(n=(s=i.units[c]).substr(0,1).toUpperCase()+s.substr(1))]?t["show"+n]:this.support[s],i[s+"_slider"]=i.control.create(i,g.find(".ui_tpicker_"+s+"_slider"),s,i[s],t[s+"Min"],r[s],t["step"+n]),a&&t[s+"Grid"]>0&&(o=100*l[s]*t[s+"Grid"]/(r[s]-t[s+"Min"]),g.find(".ui_tpicker_"+s+" table").css({width:o+"%",marginLeft:t.isRTL?"0":o/(-2*l[s])+"%",marginRight:t.isRTL?o/(-2*l[s])+"%":"0",borderCollapse:"collapse"}).find("td").click((function(e){var t=$(this),n=t.html(),a=parseInt(n.replace(/[^0-9]/g),10),r=n.replace(/[^apm]/gi),l=t.data("for");"hour"===l&&(-1!==r.indexOf("p")&&a<12?a+=12:-1!==r.indexOf("a")&&12===a&&(a=0)),i.control.value(i,i[l+"_slider"],s,a),i._onTimeChange(),i._onSelectHandler()})).css({cursor:"pointer",width:100/l[s]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=g.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,(function(e,t){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)}))),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone)-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone);else void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i);this.timezone_select.change((function(){i._onTimeChange(),i._onSelectHandler(),i._afterInject()}));var M=e.find(".ui-datepicker-buttonpane");if(M.length?M.before(g):e.append(g),this.$timeObj=g.find(".ui_tpicker_time_input"),this.$timeObj.change((function(){var e=i.inst.settings.timeFormat,t=$.datepicker.parseTime(e,this.value),s=new Date;t?(s.setHours(t.hour),s.setMinutes(t.minute),s.setSeconds(t.second),$.datepicker._setTime(i.inst,s)):(this.value=i.formattedTime,this.blur())})),null!==this.inst){var v=this.timeDefined;this._onTimeChange(),this.timeDefined=v}if(this._defaults.addSliderAccess){var k=this._defaults.sliderAccessArgs,T=this._defaults.isRTL;k.isRTL=T,setTimeout((function(){if(0===g.find(".ui-slider-access").length){g.find(".ui-slider:visible").sliderAccess(k);var e=g.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&g.find("table:visible").each((function(){var t=$(this),i=t.outerWidth(),s=t.css(T?"marginRight":"marginLeft").toString().replace("%",""),n=i-e,a=s*n/i+"%",r={width:n,marginRight:0,marginLeft:0};r[T?"marginRight":"marginLeft"]=a,t.css(r)}))}}),10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,s=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&s){var n=$.datepicker._get(e,"minDateTime"),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||a.getTime()===s.getTime()?(this._defaults.hourMin=n.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=n.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=n.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=n.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=n.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&s){var r=$.datepicker._get(e,"maxDateTime"),l=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||l.getTime()===s.getTime()?(this._defaults.hourMax=r.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=r.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=r.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=r.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=r.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==e.settings.minTime){var o=new Date("01/01/1970 "+e.settings.minTime);this.hour<o.getHours()?(this.hour=this._defaults.hourMin=o.getHours(),this.minute=this._defaults.minuteMin=o.getMinutes()):this.hour===o.getHours()&&this.minute<o.getMinutes()?this.minute=this._defaults.minuteMin=o.getMinutes():this._defaults.hourMin<o.getHours()?(this._defaults.hourMin=o.getHours(),this._defaults.minuteMin=o.getMinutes()):this._defaults.hourMin===o.getHours()===this.hour&&this._defaults.minuteMin<o.getMinutes()?this._defaults.minuteMin=o.getMinutes():this._defaults.minuteMin=0}if(null!==e.settings.maxTime){var c=new Date("01/01/1970 "+e.settings.maxTime);this.hour>c.getHours()?(this.hour=this._defaults.hourMax=c.getHours(),this.minute=this._defaults.minuteMax=c.getMinutes()):this.hour===c.getHours()&&this.minute>c.getMinutes()?this.minute=this._defaults.minuteMax=c.getMinutes():this._defaults.hourMax>c.getHours()?(this._defaults.hourMax=c.getHours(),this._defaults.minuteMax=c.getMinutes()):this._defaults.hourMax===c.getHours()===this.hour&&this._defaults.minuteMax>c.getMinutes()?this._defaults.minuteMax=c.getMinutes():this._defaults.minuteMax=59}if(void 0!==t&&!0===t){var u=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),m=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),d=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),h=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),p=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:u,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:m,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:d,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:h,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:p,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),t=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),i=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),s=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),n=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),a=!!this.timezone_select&&this.timezone_select.val(),r=this._defaults,l=r.pickerTimeFormat||r.timeFormat,o=r.pickerTimeSuffix||r.timeSuffix;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof s&&(s=!1),"object"==typeof n&&(n=!1),"object"==typeof a&&(a=!1),!1!==e&&(e=parseInt(e,10)),!1!==t&&(t=parseInt(t,10)),!1!==i&&(i=parseInt(i,10)),!1!==s&&(s=parseInt(s,10)),!1!==n&&(n=parseInt(n,10)),!1!==a&&(a=a.toString());var c=r[e<12?"amNames":"pmNames"][0],u=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||s!==parseInt(this.millisec,10)||n!==parseInt(this.microsec,10)||this.ampm.length>0&&e<12!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&a!==this.timezone.toString();if(u&&(!1!==e&&(this.hour=e),!1!==t&&(this.minute=t),!1!==i&&(this.second=i),!1!==s&&(this.millisec=s),!1!==n&&(this.microsec=n),!1!==a&&(this.timezone=a),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=c),this.formattedTime=$.datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(l===r.timeFormat?this.$timeObj.val(this.formattedTime+o):this.$timeObj.val($.datepicker.formatTime(l,this,r)+o),this.$timeObj[0].setSelectionRange)){var m=this.$timeObj[0].selectionStart,d=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(m,d)}this.timeDefined=!0,u&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t=(e=this.inst||e).currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),s=$.datepicker._get(e,"dateFormat"),n=$.datepicker._getFormatConfig(e),a=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(s,null===i?new Date:i,n);var r=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?r=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||a)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(r+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=r,this._defaults.showTimepicker)if(this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(r);var l="",o=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,c=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(l=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,n):this.formattedDate)&&(l+=o),null!==this._defaults.altTimeFormat?l+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+c:l+=this.formattedTime+c,this.$altInput.val(l)}else this.$input.val(r);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(e){$.timepicker.log(e)}}},_controls:{slider:{create:function(e,t,i,s,n,a,r){var l=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:l?-1*s:s,min:l?-1*a:n,max:l?-1*n:a,step:r,slide:function(t,s){e.control.value(e,$(this),i,l?-1*s.value:s.value),e._onTimeChange()},stop:function(t,i){e._onSelectHandler()}})},options:function(e,t,i,s,n){if(e._defaults.isRTL){if("string"==typeof s)return"min"===s||"max"===s?void 0!==n?t.slider(s,-1*n):Math.abs(t.slider(s)):t.slider(s);var a=s.min,r=s.max;return s.min=s.max=null,void 0!==a&&(s.max=-1*a),void 0!==r&&(s.min=-1*r),t.slider(s)}return"string"==typeof s&&void 0!==n?t.slider(s,n):t.slider(s)},value:function(e,t,i,s){return e._defaults.isRTL?void 0!==s?t.slider("value",-1*s):Math.abs(t.slider("value")):void 0!==s?t.slider("value",s):t.slider("value")}},select:{create:function(e,t,i,s,n,a,r){for(var l='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+n+'" data-max="'+a+'" data-step="'+r+'">',o=e._defaults.pickerTimeFormat||e._defaults.timeFormat,c=n;c<=a;c+=r)l+='<option value="'+c+'"'+(c===s?" selected":"")+">",l+="hour"===i?$.datepicker.formatTime($.trim(o.replace(/[^ht ]/gi,"")),{hour:c},e._defaults):"millisec"===i||"microsec"===i||c>=10?c:"0"+c.toString(),l+="</option>";return l+="</select>",t.children("select").remove(),$(l).appendTo(t).change((function(t){e._onTimeChange(),e._onSelectHandler(),e._afterInject()})),t},options:function(e,t,i,s,n){var a={},r=t.children("select");if("string"==typeof s){if(void 0===n)return r.data(s);a[s]=n}else a=s;return e.control.create(e,t,r.data("unit"),r.val(),a.min>=0?a.min:r.data("min"),a.max||r.data("max"),a.step||r.data("step"))},value:function(e,t,i,s){var n=t.children("select");return void 0!==s?n.val(s):n.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each((function(){$.fn.datetimepicker.apply($(this),t)}))},datetimepicker:function(e){var t=arguments;return"string"==typeof(e=e||{})?"getDate"===e||"option"===e&&2===t.length&&"string"==typeof t[1]?$.fn.datepicker.apply($(this[0]),t):this.each((function(){var e=$(this);e.datepicker.apply(e,t)})):this.each((function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)}))}}),$.datepicker.parseDateTime=function(e,t,i,s,n){var a=parseDateTimeInternal(e,t,i,s,n);if(a.timeObj){var r=a.timeObj;a.date.setHours(r.hour,r.minute,r.second,r.millisec),a.date.setMicroseconds(r.microsec)}return a.date},$.datepicker.parseTime=function(e,t,i){var s=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),n=(e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,i){var s,n="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){var t,s,n,a=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===a?"(\\d?\\d)":"(\\d{"+a+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return t=i.amNames,s=i.pmNames,n=[],t&&$.merge(n,t),s&&$.merge(n,s),"("+(n=$.map(n,(function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}))).join("|")+")?";default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,(function(e){return"\\"+e}))+")?"}})).replace(/\s/g,"\\s?")+i.timeSuffix+"$",a=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var s=0;s<t.length;s++)-1===i[t[s].toString().charAt(0)]&&(i[t[s].toString().charAt(0)]=s+1);return i}(e),r="",l={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(s=t.match(new RegExp(n,"i")))&&(-1!==a.t&&(void 0===s[a.t]||0===s[a.t].length?(r="",l.ampm=""):(r=-1!==$.inArray(s[a.t].toUpperCase(),$.map(i.amNames,(function(e,t){return e.toUpperCase()})))?"AM":"PM",l.ampm=i["AM"===r?"amNames":"pmNames"][0])),-1!==a.h&&("AM"===r&&"12"===s[a.h]?l.hour=0:"PM"===r&&"12"!==s[a.h]?l.hour=parseInt(s[a.h],10)+12:l.hour=Number(s[a.h])),-1!==a.m&&(l.minute=Number(s[a.m])),-1!==a.s&&(l.second=Number(s[a.s])),-1!==a.l&&(l.millisec=Number(s[a.l])),-1!==a.c&&(l.microsec=Number(s[a.c])),-1!==a.z&&void 0!==s[a.z]&&(l.timezone=$.timepicker.timezoneOffsetNumber(s[a.z])),l)});return"function"==typeof s.parse?s.parse(e,t,s):"loose"===s.parse?function(e,t,i){try{var s=new Date("2012-01-01 "+t);if(isNaN(s.getTime())&&(s=new Date("2012-01-01T"+t),isNaN(s.getTime())&&(s=new Date("01/01/2012 "+t),isNaN(s.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:s.getHours(),minute:s.getMinutes(),second:s.getSeconds(),millisec:s.getMilliseconds(),microsec:s.getMicroseconds(),timezone:-1*s.getTimezoneOffset()}}catch(s){try{return n(e,t,i)}catch(i){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1}(e,t,s):n(e,t,s)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var s=e,n=i.amNames[0],a=parseInt(t.hour,10);return a>11&&(n=i.pmNames[0]),s=s.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){switch(e){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+convert24to12(a)).slice(-2);case"h":return convert24to12(a);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return n.charAt(0).toUpperCase();case"TT":return n.toUpperCase();case"t":return n.charAt(0).toLowerCase();case"tt":return n.toLowerCase();default:return e.replace(/'/g,"")}}))},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i,s=this._getInst($(e)[0]),n=this._get(s,"timepicker");n&&s.settings.showTimepicker?(n._limitMinMaxDateTime(s,!0),i=s.inline,s.inline=s.stay_open=!0,this._base_selectDate(e,t),s.inline=i,s.stay_open=!1,this._notifyChange(s),this._updateDatepicker(s)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&!1!==e.stay_open)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var s=i.support.ampm,n=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,a=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,s?"APM":"").replace(/Tt/g,s?"AaPpMm":"").replace(/tT/g,s?"AaPpMm":"").replace(/T/g,s?"AP":"").replace(/tt/g,s?"apm":"").replace(/t/g,s?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(n?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+a,l=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||l<" "||!a||r.indexOf(l)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){t._defaults.altFormat||t._defaults.dateFormat;var s=this._getDate(e),n=$.datepicker._getFormatConfig(e),a="",r=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,l=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,o=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;a+=$.datepicker.formatTime(o,t,t._defaults)+l,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===s||(a=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,s,n)+r+a:t.formattedDate+r+a),$(i).val(e.input.val()?a:"")}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(e){$.timepicker.log(e)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]);this._base_gotoToday(e);var i=this._get(t,"timepicker");if(i){var s=$.timepicker.timezoneOffsetNumber(i.timezone),n=new Date;n.setMinutes(n.getMinutes()+n.getTimezoneOffset()+parseInt(s,10)),this._setTime(t,n),this._setDate(t,n),i._onSelectHandler()}},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var s=i._defaults;i.hour=t?t.getHours():s.hour,i.minute=t?t.getMinutes():s.minute,i.second=t?t.getSeconds():s.second,i.millisec=t?t.getMilliseconds():s.millisec,i.microsec=t?t.getMicroseconds():s.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var s=this._getInst(e);if(s){var n,a=this._get(s,"timepicker");if(a)this._setDateFromField(s),t&&("string"==typeof t?(a._parseTime(t,i),(n=new Date).setHours(a.hour,a.minute,a.second,a.millisec),n.setMicroseconds(a.microsec)):(n=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===n.toString()&&(n=void 0),this._setTime(s,n))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e),s=t;if(i){"string"==typeof t&&((s=new Date(t)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),s=$(e).datepicker("getDate")));var n,a=this._get(i,"timepicker");s instanceof Date?(n=new Date(s.getTime())).setMicroseconds(s.getMicroseconds()):n=s,a&&n&&(a.support.timezone||null!==a._defaults.timezone||(a.timezone=-1*n.getTimezoneOffset()),s=$.timepicker.timezoneAdjust(s,$.timepicker.timezoneOffsetString(-s.getTimezoneOffset()),a.timezone),n=$.timepicker.timezoneAdjust(n,$.timepicker.timezoneOffsetString(-n.getTimezoneOffset()),a.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,n,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var s=this._get(i,"timepicker");if(s){void 0===i.lastVal&&this._setDateFromField(i,t);var n=this._getDate(i),a=null;return a=s.$altInput&&s._defaults.altFieldTimeOnly?s.$input.val()+" "+s.$altInput.val():"INPUT"!==s.$input.get(0).tagName&&s.$altInput?s.$altInput.val():s.$input.val(),n&&s._parseTime(a,!i.settings.timeOnly)&&(n.setHours(s.hour,s.minute,s.second,s.millisec),n.setMicroseconds(s.microsec),null!=s.timezone&&(s.support.timezone||null!==s._defaults.timezone||(s.timezone=-1*n.getTimezoneOffset()),n=$.timepicker.timezoneAdjust(n,s.timezone,$.timepicker.timezoneOffsetString(-n.getTimezoneOffset())))),n}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var s;try{s=this._base_parseDate(e,t,i)}catch(n){if(!(n.indexOf(":")>=0))throw n;s=this._base_parseDate(e,t.substring(0,t.length-(n.length-n.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+n+"\ndate string = "+t+"\ndate format = "+e)}return s},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,s){var n=this._get(e,"timepicker");return n?(n._updateDateTime(e),n.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var s,n=this._getInst(e);if(!n)return null;var a=this._get(n,"timepicker");if(a){var r,l,o,c,u=null,m=null,d=null,h=a._defaults.evnts,p={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)u=i;else if("maxDate"===t||"maxDateTime"===t)m=i;else if("onSelect"===t)d=i;else if(h.hasOwnProperty(t)){if(void 0===i)return h[t];p[t]=i,s={}}}else if("object"==typeof t)for(r in t.minDate?u=t.minDate:t.minDateTime?u=t.minDateTime:t.maxDate?m=t.maxDate:t.maxDateTime&&(m=t.maxDateTime),h)h.hasOwnProperty(r)&&t[r]&&(p[r]=t[r]);for(r in p)p.hasOwnProperty(r)&&(h[r]=p[r],s||(s=$.extend({},t)),delete s[r]);if(s&&isEmptyObject(s))return;if(u?(u=0===u?new Date:new Date(u),a._defaults.minDate=u,a._defaults.minDateTime=u):m?(m=0===m?new Date:new Date(m),a._defaults.maxDate=m,a._defaults.maxDateTime=m):d&&(a._defaults.onSelect=d),u||m)return o=(c=$(e)).datetimepicker("getDate"),l=this._base_optionDatepicker.call($.datepicker,e,s||t,i),c.datetimepicker("setDate",o),l}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,s||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){for(var i in $.extend(e,t),t)null!==t[i]&&void 0!==t[i]||(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return 0===(e%=12)&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),s=computeEffectiveSetting(t,"timeFormat").split(i).length,n=e.split(i),a=n.length;return a>1?{dateString:n.splice(0,a-s).join(i),timeString:n.splice(0,s).join(i)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,i,s,n){var a,r,l;if(r=splitDateTime(i,n),a=$.datepicker._base_parseDate(e,r.dateString,s),""===r.timeString)return{date:a};if(!(l=$.datepicker.parseTime(t,r.timeString,n)))throw"Wrong time format";return{date:a,timeObj:l}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720)return e;var i=e%60,s=(e-i)/60,n=t?":":"",a=(e>=0?"+":"-")+("0"+Math.abs(s)).slice(-2)+n+("0"+Math.abs(i)).slice(-2);return"+00:00"===a?"Z":a},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):parseInt(e,10)},$.timepicker.timezoneAdjust=function(e,t,i){var s=$.timepicker.timezoneOffsetNumber(t),n=$.timepicker.timezoneOffsetNumber(i);return isNaN(n)||e.setMinutes(e.getMinutes()+-s- -n),e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,s){s=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},s);var n=!1;function a(n,a){var r=t[e]("getDate"),l=i[e]("getDate"),o=n[e]("getDate");if(null!==r){var c=new Date(r.getTime()),u=new Date(r.getTime());c.setMilliseconds(c.getMilliseconds()+s.minInterval),u.setMilliseconds(u.getMilliseconds()+s.maxInterval),s.minInterval>0&&c>l?i[e]("setDate",c):s.maxInterval>0&&u<l?i[e]("setDate",u):r>l&&a[e]("setDate",o)}}function r(t,i,n){if(t.val()){var a=t[e].call(t,"getDate");null!==a&&s.minInterval>0&&("minDate"===n&&a.setMilliseconds(a.getMilliseconds()+s.minInterval),"maxDate"===n&&a.setMilliseconds(a.getMilliseconds()-s.minInterval)),a.getTime&&i[e].call(i,"option",n,a)}}return"timepicker"===e&&(n=!0,e="datetimepicker"),$.fn[e].call(t,$.extend({timeOnly:n,onClose:function(e,t){a($(this),i)},onSelect:function(e){r($(this),i,"minDate")}},s,s.start)),$.fn[e].call(i,$.extend({timeOnly:n,onClose:function(e,i){a($(this),t)},onSelect:function(e){r($(this),t,"maxDate")}},s,s.end)),a(t,i),r(t,i,"minDate"),r(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="1.6.3"}}));
"use strict";var w3={hide:function(e){w3.hideElements(w3.getElements(e))},hideElements:function(e){var t,n=e.length;for(t=0;t<n;t++)w3.hideElement(e[t])},hideElement:function(e){w3.styleElement(e,"display","none")},show:function(e,t){var n=w3.getElements(e);t&&w3.hideElements(n),w3.showElements(n)},showElements:function(e){var t,n=e.length;for(t=0;t<n;t++)w3.showElement(e[t])},showElement:function(e){w3.styleElement(e,"display","block")},addStyle:function(e,t,n){w3.styleElements(w3.getElements(e),t,n)},styleElements:function(e,t,n){var l,s=e.length;for(l=0;l<s;l++)w3.styleElement(e[l],t,n)},styleElement:function(e,t,n){e.style.setProperty(t,n)},toggleShow:function(e){var t,n=w3.getElements(e),l=n.length;for(t=0;t<l;t++)"none"==n[t].style.display?w3.styleElement(n[t],"display","block"):w3.styleElement(n[t],"display","none")},addClass:function(e,t){w3.addClassElements(w3.getElements(e),t)},addClassElements:function(e,t){var n,l=e.length;for(n=0;n<l;n++)w3.addClassElement(e[n],t)},addClassElement:function(e,t){var n,l,s;for(l=e.className.split(" "),s=t.split(" "),n=0;n<s.length;n++)-1==l.indexOf(s[n])&&(e.className+=" "+s[n])},removeClass:function(e,t){w3.removeClassElements(w3.getElements(e),t)},removeClassElements:function(e,t){var n,l=e.length;for(n=0;n<l;n++)w3.removeClassElement(e[n],t)},removeClassElement:function(e,t){var n,l,s;for(l=e.className.split(" "),s=t.split(" "),n=0;n<s.length;n++)for(;l.indexOf(s[n])>-1;)l.splice(l.indexOf(s[n]),1);e.className=l.join(" ")},toggleClass:function(e,t,n){w3.toggleClassElements(w3.getElements(e),t,n)},toggleClassElements:function(e,t,n){var l,s=e.length;for(l=0;l<s;l++)w3.toggleClassElement(e[l],t,n)},toggleClassElement:function(e,t,n){var l,s,r,a,o,i,u;if(s=n||"",r=(l=t||"").split(" "),a=s.split(" "),i=e.className.split(" "),0==a.length){for(u=!0,o=0;o<r.length;o++)-1==i.indexOf(r[o])&&(u=!1);u?w3.removeClassElement(e,l):w3.addClassElement(e,l)}else{for(u=!0,o=0;o<r.length;o++)-1==i.indexOf(r[o])&&(u=!1);u?(w3.removeClassElement(e,l),w3.addClassElement(e,s)):(w3.removeClassElement(e,s),w3.addClassElement(e,l))}},getElements:function(e){return"object"==typeof e?[e]:document.querySelectorAll(e)},filterHTML:function(e,t,n){var l,s,r,a,o,i,u;for(l=w3.getElements(e),a=0;a<l.length;a++)for(s=l[a].querySelectorAll(t),o=0;o<s.length;o++){for(u=0,s[o].innerText.toUpperCase().indexOf(n.toUpperCase())>-1&&(u=1),r=s[o].getElementsByTagName("*"),i=0;i<r.length;i++)r[i].innerText.toUpperCase().indexOf(n.toUpperCase())>-1&&(u=1);s[o].style.display=1==u?"":"none"}},sortHTML:function(e,t,n){var l,s,r,a,o,i,u,c,d,f;for(l=w3.getElements(e),r=0;r<l.length;r++)for(f=0;f<2;f++){for(d=0,o=1;1==o;){for(o=0,s=l[r].querySelectorAll(t),a=0;a<s.length-1;a++)if(i=0,n?(u=s[a].querySelector(n).innerText,c=s[a+1].querySelector(n).innerText):(u=s[a].innerText,c=s[a+1].innerText),u=u.toLowerCase(),c=c.toLowerCase(),0==f&&u>c||1==f&&u<c){i=1;break}1==i&&(s[a].parentNode.insertBefore(s[a+1],s[a]),o=1,d++)}if(d>0)break}},slideshow:function(e,t,n){var l,s=w3.getElements(e);s.length;return(l={}).current=1,l.x=s,l.ondisplaychange=n,isNaN(t)&&0!=t?l.milliseconds=1e3:l.milliseconds=t,l.start=function(){l.display(l.current),l.ondisplaychange&&l.ondisplaychange(),l.milliseconds>0&&(window.clearTimeout(l.timeout),l.timeout=window.setTimeout(l.next,l.milliseconds))},l.next=function(){l.current+=1,l.current>l.x.length&&(l.current=1),l.start()},l.previous=function(){l.current-=1,l.current<1&&(l.current=l.x.length),l.start()},l.display=function(e){w3.styleElements(l.x,"display","none"),w3.styleElement(l.x[e-1],"display","block")},l.start(),l},includeHTML:function(e){var t,n,l,s,r;for(t=document.getElementsByTagName("*"),n=0;n<t.length;n++)if(s=(l=t[n]).getAttribute("w3-include-html"))return(r=new XMLHttpRequest).onreadystatechange=function(){4==this.readyState&&(200==this.status&&(l.innerHTML=this.responseText),404==this.status&&(l.innerHTML="Page not found."),l.removeAttribute("w3-include-html"),w3.includeHTML(e))},r.open("GET",s,!0),void r.send();e&&e()},getHttpData:function(e,t){w3.http(e,(function(){4==this.readyState&&200==this.status&&t(this.responseText)}))},getHttpObject:function(e,t){w3.http(e,(function(){4==this.readyState&&200==this.status&&t(JSON.parse(this.responseText))}))},displayHttp:function(e,t){w3.http(t,(function(){4==this.readyState&&200==this.status&&w3.displayObject(e,JSON.parse(this.responseText))}))},http:function(e,t,n,l){var s;l||(l="GET"),window.XMLHttpRequest?s=new XMLHttpRequest:window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLHTTP")),s&&(t&&(s.onreadystatechange=t),s.open(l,e,!0),s.send(n))},getElementsByAttribute:function(e,t){var n,l,s=[],r=-1,a=e.getElementsByTagName("*"),o=t.toUpperCase();for(l=a.length,n=-1;n<l;n+=1)-1==n&&(a[n]=e),null!==a[n].getAttribute(o)&&(s[r+=1]=a[n]);return s},dataObject:{},displayObject:function(e,t){var n,l,s,r,a,o,i,u,c,d,f,m,g=[],p="";for(l=function(e,t){var n;if(n=t.cloneNode(!0),w3.dataObject.hasOwnProperty(e))return w3.dataObject[e];return w3.dataObject[e]=n,n}(e,n=document.getElementById(e)),s=l.cloneNode(!0),i=(g=w3.getElementsByAttribute(s,"w3-repeat")).length-1;i>=0;i-=1)if(1==(d=g[i].getAttribute("w3-repeat").split(" ")).length?f=d[0]:(p=d[0],f=d[2]),g[i].removeAttribute("w3-repeat"),(m=t[f])&&"object"==typeof m&&"undefined"!=m.length)for(o in u=0,m){for(u+=1,r=(a=w(a=g[i],"element",p,m[o])).attributes,c=0;c<r.length;c+=1)r[c].value=w(r[c],"attribute",p,m[o]).value;u===m.length?g[i].parentNode.replaceChild(a,g[i]):g[i].parentNode.insertBefore(a,g[i])}else console.log("w3-repeat must be an array. "+f+" is not an array.");function w(e,n,l,s){var r,a,o,i,u,c,d,f,m,g=[];for(a=e.cloneNode(!0),o=0;o>-1&&-1!==(o=(u="attribute"==n?a.value:a.innerHTML).indexOf("{{",o));){for(i=u.indexOf("}}",o+1),g=(c=u.substring(o+2,i)).split("||"),r=void 0,d=0;d<g.length&&(g[d]=g[d].replace(/^\s+|\s+$/gm,""),s&&(r=s[g[d]]),null==r&&t&&(r=t[g[d]]),null==r&&(f=g[d].split("."))[0]==l&&(r=s[f[1]]),null==r&&g[d]==l&&(r=s),null==r&&('"'==g[d].substr(0,1)?r=g[d].replace(/"/g,""):"'"==g[d].substr(0,1)&&(r=g[d].replace(/'/g,""))),null==r);d+=1);null!=r&&(m="{{"+c+"}}","attribute"==n?a.value=a.value.replace(m,r):h(a,m,r)),o+=1}return a}function h(e,t,n){var l,s,r;if(e.hasAttributes())for(s=(l=e.attributes).length,r=0;r<s;r+=1)l[r].value.indexOf(t)>-1&&(l[r].value=l[r].value.replace(t,n));s=e.getElementsByTagName("*").length,e.innerHTML=e.innerHTML.replace(t,n)}s=w(s,"element"),n.parentNode.replaceChild(s,n)}};